!function(t){var e=window.webpackHotUpdate;window.webpackHotUpdate=function(t,i){!function(t,e){if(!b[t]||!x[t])return;for(var i in x[t]=!1,e)Object.prototype.hasOwnProperty.call(e,i)&&(g[i]=e[i]);0==--v&&0===m&&S()}(t,i),e&&e(t,i)};var i,r=!0,n="b05022ae49d8f336050a",o=1e4,s={},a=[],h=[];function u(t){var e=A[t];if(!e)return C;var r=function(r){return e.hot.active?(A[r]?-1===A[r].parents.indexOf(t)&&A[r].parents.push(t):(a=[t],i=r),-1===e.children.indexOf(r)&&e.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+t),a=[]),C(r)},n=function(t){return{configurable:!0,enumerable:!0,get:function(){return C[t]},set:function(e){C[t]=e}}};for(var o in C)Object.prototype.hasOwnProperty.call(C,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(r,o,n(o));return r.e=function(t){return"ready"===d&&p("prepare"),m++,C.e(t).then(e,function(t){throw e(),t});function e(){m--,"prepare"===d&&(_[t]||w(t),0===m&&0===v&&S())}},r.t=function(t,e){return 1&e&&(t=r(t)),C.t(t,-2&e)},r}function l(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:i!==t,active:!0,accept:function(t,i){if(void 0===t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=i||function(){};else e._acceptedDependencies[t]=i||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if("object"==typeof t)for(var i=0;i<t.length;i++)e._declinedDependencies[t[i]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var i=e._disposeHandlers.indexOf(t);i>=0&&e._disposeHandlers.splice(i,1)},check:E,apply:P,status:function(t){if(!t)return d;c.push(t)},addStatusHandler:function(t){c.push(t)},removeStatusHandler:function(t){var e=c.indexOf(t);e>=0&&c.splice(e,1)},data:s[t]};return i=void 0,e}var c=[],d="idle";function p(t){d=t;for(var e=0;e<c.length;e++)c[e].call(null,t)}var f,g,y,v=0,m=0,_={},x={},b={};function T(t){return+t+""===t?+t:t}function E(t){if("idle"!==d)throw new Error("check() is only allowed in idle status");return r=t,p("check"),(e=o,e=e||1e4,new Promise(function(t,i){if("undefined"==typeof XMLHttpRequest)return i(new Error("No browser support"));try{var r=new XMLHttpRequest,o=C.p+""+n+".hot-update.json";r.open("GET",o,!0),r.timeout=e,r.send(null)}catch(t){return i(t)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)i(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)t();else if(200!==r.status&&304!==r.status)i(new Error("Manifest request to "+o+" failed."));else{try{var e=JSON.parse(r.responseText)}catch(t){return void i(t)}t(e)}}})).then(function(t){if(!t)return p("idle"),null;x={},_={},b=t.c,y=t.h,p("prepare");var e=new Promise(function(t,e){f={resolve:t,reject:e}});g={};return w(0),"prepare"===d&&0===m&&0===v&&S(),e});var e}function w(t){b[t]?(x[t]=!0,v++,function(t){var e=document.createElement("script");e.charset="utf-8",e.src=C.p+""+t+"."+n+".hot-update.js",document.head.appendChild(e)}(t)):_[t]=!0}function S(){p("ready");var t=f;if(f=null,t)if(r)Promise.resolve().then(function(){return P(r)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var i in g)Object.prototype.hasOwnProperty.call(g,i)&&e.push(T(i));t.resolve(e)}}function P(e){if("ready"!==d)throw new Error("apply() is only allowed in ready status");var i,r,o,h,u;function l(t){for(var e=[t],i={},r=e.slice().map(function(t){return{chain:[t],id:t}});r.length>0;){var n=r.pop(),o=n.id,s=n.chain;if((h=A[o])&&!h.hot._selfAccepted){if(h.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(h.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var a=0;a<h.parents.length;a++){var u=h.parents[a],l=A[u];if(l){if(l.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([u]),moduleId:o,parentId:u};-1===e.indexOf(u)&&(l.hot._acceptedDependencies[o]?(i[u]||(i[u]=[]),c(i[u],[o])):(delete i[u],e.push(u),r.push({chain:s.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:i}}function c(t,e){for(var i=0;i<e.length;i++){var r=e[i];-1===t.indexOf(r)&&t.push(r)}}e=e||{};var f={},v=[],m={},_=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var x in g)if(Object.prototype.hasOwnProperty.call(g,x)){var E;u=T(x);var w=!1,S=!1,P=!1,D="";switch((E=g[x]?l(u):{type:"disposed",moduleId:x}).chain&&(D="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":e.onDeclined&&e.onDeclined(E),e.ignoreDeclined||(w=new Error("Aborted because of self decline: "+E.moduleId+D));break;case"declined":e.onDeclined&&e.onDeclined(E),e.ignoreDeclined||(w=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+D));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(E),e.ignoreUnaccepted||(w=new Error("Aborted because "+u+" is not accepted"+D));break;case"accepted":e.onAccepted&&e.onAccepted(E),S=!0;break;case"disposed":e.onDisposed&&e.onDisposed(E),P=!0;break;default:throw new Error("Unexception type "+E.type)}if(w)return p("abort"),Promise.reject(w);if(S)for(u in m[u]=g[u],c(v,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,u)&&(f[u]||(f[u]=[]),c(f[u],E.outdatedDependencies[u]));P&&(c(v,[E.moduleId]),m[u]=_)}var O,I=[];for(r=0;r<v.length;r++)u=v[r],A[u]&&A[u].hot._selfAccepted&&I.push({module:u,errorHandler:A[u].hot._selfAccepted});p("dispose"),Object.keys(b).forEach(function(t){!1===b[t]&&function(t){delete installedChunks[t]}(t)});for(var M,R,F=v.slice();F.length>0;)if(u=F.pop(),h=A[u]){var L={},N=h.hot._disposeHandlers;for(o=0;o<N.length;o++)(i=N[o])(L);for(s[u]=L,h.hot.active=!1,delete A[u],delete f[u],o=0;o<h.children.length;o++){var B=A[h.children[o]];B&&((O=B.parents.indexOf(u))>=0&&B.parents.splice(O,1))}}for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(h=A[u]))for(R=f[u],o=0;o<R.length;o++)M=R[o],(O=h.children.indexOf(M))>=0&&h.children.splice(O,1);for(u in p("apply"),n=y,m)Object.prototype.hasOwnProperty.call(m,u)&&(t[u]=m[u]);var U=null;for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(h=A[u])){R=f[u];var k=[];for(r=0;r<R.length;r++)if(M=R[r],i=h.hot._acceptedDependencies[M]){if(-1!==k.indexOf(i))continue;k.push(i)}for(r=0;r<k.length;r++){i=k[r];try{i(R)}catch(t){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:u,dependencyId:R[r],error:t}),e.ignoreErrored||U||(U=t)}}}for(r=0;r<I.length;r++){var X=I[r];u=X.module,a=[u];try{C(u)}catch(t){if("function"==typeof X.errorHandler)try{X.errorHandler(t)}catch(i){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:i,originalError:t}),e.ignoreErrored||U||(U=i),U||(U=t)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:u,error:t}),e.ignoreErrored||U||(U=t)}}return U?(p("fail"),Promise.reject(U)):(p("idle"),new Promise(function(t){t(v)}))}var A={};function C(e){if(A[e])return A[e].exports;var i=A[e]={i:e,l:!1,exports:{},hot:l(e),parents:(h=a,a=[],h),children:[]};return t[e].call(i.exports,i,i.exports,u(e)),i.l=!0,i.exports}C.m=t,C.c=A,C.d=function(t,e,i){C.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},C.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},C.t=function(t,e){if(1&e&&(t=C(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(C.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)C.d(i,r,function(e){return t[e]}.bind(null,r));return i},C.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return C.d(e,"a",e),e},C.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},C.p="",C.h=function(){return n},u(21)(C.s=21)}([function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,n="~";function o(){}function s(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),a.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)r.call(t,e)&&i.push(n?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},a.prototype.listeners=function(t,e){var i=n?n+t:t,r=this._events[i];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,s=r.length,a=new Array(s);o<s;o++)a[o]=r[o].fn;return a},a.prototype.emit=function(t,e,i,r,o,s){var a=n?n+t:t;if(!this._events[a])return!1;var h,u,l=this._events[a],c=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,i),!0;case 4:return l.fn.call(l.context,e,i,r),!0;case 5:return l.fn.call(l.context,e,i,r,o),!0;case 6:return l.fn.call(l.context,e,i,r,o,s),!0}for(u=1,h=new Array(c-1);u<c;u++)h[u-1]=arguments[u];l.fn.apply(l.context,h)}else{var d,p=l.length;for(u=0;u<p;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),c){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,i);break;case 4:l[u].fn.call(l[u].context,e,i,r);break;default:if(!h)for(d=1,h=new Array(c-1);d<c;d++)h[d-1]=arguments[d];l[u].fn.apply(l[u].context,h)}}return!0},a.prototype.on=function(t,e,i){var r=new s(e,i||this),o=n?n+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},a.prototype.once=function(t,e,i){var r=new s(e,i||this,!0),o=n?n+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],r]:this._events[o].push(r):(this._events[o]=r,this._eventsCount++),this},a.prototype.removeListener=function(t,e,i,r){var s=n?n+t:t;if(!this._events[s])return this;if(!e)return 0==--this._eventsCount?this._events=new o:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==e||r&&!a.once||i&&a.context!==i||(0==--this._eventsCount?this._events=new o:delete this._events[s]);else{for(var h=0,u=[],l=a.length;h<l;h++)(a[h].fn!==e||r&&!a[h].once||i&&a[h].context!==i)&&u.push(a[h]);u.length?this._events[s]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new o:delete this._events[s]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new o:delete this._events[e])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=n,a.EventEmitter=a,t.exports=a},function(t,e){var i=function(t,e){this.items=[],this._name=t,this.dispatch=this.emit=this.run=i.generateRun(t,e||0)},r=i.prototype;r.add=function(t){t[this._name]&&(this.remove(t),this.items.push(t))},r.remove=function(t){var e=this.items.indexOf(t);-1!==e&&this.items.splice(e,1)},r.contains=function(t){return-1!==this.items.indexOf(t)},r.removeAll=function(){this.items.length=0},Object.defineProperty(r,"empty",{get:function(){return 0===this.items.length}}),i.generateRun=function(t,e){var r=t+"|"+e,n=i.hash[r];if(!n){if(e>0){for(var o="arg0",s=1;s<e;s++)o+=",arg"+s;n=new Function(o,"var items = this.items; for(var i=0;i<items.length;i++){ items[i]."+t+"("+o+"); }")}else n=new Function("var items = this.items; for(var i=0;i<items.length;i++){ items[i]."+t+"(); }");i.hash[r]=n}return n},i.hash={},t.exports=i},function(t,e,i){"use strict";function r(t){var e=32;return(t&=-t)&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,i;return e=(t>65535)<<4,e|=i=((t>>>=e)>255)<<3,e|=i=((t>>>=i)>15)<<2,(e|=i=((t>>>=i)>3)<<1)|(t>>>=i)>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return 16843009*((t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var n=new Array(256);!function(t){for(var e=0;e<256;++e){var i=e,r=e,n=7;for(i>>>=1;i;i>>>=1)r<<=1,r|=1&i,--n;t[e]=r<<n&255}}(n),e.reverse=function(t){return n[255&t]<<24|n[t>>>8&255]<<16|n[t>>>16&255]<<8|n[t>>>24&255]},e.interleave2=function(t,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(t,e){return(t=65535&((t=16711935&((t=252645135&((t=858993459&((t=t>>>e&1431655765)|t>>>1))|t>>>2))|t>>>4))|t>>>16))<<16>>16},e.interleave3=function(t,e,i){return t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2),(t|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<2},e.deinterleave3=function(t,e){return(t=1023&((t=4278190335&((t=251719695&((t=3272356035&((t=t>>>e&1227133513)|t>>>2))|t>>>4))|t>>>8))|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,i){var r,n,o,s,a,h,u,l,c,d,p,f,g,y,v,m,_,x,b,T,E,w;
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */
s=this,a=/iPhone/i,h=/iPod/i,u=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,c=/Android/i,d=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,p=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,f=/Windows Phone/i,g=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,v=/BB10/i,m=/Opera Mini/i,_=/(CriOS|Chrome)(?=.*\bMobile\b)/i,x=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),T=function(t,e){return t.test(e)},E=function(t){var e=t||navigator.userAgent,i=e.split("[FBAN");if(void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]),this.apple={phone:T(a,e),ipod:T(h,e),tablet:!T(a,e)&&T(u,e),device:T(a,e)||T(h,e)||T(u,e)},this.amazon={phone:T(d,e),tablet:!T(d,e)&&T(p,e),device:T(d,e)||T(p,e)},this.android={phone:T(d,e)||T(l,e),tablet:!T(d,e)&&!T(l,e)&&(T(p,e)||T(c,e)),device:T(d,e)||T(p,e)||T(l,e)||T(c,e)},this.windows={phone:T(f,e),tablet:T(g,e),device:T(f,e)||T(g,e)},this.other={blackberry:T(y,e),blackberry10:T(v,e),opera:T(m,e),firefox:T(x,e),chrome:T(_,e),device:T(y,e)||T(v,e)||T(m,e)||T(x,e)||T(_,e)},this.seven_inch=T(b,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},w=function(){var t=new E;return t.Class=E,t},t.exports&&"undefined"==typeof window?t.exports=E:t.exports&&"undefined"!=typeof window?t.exports=w():(n=[],r=s.isMobile=w(),void 0===(o="function"==typeof r?r.apply(e,n):r)||(t.exports=o))},function(t,e,i){"use strict";t.exports=function(t,e,i){var r,n=t.length;if(!(e>=n||0===i)){var o=n-(i=e+i>n?n-e:i);for(r=e;r<o;++r)t[r]=t[r+i];t.length=o}}},function(t,e,i){"use strict";var r=i(12),n=i(15);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){n.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=i(16);function _(t,e,i){if(t&&n.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,i),r}o.prototype.parse=function(t,e,i){if(!n.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),a=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(a);u[0]=u[0].replace(/\\/g,"/");var _=t=u.join(a);if(_=_.trim(),!i&&1===t.split("#").length){var x=h.exec(_);if(x)return this.path=_,this.href=_,this.pathname=x[1],x[2]?(this.search=x[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var b=s.exec(_);if(b){var T=(b=b[0]).toLowerCase();this.protocol=T,_=_.substr(b.length)}if(i||b||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===_.substr(0,2);!E||b&&y[b]||(_=_.substr(2),this.slashes=!0)}if(!y[b]&&(E||b&&!v[b])){for(var w,S,P=-1,A=0;A<d.length;A++){-1!==(C=_.indexOf(d[A]))&&(-1===P||C<P)&&(P=C)}-1!==(S=-1===P?_.lastIndexOf("@"):_.lastIndexOf("@",P))&&(w=_.slice(0,S),_=_.slice(S+1),this.auth=decodeURIComponent(w)),P=-1;for(A=0;A<c.length;A++){var C;-1!==(C=_.indexOf(c[A]))&&(-1===P||C<P)&&(P=C)}-1===P&&(P=_.length),this.host=_.slice(0,P),_=_.slice(P),this.parseHost(),this.hostname=this.hostname||"";var D="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!D)for(var O=this.hostname.split(/\./),I=(A=0,O.length);A<I;A++){var M=O[A];if(M&&!M.match(p)){for(var R="",F=0,L=M.length;F<L;F++)M.charCodeAt(F)>127?R+="x":R+=M[F];if(!R.match(p)){var N=O.slice(0,A),B=O.slice(A+1),U=M.match(f);U&&(N.push(U[1]),B.unshift(U[2])),B.length&&(_="/"+B.join(".")+_),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),D||(this.hostname=r.toASCII(this.hostname));var k=this.port?":"+this.port:"",X=this.hostname||"";this.host=X+k,this.href+=this.host,D&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[T])for(A=0,I=l.length;A<I;A++){var G=l[A];if(-1!==_.indexOf(G)){var j=encodeURIComponent(G);j===G&&(j=escape(G)),_=_.split(G).join(j)}}var H=_.indexOf("#");-1!==H&&(this.hash=_.substr(H),_=_.slice(0,H));var Y=_.indexOf("?");if(-1!==Y?(this.search=_.substr(Y),this.query=_.substr(Y+1),e&&(this.query=m.parse(this.query)),_=_.slice(0,Y)):e&&(this.search="",this.query={}),_&&(this.pathname=_),v[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){k=this.pathname||"";var W=this.search||"";this.path=k+W}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",r=this.hash||"",o=!1,s="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&n.isObject(this.query)&&Object.keys(this.query).length&&(s=m.stringify(this.query));var a=this.search||s&&"?"+s||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==o?(o="//"+(o||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),e+o+(i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(a=a.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(n.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var i=new o,r=Object.keys(this),s=0;s<r.length;s++){var a=r[s];i[a]=this[a]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var h=Object.keys(t),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(i[l]=t[l])}return v[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!v[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||y[t.protocol])i.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var g=i.pathname||"",m=i.search||"";i.path=g+m}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var _=i.pathname&&"/"===i.pathname.charAt(0),x=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=x||_||i.host&&t.pathname,T=b,E=i.pathname&&i.pathname.split("/")||[],w=(f=t.pathname&&t.pathname.split("/")||[],i.protocol&&!v[i.protocol]);if(w&&(i.hostname="",i.port=null,i.host&&(""===E[0]?E[0]=i.host:E.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===E[0])),x)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),i.search=t.search,i.query=t.query;else if(!n.isNullOrUndefined(t.search)){if(w)i.hostname=i.host=E.shift(),(D=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=D.shift(),i.host=i.hostname=D.shift());return i.search=t.search,i.query=t.query,n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!E.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var S=E.slice(-1)[0],P=(i.host||t.host||E.length>1)&&("."===S||".."===S)||""===S,A=0,C=E.length;C>=0;C--)"."===(S=E[C])?E.splice(C,1):".."===S?(E.splice(C,1),A++):A&&(E.splice(C,1),A--);if(!b&&!T)for(;A--;A)E.unshift("..");!b||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),P&&"/"!==E.join("/").substr(-1)&&E.push("");var D,O=""===E[0]||E[0]&&"/"===E[0].charAt(0);w&&(i.hostname=i.host=O?"":E.length?E.shift():"",(D=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=D.shift(),i.host=i.hostname=D.shift()));return(b=b||i.host&&E.length)&&!O&&E.unshift(""),E.length?i.pathname=E.join("/"):(i.pathname=null,i.path=null),n.isNull(i.pathname)&&n.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},o.prototype.parseHost=function(){var t=this.host,e=a.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,i){"use strict";var r=i(19).Loader,n=i(11).Resource,o=i(10),s=i(20);r.Resource=n,r.async=o,r.encodeBinary=s,r.base64=s,t.exports=r,t.exports.Loader=r,t.exports.default=r},function(t,e,i){"use strict";function r(t,e,i){i=i||2;var r,a,h,u,l,p,g,y=e&&e.length,v=y?e[0]*i:t.length,m=n(t,0,v,i,!0),_=[];if(!m||m.next===m.prev)return _;if(y&&(m=function(t,e,i,r){var s,a,h,u,l,p=[];for(s=0,a=e.length;s<a;s++)h=e[s]*r,u=s<a-1?e[s+1]*r:t.length,(l=n(t,h,u,r,!1))===l.next&&(l.steiner=!0),p.push(f(l));for(p.sort(c),s=0;s<p.length;s++)d(p[s],i),i=o(i,i.next);return i}(t,e,m,i)),t.length>80*i){r=h=t[0],a=u=t[1];for(var x=i;x<v;x+=i)(l=t[x])<r&&(r=l),(p=t[x+1])<a&&(a=p),l>h&&(h=l),p>u&&(u=p);g=0!==(g=Math.max(h-r,u-a))?1/g:0}return s(m,_,i,r,a,g),_}function n(t,e,i,r,n){var o,s;if(n===S(t,e,i,r)>0)for(o=e;o<i;o+=r)s=T(o,t[o],t[o+1],s);else for(o=i-r;o>=e;o-=r)s=T(o,t[o],t[o+1],s);return s&&m(s,s.next)&&(E(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var i,r=t;do{if(i=!1,r.steiner||!m(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(E(r),(r=e=r.prev)===r.next)break;i=!0}}while(i||r!==e);return e}function s(t,e,i,r,n,c,d){if(t){!d&&c&&function(t,e,i,r){var n=t;do{null===n.z&&(n.z=p(n.x,n.y,e,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,r,n,o,s,a,h,u=1;do{for(i=t,t=null,o=null,s=0;i;){for(s++,r=i,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(h=u;a>0||h>0&&r;)0!==a&&(0===h||!r||i.z<=r.z)?(n=i,i=i.nextZ,a--):(n=r,r=r.nextZ,h--),o?o.nextZ=n:t=n,n.prevZ=o,o=n;i=r}o.nextZ=null,u*=2}while(s>1)}(n)}(t,r,n,c);for(var f,g,y=t;t.prev!==t.next;)if(f=t.prev,g=t.next,c?h(t,r,n,c):a(t))e.push(f.i/i),e.push(t.i/i),e.push(g.i/i),E(t),t=g.next,y=g.next;else if((t=g)===y){d?1===d?s(t=u(t,e,i),e,i,r,n,c,2):2===d&&l(t,e,i,r,n,c):s(o(t),e,i,r,n,c,1);break}}}function a(t){var e=t.prev,i=t,r=t.next;if(v(e,i,r)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(g(e.x,e.y,i.x,i.y,r.x,r.y,n.x,n.y)&&v(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function h(t,e,i,r){var n=t.prev,o=t,s=t.next;if(v(n,o,s)>=0)return!1;for(var a=n.x<o.x?n.x<s.x?n.x:s.x:o.x<s.x?o.x:s.x,h=n.y<o.y?n.y<s.y?n.y:s.y:o.y<s.y?o.y:s.y,u=n.x>o.x?n.x>s.x?n.x:s.x:o.x>s.x?o.x:s.x,l=n.y>o.y?n.y>s.y?n.y:s.y:o.y>s.y?o.y:s.y,c=p(a,h,e,i,r),d=p(u,l,e,i,r),f=t.prevZ,y=t.nextZ;f&&f.z>=c&&y&&y.z<=d;){if(f!==t.prev&&f!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&v(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,y!==t.prev&&y!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;f&&f.z>=c;){if(f!==t.prev&&f!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,f.x,f.y)&&v(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;y&&y.z<=d;){if(y!==t.prev&&y!==t.next&&g(n.x,n.y,o.x,o.y,s.x,s.y,y.x,y.y)&&v(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function u(t,e,i){var r=t;do{var n=r.prev,o=r.next.next;!m(n,o)&&_(n,r,r.next,o)&&x(n,o)&&x(o,n)&&(e.push(n.i/i),e.push(r.i/i),e.push(o.i/i),E(r),E(r.next),r=t=o),r=r.next}while(r!==t);return r}function l(t,e,i,r,n,a){var h=t;do{for(var u=h.next.next;u!==h.prev;){if(h.i!==u.i&&y(h,u)){var l=b(h,u);return h=o(h,h.next),l=o(l,l.next),s(h,e,i,r,n,a),void s(l,e,i,r,n,a)}u=u.next}h=h.next}while(h!==t)}function c(t,e){return t.x-e.x}function d(t,e){if(e=function(t,e){var i,r=e,n=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s){if(s=a,a===n){if(o===r.y)return r;if(o===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!i)return null;if(n===s)return i.prev;var h,u=i,l=i.x,c=i.y,d=1/0;r=i.next;for(;r!==u;)n>=r.x&&r.x>=l&&n!==r.x&&g(o<c?n:s,o,l,c,o<c?s:n,o,r.x,r.y)&&((h=Math.abs(o-r.y)/(n-r.x))<d||h===d&&r.x>i.x)&&x(r,t)&&(i=r,d=h),r=r.next;return i}(t,e)){var i=b(e,t);o(i,i.next)}}function p(t,e,i,r,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*n)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*n)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,i=t;do{e.x<i.x&&(i=e),e=e.next}while(e!==t);return i}function g(t,e,i,r,n,o,s,a){return(n-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(i-s)*(e-a)>=0&&(i-s)*(o-a)-(n-s)*(r-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&_(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&x(t,e)&&x(e,t)&&function(t,e){var i=t,r=!1,n=(t.x+e.x)/2,o=(t.y+e.y)/2;do{i.y>o!=i.next.y>o&&i.next.y!==i.y&&n<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==t);return r}(t,e)}function v(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,i,r){return!!(m(t,e)&&m(i,r)||m(t,r)&&m(i,e))||v(t,e,i)>0!=v(t,e,r)>0&&v(i,r,t)>0!=v(i,r,e)>0}function x(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function b(t,e){var i=new w(t.i,t.x,t.y),r=new w(e.i,e.x,e.y),n=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,r.next=i,i.prev=r,o.next=r,r.prev=o,r}function T(t,e,i,r){var n=new w(t,e,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function w(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,i,r){for(var n=0,o=e,s=i-r;o<i;o+=r)n+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return n}t.exports=r,t.exports.default=r,r.deviation=function(t,e,i,r){var n=e&&e.length,o=n?e[0]*i:t.length,s=Math.abs(S(t,0,o,i));if(n)for(var a=0,h=e.length;a<h;a++){var u=e[a]*i,l=a<h-1?e[a+1]*i:t.length;s-=Math.abs(S(t,u,l,i))}var c=0;for(a=0;a<r.length;a+=3){var d=r[a]*i,p=r[a+1]*i,f=r[a+2]*i;c+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===s&&0===c?0:Math.abs((c-s)/s)},r.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},r=0,n=0;n<t.length;n++){for(var o=0;o<t[n].length;o++)for(var s=0;s<e;s++)i.vertices.push(t[n][o][s]);n>0&&(r+=t[n-1].length,i.holes.push(r))}return i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e,i,r){void 0===i&&(i=!1),n(this,t),this._fn=e,this._once=i,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function s(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var a=function(){function t(){n(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return s(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return s(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,i){"use strict";t.exports=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(t,e,r){e&&(n[i.q.name][e]=r)}),n}},function(t,e,i){"use strict";function r(){}function n(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}e.__esModule=!0,e.eachSeries=function(t,e,i,r){var n=0,o=t.length;!function s(a){a||n===o?i&&i(a):r?setTimeout(function(){e(t[n++],s)},1):e(t[n++],s)}()},e.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,o={_tasks:[],concurrency:e,saturated:r,unsaturated:r,buffer:e/4,empty:r,drain:r,error:r,started:!1,paused:!1,push:function(t,e){s(t,!1,e)},kill:function(){i=0,o.drain=r,o.started=!1,o._tasks=[]},unshift:function(t,e){s(t,!0,e)},process:function(){for(;!o.paused&&i<o.concurrency&&o._tasks.length;){var e=o._tasks.shift();0===o._tasks.length&&o.empty(),(i+=1)===o.concurrency&&o.saturated(),t(e.data,n(a(e)))}},length:function(){return o._tasks.length},running:function(){return i},idle:function(){return o._tasks.length+i===0},pause:function(){!0!==o.paused&&(o.paused=!0)},resume:function(){if(!1!==o.paused){o.paused=!1;for(var t=1;t<=o.concurrency;t++)o.process()}}};function s(t,e,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(o.started=!0,null==t&&o.idle())setTimeout(function(){return o.drain()},1);else{var n={data:t,callback:"function"==typeof i?i:r};e?o._tasks.unshift(n):o._tasks.push(n),setTimeout(function(){return o.process()},1)}}function a(t){return function(){i-=1,t.callback.apply(t,arguments),null!=arguments[0]&&o.error(arguments[0],t.data),i<=o.concurrency-o.buffer&&o.unsaturated(),o.idle()&&o.drain(),o.process()}}return o}},function(t,e,i){"use strict";e.__esModule=!0,e.Resource=void 0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),n=s(i(9)),o=s(i(8));function s(t){return t&&t.__esModule?t:{default:t}}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),h=null;function u(){}var l=e.Resource=function(){function t(e,i,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=u,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new o.default,this.onProgress=new o.default,this.onComplete=new o.default,this.onAfterMiddleware=new o.default}return t.setExtensionLoadType=function(e,i){c(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){c(t._xhrTypeMap,e,i)},t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(i)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(d(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(d(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(d(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,i="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===r&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var o=document.createElement("div");o.innerHTML=i,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,h||(h=document.createElement("a")),h.href=t;var i=!(t=(0,n.default)(h.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&r===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(r>-1?r:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},r(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function c(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function d(t){return t.toString().replace("object ","")}l.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},l.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},l.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},l.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},l._loadTypeMap={gif:l.LOAD_TYPE.IMAGE,png:l.LOAD_TYPE.IMAGE,bmp:l.LOAD_TYPE.IMAGE,jpg:l.LOAD_TYPE.IMAGE,jpeg:l.LOAD_TYPE.IMAGE,tif:l.LOAD_TYPE.IMAGE,tiff:l.LOAD_TYPE.IMAGE,webp:l.LOAD_TYPE.IMAGE,tga:l.LOAD_TYPE.IMAGE,svg:l.LOAD_TYPE.IMAGE,"svg+xml":l.LOAD_TYPE.IMAGE,mp3:l.LOAD_TYPE.AUDIO,ogg:l.LOAD_TYPE.AUDIO,wav:l.LOAD_TYPE.AUDIO,mp4:l.LOAD_TYPE.VIDEO,webm:l.LOAD_TYPE.VIDEO},l._xhrTypeMap={xhtml:l.XHR_RESPONSE_TYPE.DOCUMENT,html:l.XHR_RESPONSE_TYPE.DOCUMENT,htm:l.XHR_RESPONSE_TYPE.DOCUMENT,xml:l.XHR_RESPONSE_TYPE.DOCUMENT,tmx:l.XHR_RESPONSE_TYPE.DOCUMENT,svg:l.XHR_RESPONSE_TYPE.DOCUMENT,tsx:l.XHR_RESPONSE_TYPE.DOCUMENT,gif:l.XHR_RESPONSE_TYPE.BLOB,png:l.XHR_RESPONSE_TYPE.BLOB,bmp:l.XHR_RESPONSE_TYPE.BLOB,jpg:l.XHR_RESPONSE_TYPE.BLOB,jpeg:l.XHR_RESPONSE_TYPE.BLOB,tif:l.XHR_RESPONSE_TYPE.BLOB,tiff:l.XHR_RESPONSE_TYPE.BLOB,webp:l.XHR_RESPONSE_TYPE.BLOB,tga:l.XHR_RESPONSE_TYPE.BLOB,json:l.XHR_RESPONSE_TYPE.JSON,text:l.XHR_RESPONSE_TYPE.TEXT,txt:l.XHR_RESPONSE_TYPE.TEXT,ttf:l.XHR_RESPONSE_TYPE.BUFFER,otf:l.XHR_RESPONSE_TYPE.BUFFER},l.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",t.exports.default=l},function(t,e,i){(function(t,r){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){e&&e.nodeType,t&&t.nodeType;var s="object"==typeof r&&r;s.global!==s&&s.window!==s&&s.self;var a,h=2147483647,u=36,l=1,c=26,d=38,p=700,f=72,g=128,y="-",v=/^xn--/,m=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=u-l,T=Math.floor,E=String.fromCharCode;function w(t){throw new RangeError(x[t])}function S(t,e){for(var i=t.length,r=[];i--;)r[i]=e(t[i]);return r}function P(t,e){var i=t.split("@"),r="";return i.length>1&&(r=i[0]+"@",t=i[1]),r+S((t=t.replace(_,".")).split("."),e).join(".")}function A(t){for(var e,i,r=[],n=0,o=t.length;n<o;)(e=t.charCodeAt(n++))>=55296&&e<=56319&&n<o?56320==(64512&(i=t.charCodeAt(n++)))?r.push(((1023&e)<<10)+(1023&i)+65536):(r.push(e),n--):r.push(e);return r}function C(t){return S(t,function(t){var e="";return t>65535&&(e+=E((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=E(t)}).join("")}function D(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function O(t,e,i){var r=0;for(t=i?T(t/p):t>>1,t+=T(t/e);t>b*c>>1;r+=u)t=T(t/b);return T(r+(b+1)*t/(t+d))}function I(t){var e,i,r,n,o,s,a,d,p,v,m,_=[],x=t.length,b=0,E=g,S=f;for((i=t.lastIndexOf(y))<0&&(i=0),r=0;r<i;++r)t.charCodeAt(r)>=128&&w("not-basic"),_.push(t.charCodeAt(r));for(n=i>0?i+1:0;n<x;){for(o=b,s=1,a=u;n>=x&&w("invalid-input"),((d=(m=t.charCodeAt(n++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:u)>=u||d>T((h-b)/s))&&w("overflow"),b+=d*s,!(d<(p=a<=S?l:a>=S+c?c:a-S));a+=u)s>T(h/(v=u-p))&&w("overflow"),s*=v;S=O(b-o,e=_.length+1,0==o),T(b/e)>h-E&&w("overflow"),E+=T(b/e),b%=e,_.splice(b++,0,E)}return C(_)}function M(t){var e,i,r,n,o,s,a,d,p,v,m,_,x,b,S,P=[];for(_=(t=A(t)).length,e=g,i=0,o=f,s=0;s<_;++s)(m=t[s])<128&&P.push(E(m));for(r=n=P.length,n&&P.push(y);r<_;){for(a=h,s=0;s<_;++s)(m=t[s])>=e&&m<a&&(a=m);for(a-e>T((h-i)/(x=r+1))&&w("overflow"),i+=(a-e)*x,e=a,s=0;s<_;++s)if((m=t[s])<e&&++i>h&&w("overflow"),m==e){for(d=i,p=u;!(d<(v=p<=o?l:p>=o+c?c:p-o));p+=u)S=d-v,b=u-v,P.push(E(D(v+S%b,0))),d=T(S/b);P.push(E(D(d,0))),o=O(i,x,r==n),i=0,++r}++i,++e}return P.join("")}a={version:"1.4.1",ucs2:{decode:A,encode:C},decode:I,encode:M,toASCII:function(t){return P(t,function(t){return m.test(t)?"xn--"+M(t):t})},toUnicode:function(t){return P(t,function(t){return v.test(t)?I(t.slice(4).toLowerCase()):t})}},void 0===(n=function(){return a}.call(e,i,e,t))||(t.exports=n)}()}).call(this,i(13)(t),i(14))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,i){"use strict";e.decode=e.parse=i(17),e.encode=e.stringify=i(18)},function(t,e,i){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,o){e=e||"&",i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var h=1e3;o&&"number"==typeof o.maxKeys&&(h=o.maxKeys);var u=t.length;h>0&&u>h&&(u=h);for(var l=0;l<u;++l){var c,d,p,f,g=t[l].replace(a,"%20"),y=g.indexOf(i);y>=0?(c=g.substr(0,y),d=g.substr(y+1)):(c=g,d=""),p=decodeURIComponent(c),f=decodeURIComponent(d),r(s,p)?n(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,i){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,i,a){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?o(s(t),function(s){var a=encodeURIComponent(r(s))+i;return n(t[s])?o(t[s],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[s]))}).join(e):a?encodeURIComponent(r(a))+i+encodeURIComponent(r(t)):""};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r++)i.push(e(t[r],r));return i}var s=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},function(t,e,i){"use strict";e.__esModule=!0,e.Loader=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),o=u(i(8)),s=u(i(9)),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(10)),h=i(11);function u(t){return t&&t.__esModule?t:{default:t}}var l=/(#[\w-]+)?$/,c=e.Loader=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.baseUrl=i,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,i){return e._loadResource(t,i)},this._queue=a.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default;for(var n=0;n<t._defaultBeforeMiddleware.length;++n)this.pre(t._defaultBeforeMiddleware[n]);for(var s=0;s<t._defaultAfterMiddleware.length;++s)this.use(t._defaultAfterMiddleware[s])}return t.prototype.add=function(t,e,i,n){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"===(void 0===t?"undefined":r(t))&&(n=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(n=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new h.Resource(t,e,i),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var s=i.parentResource,a=[],u=0;u<s.children.length;++u)s.children[u].isComplete||a.push(s.children[u]);var l=s.progressChunk*(a.length+1)/(a.length+2);s.children.push(this.resources[t]),s.progressChunk=l;for(var c=0;c<a.length;++c)a[c].progressChunk=l;this.resources[t].progressChunk=l}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(t){var e=(0,s.default)(t,{strictMode:!0}),i=void 0;if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=l.exec(i)[0];-1!==(i=i.substr(0,i.length-r.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=r}return i},t.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,a.eachSeries(this._beforeMiddleware,function(e,r){e.call(i,t,function(){r(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),a.eachSeries(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();c._defaultBeforeMiddleware=[],c._defaultAfterMiddleware=[],c.pre=function(t){return c._defaultBeforeMiddleware.push(t),c},c.use=function(t){return c._defaultAfterMiddleware.push(t),c}},function(t,e,i){"use strict";e.__esModule=!0,e.encodeBinary=n;var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){for(var e="",i=0;i<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)i<t.length?n[s]=255&t.charCodeAt(i++):n[s]=0;switch(o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2],i-(t.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var a=0;a<o.length;++a)e+=r.charAt(o[a])}return e}t.exports.default=n},function(t,e,i){"use strict";i.r(e);var r={};i.r(r),i.d(r,"ENV",function(){return R}),i.d(r,"RENDERER_TYPE",function(){return F}),i.d(r,"BLEND_MODES",function(){return L}),i.d(r,"DRAW_MODES",function(){return N}),i.d(r,"FORMATS",function(){return B}),i.d(r,"TARGETS",function(){return U}),i.d(r,"TYPES",function(){return k}),i.d(r,"SCALE_MODES",function(){return X}),i.d(r,"WRAP_MODES",function(){return G}),i.d(r,"GC_MODES",function(){return j}),i.d(r,"PRECISION",function(){return H});var n={};i.r(n),i.d(n,"isMobile",function(){return P.a}),i.d(n,"removeItems",function(){return C.a}),i.d(n,"EventEmitter",function(){return O.a}),i.d(n,"mixins",function(){return Z}),i.d(n,"earcut",function(){return M.a}),i.d(n,"skipHello",function(){return $}),i.d(n,"sayHello",function(){return tt}),i.d(n,"isWebGLSupported",function(){return et}),i.d(n,"hex2rgb",function(){return it}),i.d(n,"hex2string",function(){return rt}),i.d(n,"rgb2hex",function(){return nt}),i.d(n,"premultiplyBlendMode",function(){return ot}),i.d(n,"correctBlendMode",function(){return st}),i.d(n,"premultiplyRgba",function(){return at}),i.d(n,"premultiplyTint",function(){return ht}),i.d(n,"premultiplyTintToRgba",function(){return ut}),i.d(n,"createIndicesForQuads",function(){return lt}),i.d(n,"uid",function(){return dt}),i.d(n,"sign",function(){return pt}),i.d(n,"CanvasRenderTarget",function(){return xt}),i.d(n,"ProgramCache",function(){return ft}),i.d(n,"TextureCache",function(){return gt}),i.d(n,"BaseTextureCache",function(){return yt}),i.d(n,"destroyTextureCache",function(){return vt}),i.d(n,"clearTextureCache",function(){return mt}),i.d(n,"trimCanvas",function(){return _t}),i.d(n,"decomposeDataUri",function(){return wt}),i.d(n,"determineCrossOrigin",function(){return St}),i.d(n,"getResolutionOfUrl",function(){return Pt}),i.d(n,"DATA_URI",function(){return Et});var o={};i.r(o),i.d(o,"Point",function(){return At}),i.d(o,"ObservablePoint",function(){return Ct}),i.d(o,"Matrix",function(){return Ft}),i.d(o,"GroupD8",function(){return Ht}),i.d(o,"Transform",function(){return Yt}),i.d(o,"Circle",function(){return Kt}),i.d(o,"Ellipse",function(){return Zt}),i.d(o,"Polygon",function(){return Jt}),i.d(o,"Rectangle",function(){return zt}),i.d(o,"RoundedRectangle",function(){return Qt}),i.d(o,"PI_2",function(){return Ot}),i.d(o,"RAD_TO_DEG",function(){return It}),i.d(o,"DEG_TO_RAD",function(){return Mt}),i.d(o,"SHAPES",function(){return Rt});var s={};i.r(s),i.d(s,"Bounds",function(){return $t}),i.d(s,"DisplayObject",function(){return te}),i.d(s,"Container",function(){return ee});var a={};i.r(a),i.d(a,"accessibleTarget",function(){return ie}),i.d(a,"AccessibilityManager",function(){return re});var h={};i.r(h),i.d(h,"Ticker",function(){return he}),i.d(h,"TickerPlugin",function(){return ce}),i.d(h,"UPDATE_PRIORITY",function(){return se});var u={};i.r(u),i.d(u,"systems",function(){return tr}),i.d(u,"resources",function(){return Ce}),i.d(u,"System",function(){return De}),i.d(u,"Renderer",function(){return rr}),i.d(u,"AbstractRenderer",function(){return ir}),i.d(u,"FrameBuffer",function(){return Oe}),i.d(u,"CubeTexture",function(){return nr}),i.d(u,"BaseTexture",function(){return Ee}),i.d(u,"Texture",function(){return Fe}),i.d(u,"TextureMatrix",function(){return Fi}),i.d(u,"RenderTexture",function(){return Ne}),i.d(u,"BaseRenderTexture",function(){return Me}),i.d(u,"TextureUvs",function(){return Re}),i.d(u,"State",function(){return Ci}),i.d(u,"ObjectRenderer",function(){return $e}),i.d(u,"Quad",function(){return Ve}),i.d(u,"QuadUv",function(){return qe}),i.d(u,"checkMaxIfStatementsInShader",function(){return bi}),i.d(u,"Shader",function(){return Pi}),i.d(u,"Program",function(){return wi}),i.d(u,"UniformGroup",function(){return Ze}),i.d(u,"SpriteMaskFilter",function(){return Ni}),i.d(u,"Filter",function(){return Oi}),i.d(u,"Attribute",function(){return Ue}),i.d(u,"Buffer",function(){return Xe}),i.d(u,"Geometry",function(){return ze});var l={};i.r(l),i.d(l,"Application",function(){return or});var c={};i.r(c),i.d(c,"Extract",function(){return ur});var d={};i.r(d),i.d(d,"Sprite",function(){return cr}),i.d(d,"SpriteRenderer",function(){return yr});var p={};i.r(p),i.d(p,"Graphics",function(){return br}),i.d(p,"GraphicsData",function(){return vr}),i.d(p,"GraphicsRenderer",function(){return Rr});var f={};i.r(f),i.d(f,"InteractionData",function(){return Fr}),i.d(f,"InteractionManager",function(){return jr}),i.d(f,"interactiveTarget",function(){return kr}),i.d(f,"InteractionTrackingData",function(){return Br}),i.d(f,"InteractionEvent",function(){return Nr});var g={};i.r(g),i.d(g,"LoaderResource",function(){return nn}),i.d(g,"Loader",function(){return tn}),i.d(g,"TextureLoader",function(){return $r}),i.d(g,"LoaderPlugin",function(){return en});var y={};i.r(y),i.d(y,"Mesh",function(){return an}),i.d(y,"MeshRenderer",function(){return hn});var v={};i.r(v),i.d(v,"Mesh2d",function(){return cn}),i.d(v,"Plane",function(){return dn}),i.d(v,"NineSlicePlane",function(){return fn}),i.d(v,"Rope",function(){return gn});var m={};i.r(m),i.d(m,"ParticleContainer",function(){return yn}),i.d(m,"ParticleRenderer",function(){return xn});var _={};i.r(_),i.d(_,"Text",function(){return In}),i.d(_,"TextStyle",function(){return En}),i.d(_,"TextMetrics",function(){return Cn}),i.d(_,"TEXT_GRADIENT",function(){return bn});var x={};i.r(x),i.d(x,"Prepare",function(){return Gn}),i.d(x,"BasePrepare",function(){return Rn}),i.d(x,"CountLimiter",function(){return Mn}),i.d(x,"TimeLimiter",function(){return Wn});var b={};i.r(b),i.d(b,"AnimatedSprite",function(){return zn});var T={};i.r(T),i.d(T,"Spritesheet",function(){return Vn}),i.d(T,"SpritesheetLoader",function(){return Kn});var E={};i.r(E),i.d(E,"TilingSprite",function(){return Jn}),i.d(E,"TilingSpriteRenderer",function(){return io});var w={};i.r(w),i.d(w,"BitmapText",function(){return ro}),i.d(w,"BitmapFontLoader",function(){return no});var S=i(3),P=i.n(S),A=i(4),C=i.n(A),D=i(0),O=i.n(D),I=i(7),M=i.n(I),R={WEBGL_LEGACY:0,WEBGL:1,WEBGL2:2},F={UNKNOWN:0,WEBGL:1,CANVAS:2},L={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},N={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},B={RGBA:6408,RGB:6407,ALPHA:6406,LUMINANCE:6409,LUMINANCE_ALPHA:6410,DEPTH_COMPONENT:6402,DEPTH_STENCIL:34041},U={TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,TEXTURE_2D_ARRAY:35866,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074},k={UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,FLOAT:5126,HALF_FLOAT:36193},X={LINEAR:1,NEAREST:0},G={CLAMP:33071,REPEAT:10497,MIRRORED_REPEAT:33648},j={AUTO:0,MANUAL:1},H={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"};var Y,W={MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(Y=32,P.a.tablet||P.a.phone?4:Y),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)),CREATE_IMAGE_BITMAP:!0},z=i(5),V=i.n(z);
/*!
 * @pixi/utils - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function q(t,e){if(t&&e)for(var i=Object.keys(e),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}}var K=[];var Z={mixin:q,delayMixin:function(t,e){K.push(t,e)},performMixins:function(){for(var t=0;t<K.length;t+=2)q(K[t],K[t+1]);K.length=0}},J=!1,Q="5.0.0-alpha.3";function $(){J=!0}function tt(t){if(!J){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c PixiJS "+Q+" -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("PixiJS "+Q+" - "+t+" - http://www.pixijs.com/");J=!0}}function et(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(t){return!1}}function it(t,e){return(e=e||[])[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function rt(t){return t=t.toString(16),"#"+(t="000000".substr(0,6-t.length)+t)}function nt(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var ot=function(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[L.NORMAL_NPM]=L.NORMAL,t[L.ADD_NPM]=L.ADD,t[L.SCREEN_NPM]=L.SCREEN,e[L.NORMAL]=L.NORMAL_NPM,e[L.ADD]=L.ADD_NPM,e[L.SCREEN]=L.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function st(t,e){return ot[e?1:0][t]}function at(t,e,i,r){return i=i||new Float32Array(4),r||void 0===r?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i}function ht(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,r=t>>8&255,n=255&t;return(255*e<<24)+((i=i*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(n=n*e+.5|0)}function ut(t,e,i,r){return(i=i||new Float32Array(4))[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(r||void 0===r)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}function lt(t){for(var e=6*t,i=new Uint16Array(e),r=0,n=0;r<e;r+=6,n+=4)i[r+0]=n+0,i[r+1]=n+1,i[r+2]=n+2,i[r+3]=n+0,i[r+4]=n+2,i[r+5]=n+3;return i}var ct=0;function dt(){return++ct}function pt(t){return 0===t?0:t<0?-1:1}var ft={},gt=Object.create(null),yt=Object.create(null);function vt(){var t;for(t in gt)gt[t].destroy();for(t in yt)yt[t].destroy()}function mt(){var t;for(t in gt)delete gt[t];for(t in yt)delete yt[t]}function _t(t){var e,i,r,n=t.width,o=t.height,s=t.getContext("2d"),a=s.getImageData(0,0,n,o).data,h=a.length,u={top:null,left:null,right:null,bottom:null};for(e=0;e<h;e+=4)0!==a[e+3]&&(i=e/4%n,r=~~(e/4/n),null===u.top&&(u.top=r),null===u.left?u.left=i:i<u.left&&(u.left=i),null===u.right?u.right=i+1:u.right<i&&(u.right=i+1),null===u.bottom?u.bottom=r:u.bottom<r&&(u.bottom=r));return n=u.right-u.left,{height:o=u.bottom-u.top+1,width:n,data:s.getImageData(u.left,u.top,n,o)}}var xt=function(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||W.RESOLUTION,this.resize(t,e)},bt={width:{configurable:!0},height:{configurable:!0}};xt.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},xt.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},xt.prototype.destroy=function(){this.context=null,this.canvas=null},bt.width.get=function(){return this.canvas.width},bt.width.set=function(t){this.canvas.width=t},bt.height.get=function(){return this.canvas.height},bt.height.set=function(t){this.canvas.height=t},Object.defineProperties(xt.prototype,bt);var Tt,Et=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function wt(t){var e=Et.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function St(t,e){if(void 0===e&&(e=window.location),0===t.indexOf("data:"))return"";e=e||window.location,Tt||(Tt=document.createElement("a")),Tt.href=t;var i=!(t=V.a.parse(Tt.href)).port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&i&&t.protocol===e.protocol?"":"anonymous"}function Pt(t,e){var i=W.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}
/*!
 * @pixi/math - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */W.RETINA_PREFIX=/@([0-9\.]+)x/;var At=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e};At.prototype.clone=function(){return new At(this.x,this.y)},At.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},At.prototype.copyTo=function(t){return t.set(this.x,this.y),t},At.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},At.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)};var Ct=function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e},Dt={x:{configurable:!0},y:{configurable:!0}};Ct.prototype.set=function(t,e){var i=t||0,r=e||(0!==e?i:0);this._x===i&&this._y===r||(this._x=i,this._y=r,this.cb.call(this.scope))},Ct.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},Ct.prototype.copyTo=function(t){return t.set(this._x,this._y),t},Dt.x.get=function(){return this._x},Dt.x.set=function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},Dt.y.get=function(){return this._y},Dt.y.set=function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},Object.defineProperties(Ct.prototype,Dt);var Ot=2*Math.PI,It=180/Math.PI,Mt=Math.PI/180,Rt={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},Ft=function(t,e,i,r,n,o){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this.array=null},Lt={IDENTITY:{configurable:!0},TEMP_MATRIX:{configurable:!0}};Ft.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},Ft.prototype.set=function(t,e,i,r,n,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this},Ft.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},Ft.prototype.apply=function(t,e){e=e||new At;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},Ft.prototype.applyInverse=function(t,e){e=e||new At;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return e.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},Ft.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},Ft.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},Ft.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,n=this.c,o=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=n*e-this.d*i,this.d=n*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},Ft.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,n=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*n,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*n,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*n+this.ty,this},Ft.prototype.setTransform=function(t,e,i,r,n,o,s,a,h){return this.a=Math.cos(s+h)*n,this.b=Math.sin(s+h)*n,this.c=-Math.sin(s-a)*o,this.d=Math.cos(s-a)*o,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},Ft.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},Ft.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,o=-Math.atan2(-r,n),s=Math.atan2(i,e),a=Math.abs(o+s);return a<1e-5||Math.abs(Ot-a)<1e-5?(t.rotation=s,e<0&&n>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=o,t.skew.y=s),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},Ft.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,n=this.tx,o=t*r-e*i;return this.a=r/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-r*n)/o,this.ty=-(t*this.ty-e*n)/o,this},Ft.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},Ft.prototype.clone=function(){var t=new Ft;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},Ft.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},Ft.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},Lt.IDENTITY.get=function(){return new Ft},Lt.TEMP_MATRIX.get=function(){return new Ft},Object.defineProperties(Ft,Lt);var Nt=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Bt=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ut=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],kt=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Xt=[],Gt=[];function jt(t){return t<0?-1:t>0?1:0}!function(){for(var t=0;t<16;t++){var e=[];Gt.push(e);for(var i=0;i<16;i++)for(var r=jt(Nt[t]*Nt[i]+Ut[t]*Bt[i]),n=jt(Bt[t]*Nt[i]+kt[t]*Bt[i]),o=jt(Nt[t]*Ut[i]+Ut[t]*kt[i]),s=jt(Bt[t]*Ut[i]+kt[t]*kt[i]),a=0;a<16;a++)if(Nt[a]===r&&Bt[a]===n&&Ut[a]===o&&kt[a]===s){e.push(a);break}}for(var h=0;h<16;h++){var u=new Ft;u.set(Nt[h],Bt[h],Ut[h],kt[h],0,0),Xt.push(u)}}();var Ht={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return Nt[t]},uY:function(t){return Bt[t]},vX:function(t){return Ut[t]},vY:function(t){return kt[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return Gt[t][e]},sub:function(t,e){return Gt[t][Ht.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?Ht.S:Ht.N:2*Math.abs(e)<=Math.abs(t)?t>0?Ht.E:Ht.W:e>0?t>0?Ht.SE:Ht.SW:t>0?Ht.NE:Ht.NW},matrixAppendRotationInv:function(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=Xt[Ht.inv(e)];n.tx=i,n.ty=r,t.append(n)}},Yt=function(){this.worldTransform=new Ft,this.localTransform=new Ft,this.position=new Ct(this.onChange,this,0,0),this.scale=new Ct(this.onChange,this,1,1),this.pivot=new Ct(this.onChange,this,0,0),this.skew=new Ct(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0},Wt={rotation:{configurable:!0}};Yt.prototype.onChange=function(){this._localID++},Yt.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},Yt.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},Yt.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},Yt.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Wt.rotation.get=function(){return this._rotation},Wt.rotation.set=function(t){this._rotation=t,this.updateSkew()},Object.defineProperties(Yt.prototype,Wt),Yt.IDENTITY=new Yt;var zt=function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=Rt.RECT},Vt={left:{configurable:!0},right:{configurable:!0},top:{configurable:!0},bottom:{configurable:!0}},qt={EMPTY:{configurable:!0}};Vt.left.get=function(){return this.x},Vt.right.get=function(){return this.x+this.width},Vt.top.get=function(){return this.y},Vt.bottom.get=function(){return this.y+this.height},qt.EMPTY.get=function(){return new zt(0,0,0,0)},zt.prototype.clone=function(){return new zt(this.x,this.y,this.width,this.height)},zt.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},zt.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},zt.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},zt.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},zt.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},zt.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y},zt.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),n=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=i-e,this.y=r,this.height=n-r},Object.defineProperties(zt.prototype,Vt),Object.defineProperties(zt,qt);var Kt=function(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=Rt.CIRC};Kt.prototype.clone=function(){return new Kt(this.x,this.y,this.radius)},Kt.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-t,n=this.y-e;return(r*=r)+(n*=n)<=i},Kt.prototype.getBounds=function(){return new zt(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)};var Zt=function(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=Rt.ELIP};Zt.prototype.clone=function(){return new Zt(this.x,this.y,this.width,this.height)},Zt.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},Zt.prototype.getBounds=function(){return new zt(this.x-this.width,this.y-this.height,this.width,this.height)};var Jt=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(Array.isArray(t[0])&&(t=t[0]),t[0]instanceof At){for(var i=[],r=0,n=t.length;r<n;r++)i.push(t[r].x,t[r].y);t=i}this.closed=!0,this.points=t,this.type=Rt.POLY};Jt.prototype.clone=function(){return new Jt(this.points.slice())},Jt.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},Jt.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,n=0,o=r-1;n<r;o=n++){var s=this.points[2*n],a=this.points[2*n+1],h=this.points[2*o],u=this.points[2*o+1];a>e!=u>e&&t<(e-a)/(u-a)*(h-s)+s&&(i=!i)}return i};var Qt=function(t,e,i,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=n,this.type=Rt.RREC};Qt.prototype.clone=function(){return new Qt(this.x,this.y,this.width,this.height,this.radius)},Qt.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),r=e-(this.y+this.radius),n=this.radius*this.radius;if(i*i+r*r<=n)return!0;if((i=t-(this.x+this.width-this.radius))*i+r*r<=n)return!0;if(i*i+(r=e-(this.y+this.height-this.radius))*r<=n)return!0;if((i=t-(this.x+this.radius))*i+r*r<=n)return!0}return!1};
/*!
 * @pixi/display - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var $t=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null};$t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},$t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},$t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?zt.EMPTY:((t=t||new zt(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},$t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},$t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY,o=t[0],s=t[1];e=o<e?o:e,i=s<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[2])<e?o:e,i=(s=t[3])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[4])<e?o:e,i=(s=t[5])<i?s:i,r=o>r?o:r,n=s>n?s:n,e=(o=t[6])<e?o:e,i=(s=t[7])<i?s:i,r=o>r?o:r,n=s>n?s:n,this.minX=e,this.minY=i,this.maxX=r,this.maxY=n},$t.prototype.addFrame=function(t,e,i,r,n){var o=t.worldTransform,s=o.a,a=o.b,h=o.c,u=o.d,l=o.tx,c=o.ty,d=this.minX,p=this.minY,f=this.maxX,g=this.maxY,y=s*e+h*i+l,v=a*e+u*i+c;d=y<d?y:d,p=v<p?v:p,f=y>f?y:f,g=v>g?v:g,d=(y=s*r+h*i+l)<d?y:d,p=(v=a*r+u*i+c)<p?v:p,f=y>f?y:f,g=v>g?v:g,d=(y=s*e+h*n+l)<d?y:d,p=(v=a*e+u*n+c)<p?v:p,f=y>f?y:f,g=v>g?v:g,d=(y=s*r+h*n+l)<d?y:d,p=(v=a*r+u*n+c)<p?v:p,f=y>f?y:f,g=v>g?v:g,this.minX=d,this.minY=p,this.maxX=f,this.maxY=g},$t.prototype.addVertices=function(t,e,i,r){for(var n=t.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=this.minX,d=this.minY,p=this.maxX,f=this.maxY,g=i;g<r;g+=2){var y=e[g],v=e[g+1],m=o*y+a*v+u,_=h*v+s*y+l;c=m<c?m:c,d=_<d?_:d,p=m>p?m:p,f=_>f?_:f}this.minX=c,this.minY=d,this.maxX=p,this.maxY=f},$t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>n?t.maxY:n},$t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,n=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=n&&r<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}},$t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,n=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=n&&r<=o){var s=this.minX,a=this.minY,h=this.maxX,u=this.maxY;this.minX=i<s?i:s,this.minY=r<a?r:a,this.maxX=n>h?n:h,this.maxY=o>u?o:u}};var te=function(t){function e(){t.call(this),this.tempDisplayObjectParent=null,this.transform=new Yt,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new $t,this._boundsID=0,this._lastBoundsID=-1,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._destroyed=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={_tempDisplayObjectParent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},worldTransform:{configurable:!0},localTransform:{configurable:!0},position:{configurable:!0},scale:{configurable:!0},pivot:{configurable:!0},skew:{configurable:!0},rotation:{configurable:!0},worldVisible:{configurable:!0},mask:{configurable:!0}};return i._tempDisplayObjectParent.get=function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent},e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new zt),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new zt),t=this._localBoundsRect);var r=this.getBounds(!1,t);return this.parent=i,this.transform=e,r},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,r){return e&&(t=e.toGlobal(t,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.render=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,r,n,o,s,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=o,this.skew.y=s,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},i.x.get=function(){return this.position.x},i.x.set=function(t){this.transform.position.x=t},i.y.get=function(){return this.position.y},i.y.set=function(t){this.transform.position.y=t},i.worldTransform.get=function(){return this.transform.worldTransform},i.localTransform.get=function(){return this.transform.localTransform},i.position.get=function(){return this.transform.position},i.position.set=function(t){this.transform.position.copyFrom(t)},i.scale.get=function(){return this.transform.scale},i.scale.set=function(t){this.transform.scale.copyFrom(t)},i.pivot.get=function(){return this.transform.pivot},i.pivot.set=function(t){this.transform.pivot.copyFrom(t)},i.skew.get=function(){return this.transform.skew},i.skew.set=function(t){this.transform.skew.copyFrom(t)},i.rotation.get=function(){return this.transform.rotation},i.rotation.set=function(t){this.transform.rotation=t},i.worldVisible.get=function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},i.mask.get=function(){return this._mask},i.mask.set=function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)},Object.defineProperties(e.prototype,i),e}(O.a);te.prototype.displayObjectUpdateTransform=te.prototype.updateTransform;var ee=function(t){function e(){t.call(this),this.children=[]}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0}};return e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var r=0;r<i;r++)this.addChild(e[r]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),r=this.getChildIndex(e);this.children[i]=e,this.children[r]=t,this.onChildrenChange(i<r?i:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);C()(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments,i=arguments.length;if(i>1)for(var r=0;r<i;r++)this.removeChild(e[r]);else{var n=this.children.indexOf(t);if(-1===n)return null;t.parent=null,t.transform._parentID=-1,C()(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,C()(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0);var i,r=t,n="number"==typeof e?e:this.children.length,o=n-r;if(o>0&&o<=n){i=this.children.splice(r,o);for(var s=0;s<i.length;++s)i[s].parent=null,i[s].transform&&(i[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var a=0;a<i.length;++a)i[a].emit("removed",this);return i}if(0===o&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters)this.renderAdvanced(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}i&&t.mask.push(this,this._mask),this._render(t);for(var n=0,o=this.children.length;n<o;n++)this.children[n].render(t);t.batch.flush(),i&&t.mask.pop(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var n=0;n<r.length;++n)r[n].destroy(e)},i.width.get=function(){return this.scale.x*this.getLocalBounds().width},i.width.set=function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},i.height.get=function(){return this.scale.y*this.getLocalBounds().height},i.height.set=function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},Object.defineProperties(e.prototype,i),e}(te);ee.prototype.containerUpdateTransform=ee.prototype.updateTransform;
/*!
 * @pixi/accessibility - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var ie={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};Z.delayMixin(te.prototype,ie);var re=function(t){!P.a.tablet&&!P.a.phone||navigator.isCocoonJS||this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2,this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessibility=!1,window.addEventListener("keydown",this._onKeyDown,!1)};re.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessibility=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},re.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},re.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessibility&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},re.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},re.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,r=this.div;r.style.left=t.left+"px",r.style.top=t.top+"px",r.style.width=this.renderer.width+"px",r.style.height=this.renderer.height+"px";for(var n=0;n<this.children.length;n++){var o=this.children[n];if(o.renderId!==this.renderId)o._accessibleActive=!1,C()(this.children,n,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,n--,0===this.children.length&&this.deactivate();else{r=o._accessibleDiv;var s=o.hitArea,a=o.worldTransform;o.hitArea?(r.style.left=(a.tx+s.x*a.a)*e+"px",r.style.top=(a.ty+s.y*a.d)*i+"px",r.style.width=s.width*a.a*e+"px",r.style.height=s.height*a.d*i+"px"):(s=o.getBounds(),this.capHitArea(s),r.style.left=s.x*e+"px",r.style.top=s.y*i+"px",r.style.width=s.width*e+"px",r.style.height=s.height*i+"px",r.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(r.title=o.accessibleTitle),r.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&r.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}},re.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},re.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2,e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},re.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},re.prototype._onFocus=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},re.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live","off")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},re.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},re.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},re.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null};var ne=i(1),oe=i.n(ne);
/*!
 * @pixi/ticker - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
W.TARGET_FPMS=.06;var se={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50},ae=function(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.fn=t,this.context=e,this.priority=i,this.once=r,this.next=null,this.previous=null,this._destroyed=!1};ae.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},ae.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},ae.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},ae.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e};var he=function(){var t=this;this._head=new ae(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/W.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}},ue={FPS:{configurable:!0},minFPS:{configurable:!0}},le={shared:{configurable:!0}};he.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},he.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},he.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},he.prototype.add=function(t,e,i){return void 0===i&&(i=se.NORMAL),this._addListener(new ae(t,e,i))},he.prototype.addOnce=function(t,e,i){return void 0===i&&(i=se.NORMAL),this._addListener(new ae(t,e,i,!0))},he.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},he.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},he.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},he.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},he.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},he.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*W.TARGET_FPMS*this.speed;for(var i=this._head,r=i.next;r;)r=r.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},ue.FPS.get=function(){return 1e3/this.elapsedMS},ue.minFPS.get=function(){return 1e3/this._maxElapsedMS},ue.minFPS.set=function(t){var e=Math.min(Math.max(0,t)/1e3,W.TARGET_FPMS);this._maxElapsedMS=1/e},le.shared.get=function(){if(!he._shared){var t=he._shared=new he;t.autoStart=!0,t._protected=!0}return he._shared},Object.defineProperties(he.prototype,ue),Object.defineProperties(he,le);var ce=function(){};ce.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,se.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?he.shared:new he,t.autoStart&&this.start()},ce.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}};var de=i(2),pe=i.n(de),fe=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new oe.a("setRealSize",2),this.onUpdate=new oe.a("update")},ge={valid:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};fe.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),(this._width||this._height)&&this.onResize.run(this._width,this._height)},fe.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t)},fe.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.run(t,e))},ge.valid.get=function(){return!!this._width&&!!this._height},fe.prototype.update=function(){this.destroyed||this.onUpdate.run()},fe.prototype.load=function(){return Promise.resolve()},ge.width.get=function(){return this._width},ge.height.get=function(){return this._height},fe.prototype.upload=function(t,e,i){return!1},fe.prototype.style=function(t,e,i){return!1},fe.prototype.dispose=function(){},fe.prototype.destroy=function(){this.destroyed||(this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null,this.destroyed=!0,this.dispose())},Object.defineProperties(fe.prototype,ge);var ye=function(t){function e(e){t.call(this,e.width,e.height),this.source=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.crossOrigin=function(t,e,i){void 0===i&&0!==e.indexOf("data:")?t.crossOrigin=St(e):!1!==i&&(t.crossOrigin="string"==typeof i?i:"anonymous")},e.prototype.upload=function(t,e,i,r){var n=t.gl,o=e.realWidth,s=e.realHeight;return r=r||this.source,n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),i.width===o&&i.height===s?n.texSubImage2D(n.TEXTURE_2D,0,0,0,e.format,e.type,r):(i.width=o,i.height=s,n.texImage2D(n.TEXTURE_2D,0,e.format,e.format,e.type,r)),!0},e.prototype.dispose=function(){this.source=null},e}(fe),ve=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLImageElement)){var r=new Image;t.crossOrigin(r,e,i.crossorigin),r.src=e,e=r}t.call(this,e),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=!1!==i.createBitmap&&W.CREATE_IMAGE_BITMAP&&!!window.createImageBitmap,this.premultiplyAlpha=!1!==i.premultiplyAlpha,this.bitmap=null,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(t){var e=this;return void 0!==t&&(this.createBitmap=t),this._load?this._load:(this._load=new Promise(function(t){e.url=e.source.src;var i=e.source,r=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?r():i.onload=r}),this._load)},e.prototype.process=function(){var t=this;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(this.source,0,0,this.source.width,this.source.height,{premultiplyAlpha:this.premultiplyAlpha?"premultiply":"none"}).then(function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))}),this._process):Promise.resolve(this)},e.prototype.upload=function(e,i,r){if(i.premultiplyAlpha=this.premultiplyAlpha,this.createBitmap){if(!this.bitmap&&(this.process(),!this.bitmap))return!1;t.prototype.upload.call(this,e,i,r,this.bitmap),this.preserveBitmap||(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}else t.prototype.upload.call(this,e,i,r);return!0},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e}(ye),me=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.test=function(t){return t instanceof HTMLCanvasElement},e}(ye),_e=function(t){function e(e,i){if(i=i||{},!(e instanceof HTMLVideoElement)){var r=document.createElement("video");r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),t.crossOrigin(r,e[0].src||e[0],i.crossorigin);for(var n=0;n<e.length;++n){var o=document.createElement("source"),s=e[n],a=s.src,h=s.mime;a=a||e[n],h=h||"video/"+a.substr(a.lastIndexOf(".")+1),o.src=a,o.type=h,r.appendChild(o)}e=r}t.call(this,e),this._autoUpdate=!0,this._isAutoUpdating=!1,this.autoPlay=!1!==i.autoPlay,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),!1!==i.autoLoad&&this.load()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={autoUpdate:{configurable:!0}};return e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay)),this._load=new Promise(function(i){t.valid?i(t):(t._resolve=i,e.load())}),this._load},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(he.shared.add(this.update,this),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(he.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isAutoUpdating&&he.shared.remove(this.update,this),this.source&&(this.source.pause(),this.source.src="",this.source.load()),t.prototype.dispose.call(this)},i.autoUpdate.get=function(){return this._autoUpdate},i.autoUpdate.set=function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(he.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(he.shared.add(this.update,this),this._isAutoUpdating=!0))},e.test=function(t,i){return t instanceof HTMLVideoElement||e.TYPES.indexOf(i)>-1},Object.defineProperties(e.prototype,i),e}(ye);_e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];var xe=function(t){function e(e,i){i=i||{},t.call(this,document.createElement("canvas")),this.svg=e,this.scale=i.scale||1,this._resolve=null,this._load=null,!1!==i.autoLoad&&this.load()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;return this._load?this._load:(this._load=new Promise(function(e){t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())&&(t.svg="data:image/svg+xml;utf8,"+t.svg);var i=wt(t.svg);i?t._loadDataUri(i):t._loadXhr()}),this._load)},e.prototype._loadDataUri=function(t){var e;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadString(e)},e.prototype._loadXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadString(e.response)},e.open("GET",this.svg,!0),e.send()},e.prototype._loadString=function(t){var i=e.getSize(t),r=new Image;r.src="data:image/svg+xml,"+t;var n=i.width,o=i.height;if(!n||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this._width=Math.round(n*this.scale),this._height=Math.round(o*this.scale);var s=this.source;s.width=this._width,s.height=this._height,s._pixiId="canvas_"+dt(),s.getContext("2d").drawImage(r,0,0,n,o,0,0,this.width,this.height),this._resolve(),this._resolve=null},e.getSize=function(t){var i=e.SVG_SIZE.exec(t),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&0===t.indexOf("data:image/svg+xml")},e}(ye);xe.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var be=function(t){function e(e,i){var r=i||{},n=r.width,o=r.height;if(!n||!o)throw new Error("BufferResource width or height invalid");t.call(this,n,o),this.data=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.upload=function(t,e,i){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),i.width===e.width&&i.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(i.width=e.width,i.height=e.height,r.texImage2D(e.target,0,e.format,e.width,e.height,0,e.format,e.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(fe),Te={scaleMode:X.NEAREST,format:B.RGBA,premultiplyAlpha:!1},Ee=function(t){function e(e,i){void 0===e&&(e=null),void 0===i&&(i=null),t.call(this);var r=(i=i||{}).premultiplyAlpha,n=i.mipmap,o=i.scaleMode,s=i.width,a=i.height,h=i.wrapMode,u=i.format,l=i.type,c=i.target,d=i.resolution,p=i.resourceOptions;!e||e instanceof fe||((e=Ae(e,p)).internal=!0),this.width=s||0,this.height=a||0,this.resolution=d||W.RESOLUTION,this.mipmap=void 0!==n?n:W.MIPMAP_TEXTURES,this.wrapMode=h||W.WRAP_MODE,this.scaleMode=void 0!==o?o:W.SCALE_MODE,this.format=u||B.RGBA,this.type=l||k.UNSIGNED_BYTE,this.target=c||U.TEXTURE_2D,this.premultiplyAlpha=!1!==r,this.uid=dt(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=s>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this.setResource(e)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={realWidth:{configurable:!0},realHeight:{configurable:!0}};return i.realWidth.get=function(){return this.width*this.resolution},i.realHeight.get=function(){return this.height*this.resolution},e.prototype.setStyle=function(t,e){var i;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,i=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,i){return this.resolution=i||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=pe.a.isPow2(this.realWidth)&&pe.a.isPow2(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update")),this._refreshPOT(),this)},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete yt[this.cacheId],delete gt[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.from=function(t,i){var r=null;"string"==typeof t?r=t:(t._pixiId||(t._pixiId="pixiid_"+dt()),r=t._pixiId);var n=yt[r];return n||((n=new e(t,i)).cacheId=r,e.addToCache(n,r)),n},e.fromBuffer=function(t,i,r,n){t=t||new Float32Array(i*r*4);var o=new be(t,{width:i,height:r}),s=t instanceof Float32Array?k.FLOAT:k.UNSIGNED_BYTE;return new e(o,Object.assign(Te,n||{width:i,height:r,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),yt[e]&&console.warn("BaseTexture added to the cache with an id ["+e+"] that already had an entry"),yt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=yt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete yt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete yt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperties(e.prototype,i),e}(O.a),we=function(t){function e(e,i){var r;i=i||{};var n=e;Array.isArray(e)&&(r=e,n=e.length),t.call(this,i.width,i.height),this.items=[],this.itemDirtyIds=[];for(var o=0;o<n;o++){var s=new Ee;this.items.push(s),this.itemDirtyIds.push(-1)}if(this.length=n,this._load=null,r)for(var a=0;a<n;a++)this.addResourceAt(Ae(r[a],i),a)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=U.TEXTURE_2D_ARRAY;for(var i=0;i<this.length;i++)this.items[i].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map(function(t){return t.resource}),i=e.map(function(t){return t.load()});return this._load=Promise.all(i).then(function(){var i=e[0],r=i.width,n=i.height;return t.resize(r,n),Promise.resolve(t)}),this._load},e.prototype.upload=function(t,e,i){var r=this.length,n=this.itemDirtyIds,o=this.items,s=t.gl;i.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,r,0,e.format,e.type,null);for(var a=0;a<r;a++){var h=o[a];n[a]<h.dirtyId&&(n[a]=h.dirtyId,h.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,a,h.resource.width,h.resource.height,1,e.format,e.type,h.resource.source))}return!0},e}(fe),Se=function(t){function e(i,r){if(t.call(this,i,r),this.length!==e.SIDES)throw new Error("Invalid length. Got "+this.length+", expected 6")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=U.TEXTURE_CUBE_MAP},e.prototype.upload=function(t,i,r){for(var n=this.itemDirtyIds,o=0;o<e.SIDES;o++){var s=this.items[o];n[o]<s.dirtyId&&(n[o]=s.dirtyId,s.valid&&s.resource.upload(t,s,r))}return!0},e}(we);Se.SIDES=6;var Pe=[ve,me,_e,xe,be,Se,we];function Ae(t,e){if(!t)return null;var i="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(i=r[1].toLowerCase())}for(var n=Pe.length-1;n>=0;--n){var o=Pe[n];if(o.test&&o.test(t,i))return new o(t,e)}return new ve(t,e)}var Ce={Resource:fe,ArrayResource:we,BaseImageResource:ye,BufferResource:be,CanvasResource:me,CubeResource:Se,ImageResource:ve,SVGResource:xe,VideoResource:_e,INSTALLED:Pe,autoDetectResource:Ae},De=function(t){this.renderer=t,this.renderer.runners.contextChange.add(this)};De.prototype.contextChange=function(){},De.prototype.destroy=function(){this.renderer.runners.contextChange.remove(this),this.renderer=null};var Oe=function(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFrameBuffers={}},Ie={colorTexture:{configurable:!0}};Ie.colorTexture.get=function(){return this.colorTextures[0]},Oe.prototype.addColorTexture=function(t,e){return this.colorTextures[t||0]=e||new Ee(null,{scaleMode:0,resolution:1,mipmap:!1,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},Oe.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Ee(null,{scaleMode:0,resolution:1,width:this.width,height:this.height,mipmap:!1,format:B.DEPTH_COMPONENT,type:k.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},Oe.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},Oe.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},Oe.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++)this.colorTextures[i].setSize(t,e);this.depthTexture&&this.depthTexture.setSize(t,e)}},Object.defineProperties(Oe.prototype,Ie);var Me=function(t){function e(e){"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]});t.call(this,null,e);var i=e||{},r=i.width,n=i.height;this.mipmap=!1,this.width=Math.ceil(r)||100,this.height=Math.ceil(n)||100,this.valid=!0,this._canvasRenderTarget=null,this.clearColor=[0,0,0,0],this.frameBuffer=new Oe(this.width*this.resolution,this.height*this.resolution).addColorTexture(0,this).enableStencil(),this.stencilMaskStack=[],this.filterStack=[{}]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.frameBuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(Ee),Re=function(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)};Re.prototype.set=function(t,e,i){var r=e.width,n=e.height;if(i){var o=t.width/2/r,s=t.height/2/n,a=t.x/r+o,h=t.y/n+s;i=Ht.add(i,Ht.NW),this.x0=a+o*Ht.uX(i),this.y0=h+s*Ht.uY(i),i=Ht.add(i,2),this.x1=a+o*Ht.uX(i),this.y1=h+s*Ht.uY(i),i=Ht.add(i,2),this.x2=a+o*Ht.uX(i),this.y2=h+s*Ht.uY(i),i=Ht.add(i,2),this.x3=a+o*Ht.uX(i),this.y3=h+s*Ht.uY(i)}else this.x0=t.x/r,this.y0=t.y/n,this.x1=(t.x+t.width)/r,this.y1=t.y/n,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/n,this.x3=t.x/r,this.y3=(t.y+t.height)/n;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535};var Fe=function(t){function e(i,r,n,o,s){if(t.call(this),this.noFrame=!1,r||(this.noFrame=!0,r=new zt(0,0,1,1)),i instanceof e&&(i=i.baseTexture),this.baseTexture=i,this._frame=r,this.trim=o,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),!0===s)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");i.valid?(this.noFrame&&(r=new zt(0,0,i.width,i.height),i.on("update",this.onBaseTextureUpdated,this)),this.frame=r):i.once("loaded",this.onBaseTextureUpdated,this),this._updateID=0,this.textureCacheIds=[]}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={frame:{configurable:!0},rotate:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this.noFrame?this.frame=new zt(0,0,t.width,t.height):this.frame=this._frame,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(gt[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype.updateUvs=function(){this._uvs||(this._uvs=new Re),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,i){void 0===i&&(i={});var r=null;"string"==typeof t?(r=t,i.resolution||(i.resolution=Pt(t))):(t._pixiId||(t._pixiId="pixiid_"+dt()),r=t._pixiId);var n=gt[r];return n||((n=new e(new Ee(t,i))).baseTexture.cacheId=r,Ee.addToCache(n.baseTexture,r),e.addToCache(n,r)),n},e.fromBuffer=function(t,i,r,n){return new e(Ee.fromBuffer(t,i,r,n))},e.fromLoader=function(t,i,r){var n=new ve(t);n.url=i;var o=new e(new Ee(n,{scaleMode:W.SCALE_MODE,resolution:Pt(i)}));return r||(r=i),Ee.addToCache(o.baseTexture,r),e.addToCache(o,r),r!==i&&(Ee.addToCache(o.baseTexture,i),e.addToCache(o,i)),o},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),gt[e]&&console.warn("Texture added to the cache with an id ["+e+"] that already had an entry"),gt[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=gt[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete gt[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)gt[t.textureCacheIds[r]]===t&&delete gt[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},i.frame.get=function(){return this._frame},i.frame.set=function(t){this._frame=t,this.noFrame=!1;var e=t.x,i=t.y,r=t.width,n=t.height,o=e+r>this.baseTexture.width,s=i+n>this.baseTexture.height;if(o||s){var a=o&&s?"and":"or",h="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,u="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+h+" "+a+" "+u)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},i.rotate.get=function(){return this._rotate},i.rotate.set=function(t){this._rotate=t,this.valid&&this.updateUvs()},i.width.get=function(){return this.orig.width},i.height.get=function(){return this.orig.height},Object.defineProperties(e.prototype,i),e}(O.a);function Le(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}Fe.EMPTY=new Fe(new Ee),Le(Fe.EMPTY),Le(Fe.EMPTY.baseTexture),Fe.WHITE=function(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new Fe(new Ee(new me(t)))}(),Le(Fe.WHITE),Le(Fe.WHITE.baseTexture);var Ne=function(t){function e(e,i){var r=null;if(!(e instanceof Me)){var n=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4];console.warn("Please use RenderTexture.create("+n+", "+o+") instead of the ctor directly."),r=arguments[0],i=null,e=new Me({width:n,height:o,scaleMode:s,resolution:a})}t.call(this,e,i),this.legacyRenderer=r,this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.resize=function(t,e,i){void 0===i&&(i=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i&&this.baseTexture.resize(t,e),this.updateUvs()},e.create=function(t){return"number"==typeof t&&(t={width:t,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new e(new Me(t))},e}(Fe),Be=function(t,e,i,r,n,o,s){void 0===i&&(i=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=n,this.start=o,this.instance=s};Be.prototype.destroy=function(){this.buffer=null},Be.from=function(t,e,i,r,n){return new Be(t,e,i,r,n)};var Ue=Be,ke=0,Xe=function(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=ke++};function Ge(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}Xe.prototype.update=function(t){this.data=t||this.data,this._updateID++},Xe.prototype.destroy=function(){for(var t=0;t<this._glBuffers.length;t++)this._glBuffers[t].destroy();this.data=null},Xe.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new Xe(t)};var je={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var He={5126:4,5123:2,5121:1},Ye=0,We={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},ze=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Ye++,this.instanced=!1,this.instanceCount=1,this._size=null};ze.prototype.addAttribute=function(t,e,i,r,n,o,s,a){if(void 0===r&&(r=!1),void 0===a&&(a=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e.data||(e instanceof Array&&(e=new Float32Array(e)),e=new Xe(e));var h=t.split("|");if(h.length>1){for(var u=0;u<h.length;u++)this.addAttribute(h[u],e,i,r,n);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new Ue(l,i,r,n,o,s,a),this.instanced=this.instanced||a,this},ze.prototype.getAttribute=function(t){return this.buffers[this.attributes[t].buffer]},ze.prototype.addIndex=function(t){return t.data||(t instanceof Array&&(t=new Uint16Array(t)),t=new Xe(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},ze.prototype.getIndex=function(){return this.indexBuffer},ze.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],i=[],r=new Xe;for(t in this.attributes){var n=this.attributes[t],o=this.buffers[n.buffer];e.push(o.data),i.push(n.size*He[n.type]/4),n.buffer=0}for(r.data=function(t,e){for(var i=0,r=0,n={},o=0;o<t.length;o++)r+=e[o],i+=t[o].length;for(var s=new ArrayBuffer(4*i),a=null,h=0,u=0;u<t.length;u++){var l=e[u],c=t[u],d=Ge(c);n[d]||(n[d]=new je[d](s)),a=n[d];for(var p=0;p<c.length;p++)a[(p/l|0)*r+h+p%l]=c[p];h+=l}return new Float32Array(s)}(e,i),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},ze.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},ze.prototype.destroy=function(){for(var t=0;t<this.glVertexArrayObjects.length;t++)this.glVertexArrayObjects[t].destroy();this.glVertexArrayObjects=null;for(var e=0;e<this.buffers.length;e++)this.buffers[e].destroy();this.buffers=null,this.indexBuffer.destroy(),this.attributes=null},ze.prototype.clone=function(){for(var t=new ze,e=0;e<this.buffers.length;e++)t.buffers[e]=new Xe(this.buffers[e].data.slice());for(var i in this.attributes){var r=this.attributes[i];t.attributes[i]=new Ue(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.index=!0),t},ze.merge=function(t){for(var e,i=new ze,r=[],n=[],o=[],s=0;s<t.length;s++){e=t[s];for(var a=0;a<e.buffers.length;a++)n[a]=n[a]||0,n[a]+=e.buffers[a].data.length,o[a]=0}for(var h=0;h<e.buffers.length;h++)r[h]=new(We[Ge(e.buffers[h].data)])(n[h]),i.buffers[h]=new Xe(r[h]);for(var u=0;u<t.length;u++){e=t[u];for(var l=0;l<e.buffers.length;l++)r[l].set(e.buffers[l].data,o[l]),o[l]+=e.buffers[l].data.length}if(i.attributes=e.attributes,e.indexBuffer){i.indexBuffer=i.buffers[e.buffers.indexOf(e.indexBuffer)],i.indexBuffer.index=!0;for(var c=0,d=0,p=0,f=0,g=0;g<e.buffers.length;g++)if(e.buffers[g]!==e.indexBuffer){f=g;break}for(var y in e.attributes){var v=e.attributes[y];(0|v.buffer)===f&&(d+=v.size*He[v.type]/4)}for(var m=0;m<t.length;m++){for(var _=t[m].indexBuffer.data,x=0;x<_.length;x++)i.indexBuffer.data[x+p]+=c;c+=e.buffers[f].data.length/d,p+=_.length}}return i};var Ve=function(t){function e(){t.call(this),this.addAttribute("aVertexPosition",[0,0,1,0,1,1,0,1]).addIndex([0,1,3,2])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ze),qe=function(t){function e(){t.call(this),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Xe(this.vertices),this.uvBuffer=new Xe(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,e){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+e.width/t.width,this.uvs[3]=r,this.uvs[4]=i+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=i,this.uvs[7]=r+e.height/t.height,i=e.x,r=e.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+e.width,this.vertices[3]=r,this.vertices[4]=i+e.width,this.vertices[5]=r+e.height,this.vertices[6]=i,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(ze);var Ke=0,Ze=function(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ke++,this.static=!!e};Ze.prototype.update=function(){this.dirtyId++},Ze.prototype.add=function(t,e,i){this.uniforms[t]=new Ze(e,i)},Ze.from=function(t,e){return new Ze(t,e)};var Je=function(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new zt,this.destinationFrame=new zt,this.filters=[]};Je.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null};var Qe=function(t){function e(e){t.call(this,e),this.texturePool={},this.statePool=[],this.quad=new Ve,this.quadUv=new qe,this.tempRect=new zt,this.activeState={},this.globalUniforms=new Ze({outputFrame:this.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this._pixelsWidth=e.view.width,this._pixelsHeight=e.view.height}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){for(var i=this.renderer,r=this.renderer.renderTexture.defaultFilterStack,n=this.statePool.pop()||new Je,o=e[0].resolution,s=e[0].padding,a=e[0].autoFit,h=e[0].legacy,u=1;u<e.length;u++){var l=e[u];o=Math.min(o,l.resolution),s=Math.max(s,l.padding),a=a||l.autoFit,h=h||l.legacy}r.push(n),n.resolution=o,n.legacy=h,n.target=t,n.sourceFrame=t.filterArea||t.getBounds(!0),n.sourceFrame.pad(s),a&&n.sourceFrame.fit(this.renderer.renderTexture.destinationFrame),n.sourceFrame.ceil(o),n.renderTexture=this.getOptimalFilterTexture(n.sourceFrame.width,n.sourceFrame.height,o),n.filters=e,n.destinationFrame.width=n.renderTexture.width,n.destinationFrame.height=n.renderTexture.height,n.renderTexture.filterFrame=n.sourceFrame,i.renderTexture.bind(n.renderTexture,n.sourceFrame),i.renderTexture.clear()},e.prototype.pop=function(){var t=this.renderer.renderTexture.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var n=r.inputSize,o=r.inputPixel,s=r.inputClamp;if(n[0]=e.destinationFrame.width,n[1]=e.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],o[0]=n[0]*e.resolution,o[1]=n[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*n[2]-.5*o[2],s[3]=e.sourceFrame.height*n[3]-.5*o[3],e.legacy){var a=r.filterArea;a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=e.sourceFrame.x,a[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var h=t[t.length-1];if(1===i.length)i[0].apply(this,e.renderTexture,h.renderTexture,!1,e),this.returnFilterTexture(e.renderTexture);else{var u=e.renderTexture,l=this.getOptimalFilterTexture(u.width,u.height,e.resolution);l.filterFrame=u.filterFrame;var c=0;for(c=0;c<i.length-1;++c){i[c].apply(this,u,l,!0,e);var d=u;u=l,l=d}i[c].apply(this,u,h.renderTexture,!1,e),this.returnFilterTexture(u),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},e.prototype.applyFilter=function(t,e,i,r){var n=this.renderer;n.renderTexture.bind(i,i?i.filterFrame:null),r&&n.renderTexture.clear(),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,n.state.setState(t.state),n.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(N.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(N.TRIANGLE_STRIP))},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.activeState;return function(t,e,i){var r=t.identity();return r.translate(e.x/i.width,e.y/i.height),r.scale(i.width,i.height),r}(t,e.sourceFrame,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState;return function(t,e,i,r){var n=r._texture.orig,o=t.set(i.width,0,0,i.height,e.x,e.y),s=r.worldTransform.copyTo(Ft.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/n.width,1/n.height),o.translate(r.anchor.x,r.anchor.y),o}(t,i.sourceFrame,i.destinationFrame,e)},e.prototype.destroy=function(t){void 0===t&&(t=!1),t?this.texturePool={}:this.emptyPool()},e.prototype.getOptimalFilterTexture=function(t,e,i){void 0===i&&(i=1);var r="screen";e*=i,(t*=i)===this._pixelsWidth&&e===this._pixelsHeight||(r=(65535&(t=pe.a.nextPow2(t)))<<16|65535&(e=pe.a.nextPow2(e))),this.texturePool[r]||(this.texturePool[r]=[]);var n=this.texturePool[r].pop();return n||(n=Ne.create({width:t/i,height:e/i,resolution:i})),n.filterPoolKey=r,n},e.prototype.getFilterTexture=function(t){var e=this.activeState.renderTexture,i=this.getOptimalFilterTexture(e.width,e.height,t||e.baseTexture.resolution);return i.filterFrame=e.filterFrame,i},e.prototype.returnFilterTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},e.prototype.emptyPool=function(){for(var t in this.texturePool){var e=this.texturePool[t];if(e)for(var i=0;i<e.length;i++)e[i].destroy(!0)}this.texturePool={}},e.prototype.resize=function(){var t=this.texturePool.screen;if(t)for(var e=0;e<t.length;e++)t[e].destroy(!0);this.texturePool.screen=[],this._pixelsWidth=this.renderer.view.width,this._pixelsHeight=this.renderer.view.height},e}(De),$e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(De),ti=function(t){function e(e){t.call(this,e),this.emptyRenderer=new $e(e),this.currentRenderer=this.emptyRenderer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.renderer.state.setState(t.state),this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e}(De);W.PREFER_ENV=R.WEBGL2;var ei=0,ii=function(t){function e(e){t.call(this,e),this.webGLVersion=1,this.extensions={},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={isLost:{configurable:!0}};return i.isLost.get=function(){return!this.gl||this.gl.isContextLost()},e.prototype.contextChange=function(t){this.gl=t,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=ei++,this.renderer.runners.contextChange.run(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var i;if(W.PREFER_ENV>=R.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support webGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),i},e.prototype.getExtensions=function(){var t=this.gl;1===this.webGLVersion&&Object.assign(this.extensions,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBKIT_WEBGL_depth_texture"),floatTexture:t.getExtension("OES_texture_float"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.run(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.gl.flush()},e.prototype.validateContext=function(t){t.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")},Object.defineProperties(e.prototype,i),e}(De),ri=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={size:{configurable:!0}};return e.prototype.contextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=null,this.viewport=new zt,this.drawBufferExtension=this.renderer.context.extensions.drawBuffers},e.prototype.bind=function(t,e){var i=this.gl;if(this.current=t,t){var r=t.glFrameBuffers[this.CONTEXT_UID]||this.initFramebuffer(t);i.bindFramebuffer(i.FRAMEBUFFER,r.framebuffer),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var n=0;n<t.colorTextures.length;n++)t.colorTextures[n].texturePart?this.renderer.texture.unbind(t.colorTextures[n].texture):this.renderer.texture.unbind(t.colorTextures[n]);t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else i.bindFramebuffer(i.FRAMEBUFFER,null),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,i,r){var n=this.viewport;n.width===i&&n.height===r&&n.x===t&&n.y===e||(n.x=t,n.y=e,n.width=i,n.height=r,this.gl.viewport(t,e,i,r))},i.size.get=function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},e.prototype.clear=function(t,e,i,r){var n=this.gl;n.clearColor(t,e,i,r),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},e.prototype.initFramebuffer=function(t){var e={framebuffer:this.gl.createFramebuffer(),stencil:null,dirtyId:0,dirtyFormat:0,dirtySize:0};return t.glFrameBuffers[this.CONTEXT_UID]=e,e},e.prototype.resizeFramebuffer=function(t){var e=this.gl;(t.stencil||t.depth)&&(e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height))},e.prototype.updateFramebuffer=function(t){var e=this.gl,i=t.glFrameBuffers[this.CONTEXT_UID],r=t.colorTextures.length;this.drawBufferExtension||(r=Math.min(r,1));for(var n=[],o=0;o<r;o++){var s=t.colorTextures[o];s.texturePart?(this.renderer.texture.bind(s.texture,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_CUBE_MAP_NEGATIVE_X+s.side,s.texture._glTextures[this.CONTEXT_UID].texture,0)):(this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+o,e.TEXTURE_2D,s._glTextures[this.CONTEXT_UID].texture,0)),n.push(e.COLOR_ATTACHMENT0+o)}if((this.drawBufferExtension&&n.length>1&&this.drawBufferExtension.drawBuffersWEBGL(n),t.depthTexture)&&this.renderer.context.extensions.depthTexture){var a=t.depthTexture;this.renderer.texture.bind(a,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a._glTextures[this.CONTEXT_UID].texture,0)}(t.stencil||t.depth)&&(i.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height))},Object.defineProperties(e.prototype,i),e}(De),ni=function(t){this.buffer=t,this.updateID=-1,this.byteLength=-1},oi={5126:4,5123:2,5121:1},si=function(t){function e(e){t.call(this,e),this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.cache={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,!t.createVertexArray){var e=this.renderer.context.extensions.vertexArrayObject;W.PREFER_ENV===R.WEBGL_LEGACY&&(e=null),e?(t.createVertexArray=function(){return e.createVertexArrayOES()},t.bindVertexArray=function(t){return e.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return e.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){},t.bindVertexArray=function(){},t.deleteVertexArray=function(){})}if(!t.vertexAttribDivisor){var i=t.getExtension("ANGLE_instanced_arrays");i?(t.vertexAttribDivisor=function(t,e){return i.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,r,n,o){return i.drawElementsInstancedANGLE(t,e,r,n,o)},t.drawArraysInstanced=function(t,e,r,n){return i.drawArraysInstancedANGLE(t,e,r,n)}):this.hasInstance=!1}},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID];r||(t.glVertexArrayObjects[this.CONTEXT_UID]=r={});var n=r[e.program.id]||this.initGeometryVao(t,e.program);this._activeGeometry=t,this._activeVao!==n&&(this._activeVao=n,this.hasVao?i.bindVertexArray(n):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,i=0;i<t.buffers.length;i++){var r=t.buffers[i],n=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==n.updateID){n.updateID=r._updateID;var o=r.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER,s=r.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;e.bindBuffer(o,n.buffer),n.byteLength>=r.data.byteLength?e.bufferSubData(o,0,r.data):(n.byteLength=r.data.byteLength,e.bufferData(o,r.data,s))}}},e.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,n=[t.id];for(var o in i)r[o]&&n.push(o);return n.join("-")},e.prototype.initGeometryVao=function(t,e){this.checkCompatibility(t,e);var i=this.gl,r=this.CONTEXT_UID,n=this.getSignature(t,e);if(this.cache[n]){var o=this.cache[n];return t.glVertexArrayObjects[this.CONTEXT_UID][e.id]=o,o}var s=t.buffers,a=t.attributes,h={},u={};for(var l in s)h[l]=0,u[l]=0;for(var c in a)!a[c].size&&e.attributeData[c]&&(a[c].size=e.attributeData[c].size),h[a[c].buffer]+=a[c].size*oi[a[c].type];for(var d in a){var p=a[d],f=p.size;void 0===p.stride&&(h[p.buffer]===f*oi[p.type]?p.stride=0:p.stride=h[p.buffer]),void 0===p.start&&(p.start=u[p.buffer],u[p.buffer]+=f*oi[p.type])}for(var g=0;g<s.length;g++){var y=s[g];y._glBuffers[r]||(y._glBuffers[r]=new ni(i.createBuffer()))}var v=i.createVertexArray();return i.bindVertexArray(v),this.activateVao(t,e),i.bindVertexArray(null),t.glVertexArrayObjects[this.CONTEXT_UID][e.id]=v,v},e.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,n=t.buffers,o=t.attributes;t.indexBuffer&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var s=null;for(var a in o){var h=o[a],u=n[h.buffer]._glBuffers[r];if(e.attributeData[a]){s!==u&&(i.bindBuffer(i.ARRAY_BUFFER,u.buffer),s=u);var l=e.attributeData[a].location;if(i.enableVertexAttribArray(l),i.vertexAttribPointer(l,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,i,r){var n=this.gl,o=this._activeGeometry;return o.indexBuffer?o.instanced?n.drawElementsInstanced(t,e||o.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(i||0),r||1):n.drawElements(t,e||o.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(i||0)):o.instanced?n.drawArraysInstanced(t,i,e||o.getSize(),r||1):n.drawArrays(t,i,e||o.getSize()),this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(De);function ai(t,e,i,r){var n=hi(t,t.VERTEX_SHADER,e),o=hi(t,t.FRAGMENT_SHADER,i),s=t.createProgram();if(t.attachShader(s,n),t.attachShader(s,o),r)for(var a in r)t.bindAttribLocation(s,r[a],a);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",t.getProgramParameter(s,t.VALIDATE_STATUS)),console.error("gl.getError()",t.getError()),""!==t.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(s)),t.deleteProgram(s),s=null),t.deleteShader(n),t.deleteShader(o),s}function hi(t,e,i){var r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:(console.warn(i),console.error(t.getShaderInfoLog(r)),null)}function ui(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return li(2*e);case"bvec3":return li(3*e);case"bvec4":return li(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}function li(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e}function ci(t,e){return"precision"!==(t=t.trim()).substring(0,9)&&"#"!==t.substring(0,1)?"precision "+e+" float;\n"+t:t}var di={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function pi(t){return di[t]}var fi=null,gi={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray"};function yi(t,e){if(!fi){var i=Object.keys(gi);fi={};for(var r=0;r<i.length;++r){var n=i[r];fi[t[n]]=gi[n]}}return fi[e]}var vi={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},mi={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var _i=null;var xi=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function bi(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=e.createShader(e.FRAGMENT_SHADER);;){var r=xi.replace(/%forloop%/gi,Ti(t));if(e.shaderSource(i,r),e.compileShader(i),e.getShaderParameter(i,e.COMPILE_STATUS))break;t=t/2|0}return t}function Ti(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}var Ei=0,wi=function t(e,i){this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.vertexSrc=ci(this.vertexSrc,W.PRECISION_VERTEX),this.fragmentSrc=ci(this.fragmentSrc,W.PRECISION_FRAGMENT),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null,this.id=Ei++},Si={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};wi.prototype.extractData=function(t,e){var i=function(){if(!_i){var t,e=document.createElement("canvas");if(W.PREFER_ENV>=R.WEBGL2&&(t=e.getContext("webgl2",{})),!t){if(!(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{})))throw new Error("This browser does not support webGL. Try using the canvas renderer");t.getExtension("WEBGL_draw_buffers")}return _i=t,t}return _i}();if(i){var r=ai(i,t,e);this.attributeData=this.getAttributeData(r,i),this.uniformData=this.getUniformData(r,i),i.deleteProgram(r)}else this.uniformData={},this.attributeData={}},wi.prototype.getAttributeData=function(t,e){for(var i={},r=[],n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),o=0;o<n;o++){var s=e.getActiveAttrib(t,o),a=yi(e,s.type),h={type:a,name:s.name,size:pi(a),location:0};i[s.name]=h,r.push(h)}r.sort(function(t,e){return t.name>e.name?1:-1});for(var u=0;u<r.length;u++)r[u].location=u;return i},wi.prototype.getUniformData=function(t,e){for(var i={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),n=0;n<r;n++){var o=e.getActiveUniform(t,n),s=o.name.replace(/\[.*?\]/,""),a=o.name.match(/\[.*?\]/,""),h=yi(e,o.type);i[s]={type:h,size:o.size,isArray:a,value:ui(h,o.size)}}return i},Si.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},Si.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},wi.from=function(t,e){var i=t+e,r=ft[i];return r||(ft[i]=r=new wi(t,e)),r},Object.defineProperties(wi,Si);var Pi=function(t,e){for(var i in this.program=t,this.uniformGroup=e?e instanceof Ze?e:new Ze(e):new Ze({}),t.uniformData)this.uniformGroup.uniforms[i]instanceof Array&&(this.uniformGroup.uniforms[i]=new Float32Array(this.uniformGroup.uniforms[i]))},Ai={uniforms:{configurable:!0}};Pi.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},Pi.prototype.destroy=function(){this.uniformGroup=null},Ai.uniforms.get=function(){return this.uniformGroup.uniforms},Pi.from=function(t,e,i){var r=wi.from(t,e);return new Pi(r,i)},Object.defineProperties(Pi.prototype,Ai);var Ci=function(){this.data=0,this.blendMode=0,this.polygonOffset=0,this.blend=!0},Di={blend:{configurable:!0},offsets:{configurable:!0},culling:{configurable:!0},depthTest:{configurable:!0},clockwiseFrontFace:{configurable:!0},blendMode:{configurable:!0},polygonOffset:{configurable:!0}};Di.blend.get=function(){return!!(1&this.data)},Di.blend.set=function(t){!!(1&this.data)!==t&&(this.data^=1)},Di.offsets.get=function(){return!!(2&this.data)},Di.offsets.set=function(t){!!(2&this.data)!==t&&(this.data^=2)},Di.culling.get=function(){return!!(4&this.data)},Di.culling.set=function(t){!!(4&this.data)!==t&&(this.data^=4)},Di.depthTest.get=function(){return!!(8&this.data)},Di.depthTest.set=function(t){!!(8&this.data)!==t&&(this.data^=8)},Di.clockwiseFrontFace.get=function(){return!!(16&this.data)},Di.clockwiseFrontFace.set=function(t){!!(16&this.data)!==t&&(this.data^=16)},Di.blendMode.get=function(){return this._blendMode},Di.blendMode.set=function(t){this.blend=17!==t,this._blendMode=t},Di.polygonOffset.get=function(){return this._polygonOffset},Di.polygonOffset.set=function(t){this.offsets=!!t,this._polygonOffset=t},Object.defineProperties(Ci.prototype,Di);var Oi=function(t){function e(e,i,r){var n=wi.from(e,i);t.call(this,n,r),this.padding=0,this.resolution=W.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0,this.legacy=!!this.program.attributeData.aTextureCoord,this.state=new Ci}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blendMode:{configurable:!0}},r={defaultVertexSrc:{configurable:!0},defaultFragmentSrc:{configurable:!0}};return e.prototype.apply=function(t,e,i,r,n,o){t.applyFilter(this,e,i,r,n,o)},i.blendMode.get=function(){return this.state.blendMode},i.blendMode.set=function(t){this.state.blendMode=t},r.defaultVertexSrc.get=function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord ;\n}\n"},r.defaultFragmentSrc.get=function(){return"varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D filterSampler;\n\nvoid main(void){\n   vec4 masky = texture2D(filterSampler, vFilterCoord);\n   vec4 sample = texture2D(uSampler, vTextureCoord);\n   vec4 color;\n   if(mod(vFilterCoord.x, 1.0) > 0.5)\n   {\n     color = vec4(1.0, 0.0, 0.0, 1.0);\n   }\n   else\n   {\n     color = vec4(0.0, 1.0, 0.0, 1.0);\n   }\n   // gl_FragColor = vec4(mod(vFilterCoord.x, 1.5), vFilterCoord.y,0.0,1.0);\n   gl_FragColor = mix(sample, masky, 0.5);\n   gl_FragColor *= sample.a;\n}\n"},Object.defineProperties(e.prototype,i),Object.defineProperties(e,r),e}(Pi);Oi.SOURCE_KEY_MAP={};var Ii="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Mi="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Ri=new Ft,Fi=function(t,e){this._texture=t,this.mapCoord=new Ft,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===e?.5:e},Li={texture:{configurable:!0}};Li.texture.get=function(){return this._texture},Li.texture.set=function(t){this._texture=t,this._lastTextureID=-1},Fi.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var n=t[r],o=t[r+1];e[r]=n*i.a+o*i.c+i.tx,e[r+1]=n*i.b+o*i.d+i.ty}return e},Fi.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,n=e.trim;n&&(Ri.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(Ri));var o=e.baseTexture,s=this.uClampFrame,a=this.clampMargin/o.resolution,h=this.clampOffset;return s[0]=(e._frame.x+a+h)/o.width,s[1]=(e._frame.y+a+h)/o.height,s[2]=(e._frame.x+e._frame.width-a+h)/o.width,s[3]=(e._frame.y+e._frame.height-a+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,!0},Object.defineProperties(Fi.prototype,Li);var Ni=function(t){function e(e){var i=new Ft;t.call(this,Ii,Mi),e.renderable=!1,this.maskSprite=e,this.maskMatrix=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t,e,i){var r=this.maskSprite,n=this.maskSprite.texture;n.valid&&(n.transform||(n.transform=new Fi(n,0)),n.transform.update(),this.uniforms.npmAlpha=n.baseTexture.premultiplyAlpha?0:1,this.uniforms.mask=n,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(n.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=n.transform.uClampFrame,t.applyFilter(this,e,i))},e}(Oi),Bi=function(t){function e(e){t.call(this,e),this.scissor=!1,this.scissorData=null,this.scissorRenderTarget=null,this.enableScissor=!1,this.alphaMaskPool=[],this.alphaMaskIndex=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e){if(e.vertexData)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencil.stencilMaskStack.length&&e.isFastRect()){var i=e.worldTransform,r=Math.atan2(i.b,i.a);(r=Math.round(r*(180/Math.PI)))%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.pop=function(t,e){e.vertexData?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencil.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Ni(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filter.push(t,i),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.batch.flush(),this.renderer.stencil.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.stencil.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var i=this.renderer._activeRenderTarget,r=e.getBounds();r.fit(i.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var n=this.renderer.resolution;this.renderer.gl.scissor(r.x*n,(i.root?i.size.height-r.y-r.height:r.y)*n,r.width*n,r.height*n),this.scissorRenderTarget=i,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(De),Ui=function(t){function e(e){t.call(this,e),this.stencilMaskStack=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setMaskStack=function(t){var e=this.renderer.gl;t.length!==this.stencilMaskStack.length&&(0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)),this.stencilMaskStack=t},e.prototype.pushStencil=function(t){var e=this.renderer.gl,i=this.stencilMaskStack.length;0===i&&e.enable(e.STENCIL_TEST),this.stencilMaskStack.push(t),e.colorMask(!1,!1,!1,!1),e.stencilFunc(e.EQUAL,i,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},e.prototype.popStencil=function(){var t=this.renderer.gl,e=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(t.disable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.clearStencil(0)):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},e.prototype.destroy=function(){t.prototype.destroy.call(this,this),this.stencilMaskStack=null},e}(De),ki=function(t){function e(e){t.call(this,e),this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ft}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.renderer.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,this.renderer.globalUniforms.update()},e.prototype.calculateProjection=function(t,e,i,r){var n=this.projectionMatrix;r?(n.a=1/t.width*2*i,n.d=-1/t.height*2*i,n.tx=-1-e.x*n.a,n.ty=1-e.y*n.d):(n.a=1/t.width*2*i,n.d=1/t.height*2*i,n.tx=-1-e.x*n.a,n.ty=-1-e.y*n.d)},e.prototype.setTransform=function(){},e}(De),Xi=new zt,Gi=function(t){function e(e){t.call(this,e),this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.defaultFilterStack=[{}],this.renderTexture=null,this.destinationFrame=new zt}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(t,e,i){if(this.renderTexture!==t){this.renderTexture=t;var r,n=this.renderer;if(t){var o=t.baseTexture;r=o.resolution,i||(Xi.width=o.realWidth,Xi.height=o.realHeight,i=Xi),e||(e=i),this.renderer.framebuffer.bind(o.frameBuffer,i),this.renderer.projection.update(i,e,r,!1),this.renderer.stencil.setMaskStack(o.stencilMaskStack)}else r=this.renderer.resolution,i||(Xi.width=n.width,Xi.height=n.height,i=Xi),e||(e=i),n.framebuffer.bind(null,i),this.renderer.projection.update(i,e,r,!0),this.renderer.stencil.setMaskStack(this.defaultMaskStack);this.destinationFrame.x=i.x/r,this.destinationFrame.y=i.y/r,this.destinationFrame.width=i.width/r,this.destinationFrame.height=i.height/r}},e.prototype.clear=function(t){t=this.renderTexture?t||this.renderTexture.baseTexture.clearColor:t||this.clearColor,this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.resize=function(){this.bind(null)},e}(De),ji=function(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}};ji.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null};var Hi=0,Yi=function(t){function e(e){t.call(this,e),this.gl=null,this.shader=null,this.program=null,this.cache={},this.id=Hi++}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||this.syncUniformGroup(t.uniformGroup),r},e.prototype.setUniforms=function(t){var e=this.shader.program,i=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(i.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t){var e=this.getglProgram();t.static&&t.dirtyId===e.uniformGroups[t.id]||(e.uniformGroups[t.id]=t.dirtyId,(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer))},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var i=0,r="var v = null;\n    var cv = null\n    var gl = renderer.gl";for(var n in t.uniforms){var o=e[n];o?"float"===o.type&&1===o.size?r+="\n            if(uv."+n+" !== ud."+n+".value)\n            {\n                ud."+n+".value = uv."+n+"\n                gl.uniform1f(ud."+n+".location, uv."+n+")\n            }\n":"sampler2D"!==o.type&&"samplerCube"!==o.type&&"sampler2DArray"!==o.type||1!==o.size||o.isArray?"mat3"===o.type&&1===o.size?void 0!==t.uniforms[n].a?r+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+".toArray(true));\n                \n":r+="\n                gl.uniformMatrix3fv(ud."+n+".location, false, uv."+n+");\n                \n":"vec2"===o.type&&1===o.size?void 0!==t.uniforms[n].x?r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud."+n+".location, v.x, v.y);\n                }\n":r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud."+n+".location, v[0], v[1]);\n                }\n                \n":"vec4"===o.type&&1===o.size?void 0!==t.uniforms[n].width?r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud."+n+".location, v.x, v.y, v.width, v.height)\n                }\n":r+="\n                cv = ud."+n+".value;\n                v = uv."+n+";\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud."+n+".location, v[0], v[1], v[2], v[3])\n                }\n                \n":r+="\n            cv = ud."+n+".value;\n            v = uv."+n+";\n            "+(1===o.size?vi:mi)[o.type].replace("location","ud."+n+".location")+";\n":(r+="\n            renderer.texture.bind(uv."+n+", "+i+");\n\n            if(ud."+n+".value !== "+i+")\n            {\n                ud."+n+".value = "+i+";\n                gl.uniform1i(ud."+n+".location, "+i+");\n; // eslint-disable-line max-len\n            }\n",i++):t.uniforms[n].group&&(r+="\n                    renderer.shader.syncUniformGroup(uv."+n+");\n                ")}return new Function("ud","uv","renderer",r)}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var i=t.uniforms,r=[];for(var n in i)r.push(n),e[n]&&r.push(e[n].type);return r.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,i=t.program,r={};for(var n in i.attributeData)r[n]=i.attributeData[n].location;var o=ai(e,i.vertexSrc,i.fragmentSrc,r),s={};for(var a in i.uniformData){var h=i.uniformData[a];s[a]={location:e.getUniformLocation(o,a),value:ui(h.type,h.size)}}var u=new ji(o,s);return i.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.destroy=function(){this.destroyed=!0},e}(De);var Wi=0,zi=1,Vi=2,qi=3,Ki=4,Zi=function(t){function e(e){t.call(this,e),this.gl=null,this.maxAttribs=null,this.nativeVaoExtension=null,this.attribState=null,this.stateId=0,this.polygonOffset=0,this.blendMode=17,this.map=[],this.map[Wi]=this.setBlend,this.map[zi]=this.setOffset,this.map[Vi]=this.setCullFace,this.map[qi]=this.setDepthTest,this.map[Ki]=this.setFrontFace,this.checks=[],this.defaultState=new Ci,this.defaultState.blend=!0,this.defaultState.depth=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(t){this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=function(t,e){return void 0===e&&(e=[]),e[L.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.ADD]=[t.ONE,t.DST_ALPHA],e[L.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[L.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[L.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.NONE]=[0,0],e[L.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[L.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e[L.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[L.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[L.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e}(t),this.setState(this.defaultState),this.reset()},e.prototype.setState=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(var r=0;r<this.checks.length;r++)this.checks[r](this,t)},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var i=1;i<this.maxAttribs;i++)this.gl.disableVertexAttribArray(i)},e.prototype.reset=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes(),this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):e||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e}(De),Ji=function(t){function e(e){t.call(this,e),this.count=0,this.checkCount=0,this.maxIdle=W.GC_MAX_IDLE,this.checkCountMax=W.GC_MAX_CHECK_COUNT,this.mode=W.GC_MODE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.postrender=function(){this.count++,this.mode!==j.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var n=e[r];!n.frameBuffer&&this.count-n.touched>this.maxIdle&&(t.destroyTexture(n,!0),e[r]=null,i=!0)}if(i){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureSystem;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(De),Qi=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1},$i=function(t){function e(e){t.call(this,e),this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Qi(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Qi(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(var o=0;o<this.boundTextures.length;o++)this.bind(null,o)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),t){if((t=t.baseTexture||t).valid){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);i.bindTexture(t.target,r.texture),r.dirtyId!==t.dirtyId&&this.updateTexture(t),this.boundTextures[e]=t}}else i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.unbind=function(t){for(var e=this.gl,i=0;i<this.boundTextures.length;i++)this.boundTextures[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[t.target].texture),this.boundTextures[i]=null)},e.prototype.initTexture=function(t){var e=new Qi(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID],i=this.renderer;if(t.resource&&t.resource.upload(i,t,e));else{var r=t.realWidth,n=t.realHeight,o=i.gl;(e.width!==r||e.height!==n||e.dirtyId<0)&&(e.width=r,e.height=n,o.texImage2D(t.target,0,t.format,r,n,0,t.format,t.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId},e.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.baseTexture||t)._glTextures[this.renderer.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.renderer.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.renderer.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&C()(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e.mipmap=t.mipmap&&t.isPowerOfTwo,e&&(t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var i=this.gl;e.mipmap&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,t.wrapMode),e.mipmap?i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST):i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode?i.LINEAR:i.NEAREST),i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode?i.LINEAR:i.NEAREST)},e}(De),tr={FilterSystem:Qe,BatchSystem:ti,ContextSystem:ii,FramebufferSystem:ri,GeometrySystem:si,MaskSystem:Bi,StencilSystem:Ui,ProjectionSystem:ki,RenderTextureSystem:Gi,ShaderSystem:Yi,StateSystem:Zi,TextureGCSystem:Ji,TextureSystem:$i},er=new Ft,ir=function(t){function e(e,i,r,n){t.call(this),"number"==typeof i&&(i=Object.assign({width:i,height:r||W.RENDER_OPTIONS.height},n)),i=Object.assign({},W.RENDER_OPTIONS,i),this.options=i,this.type=F.UNKNOWN,this.screen=new zt(0,0,i.width,i.height),this.view=i.view||document.createElement("canvas"),this.resolution=i.resolution||W.RESOLUTION,this.transparent=i.transparent,this.autoDensity=i.autoDensity||i.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=i.preserveDrawingBuffer,this.clearBeforeRender=i.clearBeforeRender,this.roundPixels=i.roundPixels,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,0],this._backgroundColorString="#000000",this.backgroundColor=i.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent=new ee,this._lastObjectRendered=this._tempDisplayObjectParent,this.plugins={}}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},backgroundColor:{configurable:!0}};return e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},i.width.get=function(){return this.view.width},i.height.get=function(){return this.view.height},e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,i,r){0===(r=r||t.getLocalBounds()).width&&(r.width=1),0===r.height&&(r.height=1);var n=Ne.create(0|r.width,0|r.height,e,i);return er.tx=-r.x,er.ty=-r.y,this.render(t,n,!1,er,!0),n},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.plugins=null,this.type=F.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoDensity=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},i.backgroundColor.get=function(){return this._backgroundColor},i.backgroundColor.set=function(t){this._backgroundColor=t,this._backgroundColorString=rt(t),it(t,this._backgroundColorRgba)},Object.defineProperties(e.prototype,i),e}(O.a),rr=function(t){function e(i,r,n){void 0===i&&(i={}),t.call(this,"WebGL",i,r,n),this.type=F.WEBGL,this.gl=null,this.CONTEXT_UID=0,this.runners={destroy:new oe.a("destroy"),contextChange:new oe.a("contextChange",1),reset:new oe.a("reset"),update:new oe.a("update"),postrender:new oe.a("postrender"),prerender:new oe.a("prerender"),resize:new oe.a("resize",2)},this.globalUniforms=new Ze({projectionMatrix:new Ft},!0),this.addSystem(Bi,"mask").addSystem(ii,"context").addSystem(Zi,"state").addSystem(Yi,"shader").addSystem($i,"texture").addSystem(si,"geometry").addSystem(ri,"framebuffer").addSystem(Ui,"stencil").addSystem(ki,"projection").addSystem(Ji,"textureGC").addSystem(Qe,"filter").addSystem(Gi,"renderTexture").addSystem(ti,"batch"),this.initPlugins(e.__plugins),i.context?this.context.initFromContext(i.context):this.context.initFromOptions({alpha:this.transparent,antialias:i.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:this.options.powerPreference}),this.renderingToScreen=!0,tt(2===this.context.webGLVersion?"WebGL 2":"WebGL 1"),this.resize(this.options.width,this.options.height)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addSystem=function(t,e){e||(e=t.name);var i=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=i,this.runners)this.runners[r].add(i);return this},e.prototype.render=function(t,e,i,r,n){if(this.renderingToScreen=!e,this.runners.prerender.run(),this.emit("prerender"),!this.context.isLost){if(e||(this._lastObjectRendered=t),!n){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.renderTexture.bind(e),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),e&&e.baseTexture.update(),this.runners.postrender.run(),this.emit("postrender")}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.runners.resize.run(e,i)},e.prototype.reset=function(){return this.runners.reset.run(),this},e.prototype.clear=function(){this.framebuffer.bind(),this.framebuffer.clear()},e.prototype.destroy=function(e){this.runners.destroy.run(),t.prototype.destroy.call(this,e),this.gl=null},e.registerPlugin=function(t,i){e.__plugins=e.__plugins||{},e.__plugins[t]=i},e}(ir),nr=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.from=function(t,i){return new e(new Se(t,i))},e}(Ee),or=function t(e,i,r,n,o){var s=this;"number"==typeof e&&(e=Object.assign({width:e,height:i||W.RENDER_OPTIONS.height,forceCanvas:!!n,sharedTicker:!!o},r)),e=Object.assign({forceCanvas:!1},e),this.renderer=this.createRenderer(e),this.stage=new ee,t._plugins.forEach(function(t){t.init.call(s,e)})},sr={view:{configurable:!0},screen:{configurable:!0}};or.registerPlugin=function(t){or._plugins.push(t)},or.prototype.createRenderer=function(t){return new rr(t)},or.prototype.render=function(){this.renderer.render(this.stage)},sr.view.get=function(){return this.renderer.view},sr.screen.get=function(){return this.renderer.screen},or.prototype.destroy=function(t){var e=this,i=or._plugins.slice(0);i.reverse(),i.forEach(function(t){t.destroy.call(e)}),this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},Object.defineProperties(or.prototype,sr),or._plugins=[];var ar=function(){};ar.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){window.removeEventListener("resize",this.resize),this._resizeTo=t,t&&(window.addEventListener("resize",this.resize),this.resize())},get:function(){return this._resizeTo}}),this.resize=function(){e._resizeTo&&(e._resizeTo===window?e.renderer.resize(window.innerWidth,window.innerHeight):e.renderer.resize(e._resizeTo.clientWidth,e._resizeTo.clientHeight))},this._resizeTo=null,this.resizeTo=t.resizeTo||null},ar.destroy=function(){this.resizeTo=null,this.resize=null},or.registerPlugin(ar);
/*!
 * @pixi/extract - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var hr=new zt,ur=function(t){this.renderer=t,t.extract=this};ur.prototype.image=function(t){var e=new Image;return e.src=this.base64(t),e},ur.prototype.base64=function(t){return this.canvas(t).toDataURL()},ur.prototype.canvas=function(t){var e,i,r,n=this.renderer,o=!1,s=!1;t&&(t instanceof Ne?r=t:(r=this.renderer.generateTexture(t),s=!0)),r?(e=r.baseTexture.resolution,i=r.frame,o=!1,n.renderTexture.bind(r)):(e=this.renderer.resolution,o=!0,(i=hr).width=this.renderer.width,i.height=this.renderer.height,n.renderTexture.bind(null));var a=i.width*e,h=i.height*e,u=new xt(a,h),l=new Uint8Array(4*a*h),c=n.gl;c.readPixels(i.x*e,i.y*e,a,h,c.RGBA,c.UNSIGNED_BYTE,l);var d=u.context.getImageData(0,0,a,h);return d.data.set(l),u.context.putImageData(d,0,0),o&&(u.context.scale(1,-1),u.context.drawImage(u.canvas,0,-h)),s&&r.destroy(!0),u.canvas},ur.prototype.pixels=function(t){var e,i,r,n=this.renderer,o=!1;t&&(t instanceof Ne?r=t:(r=this.renderer.generateTexture(t),o=!0)),r?(e=r.baseTexture.resolution,i=r.frame,n.renderTexture.bind(r)):(e=n.resolution,(i=hr).width=n.width,i.height=n.height,n.renderTexture.bind(null));var s=i.width*e,a=i.height*e,h=new Uint8Array(4*s*a),u=n.gl;return u.readPixels(i.x*e,i.y*e,s,a,u.RGBA,u.UNSIGNED_BYTE,h),o&&r.destroy(!0),h},ur.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null};
/*!
 * @pixi/sprite - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var lr=new At,cr=function(t){function e(e){t.call(this),this._anchor=new Ct(this._onAnchorUpdate,this),this._texture=null,this._width=0,this._height=0,this._tint=null,this._tintRGB=null,this.tint=16777215,this.blendMode=L.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=e||Fe.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.pluginName="sprite"}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},anchor:{configurable:!0},tint:{configurable:!0},texture:{configurable:!0}};return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=pt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=pt(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,i=e.a,r=e.b,n=e.c,o=e.d,s=e.tx,a=e.ty,h=this.vertexData,u=t.trim,l=t.orig,c=this._anchor,d=0,p=0,f=0,g=0;u?(d=(p=u.x-c._x*l.width)+u.width,f=(g=u.y-c._y*l.height)+u.height):(d=(p=-c._x*l.width)+l.width,f=(g=-c._y*l.height)+l.height),h[0]=i*p+n*g+s,h[1]=o*g+r*p+a,h[2]=i*d+n*g+s,h[3]=o*g+r*d+a,h[4]=i*d+n*f+s,h[5]=o*f+r*d+a,h[6]=i*p+n*f+s,h[7]=o*f+r*p+a}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,r=this._anchor,n=this.transform.worldTransform,o=n.a,s=n.b,a=n.c,h=n.d,u=n.tx,l=n.ty,c=-r._x*i.width,d=c+i.width,p=-r._y*i.height,f=p+i.height;e[0]=o*c+a*p+u,e[1]=h*p+s*c+l,e[2]=o*d+a*p+u,e[3]=h*p+s*d+l,e[4]=o*d+a*f+u,e[5]=h*f+s*d+l,e[6]=o*c+a*f+u,e[7]=h*f+s*c+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new zt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,lr);var e=this._texture.orig.width,i=this._texture.orig.height,r=-e*this.anchor.x,n=0;return lr.x>=r&&lr.x<r+e&&(n=-i*this.anchor.y,lr.y>=n&&lr.y<n+i)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},e.from=function(t,i){return new e(t instanceof Fe?t:new Fe.from(t,i))},i.width.get=function(){return Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){var e=pt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){var e=pt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){this._anchor.copyFrom(t)},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},i.texture.get=function(){return this._texture},i.texture.set=function(t){this._texture!==t&&(this._texture=t||Fe.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},Object.defineProperties(e.prototype,i),e}(ee),dr=function(t){this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)};dr.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null};var pr="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",fr=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");var gr=0,yr=function(t){function e(e){t.call(this,e),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=W.SPRITE_BATCH_SIZE,this.buffers=[];for(var i=1;i<=pe.a.nextPow2(this.size);i*=2)this.buffers.push(new dr(4*i*this.vertByteSize));this.indices=lt(this.size),this.indexBuffer=new Xe(this.indices,!0,!0),this.shader=null,this.currentIndex=0,this.groups=[];for(var r=0;r<this.size;r++)this.groups[r]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};this.sprites=[],this.vertexBuffers=[],this.vaos=[],this.vaoMax=2,this.vertexCount=0,this.renderer.on("prerender",this.onPrerender,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){var t=this.renderer.gl;W.PREFER_ENV===R.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),W.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=bi(this.MAX_TEXTURES,t)),this.shader=function(t,e){for(var i=new Int32Array(e),r=0;r<e;r++)i[r]=r;var n={default:Ze.from({uSamplers:i},!0)},o=fr;return o=(o=o.replace(/%count%/gi,e)).replace(/%forloop%/gi,function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(textureId == "+i+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}(e)),Pi.from(pr,o,n)}(0,this.MAX_TEXTURES);for(var e=0;e<this.vaoMax;e++){var i=new Xe(null,!1);this.vaos[e]=(new ze).addAttribute("aVertexPosition",i,2,!1,t.FLOAT).addAttribute("aTextureCoord",i,2,!0,t.UNSIGNED_SHORT).addAttribute("aColor",i,4,!0,t.UNSIGNED_BYTE).addAttribute("aTextureId",i,1,!0,t.FLOAT).addIndex(this.indexBuffer),this.vertexBuffers[e]=i}},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t,e,i,r,n,o=this.renderer.gl,s=this.MAX_TEXTURES,a=pe.a.nextPow2(this.currentIndex),h=pe.a.log2(a),u=this.buffers[h],l=this.sprites,c=this.groups,d=u.float32View,p=u.uint32View,f=this.renderer.textureGC.count,g=0,y=1,v=0,m=0,_=c[0],x=ot[l[0]._texture.baseTexture.premultiplyAlpha?1:0][l[0].blendMode];for(_.textureCount=0,_.start=0,_.blend=x,gr++,n=0;n<this.currentIndex;++n){var b=l[n];v=(t=b._texture.baseTexture)._id;var T=ot[Number(t.premultiplyAlpha)][b.blendMode];if(x!==T&&(x=T,e=null,m=s,gr++),e!==t&&(e=t,t._enabled!==gr&&(m===s&&(gr++,m=0,_.size=n-_.start,(_=c[y++]).textureCount=0,_.blend=x,_.start=n),t.touched=f,t._enabled=gr,t._id=m,_.textures[_.textureCount++]=t,m++)),i=b.vertexData,r=b._texture._uvs.uvsUint32,v=t._id,this.renderer.roundPixels){var E=this.renderer.resolution;d[g]=(i[0]*E|0)/E,d[g+1]=(i[1]*E|0)/E,d[g+5]=(i[2]*E|0)/E,d[g+6]=(i[3]*E|0)/E,d[g+10]=(i[4]*E|0)/E,d[g+11]=(i[5]*E|0)/E,d[g+15]=(i[6]*E|0)/E,d[g+16]=(i[7]*E|0)/E}else d[g]=i[0],d[g+1]=i[1],d[g+5]=i[2],d[g+6]=i[3],d[g+10]=i[4],d[g+11]=i[5],d[g+15]=i[6],d[g+16]=i[7];p[g+2]=r[0],p[g+7]=r[1],p[g+12]=r[2],p[g+17]=r[3];var w=Math.min(b.worldAlpha,1),S=w<1&&t.premultiplyAlpha?ht(b._tintRGB,w):b._tintRGB+(255*w<<24);p[g+3]=p[g+8]=p[g+13]=p[g+18]=S,d[g+4]=d[g+9]=d[g+14]=d[g+19]=v,g+=20}if(_.size=n-_.start,W.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].update(u.vertices,0),this.renderer.geometry.updateBuffers();else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var P=new Xe(null,!1);this.vaos[this.vertexCount]=(new ze).addAttribute("aVertexPosition",P,2,!1,o.FLOAT).addAttribute("aTextureCoord",P,2,!0,o.UNSIGNED_SHORT).addAttribute("aColor",P,4,!0,o.UNSIGNED_BYTE).addAttribute("aTextureId",P,1,!0,o.FLOAT).addIndex(this.indexBuffer),this.vertexBuffers[this.vertexCount]=P}this.vertexBuffers[this.vertexCount].update(u.vertices,0),this.renderer.geometry.bind(this.vaos[this.vertexCount]),this.vertexCount++}for(n=0;n<y;n++){for(var A=c[n],C=A.textureCount,D=0;D<C;D++)this.renderer.texture.bind(A.textures[D],D);this.renderer.state.setBlendMode(A.blend),o.drawElements(o.TRIANGLES,6*A.size,o.UNSIGNED_SHORT,6*A.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.shader.bind(this.shader),W.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this.vaos[this.vertexCount])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var i=0;i<this.buffers.length;++i)this.buffers[i].destroy();t.prototype.destroy.call(this)},e}($e);var vr=function(t,e,i,r,n,o,s,a,h){this.lineWidth=t,this.lineAlignment=h,this.nativeLines=s,this.lineColor=e,this.lineAlpha=i,this._lineTint=e,this.fillColor=r,this.fillAlpha=n,this._fillTint=r,this.fill=o,this.holes=[],this.shape=a,this.type=a.type};vr.prototype.clone=function(){return new vr(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},vr.prototype.addHole=function(t){this.holes.push(t)},vr.prototype.destroy=function(){this.shape=null,this.holes=null};var mr=new At,_r=new Float32Array(4),xr=new Float32Array(4),br=function(t){function e(e){void 0===e&&(e=!1),t.call(this),this.fillAlpha=1,this.lineWidth=0,this.nativeLines=e,this.lineColor=0,this.lineAlignment=.5,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=L.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new $t,this.dirty=0,this.fastRectDirty=-1,this.clearDirty=0,this.boundsDirty=-1,this.cachedSpriteDirty=!1,this._spriteRect=null,this._fastRect=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var i=0;i<this.graphicsData.length;++i)t.graphicsData.push(this.graphicsData[i].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,i,r,n,o){var s=t-(2*i+n),a=e-(2*r+o),h=(i-2)*t*2,u=(r-2)*e*2,l=4*(s*s+a*a),c=4*(s*h+a*u),d=h*h+u*u,p=2*Math.sqrt(l+c+d),f=Math.sqrt(l),g=2*l*f,y=2*Math.sqrt(d),v=c/f;return(g*p+f*c*(p-y)+(4*d*l-c*c)*Math.log((2*f+v+p)/(v+y)))/(4*g)},e.prototype._bezierCurveLength=function(t,e,i,r,n,o,s,a){for(var h=0,u=0,l=0,c=0,d=0,p=0,f=0,g=0,y=0,v=0,m=0,_=t,x=e,b=1;b<=10;++b)v=_-(g=(f=(p=(d=1-(u=b/10))*d)*d)*t+3*p*u*i+3*d*(l=u*u)*n+(c=l*u)*s),m=x-(y=f*e+3*p*u*r+3*d*l*o+c*a),_=g,x=y,h+=Math.sqrt(v*v+m*m);return h},e.prototype._segmentsCount=function(t){var i=Math.ceil(t/e.CURVES.maxLength);return i<e.CURVES.minSegments?i=e.CURVES.minSegments:i>e.CURVES.maxSegments&&(i=e.CURVES.maxSegments),i},e.prototype.lineStyle=function(t,e,i,r){if(void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===r&&(r=.5),this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this.lineAlignment=r,this.currentPath)if(this.currentPath.shape.points.length){var n=new Jt(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var i=new Jt([t,e]);return i.closed=!1,this.drawShape(i),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,i,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,s=0,a=0;0===o.length&&this.moveTo(0,0);for(var h=o[o.length-2],u=o[o.length-1],l=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(h,u,t,i,r,n)):20,c=1;c<=l;++c){var d=c/l;s=h+(t-h)*d,a=u+(i-u)*d,o.push(s+(t+(r-t)*d-s)*d,a+(i+(n-i)*d-a)*d)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,i,r,n,o,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,h=a[a.length-2],u=a[a.length-1];return a.length-=2,
/*!
 * @pixi/graphics - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function(t,e,i,r,n,o,s,a,h,u){void 0===u&&(u=[]);var l=0,c=0,d=0,p=0,f=0;u.push(t,e);for(var g=1,y=0;g<=h;++g)d=(c=(l=1-(y=g/h))*l)*l,f=(p=y*y)*y,u.push(d*t+3*c*y*i+3*l*p*n+f*s,d*e+3*c*y*r+3*l*p*o+f*a)}(h,u,t,i,r,n,o,s,e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(h,u,t,i,r,n,o,s)):20,a),this.dirty++,this},e.prototype.arcTo=function(t,e,i,r,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,s=o[o.length-2],a=o[o.length-1]-e,h=s-t,u=r-e,l=i-t,c=Math.abs(a*l-h*u);if(c<1e-8||0===n)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var d=a*a+h*h,p=u*u+l*l,f=a*u+h*l,g=n*Math.sqrt(d)/c,y=n*Math.sqrt(p)/c,v=g*f/d,m=y*f/p,_=g*l+y*h,x=g*u+y*a,b=h*(y+v),T=a*(y+v),E=l*(g+m),w=u*(g+m),S=Math.atan2(T-x,b-_),P=Math.atan2(w-x,E-_);this.arc(_+t,x+e,n,S,P,h*u>l*a)}return this.dirty++,this},e.prototype.arc=function(t,i,r,n,o,s){if(void 0===s&&(s=!1),n===o)return this;!s&&o<=n?o+=Ot:s&&n<=o&&(n+=Ot);var a=o-n,h=e.CURVES.adaptive?this._segmentsCount(Math.abs(a)*r):40*Math.ceil(Math.abs(a)/Ot);if(0===a)return this;var u=t+Math.cos(n)*r,l=i+Math.sin(n)*r,c=this.currentPath?this.currentPath.shape.points:null;c?c[c.length-2]===u&&c[c.length-1]===l||c.push(u,l):(this.moveTo(u,l),c=this.currentPath.shape.points);for(var d=a/(2*h),p=2*d,f=Math.cos(d),g=Math.sin(d),y=h-1,v=y%1/y,m=0;m<=y;++m){var _=d+n+p*(m+v*m),x=Math.cos(_),b=-Math.sin(_);c.push((f*x+g*b)*r+t,(f*-b+g*x)*r+i)}return this.dirty++,this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new zt(t,e,i,r)),this},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new Qt(t,e,i,r,n)),this},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new Kt(t,e,i)),this},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new Zt(t,e,i,r)),this},e.prototype.drawPolygon=function(t){var e=arguments,i=t,r=!0;if(i instanceof Jt&&(r=i.closed,i=i.points),!Array.isArray(i)){i=new Array(arguments.length);for(var n=0;n<i.length;++n)i[n]=e[n]}var o=new Jt(i);return o.closed=r,this.drawShape(o),this},e.prototype.drawStar=function(t,e,i,r,n,o){void 0===o&&(o=0),n=n||r/2;for(var s=-1*Math.PI/2+o,a=2*i,h=Ot/a,u=[],l=0;l<a;l++){var c=l%2?n:r,d=l*h+s;u.push(t+c*Math.cos(d),e+c*Math.sin(d))}return this.drawPolygon(u)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===Rt.RECT&&!this.graphicsData[0].lineWidth},e.prototype._render=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.batch.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new cr(new Fe(Fe.WHITE)));var i=this._spriteRect;if(16777215===this.tint)i.tint=this.graphicsData[0].fillColor;else{var r=_r,n=xr;it(this.graphicsData[0].fillColor,r),it(this.tint,n),r[0]*=n[0],r[1]*=n[1],r[2]*=n[2],i.tint=nt(r)}i.alpha=this.graphicsData[0].fillAlpha,i.worldAlpha=this.worldAlpha*i.alpha,i.blendMode=this.blendMode,i._texture._frame.width=e.width,i._texture._frame.height=e.height,i.transform.worldTransform=this.transform.worldTransform,i.anchor.set(-e.x/e.width,-e.y/e.height),i._onAnchorUpdate(),i._render(t)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,mr);for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fill&&(r.shape&&r.shape.contains(mr.x,mr.y))){if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].contains(mr.x,mr.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,i=1/0,r=-1/0;if(this.graphicsData.length)for(var n=0,o=0,s=0,a=0,h=0,u=0;u<this.graphicsData.length;u++){var l=this.graphicsData[u],c=l.type,d=l.lineWidth;if(n=l.shape,c===Rt.RECT||c===Rt.RREC)o=n.x-d/2,s=n.y-d/2,t=o<t?o:t,e=o+(a=n.width+d)>e?o+a:e,i=s<i?s:i,r=s+(h=n.height+d)>r?s+h:r;else if(c===Rt.CIRC)o=n.x,s=n.y,t=o-(a=n.radius+d/2)<t?o-a:t,e=o+a>e?o+a:e,i=s-(h=n.radius+d/2)<i?s-h:i,r=s+h>r?s+h:r;else if(c===Rt.ELIP)o=n.x,s=n.y,t=o-(a=n.width+d/2)<t?o-a:t,e=o+a>e?o+a:e,i=s-(h=n.height+d/2)<i?s-h:i,r=s+h>r?s+h:r;else for(var p=n.points,f=0,g=0,y=0,v=0,m=0,_=0,x=0,b=0,T=0;T+2<p.length;T+=2)o=p[T],s=p[T+1],f=p[T+2],g=p[T+3],y=Math.abs(f-o),v=Math.abs(g-s),h=d,(a=Math.sqrt(y*y+v*v))<1e-9||(t=(x=(f+o)/2)-(m=(h/a*v+y)/2)<t?x-m:t,e=x+m>e?x+m:e,i=(b=(g+s)/2)-(_=(h/a*y+v)/2)<i?b-_:i,r=b+_>r?b+_:r)}else t=0,e=0,i=0,r=0;var E=this.boundsPadding;this._localBounds.minX=t-E,this._localBounds.maxX=e+E,this._localBounds.minY=i-E,this._localBounds.maxY=r+E},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new vr(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===Rt.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();for(var r in this._webGL)for(var n=0;n<this._webGL[r].data.length;++n)this._webGL[r].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(ee);br._SPRITE_TEXTURE=null,br.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048};var Tr=function(t,e){this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=new Xe,this.indexBuffer=new Xe,this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=e,this.geometry=(new ze).addAttribute("aVertexPosition|aColor",this.buffer).addIndex(this.indexBuffer)};Tr.prototype.reset=function(){this.points.length=0,this.indices.length=0},Tr.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.update(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.update(this.glIndices),this.dirty=!1},Tr.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null};var Er="varying vec4 vColor;\n\nvoid main(void){\n   gl_FragColor = vColor;\n}\n",wr="attribute vec2 aVertexPosition;\nattribute vec4 aColor;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nuniform float alpha;\nuniform vec3 tint;\n\nvarying vec4 vColor;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}\n",Sr=function(t){function e(){var e=wi.from(wr,Er);t.call(this,e,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Pi);function Pr(t,e,i){t.nativeLines?function(t,e){var i=0,r=t.points;if(0===r.length)return;var n=e.points,o=r.length/2,s=it(t.lineColor),a=t.lineAlpha,h=s[0]*a,u=s[1]*a,l=s[2]*a;for(i=1;i<o;i++){var c=r[2*(i-1)],d=r[2*(i-1)+1],p=r[2*i],f=r[2*i+1];n.push(c,d),n.push(h,u,l,a),n.push(p,f),n.push(h,u,l,a)}}(t,i):function(t,e){var i=t.points;if(0===i.length)return;var r=new At(i[0],i[1]),n=new At(i[i.length-2],i[i.length-1]);if(r.x===n.x&&r.y===n.y){(i=i.slice()).pop(),i.pop();var o=(n=new At(i[i.length-2],i[i.length-1])).x+.5*(r.x-n.x),s=n.y+.5*(r.y-n.y);i.unshift(o,s),i.push(o,s)}var a=e.points,h=e.indices,u=i.length/2,l=i.length,c=a.length/6,d=t.lineWidth/2,p=it(t.lineColor),f=t.lineAlpha,g=p[0]*f,y=p[1]*f,v=p[2]*f,m=i[0],_=i[1],x=i[2],b=i[3],T=0,E=0,w=-(_-b),S=m-x,P=0,A=0,C=0,D=0,O=Math.sqrt(w*w+S*S);w/=O,S/=O,w*=d,S*=d;var I=t.lineAlignment,M=2*(1-I),R=2*I;a.push(m-w*M,_-S*M,g,y,v,f),a.push(m+w*R,_+S*R,g,y,v,f);for(var F=1;F<u-1;++F){m=i[2*(F-1)],_=i[2*(F-1)+1],x=i[2*F],b=i[2*F+1],T=i[2*(F+1)],E=i[2*(F+1)+1],w=-(_-b),S=m-x,O=Math.sqrt(w*w+S*S),w/=O,S/=O,w*=d,S*=d,P=-(b-E),A=x-T,O=Math.sqrt(P*P+A*A),P/=O,A/=O;var L=-S+_-(-S+b),N=-w+x-(-w+m),B=(-w+m)*(-S+b)-(-w+x)*(-S+_),U=-(A*=d)+E-(-A+b),k=-(P*=d)+x-(-P+T),X=(-P+T)*(-A+b)-(-P+x)*(-A+E),G=L*k-U*N;if(Math.abs(G)<.1)G+=10.1,a.push(x-w*M,b-S*M,g,y,v,f),a.push(x+w*R,b+S*R,g,y,v,f);else{var j=(N*X-k*B)/G,H=(U*B-L*X)/G,Y=(j-x)*(j-x)+(H-b)*(H-b);Y>196*d*d?(C=w-P,D=S-A,O=Math.sqrt(C*C+D*D),C/=O,D/=O,C*=d,D*=d,a.push(x-C*M,b-D*M),a.push(g,y,v,f),a.push(x+C*R,b+D*R),a.push(g,y,v,f),a.push(x-C*R*M,b-D*M),a.push(g,y,v,f),l++):(a.push(x+(j-x)*M,b+(H-b)*M),a.push(g,y,v,f),a.push(x-(j-x)*R,b-(H-b)*R),a.push(g,y,v,f))}}m=i[2*(u-2)],_=i[2*(u-2)+1],x=i[2*(u-1)],b=i[2*(u-1)+1],w=-(_-b),S=m-x,O=Math.sqrt(w*w+S*S),w/=O,S/=O,w*=d,S*=d,a.push(x-w*M,b-S*M),a.push(g,y,v,f),a.push(x+w*R,b+S*R),a.push(g,y,v,f),h.push(c);for(var W=0;W<l;++W)h.push(c++);h.push(c-1)}(t,e)}function Ar(t,e,i){t.points=t.shape.points.slice();var r=t.points;if(t.fill&&r.length>=6){for(var n=[],o=t.holes,s=0;s<o.length;s++){var a=o[s];n.push(r.length/2),r=r.concat(a.points)}var h=e.points,u=e.indices,l=r.length/2,c=it(t.fillColor),d=t.fillAlpha,p=c[0]*d,f=c[1]*d,g=c[2]*d,y=M()(r,n,2);if(!y)return;for(var v=h.length/6,m=0;m<y.length;m+=3)u.push(y[m]+v),u.push(y[m]+v),u.push(y[m+1]+v),u.push(y[m+2]+v),u.push(y[m+2]+v);for(var _=0;_<l;_++)h.push(r[2*_],r[2*_+1],p,f,g,d)}t.lineWidth>0&&Pr(t,e,i)}function Cr(t,e,i){var r=t.shape,n=r.x,o=r.y,s=r.width,a=r.height;if(t.fill){var h=it(t.fillColor),u=t.fillAlpha,l=h[0]*u,c=h[1]*u,d=h[2]*u,p=e.points,f=e.indices,g=p.length/6;p.push(n,o),p.push(l,c,d,u),p.push(n+s,o),p.push(l,c,d,u),p.push(n,o+a),p.push(l,c,d,u),p.push(n+s,o+a),p.push(l,c,d,u),f.push(g,g,g+1,g+2,g+3,g+3)}if(t.lineWidth){var y=t.points;t.points=[n,o,n+s,o,n+s,o+a,n,o+a,n,o],Pr(t,e,i),t.points=y}}function Dr(t,e,i){var r=t.shape,n=r.x,o=r.y,s=r.width,a=r.height,h=r.radius,u=[];if(u.push(n,o+h),Ir(n,o+a-h,n,o+a,n+h,o+a,u),Ir(n+s-h,o+a,n+s,o+a,n+s,o+a-h,u),Ir(n+s,o+h,n+s,o,n+s-h,o,u),Ir(n+h,o,n,o,n,o+h+1e-10,u),t.fill){for(var l=it(t.fillColor),c=t.fillAlpha,d=l[0]*c,p=l[1]*c,f=l[2]*c,g=e.points,y=e.indices,v=g.length/6,m=M()(u,null,2),_=0,x=m.length;_<x;_+=3)y.push(m[_]+v),y.push(m[_]+v),y.push(m[_+1]+v),y.push(m[_+2]+v),y.push(m[_+2]+v);for(var b=0,T=u.length;b<T;b++)g.push(u[b],u[++b],d,p,f,c)}if(t.lineWidth){var E=t.points;t.points=u,Pr(t,e,i),t.points=E}}function Or(t,e,i){return t+(e-t)*i}function Ir(t,e,i,r,n,o,s){void 0===s&&(s=[]);for(var a=s,h=0,u=0,l=0,c=0,d=0,p=0,f=0,g=0;f<=20;++f)h=Or(t,i,g=f/20),u=Or(e,r,g),l=Or(i,n,g),c=Or(r,o,g),d=Or(h,l,g),p=Or(u,c,g),a.push(d,p);return a}function Mr(t,e,i){var r,n,o=t.shape,s=o.x,a=o.y;if(t.type===Rt.CIRC?(r=o.radius,n=o.radius):(r=o.width,n=o.height),0!==r&&0!==n){var h=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(o.width+o.height)),u=2*Math.PI/h;if(t.fill){var l=it(t.fillColor),c=t.fillAlpha,d=l[0]*c,p=l[1]*c,f=l[2]*c,g=e.points,y=e.indices,v=g.length/6;y.push(v);for(var m=0;m<h+1;m++)g.push(s,a,d,p,f,c),g.push(s+Math.sin(u*m)*r,a+Math.cos(u*m)*n,d,p,f,c),y.push(v++,v++);y.push(v-1)}if(t.lineWidth){var _=t.points;t.points=[];for(var x=0;x<h+1;x++)t.points.push(s+Math.sin(u*-x)*r,a+Math.cos(u*-x)*n);Pr(t,e,i),t.points=_}}}var Rr=function(t){function e(e){t.call(this,e),this.graphicsDataPool=[],this.primitiveShader=new Sr,this.primitiveShader.uniforms.globals=e.globalUniforms,this.gl=e.gl,this.CONTEXT_UID=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e,i=this.renderer,r=i.gl,n=t._webGL[this.CONTEXT_UID];n&&t.dirty===n.dirty||(this.updateGraphics(t),n=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;i.state.setBlendMode(t.blendMode);for(var s=0,a=n.data.length;s<a;s++)e=n.data[s],o.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),o.uniforms.tint=it(t.tint),o.uniforms.alpha=t.worldAlpha,i.shader.bind(o),i.geometry.bind(e.geometry),e.nativeLines?i.geometry.draw(r.LINES,e.indices.length/6):i.geometry.draw(r.TRIANGLE_STRIP,e.indices.length)},e.prototype.updateGraphics=function(t){var e,i,r=this.renderer.gl,n=t._webGL[this.CONTEXT_UID];if(n||(n=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:r,clearDirty:-1,dirty:-1}),n.dirty=t.dirty,t.clearDirty!==n.clearDirty){n.clearDirty=t.clearDirty;for(var o=0;o<n.data.length;o++)this.graphicsDataPool.push(n.data[o]);n.data.length=0,n.lastIndex=0}for(var s=n.lastIndex;s<t.graphicsData.length;s++){var a=t.graphicsData[s];e=this.getWebGLData(n,0),a.nativeLines&&a.lineWidth&&(i=this.getWebGLData(n,0,!0),n.lastIndex++),a.type===Rt.POLY&&Ar(a,e,i),a.type===Rt.RECT?Cr(a,e,i):a.type===Rt.CIRC||a.type===Rt.ELIP?Mr(a,e,i):a.type===Rt.RREC&&Dr(a,e,i),n.lastIndex++}for(var h=0;h<n.data.length;h++)(e=n.data[h]).dirty&&e.upload()},e.prototype.getWebGLData=function(t,e,i){var r=t.data[t.data.length-1];return(!r||r.nativeLines!==i||r.points.length>32e4)&&((r=this.graphicsDataPool.pop()||new Tr(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=i,r.reset(e),t.data.push(r)),r.dirty=!0,r},e}($e),Fr=function(){this.global=new At,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0},Lr={pointerId:{configurable:!0}};
/*!
 * @pixi/interaction - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Lr.pointerId.get=function(){return this.identifier},Fr.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},Fr.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},Fr.prototype.reset=function(){this.isPrimary=!1},Object.defineProperties(Fr.prototype,Lr);var Nr=function(){this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null};Nr.prototype.stopPropagation=function(){this.stopped=!0},Nr.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null};var Br=function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE},Ur={pointerId:{configurable:!0},flags:{configurable:!0},none:{configurable:!0},over:{configurable:!0},rightDown:{configurable:!0},leftDown:{configurable:!0}};Br.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Ur.pointerId.get=function(){return this._pointerId},Ur.flags.get=function(){return this._flags},Ur.flags.set=function(t){this._flags=t},Ur.none.get=function(){return this._flags===this.constructor.FLAGS.NONE},Ur.over.get=function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},Ur.over.set=function(t){this._doSet(this.constructor.FLAGS.OVER,t)},Ur.rightDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},Ur.rightDown.set=function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)},Ur.leftDown.get=function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},Ur.leftDown.set=function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)},Object.defineProperties(Br.prototype,Ur),Br.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});var kr={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Z.delayMixin(te.prototype,kr);var Xr=1,Gr={target:null,data:{global:null}},jr=function(t){function e(e,i){t.call(this),i=i||{},this.renderer=e,this.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,this.interactionFrequency=i.interactionFrequency||10,this.mouse=new Fr,this.mouse.identifier=Xr,this.mouse.global.set(-999999),this.activeInteractionData={},this.activeInteractionData[Xr]=this.mouse,this.interactionDataPool=[],this.eventData=new Nr,this.interactionDOMElement=null,this.moveWhenInside=!1,this.eventsAdded=!1,this.mouseOverRenderer=!1,this.supportsTouchEvents="ontouchstart"in window,this.supportsPointerEvents=!!window.PointerEvent,this.onPointerUp=this.onPointerUp.bind(this),this.processPointerUp=this.processPointerUp.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.processPointerCancel=this.processPointerCancel.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.processPointerDown=this.processPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.processPointerMove=this.processPointerMove.bind(this),this.onPointerOut=this.onPointerOut.bind(this),this.processPointerOverOut=this.processPointerOverOut.bind(this),this.onPointerOver=this.onPointerOver.bind(this),this.cursorStyles={default:"inherit",pointer:"pointer"},this.currentCursorMode=null,this.cursor=null,this._tempPoint=new At,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.hitTest=function(t,e){return Gr.target=null,Gr.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(Gr,e,null,!0),Gr.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(he.shared.add(this.update,this,se.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(he.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch(typeof e){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.mapPositionToPoint=function(t,e,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var n=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*n,t.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},e.prototype.processInteractive=function(t,e,i,r,n){if(!e||!e.visible)return!1;var o=t.data.global,s=!1,a=n=e.interactive||n,h=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(r=!1,h=!1)),a=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(o)||(r=!1,h=!1)),h&&e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var c=u[l],d=this.processInteractive(t,c,i,r,a);if(d){if(!c.parent)continue;a=!1,d&&(t.target&&(r=!1),s=!0)}}return n&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(o)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),i&&i(t,e,!!s))),s},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===n.pointerType)this.emit("touchstart",s);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var r=t.data,n=t.data.identifier;if(i)if(e.trackedPointers[n]||(e.trackedPointers[n]=new Br(n)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var o=2===r.button;o?e.trackedPointers[n].rightDown=!0:e.trackedPointers[n].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var r=this.normalizeToPointerData(t),n=r.length,o=t.target!==this.interactionDOMElement?"outside":"",s=0;s<n;s++){var a=r[s],h=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,h);if(u.data.originalEvent=t,this.processInteractive(u,this.renderer._lastObjectRendered,i,e||!o),this.emit(e?"pointercancel":"pointerup"+o,u),"mouse"===a.pointerType||"pen"===a.pointerType){var l=2===a.button;this.emit(l?"rightup"+o:"mouseup"+o,u)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,u),this.releaseInteractionDataForPointerId(a.pointerId,h))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var r=t.data,n=t.data.identifier,o=e.trackedPointers[n],s="touch"===r.pointerType,a="mouse"===r.pointerType||"pen"===r.pointerType,h=!1;if(a){var u=2===r.button,l=Br.FLAGS,c=u?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==o&&o.flags&c;i?(this.dispatchEvent(e,u?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,u?"rightclick":"click",t),h=!0)):d&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),o&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[n]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=e.length,r=0;r<i;r++){var n=e[r],o=this.getInteractionDataForPointerId(n),s=this.configureInteractionEventForDOMEvent(this.eventData,n,o);s.data.originalEvent=t;var a="touch"!==n.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===n.pointerType&&this.emit("touchmove",s),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var r=t.data,n="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType;o&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),n&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var r=t.data,n=t.data.identifier,o="mouse"===r.pointerType||"pen"===r.pointerType,s=e.trackedPointers[n];i&&!s&&(s=e.trackedPointers[n]=new Br(n)),void 0!==s&&(i&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[n]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],i=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,i);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,i=t.pointerId;return i===Xr||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[i]?e=this.activeInteractionData[i]:((e=this.interactionDataPool.pop()||new Fr).identifier=i,this.activeInteractionData[i]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(i.global.x=i.global.x/this.resolution,i.global.y=i.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,r=t.changedTouches.length;i<r;i++){var n=t.changedTouches[i];void 0===n.button&&(n.button=t.touches.length?1:0),void 0===n.buttons&&(n.buttons=t.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),n.twist=0,n.tangentialPressure=0,void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,e.push(n)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=Xr),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(O.a),Hr=i(6),Yr=i.n(Hr);
/*!
 * @pixi/loaders - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
function Wr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function zr(t,e){return t(e={exports:{}},e.exports),e.exports}var Vr=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[i.key[o]]=r[o]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,function(t,e,r){e&&(n[i.q.name][e]=r)}),n},qr=zr(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,i,n){void 0===i&&(i=!1),r(this,t),this._fn=e,this._once=i,this._thisArg=n,this._next=this._prev=this._owner=null}return i(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){r(this,t),this._head=this._tail=void 0}return i(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=arguments,e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,t),e=e._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new n(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new n(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof n))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=n,e.default=s,t.exports=e.default});Wr(qr);var Kr=zr(function(t,e){e.__esModule=!0;var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),r=o(Vr),n=o(qr);function o(t){return t&&t.__esModule?t:{default:t}}var s=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),a=null;function h(){}var u=function(){function t(e,i,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=h,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new n.default,this.onProgress=new n.default,this.onComplete=new n.default,this.onAfterMiddleware=new n.default}return t.setExtensionLoadType=function(e,i){l(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){l(t._xhrTypeMap,e,i)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var i=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(i)},1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:s&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(c(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(c(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(c(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,i="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(i=e.responseText),0===r&&(i.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var o=document.createElement("div");o.innerHTML=i,this.data=o}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,a||(a=document.createElement("a")),a.href=t;var i=!(t=(0,r.default)(a.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),n=t.indexOf("#"),o=Math.min(r>-1?r:t.length,n>-1?n:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function l(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function c(t){return t.toString().replace("object ","")}e.default=u,u.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},u.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},u.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},u.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},u._loadTypeMap={gif:u.LOAD_TYPE.IMAGE,png:u.LOAD_TYPE.IMAGE,bmp:u.LOAD_TYPE.IMAGE,jpg:u.LOAD_TYPE.IMAGE,jpeg:u.LOAD_TYPE.IMAGE,tif:u.LOAD_TYPE.IMAGE,tiff:u.LOAD_TYPE.IMAGE,webp:u.LOAD_TYPE.IMAGE,tga:u.LOAD_TYPE.IMAGE,svg:u.LOAD_TYPE.IMAGE,"svg+xml":u.LOAD_TYPE.IMAGE,mp3:u.LOAD_TYPE.AUDIO,ogg:u.LOAD_TYPE.AUDIO,wav:u.LOAD_TYPE.AUDIO,mp4:u.LOAD_TYPE.VIDEO,webm:u.LOAD_TYPE.VIDEO},u._xhrTypeMap={xhtml:u.XHR_RESPONSE_TYPE.DOCUMENT,html:u.XHR_RESPONSE_TYPE.DOCUMENT,htm:u.XHR_RESPONSE_TYPE.DOCUMENT,xml:u.XHR_RESPONSE_TYPE.DOCUMENT,tmx:u.XHR_RESPONSE_TYPE.DOCUMENT,svg:u.XHR_RESPONSE_TYPE.DOCUMENT,tsx:u.XHR_RESPONSE_TYPE.DOCUMENT,gif:u.XHR_RESPONSE_TYPE.BLOB,png:u.XHR_RESPONSE_TYPE.BLOB,bmp:u.XHR_RESPONSE_TYPE.BLOB,jpg:u.XHR_RESPONSE_TYPE.BLOB,jpeg:u.XHR_RESPONSE_TYPE.BLOB,tif:u.XHR_RESPONSE_TYPE.BLOB,tiff:u.XHR_RESPONSE_TYPE.BLOB,webp:u.XHR_RESPONSE_TYPE.BLOB,tga:u.XHR_RESPONSE_TYPE.BLOB,json:u.XHR_RESPONSE_TYPE.JSON,text:u.XHR_RESPONSE_TYPE.TEXT,txt:u.XHR_RESPONSE_TYPE.TEXT,ttf:u.XHR_RESPONSE_TYPE.BUFFER,otf:u.XHR_RESPONSE_TYPE.BUFFER},u.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="});Wr(Kr);var Zr=zr(function(t,e){e.__esModule=!0,e.encodeBinary=function(t){var e="",r=0;for(;r<t.length;){for(var n=[0,0,0],o=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=255&t.charCodeAt(r++):n[s]=0;o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2];var a=r-(t.length-1);switch(a){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var h=0;h<o.length;++h)e+=i.charAt(o[h])}return e};var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="});Wr(Zr);Zr.encodeBinary;var Jr=zr(function(t,e){e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=function(){return function(t,e){if(t.data){if(t.xhr&&t.xhrType===r.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var o=(h=s.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=h,t.type=r.default.TYPE.IMAGE,t.data.onload=function(){s.revokeObjectURL(h),t.data.onload=null,e()},{v:void 0});if("object"===(void 0===o?"undefined":i(o)))return o.v}}else{var a=t.xhr.getResponseHeader("content-type");if(a&&0===a.indexOf("image"))return t.data=new Image,t.data.src="data:"+a+";base64,"+n.default.encodeBinary(t.xhr.responseText),t.type=r.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}var h;e()}else e()}};var r=o(Kr),n=o(Zr);function o(t){return t&&t.__esModule?t:{default:t}}var s=window.URL||window.webkitURL});Wr(Jr);var Qr=Jr.blobMiddlewareFactory,$r=function(){};$r.use=function(t,e){t.data&&t.type===Hr.Resource.TYPE.IMAGE&&(t.texture=Fe.fromLoader(t.data,t.url,t.name)),e()};var tn=function(t){function e(i,r){var n=this;t.call(this,i,r),O.a.call(this);for(var o=0;o<e._plugins.length;++o){var s=e._plugins[o],a=s.pre,h=s.use;a&&n.pre(a),h&&n.use(h)}this.onStart.add(function(t){return n.emit("start",t)}),this.onProgress.add(function(t,e){return n.emit("progress",t,e)}),this.onError.add(function(t,e,i){return n.emit("error",t,e,i)}),this.onLoad.add(function(t,e){return n.emit("load",t,e)}),this.onComplete.add(function(t,e){return n.emit("complete",t,e)}),this._protected=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={shared:{configurable:!0}};return e.prototype.destroy=function(){this._protected||(this.removeAllListeners(),this.reset())},i.shared.get=function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},Object.defineProperties(e,i),e}(Yr.a);Object.assign(tn.prototype,O.a.prototype),tn._plugins=[],tn.registerPlugin=function(t){return tn._plugins.push(t),t.add&&t.add(),tn},tn.registerPlugin({use:Qr()}),tn.registerPlugin($r);var en=function(){};en.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?tn.shared:new tn},en.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)};var rn,nn=Hr.Resource,on=new At,sn=new Jt,an=function(t){function e(e,i,r,n){void 0===n&&(n=N.TRIANGLES),t.call(this),this.geometry=e,this.shader=i,this.state=r||new Ci,this.drawMode=n,this._glDatas={},this.pluginName="mesh",this.start=0,this.size=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._render=function(t){t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){if(this.geometry.attributes.aVertexPosition){var t=this.geometry.getAttribute("aVertexPosition").data;this._bounds.addVertices(this.transform,t,0,t.length)}},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,on);for(var e=this.geometry.getAttribute("aVertexPosition").data,i=sn.points,r=this.geometry.getIndex().data,n=r.length,o=4===this.drawMode?3:1,s=0;s+2<n;s+=o){var a=2*r[s],h=2*r[s+1],u=2*r[s+2];if(i[0]=e[a],i[1]=e[a+1],i[2]=e[h],i[3]=e[h+1],i[4]=e[u],i[5]=e[u+1],sn.contains(on.x,on.y))return!0}return!1},e.prototype.destroy=function(e){for(var i in this._glDatas){var r=this._glDatas[i];r.destroy?r.destroy():(r.vertexBuffer&&(r.vertexBuffer.destroy(),r.vertexBuffer=null),r.indexBuffer&&(r.indexBuffer.destroy(),r.indexBuffer=null),r.uvBuffer&&(r.uvBuffer.destroy(),r.uvBuffer=null),r.vao&&(r.vao.destroy(),r.vao=null))}this._glDatas=null,this.geometry=null,this.shader=null,this.state=null,t.prototype.destroy.call(this,e)},e}(ee),hn=function(t){function e(e){t.call(this,e),this.shader=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.render=function(t){t.shader.program.uniformData.translationMatrix&&(t.shader.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0)),t.shader.uniforms.uTextureMatrix&&(t.uploadUvMatrix?t.shader.uniforms.uTextureMatrix=t.uvMatrix.mapCoord.toArray(!0):t.shader.uniforms.uTextureMatrix=Ft.IDENTITY.toArray(!0)),this.renderer.shader.bind(t.shader),this.renderer.state.setState(t.state),this.renderer.geometry.bind(t.geometry,t.shader),this.renderer.geometry.draw(t.drawMode,t.size,t.start,t.geometry.instanceCount)},e}($e),un="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",ln="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",cn=function(t){function e(e,i,r,n,o){void 0===e&&(e=Fe.EMPTY);var s=new ze;rn||(rn=new wi(un,ln)),s.addAttribute("aVertexPosition",i).addAttribute("aTextureCoord",r).addIndex(n),s.getAttribute("aVertexPosition").static=!1;var a={uSampler:e,uTextureMatrix:Ft.IDENTITY,alpha:1,uColor:new Float32Array([1,1,1,1])};t.call(this,s,new Pi(rn,a),null,o),this.uvs=s.getAttribute("aTextureCoord").data,this.vertices=s.getAttribute("aVertexPosition").data,this.uniforms=a,this.texture=e,this._tintRGB=new Float32Array([1,1,1]),this.tint=16777215,this.blendMode=L.NORMAL,this.uvMatrix=new Fi(this._texture),this.uploadUvMatrix=!1,this.autoUpdate=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0},blendMode:{configurable:!0},texture:{configurable:!0}};return i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,it(this._tint,this._tintRGB)},i.blendMode.get=function(){return this.state.blendMode},i.blendMode.set=function(t){this.state.blendMode=t},i.texture.get=function(){return this._texture},i.texture.set=function(t){this._texture!==t&&(this._texture=t,this.uniforms.uSampler=this.texture,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},e.prototype._render=function(e){var i=this._texture.baseTexture;at(this._tintRGB,this.worldAlpha,this.uniforms.uColor,i.premultiplyAlpha),t.prototype._render.call(this,e)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture,this.refresh())},e.prototype.multiplyUvs=function(){this.uploadUvMatrix||this.uvMatrix.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this.uvMatrix.update(t)&&this._refresh()},e.prototype.updateTransform=function(){this.autoUpdate&&this.geometry.buffers[0].update(),this.containerUpdateTransform()},e.prototype._refresh=function(){},Object.defineProperties(e.prototype,i),e}(an),dn=function(t){function e(e,i,r,n){void 0===n&&(n={}),t.call(this,e,new Float32Array(1),new Float32Array(1),new Uint16Array(1),4),this.verticesX=i||10,this.verticesY=r||10,this.meshWidth=n.meshWidth||0,this.meshHeight=n.meshHeight||0,this.refresh()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,i=[],r=[],n=[],o=this.verticesX-1,s=this.verticesY-1,a=(this.meshWidth||t.width)/o,h=(this.meshHeight||t.height)/s,u=0;u<e;u++){var l=u%this.verticesX,c=u/this.verticesX|0;i.push(l*a,c*h),r.push(l/o,c/s)}for(var d=o*s,p=0;p<d;p++){var f=p%o,g=p/o|0,y=g*this.verticesX+f,v=g*this.verticesX+f+1,m=(g+1)*this.verticesX+f,_=(g+1)*this.verticesX+f+1;n.push(y,v,m),n.push(v,_,m)}this.vertices=new Float32Array(i),this.uvs=new Float32Array(r),this.indices=new Uint16Array(n),this.geometry.buffers[0].data=this.vertices,this.geometry.buffers[1].data=this.uvs,this.geometry.indexBuffer.data=this.indices,this.geometry.buffers[0].update(),this.geometry.buffers[1].update(),this.geometry.indexBuffer.update(),this.multiplyUvs()},e}(cn),pn=10,fn=function(t){function e(e,i,r,n,o){t.call(this,e,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=void 0!==i?i:pn,this._rightWidth=void 0!==n?n:pn,this._topHeight=void 0!==r?r:pn,this._bottomHeight=void 0!==o?o:pn,this.refresh(!0)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},leftWidth:{configurable:!0},rightWidth:{configurable:!0},topHeight:{configurable:!0},bottomHeight:{configurable:!0}};return e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,i=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*i,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*i,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,i=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*i,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*i,t[6]=t[14]=t[22]=t[30]=this._width},i.width.get=function(){return this._width},i.width.set=function(t){this._width=t,this._refresh()},i.height.get=function(){return this._height},i.height.set=function(t){this._height=t,this._refresh()},i.leftWidth.get=function(){return this._leftWidth},i.leftWidth.set=function(t){this._leftWidth=t,this._refresh()},i.rightWidth.get=function(){return this._rightWidth},i.rightWidth.set=function(t){this._rightWidth=t,this._refresh()},i.topHeight.get=function(){return this._topHeight},i.topHeight.set=function(t){this._topHeight=t,this._refresh()},i.bottomHeight.get=function(){return this._bottomHeight},i.bottomHeight.set=function(t){this._bottomHeight=t,this._refresh()},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,i=this._texture;this._origWidth=i.orig.width,this._origHeight=i.orig.height;var r=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=r*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-r*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[1].update(),this.multiplyUvs()},Object.defineProperties(e.prototype,i),e}(dn),gn=function(t){function e(e,i){t.call(this,e,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(2*i.length),5),this.points=i,this.refresh()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._refresh=function(){var t=this.points;if(t){var e=this.geometry.getAttribute("aVertexPosition"),i=this.geometry.getAttribute("aTextureCoord"),r=this.geometry.getIndex();if(!(t.length<1)&&this.texture._uvs){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),i.data=new Float32Array(4*t.length),r.data=new Uint16Array(2*t.length));var n=i.data,o=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1,o[0]=0,o[1]=1;for(var s=t.length,a=1;a<s;a++){var h=4*a,u=a/(s-1);n[h]=u,n[h+1]=0,n[h+2]=u,n[h+3]=1,o[h=2*a]=h,o[h+1]=h+1}i.update(),r.update(),this.multiplyUvs(),this.refreshVertices()}}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,i=t[0],r=0,n=0,o=this.vertices,s=t.length,a=0;a<s;a++){var h=t[a],u=4*a;n=-((e=a<t.length-1?t[a+1]:h).x-i.x),r=e.y-i.y;var l=Math.sqrt(r*r+n*n),c=this._texture.height/2;r/=l,n/=l,r*=c,n*=c,o[u]=h.x+r,o[u+1]=h.y+n,o[u+2]=h.x-r,o[u+3]=h.y-n,i=h}this.geometry.buffers[0].update()}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(cn),yn=function(t){function e(e,i,r,n){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===n&&(n=!1),t.call(this);r>16384&&(r=16384),r>e&&(r=e),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=r,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=L.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(i),this._tint=0,this.tintRgb=new Float32Array(4),this.tint=16777215}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0}};return e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},i.tint.get=function(){return this._tint},i.tint.set=function(t){this._tint=t,it(t,this.tintRgb)},e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},Object.defineProperties(e.prototype,i),e}(ee),vn=function(t,e,i){this.geometry=new ze,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var n=t[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||k.FLOAT,offset:n.offset},e[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()};
/*!
 * @pixi/mesh - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */vn.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Xe(lt(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var r=this.dynamicProperties[i];r.offset=e,e+=r.size,this.dynamicStride+=r.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Xe(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var a=this.staticProperties[s];a.offset=o,o+=a.size,this.staticStride+=a.size}var h=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(h),this.staticDataUint32=new Uint32Array(h),this.staticBuffer=new Xe(this.staticData,!0,!1);for(var u=0;u<this.dynamicProperties.length;++u){var l=this.dynamicProperties[u];t.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===k.UNSIGNED_BYTE,l.type,4*this.dynamicStride,4*l.offset)}for(var c=0;c<this.staticProperties.length;++c){var d=this.staticProperties[c];t.addAttribute(d.attributeName,this.staticBuffer,0,d.type===k.UNSIGNED_BYTE,d.type,4*this.staticStride,4*d.offset)}},vn.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(t,e,i,n.type===k.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},vn.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(t,e,i,n.type===k.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},vn.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()};var mn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",_n="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",xn=function(t){function e(e){t.call(this,e),this.shader=null,this.properties=null,this.tempMatrix=new Ft,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:k.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Pi.from(mn,_n,{})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=t.children,i=t._maxSize,r=t._batchSize,n=this.renderer,o=e.length;if(0!==o){o>i&&(o=i);var s=t._buffers;s||(s=t._buffers=this.generateBuffers(t));var a=e[0]._texture.baseTexture;this.renderer.state.setBlendMode(st(t.blendMode,a.premultiplyAlpha));var h=n.gl,u=t.worldTransform.copyTo(this.tempMatrix);u.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=u.toArray(!0),this.shader.uniforms.uColor=at(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,a.premultiplyAlpha),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var l=!1,c=0,d=0;c<o;c+=r,d+=1){var p=o-c;if(p>r&&(p=r),d>=s.length){if(!t.autoResize)break;s.push(this._generateOneMoreBuffer(t))}var f=s[d];f.uploadDynamic(e,c,p);var g=t._bufferUpdateIDs[d]||0;(l=l||f._updateID<g)&&(f._updateID=t._updateID,f.uploadStatic(e,c,p)),n.geometry.bind(f.geometry),h.drawElements(h.TRIANGLES,6*p,h.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],i=t._maxSize,r=t._batchSize,n=t._properties,o=0;o<i;o+=r)e.push(new vn(this.properties,n,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,i=t._properties;return new vn(this.properties,i,e)},e.prototype.uploadVertices=function(t,e,i,r,n,o){for(var s=0,a=0,h=0,u=0,l=0;l<i;++l){var c=t[e+l],d=c._texture,p=c.scale.x,f=c.scale.y,g=d.trim,y=d.orig;g?(s=(a=g.x-c.anchor.x*y.width)+g.width,h=(u=g.y-c.anchor.y*y.height)+g.height):(s=y.width*(1-c.anchor.x),a=y.width*-c.anchor.x,h=y.height*(1-c.anchor.y),u=y.height*-c.anchor.y),r[o]=a*p,r[o+1]=u*f,r[o+n]=s*p,r[o+n+1]=u*f,r[o+2*n]=s*p,r[o+2*n+1]=h*f,r[o+3*n]=a*p,r[o+3*n+1]=h*f,o+=4*n}},e.prototype.uploadPosition=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].position;r[o]=a.x,r[o+1]=a.y,r[o+n]=a.x,r[o+n+1]=a.y,r[o+2*n]=a.x,r[o+2*n+1]=a.y,r[o+3*n]=a.x,r[o+3*n+1]=a.y,o+=4*n}},e.prototype.uploadRotation=function(t,e,i,r,n,o){for(var s=0;s<i;s++){var a=t[e+s].rotation;r[o]=a,r[o+n]=a,r[o+2*n]=a,r[o+3*n]=a,o+=4*n}},e.prototype.uploadUvs=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s]._texture._uvs;a?(r[o]=a.x0,r[o+1]=a.y0,r[o+n]=a.x1,r[o+n+1]=a.y1,r[o+2*n]=a.x2,r[o+2*n+1]=a.y2,r[o+3*n]=a.x3,r[o+3*n+1]=a.y3,o+=4*n):(r[o]=0,r[o+1]=0,r[o+n]=0,r[o+n+1]=0,r[o+2*n]=0,r[o+2*n+1]=0,r[o+3*n]=0,r[o+3*n+1]=0,o+=4*n)}},e.prototype.uploadTint=function(t,e,i,r,n,o){for(var s=0;s<i;++s){var a=t[e+s],h=a._texture.baseTexture.premultiplyAlpha,u=a.alpha,l=u<1&&h?ht(a._tintRGB,u):a._tintRGB+(255*u<<24);r[o]=l,r[o+n]=l,r[o+2*n]=l,r[o+3*n]=l,o+=4*n}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}($e),bn={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},Tn={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:bn.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},En=function(t){this.styleID=0,this.reset(),An(this,t,t)},wn={align:{configurable:!0},breakWords:{configurable:!0},dropShadow:{configurable:!0},dropShadowAlpha:{configurable:!0},dropShadowAngle:{configurable:!0},dropShadowBlur:{configurable:!0},dropShadowColor:{configurable:!0},dropShadowDistance:{configurable:!0},fill:{configurable:!0},fillGradientType:{configurable:!0},fillGradientStops:{configurable:!0},fontFamily:{configurable:!0},fontSize:{configurable:!0},fontStyle:{configurable:!0},fontVariant:{configurable:!0},fontWeight:{configurable:!0},letterSpacing:{configurable:!0},lineHeight:{configurable:!0},leading:{configurable:!0},lineJoin:{configurable:!0},miterLimit:{configurable:!0},padding:{configurable:!0},stroke:{configurable:!0},strokeThickness:{configurable:!0},textBaseline:{configurable:!0},trim:{configurable:!0},whiteSpace:{configurable:!0},wordWrap:{configurable:!0},wordWrapWidth:{configurable:!0}};function Sn(t){return"number"==typeof t?rt(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Pn(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Sn(t[e]);return t}return Sn(t)}function An(t,e,i){for(var r in i)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}En.prototype.clone=function(){var t={};return An(t,this,Tn),new En(t)},En.prototype.reset=function(){An(this,Tn,Tn)},wn.align.get=function(){return this._align},wn.align.set=function(t){this._align!==t&&(this._align=t,this.styleID++)},wn.breakWords.get=function(){return this._breakWords},wn.breakWords.set=function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},wn.dropShadow.get=function(){return this._dropShadow},wn.dropShadow.set=function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},wn.dropShadowAlpha.get=function(){return this._dropShadowAlpha},wn.dropShadowAlpha.set=function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},wn.dropShadowAngle.get=function(){return this._dropShadowAngle},wn.dropShadowAngle.set=function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},wn.dropShadowBlur.get=function(){return this._dropShadowBlur},wn.dropShadowBlur.set=function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},wn.dropShadowColor.get=function(){return this._dropShadowColor},wn.dropShadowColor.set=function(t){var e=Pn(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},wn.dropShadowDistance.get=function(){return this._dropShadowDistance},wn.dropShadowDistance.set=function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},wn.fill.get=function(){return this._fill},wn.fill.set=function(t){var e=Pn(t);this._fill!==e&&(this._fill=e,this.styleID++)},wn.fillGradientType.get=function(){return this._fillGradientType},wn.fillGradientType.set=function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},wn.fillGradientStops.get=function(){return this._fillGradientStops},wn.fillGradientStops.set=function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},wn.fontFamily.get=function(){return this._fontFamily},wn.fontFamily.set=function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},wn.fontSize.get=function(){return this._fontSize},wn.fontSize.set=function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},wn.fontStyle.get=function(){return this._fontStyle},wn.fontStyle.set=function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},wn.fontVariant.get=function(){return this._fontVariant},wn.fontVariant.set=function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},wn.fontWeight.get=function(){return this._fontWeight},wn.fontWeight.set=function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},wn.letterSpacing.get=function(){return this._letterSpacing},wn.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},wn.lineHeight.get=function(){return this._lineHeight},wn.lineHeight.set=function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},wn.leading.get=function(){return this._leading},wn.leading.set=function(t){this._leading!==t&&(this._leading=t,this.styleID++)},wn.lineJoin.get=function(){return this._lineJoin},wn.lineJoin.set=function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},wn.miterLimit.get=function(){return this._miterLimit},wn.miterLimit.set=function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},wn.padding.get=function(){return this._padding},wn.padding.set=function(t){this._padding!==t&&(this._padding=t,this.styleID++)},wn.stroke.get=function(){return this._stroke},wn.stroke.set=function(t){var e=Pn(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},wn.strokeThickness.get=function(){return this._strokeThickness},wn.strokeThickness.set=function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},wn.textBaseline.get=function(){return this._textBaseline},wn.textBaseline.set=function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},wn.trim.get=function(){return this._trim},wn.trim.set=function(t){this._trim!==t&&(this._trim=t,this.styleID++)},wn.whiteSpace.get=function(){return this._whiteSpace},wn.whiteSpace.set=function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},wn.wordWrap.get=function(){return this._wordWrap},wn.wordWrap.set=function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},wn.wordWrapWidth.get=function(){return this._wordWrapWidth},wn.wordWrapWidth.set=function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},En.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();/([\"\'])[^\'\"]+\1/.test(r)||(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},Object.defineProperties(En.prototype,wn);var Cn=function(t,e,i,r,n,o,s,a,h){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=n,this.lineWidths=o,this.lineHeight=s,this.maxLineWidth=a,this.fontProperties=h};Cn.measureText=function(t,e,i,r){void 0===r&&(r=Cn._canvas),i=i||e.wordWrap;var n=e.toFontString(),o=Cn.measureFont(n),s=r.getContext("2d");s.font=n;for(var a=(i?Cn.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),h=new Array(a.length),u=0,l=0;l<a.length;l++){var c=s.measureText(a[l]).width+(a[l].length-1)*e.letterSpacing;h[l]=c,u=Math.max(u,c)}var d=u+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);var p=e.lineHeight||o.fontSize+e.strokeThickness,f=Math.max(p,o.fontSize+e.strokeThickness)+(a.length-1)*(p+e.leading);return e.dropShadow&&(f+=e.dropShadowDistance),new Cn(t,e,d,f,a,h,p+e.leading,u,o)},Cn.wordWrap=function(t,e,i){void 0===i&&(i=Cn._canvas);for(var r=i.getContext("2d"),n=0,o="",s="",a={},h=e.letterSpacing,u=e.whiteSpace,l=Cn.collapseSpaces(u),c=Cn.collapseNewlines(u),d=!l,p=e.wordWrapWidth+h,f=Cn.tokenize(t),g=0;g<f.length;g++){var y=f[g];if(Cn.isNewline(y)){if(!c){s+=Cn.addLine(o),d=!l,o="",n=0;continue}y=" "}if(l){var v=Cn.isBreakingSpace(y),m=Cn.isBreakingSpace(o[o.length-1]);if(v&&m)continue}var _=Cn.getFromCache(y,h,a,r);if(_>p)if(""!==o&&(s+=Cn.addLine(o),o="",n=0),Cn.canBreakWords(y,e.breakWords))for(var x=y.split(""),b=0;b<x.length;b++){for(var T=x[b],E=1;x[b+E];){var w=x[b+E],S=T[T.length-1];if(Cn.canBreakChars(S,w,y,b,e.breakWords))break;T+=w,E++}b+=T.length-1;var P=Cn.getFromCache(T,h,a,r);P+n>p&&(s+=Cn.addLine(o),d=!1,o="",n=0),o+=T,n+=P}else{o.length>0&&(s+=Cn.addLine(o),o="",n=0);var A=g===f.length-1;s+=Cn.addLine(y,!A),d=!1,o="",n=0}else _+n>p&&(d=!1,s+=Cn.addLine(o),o="",n=0),(o.length>0||!Cn.isBreakingSpace(y)||d)&&(o+=y,n+=_)}return s+=Cn.addLine(o,!1)},Cn.addLine=function(t,e){return void 0===e&&(e=!0),t=Cn.trimRight(t),t=e?t+"\n":t},Cn.getFromCache=function(t,e,i,r){var n=i[t];if(void 0===n){var o=t.length*e;n=r.measureText(t).width+o,i[t]=n}return n},Cn.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},Cn.collapseNewlines=function(t){return"normal"===t},Cn.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0;e--){var i=t[e];if(!Cn.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},Cn.isNewline=function(t){return"string"==typeof t&&Cn._newlines.indexOf(t.charCodeAt(0))>=0},Cn.isBreakingSpace=function(t){return"string"==typeof t&&Cn._breakingSpaces.indexOf(t.charCodeAt(0))>=0},Cn.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var n=t[r];Cn.isBreakingSpace(n)||Cn.isNewline(n)?(""!==i&&(e.push(i),i=""),e.push(n)):i+=n}return""!==i&&e.push(i),e},Cn.canBreakWords=function(t,e){return e},Cn.canBreakChars=function(t,e,i,r,n){return!0},Cn.measureFont=function(t){if(Cn._fonts[t])return Cn._fonts[t];var e={},i=Cn._canvas,r=Cn._context;r.font=t;var n=Cn.METRICS_STRING+Cn.BASELINE_SYMBOL,o=Math.ceil(r.measureText(n).width),s=Math.ceil(r.measureText(Cn.BASELINE_SYMBOL).width),a=2*s;s=s*Cn.BASELINE_MULTIPLIER|0,i.width=o,i.height=a,r.fillStyle="#f00",r.fillRect(0,0,o,a),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(n,0,s);var h=r.getImageData(0,0,o,a).data,u=h.length,l=4*o,c=0,d=0,p=!1;for(c=0;c<s;++c){for(var f=0;f<l;f+=4)if(255!==h[d+f]){p=!0;break}if(p)break;d+=l}for(e.ascent=s-c,d=u-l,p=!1,c=a;c>s;--c){for(var g=0;g<l;g+=4)if(255!==h[d+g]){p=!0;break}if(p)break;d-=l}return e.descent=c-s,e.fontSize=e.ascent+e.descent,Cn._fonts[t]=e,e},Cn.clearMetrics=function(t){void 0===t&&(t=""),t?delete Cn._fonts[t]:Cn._fonts={}};var Dn=document.createElement("canvas");Dn.width=Dn.height=10,Cn._canvas=Dn,Cn._context=Dn.getContext("2d"),Cn._fonts={},Cn.METRICS_STRING="|q",Cn.BASELINE_SYMBOL="M",Cn.BASELINE_MULTIPLIER=1.4,Cn._newlines=[10,13],Cn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var On={texture:!0,children:!1,baseTexture:!0},In=function(t){function e(e,i,r){(r=r||document.createElement("canvas")).width=3,r.height=3;var n=Fe.from(r,W.SCALE_MODE,"text");n.orig=new zt,n.trim=new zt,t.call(this,n),Fe.addToCache(this._texture,this._texture.baseTexture.textureCacheIds[0]),this.canvas=r,this.context=this.canvas.getContext("2d"),this.resolution=W.RESOLUTION,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=i,this.localStyleID=-1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={width:{configurable:!0},height:{configurable:!0},style:{configurable:!0},text:{configurable:!0}};return e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,n=this.context,o=Cn.measureText(this._text,this._style,this._style.wordWrap,this.canvas),s=o.width,a=o.height,h=o.lines,u=o.lineHeight,l=o.lineWidths,c=o.maxLineWidth,d=o.fontProperties;if(this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*e.padding)*this.resolution),n.scale(this.resolution,this.resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.strokeStyle=e.stroke,n.lineWidth=e.strokeThickness,n.textBaseline=e.textBaseline,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,e.dropShadow){n.fillStyle=e.dropShadowColor,n.globalAlpha=e.dropShadowAlpha,n.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(n.shadowColor=e.dropShadowColor);for(var p=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,f=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,g=0;g<h.length;g++)i=e.strokeThickness/2,r=e.strokeThickness/2+g*u+d.ascent,"right"===e.align?i+=c-l[g]:"center"===e.align&&(i+=(c-l[g])/2),e.fill&&(this.drawLetterSpacing(h[g],i+p+e.padding,r+f+e.padding),e.stroke&&e.strokeThickness&&(n.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(h[g],i+p+e.padding,r+f+e.padding,!0),n.strokeStyle=e.stroke))}n.shadowBlur=0,n.globalAlpha=1,n.fillStyle=this._generateFillStyle(e,h);for(var y=0;y<h.length;y++)i=e.strokeThickness/2,r=e.strokeThickness/2+y*u+d.ascent,"right"===e.align?i+=c-l[y]:"center"===e.align&&(i+=(c-l[y])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(h[y],i+e.padding,r+e.padding,!0),e.fill&&this.drawLetterSpacing(h[y],i+e.padding,r+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i,r){void 0===r&&(r=!1);var n=this._style.letterSpacing;if(0!==n)for(var o=String.prototype.split.call(t,""),s=e,a=0,h="";a<t.length;)h=o[a++],r?this.context.strokeText(h,s,i):this.context.fillText(h,s,i),s+=this.context.measureText(h).width+n;else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=_t(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var i=this._texture,r=this._style,n=r.trim?0:r.padding,o=i.baseTexture;i.trim.width=i._frame.width=t.width/this.resolution,i.trim.height=i._frame.height=t.height/this.resolution,i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),o.setRealSize(t.width,t.height,this.resolution),this.dirty=!1},e.prototype.render=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.render.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var i,r,n,o,s=this.canvas.width/this.resolution,a=this.canvas.height/this.resolution,h=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var l=h.length+1,c=1;c<l;++c)u.push(c/l);if(h.unshift(t.fill[0]),u.unshift(0),h.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===bn.LINEAR_VERTICAL){i=this.context.createLinearGradient(s/2,0,s/2,a),r=(h.length+1)*e.length,n=0;for(var d=0;d<e.length;d++){n+=1;for(var p=0;p<h.length;p++)o="number"==typeof u[p]?u[p]/e.length+d/e.length:n/r,i.addColorStop(o,h[p]),n++}}else{i=this.context.createLinearGradient(0,a/2,s,a/2),r=h.length+1,n=1;for(var f=0;f<h.length;f++)o="number"==typeof u[f]?u[f]:n/r,i.addColorStop(o,h[f]),n++}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},On,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},i.width.get=function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},i.width.set=function(t){this.updateText(!0);var e=pt(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},i.height.get=function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},i.height.set=function(t){this.updateText(!0);var e=pt(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},i.style.get=function(){return this._style},i.style.set=function(t){t=t||{},this._style=t instanceof En?t:new En(t),this.localStyleID=-1,this.dirty=!0},i.text.get=function(){return this._text},i.text.set=function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)},Object.defineProperties(e.prototype,i),e}(cr),Mn=function(t){this.maxItemsPerFrame=t,this.itemsLeft=0};Mn.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},Mn.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},W.UPLOADS_PER_FRAME=4;var Rn=function(t){var e=this;this.limiter=new Mn(W.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(kn),this.registerFindHook(Xn),this.registerFindHook(Fn),this.registerFindHook(Ln),this.registerFindHook(Nn),this.registerUploadHook(Bn),this.registerUploadHook(Un)};function Fn(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof Fe){var n=t._textures[r].baseTexture;-1===e.indexOf(n)&&(e.push(n),i=!0)}return i}function Ln(t,e){return t instanceof Ee&&(-1===e.indexOf(t)&&e.push(t),!0)}function Nn(t,e){if(t._texture&&t._texture instanceof Fe){var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Bn(t,e){return e instanceof In&&(e.updateText(!0),!0)}function Un(t,e){if(e instanceof En){var i=e.toFontString();return Cn.measureFont(i),!0}return!1}function kn(t,e){if(t instanceof In){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var i=t._texture.baseTexture;return-1===e.indexOf(i)&&e.push(i),!0}return!1}function Xn(t,e){return t instanceof En&&(-1===e.indexOf(t)&&e.push(t),!0)}Rn.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,he.shared.addOnce(this.tick,this,se.UTILITY))):e&&e()},Rn.prototype.tick=function(){setTimeout(this.delayedTick,0)},Rn.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)he.shared.addOnce(this.tick,this,se.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,s=n.length;o<s;o++)n[o]()}},Rn.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},Rn.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},Rn.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof ee)for(var r=t.children.length-1;r>=0;r--)this.add(t.children[r]);return this},Rn.prototype.destroy=function(){this.ticking&&he.shared.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null};var Gn=function(t){function e(e){t.call(this,e),this.uploadHookHelper=this.renderer,this.registerFindHook(Yn),this.registerUploadHook(jn),this.registerUploadHook(Hn)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Rn);function jn(t,e){return e instanceof Ee&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function Hn(t,e){return e instanceof br&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function Yn(t,e){return t instanceof br&&(e.push(t),!0)}var Wn=function(t){this.maxMilliseconds=t,this.frameStart=0};Wn.prototype.beginFrame=function(){this.frameStart=Date.now()},Wn.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds};
/*!
 * @pixi/sprite-animated - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var zn=function(t){function e(e,i){t.call(this,e[0]instanceof Fe?e[0]:e[0].texture),this._textures=null,this._durations=null,this.textures=e,this._autoUpdate=!1!==i,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this.playing=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={totalFrames:{configurable:!0},textures:{configurable:!0},currentFrame:{configurable:!0}};return e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&he.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&he.shared.add(this.update,this,se.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var i=[],r=0;r<t.length;++r)i.push(Fe.from(t[r]));return new e(i)},e.fromImages=function(t){for(var i=[],r=0;r<t.length;++r)i.push(Fe.from(t[r]));return new e(i)},i.totalFrames.get=function(){return this._textures.length},i.textures.get=function(){return this._textures},i.textures.set=function(t){if(t[0]instanceof Fe)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()},i.currentFrame.get=function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},Object.defineProperties(e.prototype,i),e}(cr),Vn=function(t,e,i){void 0===i&&(i=null),this.baseTexture=t,this.textures={},this.data=e,this.resolution=this._updateResolution(i||(this.baseTexture.resource?this.baseTexture.resource.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null},qn={BATCH_SIZE:{configurable:!0}};
/*!
 * @pixi/spritesheet - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */qn.BATCH_SIZE.get=function(){return 1e3},Vn.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=Pt(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},Vn.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=Vn.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},Vn.prototype._processFrames=function(t){for(var e=t,i=Vn.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],n=this._frames[r],o=n.frame;if(o){var s=null,a=null,h=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,u=new zt(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);s=n.rotated?new zt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new zt(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(a=new zt(Math.floor(n.spriteSourceSize.x)/this.resolution,Math.floor(n.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[r]=new Fe(this.baseTexture,s,u,a,n.rotated?2:0),Fe.addToCache(this.textures[r],r)}e++}},Vn.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},Vn.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*Vn.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*Vn.BATCH_SIZE<t._frameKeys.length?t._nextBatch():t._parseComplete()},0)},Vn.prototype.destroy=function(t){for(var e in void 0===t&&(t=!1),this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},Object.defineProperties(Vn,qn);var Kn=function(){};Kn.use=function(t,e){var i=t.name+"_image";if(t.data&&t.type===nn.TYPE.JSON&&t.data.frames&&!this.resources[i]){var r={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},n=Kn.getResourcePath(t,this.baseUrl);this.add(i,n,r,function(i){if(i.error)e(i.error);else{var r=new Vn(i.texture.baseTexture,t.data,t.url);r.parse(function(){t.spritesheet=r,t.textures=r.textures,e()})}})}else e()},Kn.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:V.a.resolve(t.url.replace(e,""),t.data.meta.image)};
/*!
 * @pixi/sprite-tiling - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Zn=new At,Jn=function(t){function e(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100),t.call(this,e),this.tileTransform=new Yt,this._width=i,this._height=r,this._canvasPattern=null,this.uvMatrix=e.uvMatrix||new Fi(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={clampMargin:{configurable:!0},tileScale:{configurable:!0},tilePosition:{configurable:!0},width:{configurable:!0},height:{configurable:!0}};return i.clampMargin.get=function(){return this.uvMatrix.clampMargin},i.clampMargin.set=function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},i.tileScale.get=function(){return this.tileTransform.scale},i.tileScale.set=function(t){this.tileTransform.scale.copyFrom(t)},i.tilePosition.get=function(){return this.tileTransform.position},i.tilePosition.set=function(t){this.tileTransform.position.copyFrom(t)},e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this.cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new zt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Zn);var e=this._width,i=this._height,r=-e*this.anchor._x;if(Zn.x>=r&&Zn.x<r+e){var n=-i*this.anchor._y;if(Zn.y>=n&&Zn.y<n+i)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,i,r){return new e(Fe.from(t),i,r)},e.fromFrame=function(t,i,r){var n=gt[t];if(!n)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(n,i,r)},e.fromImage=function(t,i,r,n){return n&&"object"!=typeof n&&(n={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),new e(Fe.from(t,n),i,r)},i.width.get=function(){return this._width},i.width.set=function(t){this._width=t},i.height.get=function(){return this._height},i.height.set=function(t){this._height=t},Object.defineProperties(e.prototype,i),e}(cr),Qn="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",$n="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n",to="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",eo=new Ft,io=function(t){function e(e){t.call(this,e);var i={globals:this.renderer.globalUniforms};this.shader=Pi.from(Qn,$n,i),this.simpleShader=Pi.from(Qn,to,i),this.quad=new qe}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(t){var e=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&((r=i.uvs)[0]=r[6]=-t.anchor.x,r[1]=r[3]=-t.anchor.y,r[2]=r[4]=1-t.anchor.x,r[5]=r[7]=1-t.anchor.y),i.invalidate();var n=t._texture,o=n.baseTexture,s=t.tileTransform.localTransform,a=t.uvMatrix,h=o.isPowerOfTwo&&n.frame.width===o.width&&n.frame.height===o.height;h&&(o._glTextures[e.CONTEXT_UID]?h=o.wrapMode!==G.CLAMP:o.wrapMode===G.CLAMP&&(o.wrapMode=G.REPEAT));var u=h?this.simpleShader:this.shader,l=n.width,c=n.height,d=t._width,p=t._height;eo.set(s.a*l/d,s.b*l/p,s.c*c/d,s.d*c/p,s.tx/d,s.ty/p),eo.invert(),h?eo.prepend(a.mapCoord):(u.uniforms.uMapCoord=a.mapCoord.toArray(!0),u.uniforms.uClampFrame=a.uClampFrame,u.uniforms.uClampOffset=a.uClampOffset),u.uniforms.uTransform=eo.toArray(!0),u.uniforms.uColor=ut(t.tint,t.worldAlpha,u.uniforms.uColor,o.premultiplyAlpha),u.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),u.uniforms.uSampler=n,e.shader.bind(u),e.geometry.bind(i),e.state.setBlendMode(st(t.blendMode,o.premultiplyAlpha)),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}($e),ro=function(t){function e(e,i){var r=this;void 0===i&&(i={}),t.call(this),this._textWidth=0,this._textHeight=0,this._glyphs=[],this._font={tint:void 0!==i.tint?i.tint:16777215,align:i.align||"left",name:null,size:0},this.font=i.font,this._text=e,this._maxWidth=0,this._maxLineHeight=0,this._letterSpacing=0,this._anchor=new Ct(function(){r.dirty=!0},this,0,0),this.dirty=!1,this.updateText()}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={tint:{configurable:!0},align:{configurable:!0},anchor:{configurable:!0},font:{configurable:!0},text:{configurable:!0},maxWidth:{configurable:!0},maxLineHeight:{configurable:!0},textWidth:{configurable:!0},letterSpacing:{configurable:!0},textHeight:{configurable:!0}};return e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],i=this._font.size/t.size,r=new At,n=[],o=[],s=this.text.replace(/(?:\r\n|\r)/g,"\n"),a=s.length,h=this._maxWidth*t.size/this._font.size,u=null,l=0,c=0,d=0,p=-1,f=0,g=0,y=0,v=0;v<a;v++){var m=s.charCodeAt(v),_=s.charAt(v);if(/(?:\s)/.test(_)&&(p=v,f=l),"\r"!==_&&"\n"!==_){var x=t.chars[m];x&&(u&&x.kerning[u]&&(r.x+=x.kerning[u]),n.push({texture:x.texture,line:d,charCode:m,position:new At(r.x+x.xOffset+this._letterSpacing/2,r.y+x.yOffset)}),r.x+=x.xAdvance+this._letterSpacing,l=r.x,y=Math.max(y,x.yOffset+x.texture.height),u=m,-1!==p&&h>0&&r.x>h&&(++g,C()(n,1+p-g,1+v-p),v=p,p=-1,o.push(f),c=Math.max(c,f),d++,r.x=0,r.y+=t.lineHeight,u=null))}else o.push(l),c=Math.max(c,l),++d,++g,r.x=0,r.y+=t.lineHeight,u=null}var b=s.charAt(s.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(l=f),o.push(l),c=Math.max(c,l));for(var T=[],E=0;E<=d;E++){var w=0;"right"===this._font.align?w=c-o[E]:"center"===this._font.align&&(w=(c-o[E])/2),T.push(w)}for(var S=n.length,P=this.tint,A=0;A<S;A++){var D=this._glyphs[A];D?D.texture=n[A].texture:(D=new cr(n[A].texture),this._glyphs.push(D)),D.position.x=(n[A].position.x+T[n[A].line])*i,D.position.y=n[A].position.y*i,D.scale.x=D.scale.y=i,D.tint=P,D.parent||this.addChild(D)}for(var O=S;O<this._glyphs.length;++O)this.removeChild(this._glyphs[O]);if(this._textWidth=c*i,this._textHeight=(r.y+t.lineHeight)*i,0!==this.anchor.x||0!==this.anchor.y)for(var I=0;I<S;I++)this._glyphs[I].x-=this._textWidth*this.anchor.x,this._glyphs[I].y-=this._textHeight*this.anchor.y;this._maxLineHeight=y*i},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.tint.get=function(){return this._font.tint},i.tint.set=function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0},i.align.get=function(){return this._font.align},i.align.set=function(t){this._font.align=t||"left",this.dirty=!0},i.anchor.get=function(){return this._anchor},i.anchor.set=function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},i.font.get=function(){return this._font},i.font.set=function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)},i.text.get=function(){return this._text},i.text.set=function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)},i.maxWidth.get=function(){return this._maxWidth},i.maxWidth.set=function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},i.maxLineHeight.get=function(){return this.validate(),this._maxLineHeight},i.textWidth.get=function(){return this.validate(),this._textWidth},i.letterSpacing.get=function(){return this._letterSpacing},i.letterSpacing.set=function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},i.textHeight.get=function(){return this.validate(),this._textHeight},e.registerFont=function(t,i){var r={},n=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("page"),a=Pt(s[0].getAttribute("file"),W.RESOLUTION),h={};r.font=n.getAttribute("face"),r.size=parseInt(n.getAttribute("size"),10),r.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,r.chars={},i instanceof Fe&&(i=[i]);for(var u=0;u<s.length;u++){var l=s[u].getAttribute("id"),c=s[u].getAttribute("file");h[l]=i instanceof Array?i[u]:i[c]}for(var d=t.getElementsByTagName("char"),p=0;p<d.length;p++){var f=d[p],g=parseInt(f.getAttribute("id"),10),y=f.getAttribute("page")||0,v=new zt(parseInt(f.getAttribute("x"),10)/a+h[y].frame.x/a,parseInt(f.getAttribute("y"),10)/a+h[y].frame.y/a,parseInt(f.getAttribute("width"),10)/a,parseInt(f.getAttribute("height"),10)/a);r.chars[g]={xOffset:parseInt(f.getAttribute("xoffset"),10)/a,yOffset:parseInt(f.getAttribute("yoffset"),10)/a,xAdvance:parseInt(f.getAttribute("xadvance"),10)/a,kerning:{},texture:new Fe(h[y].baseTexture,v),page:y}}for(var m=t.getElementsByTagName("kerning"),_=0;_<m.length;_++){var x=m[_],b=parseInt(x.getAttribute("first"),10)/a,T=parseInt(x.getAttribute("second"),10)/a,E=parseInt(x.getAttribute("amount"),10)/a;r.chars[T]&&(r.chars[T].kerning[b]=E)}return e.fonts[r.font]=r,r},Object.defineProperties(e.prototype,i),e}(ee);ro.fonts={};var no=function(){};no.parse=function(t,e){t.bitmapFont=ro.registerFont(t.data,e)},no.add=function(){nn.setExtensionXhrType("fnt",nn.XHR_RESPONSE_TYPE.DOCUMENT)},no.dirname=function(t){var e=t.replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},no.use=function(t,e){if(t.data&&t.type===nn.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var i=t.isDataUrl?"":no.dirname(t.url);t.isDataUrl&&("."===i&&(i=""),this.baseUrl&&i&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/")),(i=i.replace(this.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/");for(var r=t.data.getElementsByTagName("page"),n={},o=function(i){n[i.metadata.pageFile]=i.texture,Object.keys(n).length===r.length&&(no.parse(t,n),e())},s=0;s<r.length;++s){var a=r[s].getAttribute("file"),h=i+a,u=!1;for(var l in this.resources)if(this.resources[l].url===h){this.resources[l].metadata.pageFile=a,o(this.resources[l]),u=!0;break}if(!u){var c={crossOrigin:t.crossOrigin,loadType:nn.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:a},t.metadata.imageMetadata),parentResource:t};this.add(h,c,o)}}}else e();else e()};
/*!
 * @pixi/fragments - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/fragments is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var oo="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",so="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ao="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",ho=function(t){function e(e){void 0===e&&(e=1),t.call(this,oo,ao,{uAlpha:1}),this.alpha=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={alpha:{configurable:!0}};return i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(Oi),uo="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 inputClamp;\n    uniform vec4 outputFrame;\n    \n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n    \n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n    \n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function lo(t,e){var i,r=Math.ceil(t/2),n=uo,o="";i=e?"vBlurTexCoords[%index%] =  min( textureCoord + vec2(%sampleIndex% * strength, 0.0), inputClamp.zw);":"vBlurTexCoords[%index%] =  min( textureCoord + vec2(0.0, %sampleIndex% * strength), inputClamp.zw);";for(var s=0;s<t;s++){var a=i.replace("%index%",s);o+=a=a.replace("%sampleIndex%",s-(r-1)+".0"),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}var co={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},po=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function fo(t){for(var e,i=co[t],r=i.length,n=po,o="",s=0;s<t;s++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",s);e=s,s>=r&&(e=t-s-1),o+=a=a.replace("%value%",i[e]),o+="\n"}return n=(n=n.replace("%blur%",o)).replace("%size%",t)}var go=function(t){function e(e,i,r,n,o){var s=lo(o=o||5,e),a=fo(o);t.call(this,s,a),this.horizontal=e,this.resolution=n||W.RESOLUTION,this._quality=0,this.quality=r||4,this.blur=i||8,this.firstRun=!0}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},quality:{configurable:!0}};return e.prototype.apply=function(t,e,i,r){if(this.firstRun){var n=function(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),i=15;i>e;)i-=2;return i}(t.renderer.gl);this.vertexSrc=lo(n,!0),this.fragmentSrc=fo(n),this.firstRun=!1}if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/e.width):this.uniforms.strength=1/i.height*(i.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,r);else{var o=t.getFilterTexture(),s=t.renderer,a=e,h=o;this.state.blend=!1,t.applyFilter(this,a,h,!1);for(var u=1;u<this.passes-1;u++){s.renderTexture.bind(a,a.filterFrame),this.uniforms.uSampler=h;var l=h;h=a,a=l,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,h,i,r),t.returnFilterTexture(o)}},i.blur.get=function(){return this.strength},i.blur.set=function(t){this.padding=1+2*Math.abs(t),this.strength=t},i.quality.get=function(){return this._quality},i.quality.set=function(t){this._quality=t,this.passes=t},Object.defineProperties(e.prototype,i),e}(Oi),yo=function(t){function e(e,i,r,n){t.call(this),this.blurXFilter=new go(!0,e,i,r,n),this.blurYFilter=new go(!1,e,i,r,n),this._padding=0,this.resolution=r||W.RESOLUTION,this.quality=i||4,this.blur=e||8,this.repeatEdgePixels=!1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={blur:{configurable:!0},quality:{configurable:!0},blurX:{configurable:!0},blurY:{configurable:!0},blendMode:{configurable:!0},repeatEdgePixels:{configurable:!0}};return e.prototype.apply=function(t,e,i){var r=Math.abs(this.blurXFilter.strength),n=Math.abs(this.blurYFilter.strength);if(r&&n){var o=t.getFilterTexture(!0);this.blurXFilter.apply(t,e,o,!0),this.blurYFilter.apply(t,o,i,!1),t.returnFilterTexture(o)}else n?this.blurYFilter.apply(t,e,i,!1):this.blurXFilter.apply(t,e,i,!1)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},i.blur.get=function(){return this.blurXFilter.blur},i.blur.set=function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},i.quality.get=function(){return this.blurXFilter.quality},i.quality.set=function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},i.blurX.get=function(){return this.blurXFilter.blur},i.blurX.set=function(t){this.blurXFilter.blur=t,this.updatePadding()},i.blurY.get=function(){return this.blurYFilter.blur},i.blurY.set=function(t){this.blurYFilter.blur=t,this.updatePadding()},i.blendMode.get=function(){return this.blurYFilter._blendMode},i.blendMode.set=function(t){this.blurYFilter._blendMode=t},i.repeatEdgePixels.get=function(){return this._repeatEdgePixels},i.repeatEdgePixels.set=function(t){this._repeatEdgePixels=t,this.updatePadding()},Object.defineProperties(e.prototype,i),e}(Oi),vo="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",mo=function(t){function e(){var e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};t.call(this,so,vo,e),this.alpha=1}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={matrix:{configurable:!0},alpha:{configurable:!0}};return e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),r=Math.sin(t),n=1/3,o=(0,Math.sqrt)(n),s=[i+(1-i)*n,n*(1-i)-o*r,n*(1-i)+o*r,0,0,n*(1-i)+o*r,i+n*(1-i),n*(1-i)-o*r,0,0,n*(1-i)-o*r,n*(1-i)+o*r,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(s,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var i=2*t/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,i,r,n){var o=((i=i||16770432)>>16&255)/255,s=(i>>8&255)/255,a=(255&i)/255,h=((r=r||3375104)>>16&255)/255,u=(r>>8&255)/255,l=(255&r)/255,c=[.3,.59,.11,0,0,o,s,a,t=t||.2,0,h,u,l,e=e||.15,0,o-h,s-u,a-l,0,0];this._loadMatrix(c,n)},e.prototype.night=function(t,e){var i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},i.matrix.get=function(){return this.uniforms.m},i.matrix.set=function(t){this.uniforms.m=t},i.alpha.get=function(){return this.uniforms.uAlpha},i.alpha.set=function(t){this.uniforms.uAlpha=t},Object.defineProperties(e.prototype,i),e}(Oi);mo.prototype.grayscale=mo.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var _o="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",xo="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale * inputSize.zw;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",bo=function(t){function e(e,i){var r=new Ft;e.renderable=!1,t.call(this,_o,xo,{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1}}),this.maskSprite=e,this.maskMatrix=r,null==i&&(i=20),this.scale=new At(i,i)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={map:{configurable:!0}};return e.prototype.apply=function(t,e,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,t.applyFilter(this,e,i)},i.map.get=function(){return this.uniforms.mapSampler},i.map.set=function(t){this.uniforms.mapSampler=t},Object.defineProperties(e.prototype,i),e}(Oi),To="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",Eo='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',wo=function(t){function e(){t.call(this,To,Eo)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Oi),So="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",Po=function(t){function e(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random()),t.call(this,so,So,{uNoise:0,uSeed:0}),this.noise=e,this.seed=i}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var i={noise:{configurable:!0},seed:{configurable:!0}};return i.noise.get=function(){return this.uniforms.uNoise},i.noise.set=function(t){this.uniforms.uNoise=t},i.seed.get=function(){return this.uniforms.uSeed},i.seed.set=function(t){this.uniforms.uSeed=t},Object.defineProperties(e.prototype,i),e}(Oi),Ao=new Ft;te.prototype._cacheAsBitmap=!1,te.prototype._cacheData=!1;var Co=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(te.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new Co),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),te.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},te.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var i=this.getLocalBounds().clone();if(this.filters){var r=this.filters[0].padding;i.pad(r)}var n=t._activeRenderTarget,o=Ne.create(0|i.width,0|i.height),s="cacheAsBitmap_"+dt();this._cacheData.textureCacheId=s,Ee.addToCache(o.baseTexture,s),Fe.addToCache(o,s);var a=Ao;a.tx=-i.x,a.ty=-i.y,this.transform.worldTransform.identity(),this.render=this._cacheData.originalRender,t.render(this,o,!0,a,!0),t.renderTexture.bind(n),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var h=new cr(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-i.x/i.width,h.anchor.y=-i.y/i.height,h.alpha=e,h._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}},te.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},te.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var r=t.context,n=Ne.create(0|e.width,0|e.height),o="cacheAsBitmap_"+dt();this._cacheData.textureCacheId=o,Ee.addToCache(n.baseTexture,o),Fe.addToCache(n,o);var s=Ao;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,n,!0,s,!1),t.context=r,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var a=new cr(n);a.transform.worldTransform=this.transform.worldTransform,a.anchor.x=-e.x/e.width,a.anchor.y=-e.y/e.height,a._bounds=this._bounds,a.alpha=i,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=a,this.containsPoint=a.containsPoint.bind(a)}},te.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},te.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},te.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ee.removeFromCache(this._cacheData.textureCacheId),Fe.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},te.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},
/*!
 * @pixi/mixin-get-child-by-name - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
te.prototype.name=null,ee.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null},
/*!
 * @pixi/mixin-get-global-position - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
te.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new At),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};
/*!
 * pixi.js - v5.0.0-alpha.3
 * Compiled Tue, 03 Jul 2018 04:08:21 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var Do={};function Oo(t){if(!Do[t]){var e=(new Error).stack;void 0===e?console.warn("Deprecation Warning: ",t):(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(e),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(e))),Do[t]=!0}}rr.registerPlugin("accessibility",re),rr.registerPlugin("extract",ur),rr.registerPlugin("graphics",Rr),rr.registerPlugin("interaction",jr),rr.registerPlugin("mesh",hn),rr.registerPlugin("particle",xn),rr.registerPlugin("prepare",Gn),rr.registerPlugin("sprite",yr),rr.registerPlugin("tilingSprite",io),tn.registerPlugin(no),tn.registerPlugin(Kn),or.registerPlugin(ce),or.registerPlugin(en),Z.performMixins();var Io={VERSION:"5.0.0-alpha.3"};if("undefined"!=typeof window){var Mo={accessibility:a,extract:c,filters:{AlphaFilter:ho,BlurFilter:yo,BlurFilterPass:go,ColorMatrixFilter:mo,DisplacementFilter:bo,FXAAFilter:wo,NoiseFilter:Po},interaction:f,prepare:x,settings:W,utils:n};window.PIXI=Object.assign(Io,Mo,l,r,u,s,p,g,o,y,v,m,d,b,T,E,_,w,h),function(t){Object.defineProperties(t,{SVG_SIZE:{get:function(){return Oo("PIXI.utils.SVG_SIZE has moved to PIXI.SVGResource.SVG_SIZE"),t.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return Oo("PIXI.TransformStatic has been removed, use PIXI.Transform"),t.Transform}},TransformBase:{get:function(){return Oo("PIXI.TransformBase has been removed, use PIXI.Transform"),t.Transform}},TRANSFORM_MODE:{get:function(){return Oo("PIXI.TRANSFORM_MODE has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return Oo("PIXI.WebGLRenderer has moved to PIXI.Renderer"),t.Renderer}},CanvasRenderTarget:{get:function(){return Oo("PIXI.CanvasRenderTarget has moved to PIXI.utils.CanvasRenderTarget"),t.utils.CanvasRenderTarget}},loader:{get:function(){return Oo("PIXI.loader has moved to PIXI.Loader.shared"),t.Loader.shared}},FilterManager:{get:function(){return Oo("PIXI.FilterManager has moved to PIXI.systems.FilterSystem"),t.systems.FilterManager}}}),t.extras={},Object.defineProperties(t.extras,{TilingSprite:{get:function(){return Oo("PIXI.extras.TilingSprite has moved to PIXI.TilingSprite"),t.TilingSprite}},TilingSpriteRenderer:{get:function(){return Oo("PIXI.extras.TilingSpriteRenderer has moved to PIXI.TilingSpriteRenderer"),t.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return Oo("PIXI.extras.AnimatedSprite has moved to PIXI.AnimatedSprite"),t.AnimatedSprite}},BitmapText:{get:function(){return Oo("PIXI.extras.BitmapText has moved to PIXI.BitmapText"),t.BitmapText}}}),Object.defineProperties(t.utils,{getSvgSize:{get:function(){return Oo("PIXI.utils.getSvgSize has moved to PIXI.SVGResource.getSize"),t.SVGResource.getSize}}}),t.mesh={},Object.defineProperties(t.mesh,{Mesh:{get:function(){return Oo("PIXI.mesh.Mesh has moved to PIXI.Mesh2d"),t.Mesh2d}},NineSlicePlane:{get:function(){return Oo("PIXI.mesh.NineSlicePlane has moved to PIXI.NineSlicePlane"),t.NineSlicePlane}},Plane:{get:function(){return Oo("PIXI.mesh.Plane has moved to PIXI.Plane"),t.Plane}},Rope:{get:function(){return Oo("PIXI.mesh.Rope has moved to PIXI.Rope"),t.Rope}},RawMesh:{get:function(){return Oo("PIXI.mesh.RawMesh has moved to PIXI.Mesh"),t.Mesh}},CanvasMeshRenderer:{get:function(){return Oo("PIXI.mesh.CanvasMeshRenderer has moved to PIXI.CanvasMeshRenderer"),t.CanvasMeshRenderer}},MeshRenderer:{get:function(){return Oo("PIXI.mesh.MeshRenderer has moved to PIXI.MeshRenderer"),t.MeshRenderer}}}),t.particles={},Object.defineProperties(t.particles,{ParticleContainer:{get:function(){return Oo("PIXI.particles.ParticleContainer has moved to PIXI.ParticleContainer"),t.ParticleContainer}},ParticleRenderer:{get:function(){return Oo("PIXI.particles.ParticleRenderer has moved to PIXI.ParticleRenderer"),t.ParticleRenderer}}}),t.ticker={},Object.defineProperties(t.ticker,{Ticker:{get:function(){return Oo("PIXI.ticker.Ticker has moved to PIXI.Ticker"),t.Ticker}},shared:{get:function(){return Oo("PIXI.ticker.shared has moved to PIXI.Ticker.shared"),t.Ticker.shared}}}),t.loaders={},Object.defineProperties(t.loaders,{Loader:{get:function(){return Oo("PIXI.loaders.Loader has moved to PIXI.Loader"),t.Loader}},Resource:{get:function(){return Oo("PIXI.loaders.Resource has moved to PIXI.LoaderResource"),t.LoaderResource}},bitmapFontParser:{get:function(){return Oo("PIXI.loaders.bitmapFontParser has moved to PIXI.BitmapFontLoader.use"),t.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){return Oo("PIXI.loaders.parseBitmapFontData has moved to PIXI.BitmapFontLoader.parse"),t.BitmapFontLoader.parse}},spritesheetParser:{get:function(){return Oo("PIXI.loaders.spritesheetParser has moved to PIXI.SpritesheetLoader.use"),t.SpritesheetLoader.use}},getResourcePath:{get:function(){return Oo("PIXI.loaders.getResourcePath has moved to PIXI.SpritesheetLoader.getResourcePath"),t.SpritesheetLoader.getResourcePath}}}),t.Loader.addPixiMiddleware=function(e){return Oo("PIXI.loaders.Loader.addPixiMiddleware is deprecated, use PIXI.loaders.Loader.registerPlugin"),t.loaders.Loader.registerPlugin({use:e()})},Object.defineProperty(t.extract,"WebGLExtract",{get:function(){return Oo("PIXI.extract.WebGLExtract has moved to PIXI.extract.Extract"),t.extract.Extract}}),Object.defineProperty(t.prepare,"WebGLPrepare",{get:function(){return Oo("PIXI.prepare.WebGLPrepare has moved to PIXI.prepare.Prepare"),t.prepare.Prepare}}),t.Container.prototype._renderWebGL=function(t){Oo("PIXI.Container#_renderWebGL has moved to PIXI.Container#_render"),this._render(t)},t.Container.prototype.renderWebGL=function(t){Oo("PIXI.Container#renderWebGL has moved to PIXI.Container#render"),this.render(t)},t.DisplayObject.prototype.renderWebGL=function(t){Oo("PIXI.DisplayObject#renderWebGL has moved to PIXI.DisplayObject#render"),this.render(t)},t.Container.prototype.renderAdvancedWebGL=function(t){Oo("PIXI.Container#renderAdvancedWebGL has moved to PIXI.Container#renderAdvanced"),this.renderAdvanced(t)},Object.defineProperties(t.settings,{TRANSFORM_MODE:{get:function(){return Oo("PIXI.settings.TRANSFORM_MODE has been removed."),0},set:function(){Oo("PIXI.settings.TRANSFORM_MODE has been removed.")}}});var e=t.BaseTexture;e.fromImage=function(t,i,r,n){Oo("PIXI.BaseTexture.fromImage has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:i};return e.from(t,{scaleMode:r,resourceOptions:o})},e.fromCanvas=function(t,i){return Oo("PIXI.BaseTexture.fromCanvas has been replaced with PIXI.BaseTexture.from"),e.from(t,{scaleMode:i})},e.fromSVG=function(t,i,r,n){Oo("PIXI.BaseTexture.fromSVG has been replaced with PIXI.BaseTexture.from");var o={scale:n,crossorigin:i};return e.from(t,{scaleMode:r,resourceOptions:o})},t.Point.prototype.copy=function(t){return Oo("PIXI.Point.copy has been replaced with PIXI.Point#copyFrom"),this.copyFrom(t)},t.ObservablePoint.prototype.copy=function(t){return Oo("PIXI.ObservablePoint.copy has been replaced with PIXI.ObservablePoint#copyFrom"),this.copyFrom(t)},t.Rectangle.prototype.copy=function(t){return Oo("PIXI.Rectangle.copy has been replaced with PIXI.Rectangle#copyFrom"),this.copyFrom(t)},t.Matrix.prototype.copy=function(t){return Oo("PIXI.Matrix.copy has been replaced with PIXI.Matrix#copyTo"),this.copyTo(t)},Object.assign(t.systems.FilterSystem.prototype,{getRenderTarget:function(t,e){return Oo("FilterManager#getRenderTarget has been replaced with FilterSystem#getFilterTexture"),this.getFilterTexture(e)},returnRenderTarget:function(t){Oo("FilterManager#returnRenderTarget has been replaced with FilterSystem#returnFilterTexture"),this.returnFilterTexture(t)}}),Object.defineProperties(t.RenderTexture.prototype,{sourceFrame:{get:function(){return Oo("PIXI.RenderTexture#sourceFrame has been removed"),this.filterFrame}},size:{get:function(){return Oo("PIXI.RenderTexture#size has been removed"),this._frame}}});var i=function(t){function e(e,i,r,n){Oo("PIXI.filters.BlurXFilter is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!0,e,i,r,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass),r=function(t){function e(e,i,r,n){Oo("PIXI.filters.BlurYFilter is deprecated, use PIXI.filters.BlurFilterPass"),t.call(this,!1,e,i,r,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.filters.BlurFilterPass);Object.assign(t.filters,{BlurXFilter:i,BlurYFilter:r});var n=t.Sprite,o=t.Texture;function s(t,e,i,r){return Oo("PIXI.Sprite."+t+" is deprecated, use PIXI.Sprite.from"),n.from(e,{resourceOptions:{scale:r,crossorigin:i}})}function a(t,e,i,r){return Oo("PIXI.Texture."+t+" is deprecated, use PIXI.Texture.from"),o.from(e,{resourceOptions:{scale:r,crossorigin:i}})}n.fromImage=s.bind(null,"fromImage"),n.fromSVG=s.bind(null,"fromSVG"),n.fromCanvas=s.bind(null,"fromCanvas"),n.fromVideo=s.bind(null,"fromVideo"),n.fromFrame=s.bind(null,"fromFrame"),o.fromImage=a.bind(null,"fromImage"),o.fromSVG=a.bind(null,"fromSVG"),o.fromCanvas=a.bind(null,"fromCanvas"),o.fromVideo=a.bind(null,"fromVideo"),o.fromFrame=a.bind(null,"fromFrame"),Object.defineProperty(t.AbstractRenderer.prototype,"autoResize",{get:function(){return Oo("PIXI.AbstractRenderer autoResize is deprecated, use autoDensity"),this.autoDensity},set:function(t){Oo("PIXI.AbstractRenderer autoResize is deprecated, use autoDensity"),this.autoDensity=t}})}(Io)}function Ro(t){for(var e=[],i=0;i<t[0].length;i++){e[i]=[];for(var r=0;r<t.length;r++)e[i][r]=t[r][i]}return e}function Fo(t,e,i){for(var r=[],n=0;n<e;n++){r[n]=[];for(var o=0;o<e;o++)r[n][o]=t}return r}var Lo={Red:"R",Green:"G",Blue:"B",Yellow:"Y",Purple:"P",Garbage:"J",Hard:"H",Point:"N",Sun:"S",Block:"L",None:"0"},No=function(){function t(t,e,i){this.p=t,this.x=e,this.y=i,this.newY=i,this.connections="n"}return Object.defineProperty(t.prototype,"isColored",{get:function(){return this.p===Lo.Red||this.p===Lo.Green||this.p===Lo.Blue||this.p===Lo.Yellow||this.p===Lo.Purple},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isGarbage",{get:function(){return this.p===Lo.Garbage||this.p===Lo.Hard},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){switch(this.p){case Lo.Red:return"red";case Lo.Green:return"green";case Lo.Blue:return"blue";case Lo.Yellow:return"yellow";case Lo.Purple:return"purple";case Lo.Garbage:return"garbage";case Lo.Hard:return"hard";default:return"spacer"}},enumerable:!0,configurable:!0}),t}(),Bo=function(){function t(t,e){this.inputMatrix=t,this.settings=void 0!==e?e:{rows:13,cols:6,hiddenRows:1,targetPoint:70,puyoToPop:4,garbageInHiddenRowBehavior:"SEGA",chainPower:[0,8,16,32,64,96,128,160,192,224,256,288,320,352,384,416,448,480,512,544,576,608,640,672],colorBonus:[0,3,6,12,24],groupBonus:[0,2,3,4,5,6,7,10],pointPuyo:50},this.poppingGroups=[],this.poppingColors=[],this.chainLength=0,this.linkScore=0,this.totalScore=0,this.linkBonusMultiplier=0,this.linkPuyoMultiplier=0,this.leftoverNuisancePoints=0,this.totalGarbage=0,this.linkGarbage=0,this.hasPops=!1,this.hasDrops=!1,this.chainHistory=[],this.matrix=[],this.dropDistances=[],this.droppedMatrix=[],this.garbageClearCountMatrix=Fo(0,this.settings.cols,this.settings.rows),console.log(this.garbageClearCountMatrix);for(var i=0;i<this.settings.cols;i++){this.matrix[i]=[],this.dropDistances[i]=[];for(var r=0;r<this.settings.rows;r++)this.matrix[i][r]=new No(Lo.None,i,r),this.dropDistances[i][r]=0}this.updateFieldMatrix(this.inputMatrix),this.setConnectionData(),this.simState="idle"}return t.prototype.updateFieldMatrix=function(t){if(t[0].length<this.settings.rows)for(var e=0;e<t.length;e++)for(var i=0;i<t[e].length;i++)this.matrix[e][i+this.settings.rows-t[e].length]=new No(t[e][i],e,i+this.settings.rows-t[e].length);else if(t[0].length>this.settings.rows)for(e=0;e<this.settings.cols;e++)for(i=0;i<this.settings.rows;i++)t.length<=this.settings.cols&&e<t.length?this.matrix[e][i]=new No(t[e][i+t[0].length-this.settings.rows],e,i):this.matrix[e][i]=new No(Lo.None,e,i);else for(e=0;e<this.settings.cols;e++)for(i=0;i<this.settings.rows;i++)t.length<=this.settings.cols&&e<t.length&&(this.matrix[e][i]=this.matrix[e][i]=new No(t[e][i],e,i))},t.prototype.refreshPuyoPositionData=function(){for(var t=0;t<this.settings.cols;t++)for(var e=0;e<this.settings.rows;e++)this.matrix[t][e].x=t,this.matrix[t][e].y=e,this.dropDistances[t][e]=0},t.prototype.dropPuyos=function(){this.matrix=this.droppedMatrix},t.prototype.calculateDropDistances=function(){for(var t=this,e=[],i=function(i){for(var n=[-1],o=[],s=[],a=0;a<r.matrix[i].length;a++)r.matrix[i][a].p===Lo.Block&&n.push(a);n.forEach(function(e,r){r===n.length-1?o.push(t.matrix[i].slice(e+1,t.matrix[i].length)):o.push(t.matrix[i].slice(e+1,n[r+1]+1))}),o.forEach(function(t){var e=t.filter(function(t){return t.p===Lo.None}),i=t.filter(function(t){return t.p!==Lo.None});s=s.concat(e,i)}),e[i]=s},r=this,n=0;n<this.matrix.length;n++)i(n);this.droppedMatrix=e;for(n=0;n<this.settings.cols;n++)for(var o=0;o<this.settings.rows;o++)this.droppedMatrix[n][o].newY=o;for(n=0;n<this.settings.cols;n++)for(o=0;o<this.settings.rows;o++)this.dropDistances[n][o]=this.matrix[n][o].newY-o,this.dropDistances[n][o]>0&&(this.hasDrops=!0);this.setConnectionData()},t.prototype.checkForColorPops=function(){for(var t=[],e=0;e<this.settings.cols;e++){t[e]=[];for(var i=0;i<this.settings.rows;i++)t[e][i]=!1}var r=[],n=[];for(e=0;e<this.settings.cols;e++)for(i=this.settings.hiddenRows;i<this.settings.rows;i++)if(this.matrix[e][i].isColored&&!1===t[e][i]){t[e][i]=!0;var o=[];o.push(this.matrix[e][i]);for(var s=0,a=o;s<a.length;s++){var h=a[s];h.y>this.settings.hiddenRows&&h.p===this.matrix[h.x][h.y-1].p&&!1===t[h.x][h.y-1]&&(t[h.x][h.y-1]=!0,o.push(this.matrix[h.x][h.y-1])),h.y<this.settings.rows-1&&h.p===this.matrix[h.x][h.y+1].p&&!1===t[h.x][h.y+1]&&(t[h.x][h.y+1]=!0,o.push(this.matrix[h.x][h.y+1])),h.x>0&&h.p===this.matrix[h.x-1][h.y].p&&!1===t[h.x-1][h.y]&&(t[h.x-1][h.y]=!0,o.push(this.matrix[h.x-1][h.y])),h.x<this.settings.cols-1&&h.p===this.matrix[h.x+1][h.y].p&&!1===t[h.x+1][h.y]&&(t[h.x+1][h.y]=!0,o.push(this.matrix[h.x+1][h.y]))}o.length>=this.settings.puyoToPop&&(r.push(o),n.push(o[0].p))}var u=n.filter(function(t,e,i){return i.indexOf(t)>=e});this.poppingGroups=r,this.poppingColors=u,0===r.length?this.hasPops=!1:this.hasPops=!0,this.setConnectionData()},t.prototype.setConnectionData=function(){for(var t=0;t<this.settings.cols;t++)for(var e=this.settings.hiddenRows;e<this.settings.rows;e++)if(e<this.settings.hiddenRows)this.matrix[t][e].connections="n";else if(this.dropDistances[t][e]>0)this.matrix[t][e].connections="n";else if(this.matrix[t][e].p===Lo.None||this.matrix[t][e].isGarbage)this.matrix[t][e].connections="n";else{var i="";this.matrix[t][e].y>this.settings.hiddenRows&&this.matrix[t][e].p===this.matrix[t][e-1].p&&0===this.dropDistances[t][e-1]&&(i+="u"),this.matrix[t][e].x<this.settings.cols-1&&this.matrix[t][e].p===this.matrix[t+1][e].p&&0===this.dropDistances[t+1][e]&&(i+="r"),this.matrix[t][e].y<this.settings.rows-1&&this.matrix[t][e].p===this.matrix[t][e+1].p&&0===this.dropDistances[t][e+1]&&(i+="d"),this.matrix[t][e].x>0&&this.matrix[t][e].p===this.matrix[t-1][e].p&&0===this.dropDistances[t-1][e]&&(i+="l"),""===i&&(i="n"),this.matrix[t][e].connections=i}},t.prototype.checkForGarbagePops=function(){for(var t=0;t<this.settings.cols;t++)for(var e=0;e<this.settings.rows;e++)this.garbageClearCountMatrix[t][e]=0;for(var i=0,r=this.poppingGroups;i<r.length;i++)for(var n=0,o=r[i];n<o.length;n++){var s=o[n];"SEGA"===this.settings.garbageInHiddenRowBehavior?s.y>this.settings.hiddenRows-1&&this.matrix[s.x][s.y-1].isGarbage&&(this.garbageClearCountMatrix[s.x][s.y-1]+=1):"COMPILE"===this.settings.garbageInHiddenRowBehavior&&s.y>this.settings.hiddenRows&&this.matrix[s.x][s.y-1].isGarbage&&(this.garbageClearCountMatrix[s.x][s.y-1]+=1),s.y<this.settings.rows-1&&this.matrix[s.x][s.y+1].isGarbage&&(this.garbageClearCountMatrix[s.x][s.y+1]+=1),s.x>0&&this.matrix[s.x-1][s.y].isGarbage&&(this.garbageClearCountMatrix[s.x-1][s.y]+=1),s.x<this.settings.cols-1&&this.matrix[s.x+1][s.y].isGarbage&&(this.garbageClearCountMatrix[s.x+1][s.y]+=1)}},t.prototype.calculateLinkScore=function(){for(var t=0,e=0,i=this.poppingGroups;e<i.length;e++){var r=i[e];this.settings.puyoToPop<4?r.length>=11-(4-this.settings.puyoToPop)?t+=this.settings.groupBonus[this.settings.groupBonus.length-1]:t+=this.settings.groupBonus[r.length-this.settings.puyoToPop]:r.length>=11?t+=this.settings.groupBonus[this.settings.groupBonus.length-1]:t+=this.settings.groupBonus[r.length-4]}for(var n=this.settings.colorBonus[this.poppingColors.length-1],o=this.settings.chainPower[this.chainLength-1],s=0,a=0,h=this.poppingGroups;a<h.length;a++){s+=(r=h[a]).length}var u=t+n+o;u<1?u=1:u>999&&(u=999);var l=10*s*u;this.linkScore=l,this.linkPuyoMultiplier=10*s,this.linkBonusMultiplier=u,this.totalScore+=this.linkScore},Object.defineProperty(t.prototype,"matrixText",{get:function(){for(var t=[],e=0;e<this.settings.cols;e++){t[e]=[];for(var i=0;i<this.settings.rows;i++)t[e][i]=this.matrix[e][i].p}return t},enumerable:!0,configurable:!0}),t.prototype.calculateGarbage=function(){var t=this.linkScore/this.settings.targetPoint+this.leftoverNuisancePoints,e=Math.floor(t);this.leftoverNuisancePoints=t-e,this.totalGarbage+=e,this.linkGarbage=e},t.prototype.popPuyos=function(){for(var t=0,e=this.poppingGroups;t<e.length;t++)for(var i=0,r=e[t];i<r.length;i++){var n=r[i];this.matrix[n.x][n.y].p="0"}},t.prototype.popGarbage=function(){for(var t=0;t<this.settings.cols;t++)for(var e=0;e<this.settings.rows;e++)1===this.garbageClearCountMatrix[t][e]?this.matrix[t][e].p===Lo.Garbage?this.matrix[t][e].p="0":this.matrix[t][e].p===Lo.Hard&&(this.matrix[t][e].p="J"):this.garbageClearCountMatrix[t][e]>=2&&(this.matrix[t][e].p="0")},t.prototype.refreshLinkData=function(){this.poppingGroups=[],this.poppingColors=[],this.linkScore=0,this.linkBonusMultiplier=0,this.linkPuyoMultiplier=0,this.linkGarbage=0;for(var t=0;t<this.settings.cols;t++)for(var e=0;e<this.settings.rows;e++)this.dropDistances[t][e]=0,this.garbageClearCountMatrix[t][e]=0;this.droppedMatrix=[]},t.prototype.simulateLink=function(){return this.refreshLinkData(),this.calculateDropDistances(),this.dropPuyos(),this.refreshPuyoPositionData(),this.hasDrops=!1,this.checkForColorPops(),this.checkForGarbagePops(),!0===this.hasPops&&(this.chainLength+=1,this.calculateLinkScore(),this.calculateGarbage(),this.popPuyos(),this.popGarbage(),this.hasPops=!1,!0)},t.prototype.simulateChain=function(){for(var t=!0;t;)t=this.simulateLink()},t.prototype.advanceState=function(){switch(this.simState){case"idle":case"popped":this.simState="checkingDrops",this.refreshLinkData(),this.calculateDropDistances(),this.setConnectionData();break;case"checkingDrops":if(this.hasDrops){this.simState="dropped",this.dropPuyos(),this.refreshPuyoPositionData(),this.setConnectionData(),this.hasDrops=!1;break}this.simState="dropped",this.refreshPuyoPositionData(),this.setConnectionData();case"dropped":this.checkForColorPops(),this.checkForGarbagePops(),this.hasPops?(this.simState="checkingPops",this.chainLength+=1,this.calculateLinkScore(),this.calculateGarbage()):(this.simState="finished",this.hasPops=!1);break;case"checkingPops":this.simState="popped",this.popPuyos(),this.popGarbage(),this.hasPops=!1}return this.simState},t.prototype.sendToPuyoNexus=function(){for(var t=Ro(this.matrixText),e={R:4,G:7,B:5,Y:6,P:8,J:1,0:0},i="",r=0;r<this.settings.rows;r++)for(var n=0;n<this.settings.cols;n++)i+=e[t[r][n]];console.log(i);var o="https://puyonexus.com/chainsim/?w="+this.settings.cols+"&h="+(this.settings.rows-this.settings.hiddenRows)+"&chain="+i;window.open(o)},t}(),Uo=cr,ko={rows:13,cols:6,hiddenRows:1,targetPoint:70,puyoToPop:4,garbageInHiddenRowBehavior:"SEGA",chainPower:[0,8,16,32,64,96,128,160,192,224,256,288,320,352,384,416,448,480,512,544,576,608,640,672],colorBonus:[0,3,6,12,24],groupBonus:[0,2,3,4,5,6,7,10],pointPuyo:50},Xo=new(function(){function t(t){var e=this;this.fieldDisplay={},this.fieldControls={},this.puyoDisplay=[],this.garbageDisplay=[],this.scoreDisplay=[],this.editorDisplay={},this.gameSettings={width:608,height:1e3,cellWidth:64,cellHeight:60},this.simulatorSettings=ko,this.displayMode="simple",this.simulationSpeed=1,this.autoAdvance=!1,this.gameField=new Bo(Fo("0",this.simulatorSettings.cols,this.simulatorSettings.rows),this.simulatorSettings),this.frame=0,this.coordArray=[];for(var i=0;i<this.simulatorSettings.cols;i++){this.coordArray[i]=[];for(var r=0;r<this.simulatorSettings.rows;r++)this.coordArray[i][r]={x:i*this.gameSettings.cellWidth+this.gameSettings.cellWidth/2+25,y:r*this.gameSettings.cellHeight+this.gameSettings.cellHeight/2+124}}this.puyoStates=Fo("idle",this.simulatorSettings.cols,this.simulatorSettings.rows),this.puyoDropSpeed=Fo(0,this.simulatorSettings.cols,this.simulatorSettings.rows),this.puyoBounceFrames=Fo(0,this.simulatorSettings.cols,this.simulatorSettings.rows),this.garbageDisplayCoordinates=[],this.leftButtonDown=!1,this.rightButtonDown=!1,this.app=new or(this.gameSettings.width,this.gameSettings.height,{antialias:!0,transparent:!0,resolution:1}),this.app.view.style.width=.8*this.gameSettings.width+"px",this.app.view.style.height=.8*this.gameSettings.height+"px",this.app.stage.interactive=!0,this.app.stage.on("pointerdown",function(){e.leftButtonDown=!0}),this.app.stage.on("pointerup",function(){e.leftButtonDown=!1,e.rightButtonDown=!1}),this.app.stage.on("pointerupoutside",function(){e.leftButtonDown=!1,e.rightButtonDown=!1}),this.app.stage.on("rightdown",function(){e.leftButtonDown=!1,e.rightButtonDown=!0}),this.app.stage.on("rightup",function(){e.leftButtonDown=!1,e.rightButtonDown=!1}),this.app.stage.on("rightupoutside",function(){e.leftButtonDown=!1,e.rightButtonDown=!1}),t.appendChild(this.app.view),this.app.view.oncontextmenu=function(t){return t.preventDefault()},this.loader=new tn,this.texturesToLoad=["/chainsim/img/arle_bg.png","/chainsim/img/field.json","/chainsim/img/puyo.json","/chainsim/img/arrow.png","/chainsim/img/arrow_x.png","/chainsim/img/cursor.png","/chainsim/img/cursor_x.png","/chainsim/img/chain_font.json","/chainsim/img/edit_bubble.png","/chainsim/img/touch_disabler.png","/chainsim/img/picker_arrow_left.png","/chainsim/img/picker_arrow_right.png","/chainsim/img/editor_x.png","/chainsim/img/current_tool.png","/chainsim/img/next_background_1p_mask.png","/chainsim/img/rotate_container.png"],this.loader.add(this.texturesToLoad).load(function(t,i){e.loadAssets(t,i)}),this.editorOpen=!1,this.currentTool={page:0,item:6,row:1,puyo:"",targetLayer:"main",x:-2424,y:-2424},this.editorToolDisplay=[],this.state=this.idleState,this.simulatorMode="edit",this.app.ticker.add(function(t){return e.gameLoop(t)})}return t.prototype.setNewField=function(t){this.gameField=new Bo(t,this.simulatorSettings),this.refreshPuyoSprites()},t.prototype.loadAssets=function(t,e){this.resources=e,this.fieldSprites=e["/chainsim/img/field.json"].textures,this.puyoSprites=e["/chainsim/img/puyo.json"].textures,this.chainCountSprites=e["/chainsim/img/chain_font.json"].textures,this.initFieldDisplay(),this.initScoreDisplay(),this.initGameOverX(),this.initPuyoDisplay(),this.refreshPuyoSprites(),this.initFieldControls(),this.initGarbageDisplay(),this.initToolDisplay()},t.prototype.initFieldDisplay=function(){this.fieldDisplay.charBG=new Uo(this.resources["/chainsim/img/arle_bg.png"].texture),this.fieldDisplay.charBG.x=17,this.fieldDisplay.charBG.y=183,this.app.stage.addChild(this.fieldDisplay.charBG),this.fieldDisplay.borderTop=new Uo(this.fieldSprites["field_border_top.png"]),this.fieldDisplay.borderTop.y=132,this.app.stage.addChild(this.fieldDisplay.borderTop),this.fieldDisplay.borderLeftTop=new Uo(this.fieldSprites["field_border_left_tophalf.png"]),this.fieldDisplay.borderLeftTop.y=184,this.app.stage.addChild(this.fieldDisplay.borderLeftTop),this.fieldDisplay.borderLeftBottom=new Uo(this.fieldSprites["field_border_left_bottomhalf.png"]),this.fieldDisplay.borderLeftBottom.y=536,this.app.stage.addChild(this.fieldDisplay.borderLeftBottom),this.fieldDisplay.borderRightTop=new Uo(this.fieldSprites["field_border_right_tophalf.png"]),this.fieldDisplay.borderRightTop.x=417,this.fieldDisplay.borderRightTop.y=184,this.app.stage.addChild(this.fieldDisplay.borderRightTop),this.fieldDisplay.borderRightBottom=new Uo(this.fieldSprites["field_border_right_bottomhalf.png"]),this.fieldDisplay.borderRightBottom.x=417,this.fieldDisplay.borderRightBottom.y=536,this.app.stage.addChild(this.fieldDisplay.borderRightBottom),this.fieldDisplay.borderBottom=new Uo(this.fieldSprites["field_border_bottom.png"]),this.fieldDisplay.borderBottom.y=902,this.app.stage.addChild(this.fieldDisplay.borderBottom),this.fieldDisplay.nextWindowBorder=new Uo(this.fieldSprites["next_border_1p.png"]),this.fieldDisplay.nextWindowBorder.x=456,this.fieldDisplay.nextWindowBorder.y=160,this.app.stage.addChild(this.fieldDisplay.nextWindowBorder),this.fieldDisplay.nextWindowInner=new Uo(this.fieldSprites["next_background_1p.png"]),this.fieldDisplay.nextWindowInner.x=456,this.fieldDisplay.nextWindowInner.y=160,this.app.stage.addChild(this.fieldDisplay.nextWindowInner),this.fieldDisplay.nextWindowMask=new Uo(this.resources["/chainsim/img/next_background_1p_mask.png"].texture),this.fieldDisplay.nextWindowMask.position.set(456,160),this.app.stage.addChild(this.fieldDisplay.nextWindowMask)},t.prototype.initScoreDisplay=function(){for(var t="simple"===this.displayMode?32:150,e=0;e<8;e++)this.scoreDisplay[e]=new Uo(this.fieldSprites["score_0.png"]),this.scoreDisplay[e].anchor.set(.5),this.scoreDisplay[e].x=t+.9*this.scoreDisplay[e].width*e,this.scoreDisplay[e].y=935,this.app.stage.addChild(this.scoreDisplay[e])},t.prototype.initGameOverX=function(){this.fieldDisplay.redX=new Uo(this.puyoSprites["death_X.png"]),this.fieldDisplay.redX.anchor.set(.5),this.fieldDisplay.redX.x=this.coordArray[2][1].x,this.fieldDisplay.redX.y=this.coordArray[2][1].y,this.app.stage.addChild(this.fieldDisplay.redX)},t.prototype.initPuyoDisplay=function(){var t=this;this.puyoDisplay=[];for(var e=function(e){i.puyoDisplay[e]=[];for(var r=function(r){i.puyoDisplay[e][r]=new Uo(i.puyoSprites["red_urdl.png"]),i.puyoDisplay[e][r].anchor.set(.5),i.puyoDisplay[e][r].x=i.coordArray[e][r].x,i.puyoDisplay[e][r].y=i.coordArray[e][r].y,i.puyoDisplay[e][r].interactive=!0,i.puyoDisplay[e][r].on("pointerdown",function(){"main"===t.currentTool.targetLayer&&t.state===t.idleState&&""!==t.currentTool.puyo&&(t.gameField.inputMatrix[e][r]=t.currentTool.puyo,t.gameField.matrix[e][r].p=t.currentTool.puyo,t.gameField.matrix[e][r].x=e,t.gameField.matrix[e][r].y=r),t.refreshPuyoSprites()}),i.puyoDisplay[e][r].on("rightdown",function(){"main"===t.currentTool.targetLayer&&t.state===t.idleState&&(t.gameField.inputMatrix[e][r]="0",t.gameField.matrix[e][r].p="0",t.gameField.matrix[e][r].x=e,t.gameField.matrix[e][r].y=r),t.refreshPuyoSprites()}),i.puyoDisplay[e][r].on("pointerover",function(){"main"===t.currentTool.targetLayer&&t.state===t.idleState&&!0===t.leftButtonDown&&!1===t.rightButtonDown&&""!==t.currentTool.puyo?(t.gameField.inputMatrix[e][r]=t.currentTool.puyo,t.gameField.matrix[e][r].p=t.currentTool.puyo,t.gameField.matrix[e][r].x=e,t.gameField.matrix[e][r].y=r,t.refreshPuyoSprites()):"main"===t.currentTool.targetLayer&&t.state===t.idleState&&!0===t.rightButtonDown&&(t.gameField.inputMatrix[e][r]="0",t.gameField.matrix[e][r].p="0",t.gameField.matrix[e][r].x=e,t.gameField.matrix[e][r].y=r,t.refreshPuyoSprites())});var n=function(){t.leftButtonDown=!1,t.rightButtonDown=!1};i.puyoDisplay[e][r].on("pointerupoutside",function(){return n()}),i.puyoDisplay[e][r].on("pointerup",function(){return n()}),i.puyoDisplay[e][r].on("rightup",function(){return n()}),i.puyoDisplay[e][r].on("rightupoutside",function(){return n()}),i.app.stage.addChild(i.puyoDisplay[e][r])},n=0;n<i.simulatorSettings.rows;n++)r(n)},i=this,r=0;r<this.simulatorSettings.cols;r++)e(r)},t.prototype.initFieldControls=function(){var t,e=this,i=0;this.fieldControls.reset=new Uo(this.fieldSprites["btn_reset.png"]),this.fieldControls.reset.x=452,this.fieldControls.reset.y=480,this.fieldControls.reset.interactive=!0,this.fieldControls.reset.buttonMode=!0,this.fieldControls.reset.on("pointerdown",function(){e.fieldControls.reset.texture=e.fieldSprites["btn_reset_pressed.png"]}),this.fieldControls.reset.on("pointerup",function(){e.fieldControls.reset.texture=e.fieldSprites["btn_reset.png"],e.resetFieldAndState()}),this.fieldControls.reset.on("pointerupoutside",function(){e.fieldControls.reset.texture=e.fieldSprites["btn_reset.png"]}),this.app.stage.addChild(this.fieldControls.reset),t=this.fieldControls.reset.height,this.fieldControls.pause=new Uo(this.fieldSprites["btn_pause.png"]),this.fieldControls.pause.x=528,this.fieldControls.pause.y=480+t*i,this.fieldControls.pause.interactive=!0,this.fieldControls.pause.buttonMode=!0,this.fieldControls.pause.on("pointerdown",function(){e.fieldControls.pause.texture=e.fieldSprites["btn_pause_pressed.png"]}),this.fieldControls.pause.on("pointerup",function(){e.fieldControls.pause.texture=e.fieldSprites["btn_pause.png"],e.autoAdvance=!1}),this.fieldControls.pause.on("pointerupoutside",function(){e.fieldControls.pause.texture=e.fieldSprites["btn_pause.png"]}),this.app.stage.addChild(this.fieldControls.pause),i+=1,this.fieldControls.play=new Uo(this.fieldSprites["btn_play.png"]),this.fieldControls.play.x=452,this.fieldControls.play.y=480+t*i,this.fieldControls.play.interactive=!0,this.fieldControls.play.buttonMode=!0,this.fieldControls.play.on("pointerdown",function(){e.fieldControls.play.texture=e.fieldSprites["btn_play_pressed.png"],e.autoAdvance=!1,e.simulationSpeed=1,e.gameField.advanceState()}),this.fieldControls.play.on("pointerup",function(){e.fieldControls.play.texture=e.fieldSprites["btn_play.png"]}),this.fieldControls.play.on("pointerupoutside",function(){e.fieldControls.play.texture=e.fieldSprites["btn_play.png"]}),this.app.stage.addChild(this.fieldControls.play),this.fieldControls.auto=new Uo(this.fieldSprites["btn_auto.png"]),this.fieldControls.auto.x=528,this.fieldControls.auto.y=480+t*i,this.fieldControls.auto.interactive=!0,this.fieldControls.auto.buttonMode=!0,this.fieldControls.auto.on("pointerdown",function(){e.fieldControls.auto.texture=e.fieldSprites["btn_auto_pressed.png"]}),this.fieldControls.auto.on("pointerup",function(){e.fieldControls.auto.texture=e.fieldSprites["btn_auto.png"],console.log(e.gameField.simState),"idle"===e.gameField.simState&&!1===e.autoAdvance?(e.autoAdvance=!0,e.simulationSpeed=1,e.gameField.advanceState()):"idle"===e.gameField.simState&&!0===e.autoAdvance?(e.simulationSpeed*=2,e.gameField.advanceState()):"dropped"===e.gameField.simState?(e.autoAdvance=!0,e.simulationSpeed=1,e.gameField.advanceState()):e.simulationSpeed*=2}),this.fieldControls.auto.on("pointerupoutside",function(){e.fieldControls.auto.texture=e.fieldSprites["btn_auto.png"]}),this.app.stage.addChild(this.fieldControls.auto),i+=1,this.fieldDisplay.disableTouchBehind=new Uo(this.resources["/chainsim/img/touch_disabler.png"].texture),this.fieldDisplay.disableTouchBehind.x=0,this.fieldDisplay.disableTouchBehind.y=0,this.fieldDisplay.disableTouchBehind.width=this.gameSettings.width,this.fieldDisplay.disableTouchBehind.height=this.gameSettings.height,this.app.stage.addChild(this.fieldDisplay.disableTouchBehind),this.fieldDisplay.disableTouchBehind.interactive=!1,this.fieldDisplay.disableTouchBehind.on("pointerup",function(){e.toggleEditorWindow()}),this.fieldControls.edit=new Uo(this.fieldSprites["btn_edit.png"]),this.fieldControls.edit.x=490,this.fieldControls.edit.y=480+i*t,this.fieldControls.edit.interactive=!0,this.fieldControls.edit.buttonMode=!0,this.fieldControls.edit.on("pointerdown",function(){e.fieldControls.edit.texture=e.fieldSprites["btn_edit_pressed.png"]}),this.fieldControls.edit.on("pointerup",function(){e.fieldControls.edit.texture=e.fieldSprites["btn_edit.png"],!1===e.editorOpen&&e.resetFieldAndState(),e.toggleEditorWindow()}),this.fieldControls.edit.on("pointerupoutside",function(){e.fieldControls.edit.texture=e.fieldSprites["btn_edit.png"]}),this.app.stage.addChild(this.fieldControls.edit)},t.prototype.initGarbageDisplay=function(){this.fieldDisplay.garbageTray=new Uo(this.fieldSprites["garbage_tray.png"]),this.fieldDisplay.garbageTray.x=316,this.fieldDisplay.garbageTray.y=915,this.fieldDisplay.garbageTray.scale.set(.7,.7),this.app.stage.addChild(this.fieldDisplay.garbageTray);for(var t=0;t<6;t++)this.garbageDisplay[t]=new Uo(this.puyoSprites["spacer_n.png"]),this.garbageDisplay[t].scale.set(.7,.7),this.garbageDisplay[t].x=324+this.garbageDisplay[t].width*t,this.garbageDisplayCoordinates[t]=324+this.garbageDisplay[t].width*t,this.garbageDisplay[t].y=910,this.app.stage.addChild(this.garbageDisplay[t])},t.prototype.initToolDisplay=function(){var t=this;this.editorDisplay.editBubble=new Uo(this.resources["/chainsim/img/edit_bubble.png"].texture),this.editorDisplay.editBubble.x=520,this.editorDisplay.editBubble.y=704,this.editorDisplay.editBubble.anchor.set(.87,0),this.editorDisplay.editBubble.interactive=!0,this.editorDisplay.editBubble.visible=!1,this.app.stage.addChild(this.editorDisplay.editBubble),this.editorDisplay.toolCursor=new Uo(this.resources["/chainsim/img/current_tool.png"].texture),this.editorDisplay.toolCursor.anchor.set(.5,.5),this.editorDisplay.toolCursor.visible=!1,this.editorDisplay.toolCursor.x=this.currentTool.x,this.editorDisplay.toolCursor.y=this.currentTool.y,this.app.stage.addChild(this.editorDisplay.toolCursor);var e=[[[this.puyoSprites["red_n.png"],this.puyoSprites["green_n.png"],this.puyoSprites["blue_n.png"],this.puyoSprites["yellow_n.png"],this.puyoSprites["purple_n.png"],this.puyoSprites["garbage_n.png"],this.resources["/chainsim/img/editor_x.png"].texture],[this.puyoSprites["red_n.png"],this.puyoSprites["green_n.png"],this.puyoSprites["blue_n.png"],this.puyoSprites["yellow_n.png"],this.puyoSprites["purple_n.png"],this.puyoSprites["garbage_n.png"],this.resources["/chainsim/img/editor_x.png"].texture]]],i=[[["R","G","B","Y","P","J","0"],["R","G","B","Y","P","J","0"]]],r=[[["main","main","main","main","main","main","main"],["shadow","shadow","shadow","shadow","shadow","shadow","shadow"]]];console.log(this.editorToolDisplay);for(var n=function(n){o.editorToolDisplay[n]=[];for(var s=function(s){o.editorToolDisplay[n][s]=[];for(var a=function(a){o.editorToolDisplay[n][s][a]=new Uo(e[n][s][a]),o.editorToolDisplay[n][s][a].interactive=!0,o.editorToolDisplay[n][s][a].buttonMode=!0,o.editorToolDisplay[n][s][a].anchor.set(.5,.5),o.editorToolDisplay[n][s][a].x=88+(o.editorToolDisplay[n][s][a].width+8)*a,o.editorToolDisplay[n][s][a].y=820+(o.editorToolDisplay[n][s][a].height+8)*s,o.editorToolDisplay[n][s][a].on("pointerdown",function(){t.currentTool.page===n&&t.currentTool.item===a&&t.currentTool.targetLayer===r[n][s][a]&&""!==t.currentTool.puyo?(t.currentTool.page=n,t.currentTool.item=a,t.currentTool.puyo="",t.currentTool.targetLayer=r[n][s][a],t.currentTool.x=-2424,t.currentTool.y=-2424,t.editorDisplay.toolCursor.visible=!1):(t.currentTool.page=n,t.currentTool.item=a,t.currentTool.puyo=i[n][s][a],t.currentTool.targetLayer=r[n][s][a],t.currentTool.x=t.editorToolDisplay[n][s][a].x,t.currentTool.y=t.editorToolDisplay[n][s][a].y,t.editorDisplay.toolCursor.x=t.editorToolDisplay[n][s][a].x,t.editorDisplay.toolCursor.y=t.editorToolDisplay[n][s][a].y,t.editorDisplay.toolCursor.visible=!0)}),"shadow"===r[n][s][a]&&(o.editorToolDisplay[n][s][a].alpha=.4),o.editorToolDisplay[n][s][a].visible=!1,o.app.stage.addChild(o.editorToolDisplay[n][s][a])},h=0;h<e[n][s].length;h++)a(h)},a=0;a<e[n].length;a++)s(a)},o=this,s=0;s<e.length;s++)n(s)},t.prototype.refreshPuyoSprites=function(){this.gameField.setConnectionData();for(var t=0;t<this.simulatorSettings.cols;t++)for(var e=0;e<this.simulatorSettings.rows;e++)this.puyoSprites&&(this.puyoDisplay[t][e].texture=this.puyoSprites[this.gameField.matrix[t][e].name+"_"+this.gameField.matrix[t][e].connections+".png"],this.puyoDisplay[t][e].anchor.set(.5),this.puyoDisplay[t][e].x=this.coordArray[t][e].x,this.puyoDisplay[t][e].y=this.coordArray[t][e].y,this.puyoDisplay[t][e].alpha=1,this.puyoDisplay[t][e].scale.x=1,this.puyoDisplay[t][e].scale.y=1,this.puyoStates[t][e]="idle",this.puyoDropSpeed[t][e]=0,this.puyoBounceFrames[t][e]=0)},t.prototype.resetFieldAndState=function(){this.autoAdvance=!1,this.simulationSpeed=1,this.frame=0,this.gameField.poppingGroups=[],this.gameField.poppingColors=[],this.gameField.chainLength=0,this.gameField.linkScore=0,this.gameField.totalScore=0,this.gameField.linkBonusMultiplier=0,this.gameField.linkPuyoMultiplier=0,this.gameField.leftoverNuisancePoints=0,this.gameField.totalGarbage=0,this.gameField.linkGarbage=0,this.gameField.hasPops=!1,this.gameField.hasDrops=!1,this.gameField.chainHistory=[],this.gameField.updateFieldMatrix(this.gameField.inputMatrix),this.gameField.refreshLinkData(),this.gameField.refreshPuyoPositionData(),this.gameField.setConnectionData(),this.gameField.simState="idle",this.refreshPuyoSprites(),this.refreshGarbageIcons(),this.state=this.idleState},t.prototype.gameLoop=function(t){this.state(t)},t.prototype.idleState=function(t){"checkingDrops"===this.gameField.simState&&(this.refreshPuyoSprites(),this.state=this.animateFieldDrops,console.log(JSON.parse(JSON.stringify(this.gameField.dropDistances)))),"checkingPops"===this.gameField.simState&&(this.refreshPuyoSprites(),this.state=this.animatePops,console.log(JSON.parse(JSON.stringify(this.gameField.dropDistances))))},t.prototype.animateFieldDrops=function(t){if("checkingDrops"===this.gameField.simState){for(var e=this.frame,i=t*this.simulationSpeed,r=!1,n=0;n<Math.round(i);n++){for(var o=0;o<this.simulatorSettings.cols;o++)for(var s=0;s<this.simulatorSettings.rows;s++)this.gameField.dropDistances[o][s]>0&&(r=!0),this.gameField.dropDistances[o][s]>0&&"idle"===this.puyoStates[o][s]&&(this.puyoStates[o][s]="dropping"),"dropping"===this.puyoStates[o][s]&&(this.puyoDisplay[o][s].y+this.puyoDropSpeed[o][s]<this.coordArray[o][s].y+this.gameField.dropDistances[o][s]*this.gameSettings.cellHeight?(this.puyoDisplay[o][s].y+=this.puyoDropSpeed[o][s],this.puyoDropSpeed[o][s]+=.3515625*e):(this.puyoStates[o][s]="bouncing",this.puyoDisplay[o][s].y=this.coordArray[o][s].y+this.gameField.dropDistances[o][s]*this.gameSettings.cellHeight+this.gameSettings.cellHeight/2,this.gameField.matrix[o][s].isColored&&this.puyoDisplay[o][s].anchor.set(.5,1))),"bouncing"===this.puyoStates[o][s]&&(this.puyoBounceFrames[o][s]+=1,this.puyoBounceFrames[o][s]<8&&this.gameField.matrix[o][s].isColored?(this.puyoDisplay[o][s].scale.y-=.025,this.puyoDisplay[o][s].scale.x+=.025):this.puyoBounceFrames[o][s]<16&&this.gameField.matrix[o][s].isColored?(this.puyoDisplay[o][s].scale.y+=.025,this.puyoDisplay[o][s].scale.x-=.025):(this.puyoDisplay[o][s].anchor.set(.5,.5),this.puyoDisplay[o][s].y=this.coordArray[o][s].y+this.gameField.dropDistances[o][s]*this.gameSettings.cellHeight,this.puyoStates[o][s]="idle",this.gameField.dropDistances[o][s]=0,this.puyoBounceFrames[o][s]=0,this.puyoDropSpeed[o][s]=0));this.frame+=1}if(!1===r)this.frame=0,this.gameField.advanceState(),console.log(this.gameField.simState),"checkingPops"===this.gameField.advanceState()&&!0===this.autoAdvance?(this.refreshPuyoSprites(),this.state=this.animatePops):(this.gameField.simState="dropped",this.refreshPuyoSprites(),this.state=this.idleState)}else if("dropped"===this.gameField.simState){this.frame=0,"checkingPops"===this.gameField.advanceState()&&!0===this.autoAdvance?(this.refreshPuyoSprites(),this.state=this.animatePops):(this.gameField.simState="dropped",this.refreshPuyoSprites(),this.state=this.idleState)}},t.prototype.animatePops=function(t){if("checkingPops"===this.gameField.simState){for(var e=t*this.simulationSpeed,i=0;i<Math.round(e);i++){if(this.gameField.hasPops){if(this.frame<18)for(var r=0,n=this.gameField.poppingGroups;r<n.length;r++)for(var o=0,s=n[r];o<s.length;o++){var a=s[o];Math.cos(this.frame/3*Math.PI)>=0?this.puyoDisplay[a.x][a.y].alpha=1:this.puyoDisplay[a.x][a.y].alpha=0}else if(this.frame>=18){if(this.frame<30)for(var h=0,u=this.gameField.poppingGroups;h<u.length;h++)for(var l=0,c=u[h];l<c.length;l++){a=c[l];this.puyoDisplay[a.x][a.y].alpha=1,this.puyoDisplay[a.x][a.y].texture=this.puyoSprites["burst_"+this.gameField.matrix[a.x][a.y].name+".png"]}else for(var d=0,p=this.gameField.poppingGroups;d<p.length;d++)for(var f=0,g=p[d];f<g.length;f++){a=g[f];this.puyoDisplay[a.x][a.y].alpha=1-this.frame/30/1.2}for(var y=0;y<this.simulatorSettings.cols;y++)for(var v=0;v<this.simulatorSettings.rows;v++)1===this.gameField.garbageClearCountMatrix[y][v]?(this.gameField.matrix[y][v].p===Lo.Garbage&&(this.puyoDisplay[y][v].alpha=1-this.frame/30),this.gameField.matrix[y][v].p===Lo.Hard&&(this.frame<=24?this.puyoDisplay[y][v].alpha=1-this.frame/30*.8:(this.puyoDisplay[y][v].texture=this.puyoSprites["garbage_n.png"],this.puyoDisplay[y][v].alpha=(this.frame-24)/6))):this.gameField.garbageClearCountMatrix[y][v]>=2&&(this.gameField.matrix[y][v].p!==Lo.Garbage&&this.gameField.matrix[y][v].p!==Lo.Hard||(this.puyoDisplay[y][v].alpha=1-this.frame/30))}var m=(this.garbageDisplayCoordinates[2]+this.garbageDisplayCoordinates[3])/2;if(this.frame>=18&&this.frame<=27){this.calculateGarbageIcons();for(var _=0;_<6;_++){var x=this.garbageDisplayCoordinates[_]-m,b=(this.frame-18)/9;this.garbageDisplay[_].x=m+x*b}}for(_=0;_<3;_++)this.garbageDisplay[_].x<this.garbageDisplayCoordinates[_]&&(this.garbageDisplay[_].x=this.garbageDisplayCoordinates[_]);for(_=3;_<6;_++)this.garbageDisplay[_].x>this.garbageDisplayCoordinates[_]&&(this.garbageDisplay[_].x=this.garbageDisplayCoordinates[_])}this.frame+=1}if(this.frame>=36){this.frame=0;m=(this.garbageDisplayCoordinates[2]+this.garbageDisplayCoordinates[3])/2;this.calculateGarbageIcons();for(_=0;_<6;_++){x=this.garbageDisplayCoordinates[_]-m;this.garbageDisplay[_].x=m+x}this.gameField.advanceState(),"checkingDrops"===this.gameField.advanceState()?(this.refreshPuyoSprites(),this.state=this.animateFieldDrops):(this.refreshPuyoSprites(),this.state=this.idleState)}}else if("popped"===this.gameField.simState){this.frame=0;m=(this.garbageDisplayCoordinates[2]+this.garbageDisplayCoordinates[3])/2;this.calculateGarbageIcons();for(_=0;_<6;_++){x=this.garbageDisplayCoordinates[_]-m;this.garbageDisplay[_].x=m+x}"checkingDrops"===this.gameField.advanceState()?(this.refreshPuyoSprites(),this.state=this.animateFieldDrops):(this.refreshPuyoSprites(),this.state=this.idleState)}},t.prototype.calculateGarbageIcons=function(){var t=["spacer_n","spacer_n","spacer_n","spacer_n","spacer_n","spacer_n"],e=function(r,n){n<6&&(r-720>=0?(t.splice(n,1,"crown"),e(r-720,n+1)):i(r,n))},i=function(e,i){i<6&&(e-360>=0?(t.splice(i,1,"moon"),r(e-360,i+1)):r(e,i))},r=function(e,i){i<6&&(e-180>=0?(t.splice(i,1,"star"),n(e-180,i+1)):n(e,i))},n=function(e,i){i<6&&(e-30>=0?(t.splice(i,1,"rock"),n(e-30,i+1)):o(e,i))},o=function(e,i){i<6&&(e-6>=0?(t.splice(i,1,"line"),o(e-6,i+1)):s(e,i))},s=function(e,i){i<6&&e-1>=0&&(t.splice(i,1,"unit"),s(e-1,i+1))};e(this.gameField.totalGarbage,0);for(var a=0;a<6;a++)this.garbageDisplay[a].texture=this.puyoSprites[t[a]+".png"];return t},t.prototype.refreshGarbageIcons=function(){for(var t=(this.garbageDisplayCoordinates[2]+this.garbageDisplayCoordinates[3])/2,e=0;e<6;e++)this.garbageDisplay[e].texture=this.puyoSprites["spacer_n.png"];for(var i=0;i<6;i++){var r=this.garbageDisplayCoordinates[i]-t;this.garbageDisplay[i].x=t+r}},t.prototype.toggleEditorWindow=function(){if(!0===this.editorOpen){this.editorDisplay.editBubble.visible=!1,this.editorOpen=!1,this.fieldDisplay.disableTouchBehind.interactive=!1,this.editorDisplay.toolCursor.visible=!1;for(var t=0,e=this.editorToolDisplay;t<e.length;t++)for(var i=0,r=e[t];i<r.length;i++)for(var n=0,o=r[i];n<o.length;n++){(c=o[n]).visible=!1}}else{this.editorDisplay.editBubble.visible=!0,this.editorOpen=!0,this.fieldDisplay.disableTouchBehind.interactive=!0,this.editorDisplay.toolCursor.visible=!0;for(var s=0;s<this.editorToolDisplay.length;s++)for(var a=0,h=this.editorToolDisplay[s];a<h.length;a++)for(var u=0,l=h[a];u<l.length;u++){var c=l[u];s===this.currentTool.page?c.visible=!0:c.visible=!1}}},t}())(document.getElementById("game-container"));Xo.app.view.style.height=.99*window.innerHeight+"px",Xo.app.view.style.width=.99*window.innerHeight*.608+"px",window.onresize=function(){Xo.app.view.style.height=.99*window.innerHeight+"px",Xo.app.view.style.width=.99*window.innerHeight*.608+"px"},Xo.setNewField(Ro([["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"],["0","0","0","0","0","0"]]))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50ZW1pdHRlcjMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pbmktcnVubmVyL21pbmktcnVubmVyLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYml0LXR3aWRkbGUvdHdpZGRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXNtb2JpbGVqcy9pc01vYmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVtb3ZlLWFycmF5LWl0ZW1zL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91cmwvdXJsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZXNvdXJjZS1sb2FkZXIvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lYXJjdXQvc3JjL2VhcmN1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWluaS1zaWduYWxzL2xpYi9taW5pLXNpZ25hbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BhcnNlLXVyaS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9hc3luYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9SZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbm9kZS1saWJzLWJyb3dzZXIvbm9kZV9tb2R1bGVzL3B1bnljb2RlL3B1bnljb2RlLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXJsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2RlY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXVlcnlzdHJpbmctZXMzL2VuY29kZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVzb3VyY2UtbG9hZGVyL2xpYi9Mb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Jlc291cmNlLWxvYWRlci9saWIvYjY0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb25zdGFudHMvbGliL2NvbnN0YW50cy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc2V0dGluZ3MvbGliL3NldHRpbmdzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS91dGlscy9saWIvdXRpbHMuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21hdGgvbGliL21hdGguZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2Rpc3BsYXkvbGliL2Rpc3BsYXkuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2FjY2Vzc2liaWxpdHkvbGliL2FjY2Vzc2liaWxpdHkuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3RpY2tlci9saWIvdGlja2VyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9jb3JlL2xpYi9jb3JlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9hcHAvbGliL2FwcC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZXh0cmFjdC9saWIvZXh0cmFjdC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlL2xpYi9zcHJpdGUuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2dyYXBoaWNzL2xpYi9ncmFwaGljcy5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvaW50ZXJhY3Rpb24vbGliL2ludGVyYWN0aW9uLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9sb2FkZXJzL2xpYi9sb2FkZXJzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9tZXNoLWV4dHJhcy9saWIvbWVzaC1leHRyYXMuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL21lc2gvbGliL21lc2guZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL3BhcnRpY2xlcy9saWIvcGFydGljbGVzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0L2xpYi90ZXh0LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9wcmVwYXJlL2xpYi9wcmVwYXJlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtYW5pbWF0ZWQvbGliL3Nwcml0ZS1hbmltYXRlZC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvc3ByaXRlc2hlZXQvbGliL3Nwcml0ZXNoZWV0LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9zcHJpdGUtdGlsaW5nL2xpYi9zcHJpdGUtdGlsaW5nLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS90ZXh0LWJpdG1hcC9saWIvdGV4dC1iaXRtYXAuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZyYWdtZW50cy9saWIvZnJhZ21lbnRzLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItYWxwaGEvbGliL2ZpbHRlci1hbHBoYS5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvZmlsdGVyLWJsdXIvbGliL2ZpbHRlci1ibHVyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItY29sb3ItbWF0cml4L2xpYi9maWx0ZXItY29sb3ItbWF0cml4LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50L2xpYi9maWx0ZXItZGlzcGxhY2VtZW50LmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9maWx0ZXItZnhhYS9saWIvZmlsdGVyLWZ4YWEuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BwaXhpL2ZpbHRlci1ub2lzZS9saWIvZmlsdGVyLW5vaXNlLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAvbGliL21peGluLWNhY2hlLWFzLWJpdG1hcC5lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUvbGliL21peGluLWdldC1jaGlsZC1ieS1uYW1lLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uL2xpYi9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9waXhpLmpzL2xpYi9waXhpLmVzLmpzIiwid2VicGFjazovLy8uL3NyYy9oZWxwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1B1eW8udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZpZWxkLnRzIiwid2VicGFjazovLy8uL3NyYy9DaGFpbnNpbUVkaXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsicGFyZW50SG90VXBkYXRlQ2FsbGJhY2siLCJ3aW5kb3ciLCJjaHVua0lkIiwibW9yZU1vZHVsZXMiLCJob3RBdmFpbGFibGVGaWxlc01hcCIsImhvdFJlcXVlc3RlZEZpbGVzTWFwIiwibW9kdWxlSWQiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJob3RVcGRhdGUiLCJob3RXYWl0aW5nRmlsZXMiLCJob3RDaHVua3NMb2FkaW5nIiwiaG90VXBkYXRlRG93bmxvYWRlZCIsImhvdEFkZFVwZGF0ZUNodW5rIiwiaG90Q3VycmVudENoaWxkTW9kdWxlIiwiaG90QXBwbHlPblVwZGF0ZSIsImhvdEN1cnJlbnRIYXNoIiwiaG90UmVxdWVzdFRpbWVvdXQiLCJob3RDdXJyZW50TW9kdWxlRGF0YSIsImhvdEN1cnJlbnRQYXJlbnRzIiwiaG90Q3VycmVudFBhcmVudHNUZW1wIiwiaG90Q3JlYXRlUmVxdWlyZSIsIm1lIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJmbiIsInJlcXVlc3QiLCJob3QiLCJhY3RpdmUiLCJwYXJlbnRzIiwiaW5kZXhPZiIsInB1c2giLCJjaGlsZHJlbiIsImNvbnNvbGUiLCJ3YXJuIiwiT2JqZWN0RmFjdG9yeSIsIm5hbWUiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwic2V0IiwidmFsdWUiLCJkZWZpbmVQcm9wZXJ0eSIsImUiLCJob3RTdGF0dXMiLCJob3RTZXRTdGF0dXMiLCJ0aGVuIiwiZmluaXNoQ2h1bmtMb2FkaW5nIiwiZXJyIiwiaG90V2FpdGluZ0ZpbGVzTWFwIiwiaG90RW5zdXJlVXBkYXRlQ2h1bmsiLCJ0IiwibW9kZSIsImhvdENyZWF0ZU1vZHVsZSIsIl9hY2NlcHRlZERlcGVuZGVuY2llcyIsIl9kZWNsaW5lZERlcGVuZGVuY2llcyIsIl9zZWxmQWNjZXB0ZWQiLCJfc2VsZkRlY2xpbmVkIiwiX2Rpc3Bvc2VIYW5kbGVycyIsIl9tYWluIiwiYWNjZXB0IiwiZGVwIiwiY2FsbGJhY2siLCJ1bmRlZmluZWQiLCJpIiwibGVuZ3RoIiwiZGVjbGluZSIsImRpc3Bvc2UiLCJhZGREaXNwb3NlSGFuZGxlciIsInJlbW92ZURpc3Bvc2VIYW5kbGVyIiwiaWR4Iiwic3BsaWNlIiwiY2hlY2siLCJob3RDaGVjayIsImFwcGx5IiwiaG90QXBwbHkiLCJzdGF0dXMiLCJsIiwiaG90U3RhdHVzSGFuZGxlcnMiLCJhZGRTdGF0dXNIYW5kbGVyIiwicmVtb3ZlU3RhdHVzSGFuZGxlciIsImRhdGEiLCJuZXdTdGF0dXMiLCJob3REZWZlcnJlZCIsImhvdFVwZGF0ZU5ld0hhc2giLCJ0b01vZHVsZUlkIiwiaWQiLCJFcnJvciIsInJlcXVlc3RUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJYTUxIdHRwUmVxdWVzdCIsInJlcXVlc3RQYXRoIiwicCIsIm9wZW4iLCJ0aW1lb3V0Iiwic2VuZCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJ1cGRhdGUiLCJKU09OIiwicGFyc2UiLCJyZXNwb25zZVRleHQiLCJjIiwiaCIsInByb21pc2UiLCJzY3JpcHQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiaG90RG93bmxvYWRVcGRhdGVDaHVuayIsImRlZmVycmVkIiwicmVzdWx0Iiwib3V0ZGF0ZWRNb2R1bGVzIiwib3B0aW9ucyIsImNiIiwiaiIsIm1vZHVsZSIsImdldEFmZmVjdGVkU3R1ZmYiLCJ1cGRhdGVNb2R1bGVJZCIsIm91dGRhdGVkRGVwZW5kZW5jaWVzIiwicXVldWUiLCJzbGljZSIsIm1hcCIsImNoYWluIiwicXVldWVJdGVtIiwicG9wIiwidHlwZSIsInBhcmVudElkIiwicGFyZW50IiwiY29uY2F0IiwiYWRkQWxsVG9TZXQiLCJhIiwiYiIsIml0ZW0iLCJhcHBsaWVkVXBkYXRlIiwid2FyblVuZXhwZWN0ZWRSZXF1aXJlIiwiYWJvcnRFcnJvciIsImRvQXBwbHkiLCJkb0Rpc3Bvc2UiLCJjaGFpbkluZm8iLCJqb2luIiwib25EZWNsaW5lZCIsImlnbm9yZURlY2xpbmVkIiwib25VbmFjY2VwdGVkIiwiaWdub3JlVW5hY2NlcHRlZCIsIm9uQWNjZXB0ZWQiLCJvbkRpc3Bvc2VkIiwib3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzIiwiZXJyb3JIYW5kbGVyIiwia2V5cyIsImZvckVhY2giLCJpbnN0YWxsZWRDaHVua3MiLCJob3REaXNwb3NlQ2h1bmsiLCJkZXBlbmRlbmN5IiwibW9kdWxlT3V0ZGF0ZWREZXBlbmRlbmNpZXMiLCJkaXNwb3NlSGFuZGxlcnMiLCJjaGlsZCIsIm1vZHVsZXMiLCJlcnJvciIsImNhbGxiYWNrcyIsIm9uRXJyb3JlZCIsImRlcGVuZGVuY3lJZCIsImlnbm9yZUVycm9yZWQiLCJlcnIyIiwib3JpZ2luYWxFcnJvciIsImV4cG9ydHMiLCJtIiwiZCIsImdldHRlciIsIm8iLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicyIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiY29udGV4dCIsIm9uY2UiLCJ0aGlzIiwiRXZlbnRFbWl0dGVyIiwiX2V2ZW50cyIsIl9ldmVudHNDb3VudCIsIl9fcHJvdG9fXyIsImV2ZW50TmFtZXMiLCJldmVudHMiLCJuYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImxpc3RlbmVycyIsImV2ZW50IiwiZXhpc3RzIiwiZXZ0IiwiYXZhaWxhYmxlIiwiZWUiLCJBcnJheSIsImVtaXQiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYXJncyIsImxlbiIsImFyZ3VtZW50cyIsInJlbW92ZUxpc3RlbmVyIiwib24iLCJsaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsImFkZExpc3RlbmVyIiwic2V0TWF4TGlzdGVuZXJzIiwicHJlZml4ZWQiLCJNaW5pUnVubmVyIiwiYXJnc0xlbmd0aCIsIml0ZW1zIiwiX25hbWUiLCJkaXNwYXRjaCIsInJ1biIsImdlbmVyYXRlUnVuIiwiYWRkIiwicmVtb3ZlIiwiaW5kZXgiLCJjb250YWlucyIsInJlbW92ZUFsbCIsImZ1bmMiLCJoYXNoIiwiRnVuY3Rpb24iLCJjb3VudFRyYWlsaW5nWmVyb3MiLCJ2IiwiSU5UX0JJVFMiLCJJTlRfTUFYIiwiSU5UX01JTiIsInNpZ24iLCJhYnMiLCJtYXNrIiwibWluIiwieCIsInkiLCJtYXgiLCJpc1BvdzIiLCJsb2cyIiwic2hpZnQiLCJsb2cxMCIsInBvcENvdW50IiwibmV4dFBvdzIiLCJwcmV2UG93MiIsInBhcml0eSIsIlJFVkVSU0VfVEFCTEUiLCJ0YWIiLCJyZXZlcnNlIiwiaW50ZXJsZWF2ZTIiLCJkZWludGVybGVhdmUyIiwiaW50ZXJsZWF2ZTMiLCJ6IiwiZGVpbnRlcmxlYXZlMyIsIm5leHRDb21iaW5hdGlvbiIsIl9fV0VCUEFDS19BTURfREVGSU5FX0ZBQ1RPUllfXyIsIl9fV0VCUEFDS19BTURfREVGSU5FX0FSUkFZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImdsb2JhbCIsImFwcGxlX3Bob25lIiwiYXBwbGVfaXBvZCIsImFwcGxlX3RhYmxldCIsImFuZHJvaWRfcGhvbmUiLCJhbmRyb2lkX3RhYmxldCIsImFtYXpvbl9waG9uZSIsImFtYXpvbl90YWJsZXQiLCJ3aW5kb3dzX3Bob25lIiwid2luZG93c190YWJsZXQiLCJvdGhlcl9ibGFja2JlcnJ5Iiwib3RoZXJfYmxhY2tiZXJyeV8xMCIsIm90aGVyX29wZXJhIiwib3RoZXJfY2hyb21lIiwib3RoZXJfZmlyZWZveCIsInNldmVuX2luY2giLCJtYXRjaCIsIklzTW9iaWxlQ2xhc3MiLCJpbnN0YW50aWF0ZSIsIlJlZ0V4cCIsInJlZ2V4IiwidXNlckFnZW50IiwidGVzdCIsInVhIiwibmF2aWdhdG9yIiwidG1wIiwic3BsaXQiLCJhcHBsZSIsInBob25lIiwiaXBvZCIsInRhYmxldCIsImRldmljZSIsImFtYXpvbiIsImFuZHJvaWQiLCJ3aW5kb3dzIiwib3RoZXIiLCJibGFja2JlcnJ5IiwiYmxhY2tiZXJyeTEwIiwib3BlcmEiLCJmaXJlZm94IiwiY2hyb21lIiwiYW55IiwiSU0iLCJDbGFzcyIsImlzTW9iaWxlIiwiYXJyIiwic3RhcnRJZHgiLCJyZW1vdmVDb3VudCIsInB1bnljb2RlIiwidXRpbCIsIlVybCIsInByb3RvY29sIiwic2xhc2hlcyIsImF1dGgiLCJob3N0IiwicG9ydCIsImhvc3RuYW1lIiwic2VhcmNoIiwicXVlcnkiLCJwYXRobmFtZSIsInBhdGgiLCJocmVmIiwidXJsUGFyc2UiLCJzb3VyY2UiLCJyZWxhdGl2ZSIsInJlc29sdmVPYmplY3QiLCJmb3JtYXQiLCJvYmoiLCJpc1N0cmluZyIsInByb3RvY29sUGF0dGVybiIsInBvcnRQYXR0ZXJuIiwic2ltcGxlUGF0aFBhdHRlcm4iLCJ1bndpc2UiLCJhdXRvRXNjYXBlIiwibm9uSG9zdENoYXJzIiwiaG9zdEVuZGluZ0NoYXJzIiwiaG9zdG5hbWVQYXJ0UGF0dGVybiIsImhvc3RuYW1lUGFydFN0YXJ0IiwidW5zYWZlUHJvdG9jb2wiLCJqYXZhc2NyaXB0IiwiamF2YXNjcmlwdDoiLCJob3N0bGVzc1Byb3RvY29sIiwic2xhc2hlZFByb3RvY29sIiwiaHR0cCIsImh0dHBzIiwiZnRwIiwiZ29waGVyIiwiZmlsZSIsImh0dHA6IiwiaHR0cHM6IiwiZnRwOiIsImdvcGhlcjoiLCJmaWxlOiIsInF1ZXJ5c3RyaW5nIiwidXJsIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwiaXNPYmplY3QiLCJ1IiwiVHlwZUVycm9yIiwicXVlcnlJbmRleCIsInNwbGl0dGVyIiwidVNwbGl0IiwicmVwbGFjZSIsInJlc3QiLCJ0cmltIiwic2ltcGxlUGF0aCIsImV4ZWMiLCJzdWJzdHIiLCJwcm90byIsImxvd2VyUHJvdG8iLCJ0b0xvd2VyQ2FzZSIsImF0U2lnbiIsImhvc3RFbmQiLCJoZWMiLCJsYXN0SW5kZXhPZiIsImRlY29kZVVSSUNvbXBvbmVudCIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwiayIsImNoYXJDb2RlQXQiLCJ2YWxpZFBhcnRzIiwibm90SG9zdCIsImJpdCIsInVuc2hpZnQiLCJ0b0FTQ0lJIiwiYWUiLCJlc2MiLCJlbmNvZGVVUklDb21wb25lbnQiLCJlc2NhcGUiLCJxbSIsInN0cmluZ2lmeSIsImNoYXJBdCIsInJlbCIsInRrZXlzIiwidGsiLCJ0a2V5IiwicmtleXMiLCJyayIsInJrZXkiLCJyZWxQYXRoIiwiaXNTb3VyY2VBYnMiLCJpc1JlbEFicyIsIm11c3RFbmRBYnMiLCJyZW1vdmVBbGxEb3RzIiwic3JjUGF0aCIsInBzeWNob3RpYyIsImlzTnVsbE9yVW5kZWZpbmVkIiwiYXV0aEluSG9zdCIsImlzTnVsbCIsImxhc3QiLCJoYXNUcmFpbGluZ1NsYXNoIiwidXAiLCJpc0Fic29sdXRlIiwiTG9hZGVyIiwiUmVzb3VyY2UiLCJhc3luYyIsImI2NCIsImVuY29kZUJpbmFyeSIsImJhc2U2NCIsImRlZmF1bHQiLCJlYXJjdXQiLCJob2xlSW5kaWNlcyIsImRpbSIsIm1pblgiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJpbnZTaXplIiwiaGFzSG9sZXMiLCJvdXRlckxlbiIsIm91dGVyTm9kZSIsImxpbmtlZExpc3QiLCJ0cmlhbmdsZXMiLCJuZXh0IiwicHJldiIsInN0YXJ0IiwiZW5kIiwibGlzdCIsInN0ZWluZXIiLCJnZXRMZWZ0bW9zdCIsInNvcnQiLCJjb21wYXJlWCIsImVsaW1pbmF0ZUhvbGUiLCJmaWx0ZXJQb2ludHMiLCJlbGltaW5hdGVIb2xlcyIsIk1hdGgiLCJlYXJjdXRMaW5rZWQiLCJjbG9ja3dpc2UiLCJzaWduZWRBcmVhIiwiaW5zZXJ0Tm9kZSIsImVxdWFscyIsInJlbW92ZU5vZGUiLCJhZ2FpbiIsImFyZWEiLCJlYXIiLCJwYXNzIiwiek9yZGVyIiwicHJldloiLCJuZXh0WiIsInEiLCJ0YWlsIiwibnVtTWVyZ2VzIiwicFNpemUiLCJxU2l6ZSIsImluU2l6ZSIsInNvcnRMaW5rZWQiLCJpbmRleEN1cnZlIiwic3RvcCIsImlzRWFySGFzaGVkIiwiaXNFYXIiLCJjdXJlTG9jYWxJbnRlcnNlY3Rpb25zIiwic3BsaXRFYXJjdXQiLCJwb2ludEluVHJpYW5nbGUiLCJtaW5UWCIsIm1pblRZIiwibWF4VFgiLCJtYXhUWSIsIm1pbloiLCJtYXhaIiwiaW50ZXJzZWN0cyIsImxvY2FsbHlJbnNpZGUiLCJpc1ZhbGlkRGlhZ29uYWwiLCJzcGxpdFBvbHlnb24iLCJob2xlIiwiaHgiLCJoeSIsInF4IiwiSW5maW5pdHkiLCJ0YW4iLCJteCIsIm15IiwidGFuTWluIiwiZmluZEhvbGVCcmlkZ2UiLCJsZWZ0bW9zdCIsImF4IiwiYXkiLCJieCIsImJ5IiwiY3giLCJjeSIsInB4IiwicHkiLCJpbnRlcnNlY3RzUG9seWdvbiIsImluc2lkZSIsIm1pZGRsZUluc2lkZSIsInAxIiwicDIiLCJxMSIsInEyIiwiTm9kZSIsImIyIiwiYW4iLCJicCIsInN1bSIsImRldmlhdGlvbiIsInBvbHlnb25BcmVhIiwidHJpYW5nbGVzQXJlYSIsImZsYXR0ZW4iLCJ2ZXJ0aWNlcyIsImhvbGVzIiwiZGltZW5zaW9ucyIsImhvbGVJbmRleCIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJ3cml0YWJsZSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJNaW5pU2lnbmFsQmluZGluZyIsInRoaXNBcmciLCJfZm4iLCJfb25jZSIsIl90aGlzQXJnIiwiX25leHQiLCJfcHJldiIsIl9vd25lciIsImRldGFjaCIsIl9hZGRNaW5pU2lnbmFsQmluZGluZyIsInNlbGYiLCJub2RlIiwiX2hlYWQiLCJfdGFpbCIsIk1pbmlTaWduYWwiLCJzdHIiLCJvcHRzIiwicGFyc2VyIiwic3RyaWN0IiwibG9vc2UiLCJzdHJpY3RNb2RlIiwidXJpIiwiJDAiLCIkMSIsIiQyIiwiX25vb3AiLCJvbmx5T25jZSIsImNhbGxGbiIsImVhY2hTZXJpZXMiLCJhcnJheSIsIml0ZXJhdG9yIiwiZGVmZXJOZXh0Iiwic2V0VGltZW91dCIsIndvcmtlciIsImNvbmN1cnJlbmN5Iiwid29ya2VycyIsIl90YXNrcyIsInNhdHVyYXRlZCIsInVuc2F0dXJhdGVkIiwiYnVmZmVyIiwiZW1wdHkiLCJkcmFpbiIsInN0YXJ0ZWQiLCJwYXVzZWQiLCJfaW5zZXJ0Iiwia2lsbCIsInByb2Nlc3MiLCJ0YXNrIiwicnVubmluZyIsImlkbGUiLCJwYXVzZSIsInJlc3VtZSIsInciLCJpbnNlcnRBdEZyb250IiwiX3BhcnNlVXJpMiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfbWluaVNpZ25hbHMyIiwidXNlWGRyIiwiWERvbWFpblJlcXVlc3QiLCJ0ZW1wQW5jaG9yIiwiX2ZsYWdzIiwiX3NldEZsYWciLCJTVEFUVVNfRkxBR1MiLCJEQVRBX1VSTCIsImV4dGVuc2lvbiIsIl9nZXRFeHRlbnNpb24iLCJjcm9zc09yaWdpbiIsImxvYWRUeXBlIiwiX2RldGVybWluZUxvYWRUeXBlIiwieGhyVHlwZSIsIm1ldGFkYXRhIiwieGhyIiwiVFlQRSIsIlVOS05PV04iLCJwcm9ncmVzc0NodW5rIiwiX2RlcXVldWUiLCJfb25Mb2FkQmluZGluZyIsIl9lbGVtZW50VGltZXIiLCJfYm91bmRDb21wbGV0ZSIsImNvbXBsZXRlIiwiX2JvdW5kT25FcnJvciIsIl9vbkVycm9yIiwiX2JvdW5kT25Qcm9ncmVzcyIsIl9vblByb2dyZXNzIiwiX2JvdW5kT25UaW1lb3V0IiwiX29uVGltZW91dCIsIl9ib3VuZFhock9uRXJyb3IiLCJfeGhyT25FcnJvciIsIl9ib3VuZFhock9uVGltZW91dCIsIl94aHJPblRpbWVvdXQiLCJfYm91bmRYaHJPbkFib3J0IiwiX3hock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfeGhyT25Mb2FkIiwib25TdGFydCIsIm9uUHJvZ3Jlc3MiLCJvbkNvbXBsZXRlIiwib25BZnRlck1pZGRsZXdhcmUiLCJzZXRFeHRlbnNpb25Mb2FkVHlwZSIsImV4dG5hbWUiLCJzZXRFeHRNYXAiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJfY2xlYXJFdmVudHMiLCJfZmluaXNoIiwiYWJvcnQiLCJtZXNzYWdlIiwieGRyIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibG9hZCIsIl90aGlzIiwiaXNMb2FkaW5nIiwiaXNDb21wbGV0ZSIsIkxPQURJTkciLCJfZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJMT0FEX1RZUEUiLCJJTUFHRSIsIl9sb2FkRWxlbWVudCIsIkFVRElPIiwiX2xvYWRTb3VyY2VFbGVtZW50IiwiVklERU8iLCJYSFIiLCJfbG9hZFhkciIsIl9sb2FkWGhyIiwiX2hhc0ZsYWciLCJmbGFnIiwiY2xlYXJUaW1lb3V0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9uZXJyb3IiLCJvbnRpbWVvdXQiLCJvbnByb2dyZXNzIiwib25sb2FkIiwiQ09NUExFVEUiLCJsb2FkRWxlbWVudCIsIkltYWdlIiwic2tpcFNvdXJjZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJBdWRpbyIsImlzQ29jb29uSlMiLCJpc0FycmF5IiwibWltZVR5cGVzIiwibWltZVR5cGUiLCJfY3JlYXRlU291cmNlIiwiX21pbWVUeXBlcyIsIl9kZXRlcm1pbmVYaHJUeXBlIiwiWEhSX1JFU1BPTlNFX1RZUEUiLCJET0NVTUVOVCIsInJlc3BvbnNlVHlwZSIsIlRFWFQiLCJtaW1lIiwibm9kZU5hbWUiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidG90YWwiLCJyZXFUeXBlIiwic3RhdHVzVGV4dCIsInRleHQiLCJCVUZGRVIiLCJET01QYXJzZXIiLCJkb21wYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJkaXYiLCJpbm5lckhUTUwiLCJYTUwiLCJyZXNwb25zZSIsInJlc3BvbnNlVVJMIiwibG9jIiwib3JpZ2luIiwibG9jYXRpb24iLCJzYW1lUG9ydCIsImV4dCIsImlzRGF0YVVybCIsInNsYXNoSW5kZXgiLCJzdWJzdHJpbmciLCJxdWVyeVN0YXJ0IiwiaGFzaFN0YXJ0IiwiX2dldE1pbWVGcm9tWGhyVHlwZSIsIkJMT0IiLCJERUZBVUxUIiwidmFsIiwidG9TdHJpbmciLCJOT05FIiwiZ2lmIiwicG5nIiwiYm1wIiwianBnIiwianBlZyIsInRpZiIsInRpZmYiLCJ3ZWJwIiwidGdhIiwic3ZnIiwic3ZnK3htbCIsIm1wMyIsIm9nZyIsIndhdiIsIm1wNCIsIndlYm0iLCJ4aHRtbCIsImh0bWwiLCJodG0iLCJ4bWwiLCJ0bXgiLCJ0c3giLCJqc29uIiwidHh0IiwidHRmIiwib3RmIiwicm9vdCIsIm5vZGVUeXBlIiwiZnJlZUdsb2JhbCIsIm1heEludCIsImJhc2UiLCJ0TWluIiwidE1heCIsInNrZXciLCJkYW1wIiwiaW5pdGlhbEJpYXMiLCJpbml0aWFsTiIsImRlbGltaXRlciIsInJlZ2V4UHVueWNvZGUiLCJyZWdleE5vbkFTQ0lJIiwicmVnZXhTZXBhcmF0b3JzIiwiZXJyb3JzIiwib3ZlcmZsb3ciLCJub3QtYmFzaWMiLCJpbnZhbGlkLWlucHV0IiwiYmFzZU1pbnVzVE1pbiIsImZsb29yIiwic3RyaW5nRnJvbUNoYXJDb2RlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiUmFuZ2VFcnJvciIsIm1hcERvbWFpbiIsInN0cmluZyIsInBhcnRzIiwidWNzMmRlY29kZSIsImV4dHJhIiwib3V0cHV0IiwiY291bnRlciIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImFkYXB0IiwiZGVsdGEiLCJudW1Qb2ludHMiLCJmaXJzdFRpbWUiLCJkZWNvZGUiLCJpbnB1dCIsIm91dCIsImJhc2ljIiwib2xkaSIsImJhc2VNaW51c1QiLCJjb2RlUG9pbnQiLCJpbnB1dExlbmd0aCIsImJpYXMiLCJlbmNvZGUiLCJoYW5kbGVkQ1BDb3VudCIsImJhc2ljTGVuZ3RoIiwiY3VycmVudFZhbHVlIiwiaGFuZGxlZENQQ291bnRQbHVzT25lIiwicU1pbnVzVCIsInZlcnNpb24iLCJ1Y3MyIiwidG9Vbmljb2RlIiwid2VicGFja1BvbHlmaWxsIiwiZGVwcmVjYXRlIiwicGF0aHMiLCJnIiwiYXJnIiwicHJvcCIsInFzIiwic2VwIiwiZXEiLCJyZWdleHAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJ4cyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsImlzRmluaXRlIiwib2JqZWN0S2V5cyIsImtzIiwiZiIsInJlcyIsIl90eXBlb2YiLCJjb25zdHJ1Y3RvciIsIm5ld09iaiIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1Jlc291cmNlIiwicmd4RXh0cmFjdFVybEhhc2giLCJiYXNlVXJsIiwicHJvZ3Jlc3MiLCJsb2FkaW5nIiwiZGVmYXVsdFF1ZXJ5U3RyaW5nIiwiX2JlZm9yZU1pZGRsZXdhcmUiLCJfYWZ0ZXJNaWRkbGV3YXJlIiwiX3Jlc291cmNlc1BhcnNpbmciLCJfYm91bmRMb2FkUmVzb3VyY2UiLCJfbG9hZFJlc291cmNlIiwiX3F1ZXVlIiwicmVzb3VyY2VzIiwib25FcnJvciIsIm9uTG9hZCIsIl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSIsInByZSIsIl9pIiwiX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUiLCJ1c2UiLCJwYXJlbnRSZXNvdXJjZSIsIl9wcmVwYXJlVXJsIiwiaW5jb21wbGV0ZUNoaWxkcmVuIiwiX2kyIiwiZWFjaENodW5rIiwiX2kzIiwicmVzZXQiLCJfb25TdGFydCIsIl9vbkNvbXBsZXRlIiwiY2h1bmsiLCJwYXJzZWRVcmwiLCJyZXNvdXJjZSIsImRlcXVldWUiLCJfdGhpczIiLCJfb25Mb2FkIiwiX3RoaXMzIiwiX2tleVN0ciIsImlueCIsImJ5dGVidWZmZXIiLCJlbmNvZGVkQ2hhckluZGV4ZXMiLCJqbngiLCJfam54IiwiRU5WIiwiV0VCR0xfTEVHQUNZIiwiV0VCR0wiLCJXRUJHTDIiLCJSRU5ERVJFUl9UWVBFIiwiQ0FOVkFTIiwiQkxFTkRfTU9ERVMiLCJOT1JNQUwiLCJBREQiLCJNVUxUSVBMWSIsIlNDUkVFTiIsIk9WRVJMQVkiLCJEQVJLRU4iLCJMSUdIVEVOIiwiQ09MT1JfRE9ER0UiLCJDT0xPUl9CVVJOIiwiSEFSRF9MSUdIVCIsIlNPRlRfTElHSFQiLCJESUZGRVJFTkNFIiwiRVhDTFVTSU9OIiwiSFVFIiwiU0FUVVJBVElPTiIsIkNPTE9SIiwiTFVNSU5PU0lUWSIsIk5PUk1BTF9OUE0iLCJBRERfTlBNIiwiU0NSRUVOX05QTSIsIkRSQVdfTU9ERVMiLCJQT0lOVFMiLCJMSU5FUyIsIkxJTkVfTE9PUCIsIkxJTkVfU1RSSVAiLCJUUklBTkdMRVMiLCJUUklBTkdMRV9TVFJJUCIsIlRSSUFOR0xFX0ZBTiIsIkZPUk1BVFMiLCJSR0JBIiwiUkdCIiwiQUxQSEEiLCJMVU1JTkFOQ0UiLCJMVU1JTkFOQ0VfQUxQSEEiLCJERVBUSF9DT01QT05FTlQiLCJERVBUSF9TVEVOQ0lMIiwiVEFSR0VUUyIsIlRFWFRVUkVfMkQiLCJURVhUVVJFX0NVQkVfTUFQIiwiVEVYVFVSRV8yRF9BUlJBWSIsIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCIsIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWCIsIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWSIsIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWSIsIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWiIsIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWiIsIlRZUEVTIiwiVU5TSUdORURfQllURSIsIlVOU0lHTkVEX1NIT1JUIiwiVU5TSUdORURfU0hPUlRfNV82XzUiLCJVTlNJR05FRF9TSE9SVF80XzRfNF80IiwiVU5TSUdORURfU0hPUlRfNV81XzVfMSIsIkZMT0FUIiwiSEFMRl9GTE9BVCIsIlNDQUxFX01PREVTIiwiTElORUFSIiwiTkVBUkVTVCIsIldSQVBfTU9ERVMiLCJDTEFNUCIsIlJFUEVBVCIsIk1JUlJPUkVEX1JFUEVBVCIsIkdDX01PREVTIiwiQVVUTyIsIk1BTlVBTCIsIlBSRUNJU0lPTiIsIkxPVyIsIk1FRElVTSIsIkhJR0giLCJzZXR0aW5nc19lc19zZXR0aW5ncyIsIk1JUE1BUF9URVhUVVJFUyIsIlJFU09MVVRJT04iLCJGSUxURVJfUkVTT0xVVElPTiIsIlNQUklURV9NQVhfVEVYVFVSRVMiLCJpc01vYmlsZV9kZWZhdWx0IiwiU1BSSVRFX0JBVENIX1NJWkUiLCJSRU5ERVJfT1BUSU9OUyIsInZpZXciLCJhbnRpYWxpYXMiLCJmb3JjZUZYQUEiLCJhdXRvUmVzaXplIiwidHJhbnNwYXJlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjbGVhckJlZm9yZVJlbmRlciIsInByZXNlcnZlRHJhd2luZ0J1ZmZlciIsInJvdW5kUGl4ZWxzIiwid2lkdGgiLCJoZWlnaHQiLCJsZWdhY3kiLCJHQ19NT0RFIiwiR0NfTUFYX0lETEUiLCJHQ19NQVhfQ0hFQ0tfQ09VTlQiLCJXUkFQX01PREUiLCJTQ0FMRV9NT0RFIiwiUFJFQ0lTSU9OX1ZFUlRFWCIsIlBSRUNJU0lPTl9GUkFHTUVOVCIsIkNBTl9VUExPQURfU0FNRV9CVUZGRVIiLCJwbGF0Zm9ybSIsIkNSRUFURV9JTUFHRV9CSVRNQVAiLCJtaXhpbiIsInByb3BlcnR5TmFtZSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIm1peGlucyIsIm1peGlucyQxIiwiZGVsYXlNaXhpbiIsInBlcmZvcm1NaXhpbnMiLCJzYWlkSGVsbG8iLCJWRVJTSU9OIiwic2tpcEhlbGxvIiwic2F5SGVsbG8iLCJsb2ciLCJpc1dlYkdMU3VwcG9ydGVkIiwiY29udGV4dE9wdGlvbnMiLCJzdGVuY2lsIiwiZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCIsIldlYkdMUmVuZGVyaW5nQ29udGV4dCIsImNhbnZhcyIsImdsIiwiZ2V0Q29udGV4dCIsInN1Y2Nlc3MiLCJnZXRDb250ZXh0QXR0cmlidXRlcyIsImxvc2VDb250ZXh0IiwiZ2V0RXh0ZW5zaW9uIiwiaGV4MnJnYiIsImhleCIsImhleDJzdHJpbmciLCJyZ2IyaGV4IiwicmdiIiwicHJlbXVsdGlwbHlCbGVuZE1vZGUiLCJwbSIsIm5wbSIsIm1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzIiwiY29ycmVjdEJsZW5kTW9kZSIsImJsZW5kTW9kZSIsInByZW11bHRpcGxpZWQiLCJwcmVtdWx0aXBseVJnYmEiLCJhbHBoYSIsInByZW11bHRpcGx5IiwiRmxvYXQzMkFycmF5IiwicHJlbXVsdGlwbHlUaW50IiwidGludCIsIlIiLCJHIiwiQiIsInByZW11bHRpcGx5VGludFRvUmdiYSIsImNyZWF0ZUluZGljZXNGb3JRdWFkcyIsInNpemUiLCJ0b3RhbEluZGljZXMiLCJpbmRpY2VzIiwiVWludDE2QXJyYXkiLCJuZXh0VWlkIiwidWlkIiwiUHJvZ3JhbUNhY2hlIiwiVGV4dHVyZUNhY2hlIiwiQmFzZVRleHR1cmVDYWNoZSIsImRlc3Ryb3lUZXh0dXJlQ2FjaGUiLCJkZXN0cm95IiwiY2xlYXJUZXh0dXJlQ2FjaGUiLCJ0cmltQ2FudmFzIiwicGl4ZWxzIiwiZ2V0SW1hZ2VEYXRhIiwiYm91bmQiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJ1dGlsc19lc19DYW52YXNSZW5kZXJUYXJnZXQiLCJyZXNvbHV0aW9uIiwicmVzaXplIiwidXRpbHNfZXNfcHJvdG90eXBlQWNjZXNzb3JzIiwiY2xlYXIiLCJzZXRUcmFuc2Zvcm0iLCJjbGVhclJlY3QiLCJEQVRBX1VSSSIsImRlY29tcG9zZURhdGFVcmkiLCJkYXRhVXJpIiwiZGF0YVVyaU1hdGNoIiwibWVkaWFUeXBlIiwic3ViVHlwZSIsImVuY29kaW5nIiwiZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4iLCJ1cmxfZGVmYXVsdCIsImdldFJlc29sdXRpb25PZlVybCIsImRlZmF1bHRWYWx1ZSIsIlJFVElOQV9QUkVGSVgiLCJwYXJzZUZsb2F0IiwiUG9pbnQiLCJjbG9uZSIsImNvcHlGcm9tIiwiY29weVRvIiwiT2JzZXJ2YWJsZVBvaW50Iiwic2NvcGUiLCJfeCIsIl95IiwibWF0aF9lc19wcm90b3R5cGVBY2Nlc3NvcnMiLCJQSV8yIiwiUEkiLCJSQURfVE9fREVHIiwiREVHX1RPX1JBRCIsIlNIQVBFUyIsIlBPTFkiLCJSRUNUIiwiQ0lSQyIsIkVMSVAiLCJSUkVDIiwiTWF0cml4IiwidHgiLCJ0eSIsIm1hdGhfZXNfc3RhdGljQWNjZXNzb3JzIiwiSURFTlRJVFkiLCJURU1QX01BVFJJWCIsImZyb21BcnJheSIsInRvQXJyYXkiLCJ0cmFuc3Bvc2UiLCJwb3MiLCJuZXdQb3MiLCJhcHBseUludmVyc2UiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsInJvdGF0ZSIsImFuZ2xlIiwiY29zIiwic2luIiwiYzEiLCJ0eDEiLCJhcHBlbmQiLCJtYXRyaXgiLCJiMSIsImQxIiwicGl2b3RYIiwicGl2b3RZIiwic2NhbGVYIiwic2NhbGVZIiwicm90YXRpb24iLCJza2V3WCIsInNrZXdZIiwicHJlcGVuZCIsImRlY29tcG9zZSIsInRyYW5zZm9ybSIsImF0YW4yIiwic3FydCIsInBvc2l0aW9uIiwiaW52ZXJ0IiwiaWRlbnRpdHkiLCJ1eCIsInV5IiwidngiLCJ2eSIsInRlbXBNYXRyaWNlcyIsIm11bCIsInNpZ251bSIsInJvdyIsIl91eCIsIl91eSIsIl92eCIsIl92eSIsImkkMSIsIm1hdCIsImluaXQiLCJHcm91cEQ4IiwiRSIsIlNFIiwiUyIsIlNXIiwiVyIsIk5XIiwiTiIsIk5FIiwiTUlSUk9SX1ZFUlRJQ0FMIiwiTUlSUk9SX0hPUklaT05UQUwiLCJ1WCIsImluZCIsInVZIiwidlgiLCJ2WSIsImludiIsInJvdGF0aW9uU2Vjb25kIiwicm90YXRpb25GaXJzdCIsInN1YiIsInJvdGF0ZTE4MCIsImlzVmVydGljYWwiLCJieURpcmVjdGlvbiIsImR4IiwiZHkiLCJtYXRyaXhBcHBlbmRSb3RhdGlvbkludiIsIlRyYW5zZm9ybSIsIndvcmxkVHJhbnNmb3JtIiwibG9jYWxUcmFuc2Zvcm0iLCJvbkNoYW5nZSIsInBpdm90IiwidXBkYXRlU2tldyIsIl9yb3RhdGlvbiIsIl9jeCIsIl9zeCIsIl9jeSIsIl9zeSIsIl9sb2NhbElEIiwiX2N1cnJlbnRMb2NhbElEIiwiX3dvcmxkSUQiLCJfcGFyZW50SUQiLCJwcm90b3R5cGVBY2Nlc3NvcnMkMSIsInVwZGF0ZUxvY2FsVHJhbnNmb3JtIiwibHQiLCJ1cGRhdGVUcmFuc2Zvcm0iLCJwYXJlbnRUcmFuc2Zvcm0iLCJwdCIsInd0Iiwic2V0RnJvbU1hdHJpeCIsIlJlY3RhbmdsZSIsIk51bWJlciIsInByb3RvdHlwZUFjY2Vzc29ycyQyIiwic3RhdGljQWNjZXNzb3JzJDEiLCJFTVBUWSIsInJlY3RhbmdsZSIsInBhZCIsInBhZGRpbmdYIiwicGFkZGluZ1kiLCJmaXQiLCJjZWlsIiwiZXBzIiwieDIiLCJ5MiIsImVubGFyZ2UiLCJ4MSIsInkxIiwiQ2lyY2xlIiwicmFkaXVzIiwicjIiLCJnZXRCb3VuZHMiLCJFbGxpcHNlIiwibm9ybXgiLCJub3JteSIsIlBvbHlnb24iLCJwb2ludHMiLCJpbCIsImNsb3NlZCIsImNsb3NlIiwieGkiLCJ5aSIsInhqIiwieWoiLCJSb3VuZGVkUmVjdGFuZ2xlIiwicmFkaXVzMiIsIkJvdW5kcyIsInJlY3QiLCJpc0VtcHR5IiwidXBkYXRlSUQiLCJnZXRSZWN0YW5nbGUiLCJhZGRQb2ludCIsInBvaW50IiwiYWRkUXVhZCIsImFkZEZyYW1lIiwieDAiLCJ5MCIsImFkZFZlcnRpY2VzIiwiYmVnaW5PZmZzZXQiLCJlbmRPZmZzZXQiLCJyYXdYIiwicmF3WSIsImFkZEJvdW5kcyIsImJvdW5kcyIsImFkZEJvdW5kc01hc2siLCJfbWluWCIsIl9taW5ZIiwiX21heFgiLCJfbWF4WSIsImFkZEJvdW5kc0FyZWEiLCJkaXNwbGF5X2VzX0Rpc3BsYXlPYmplY3QiLCJFdmVudEVtaXR0ZXIkJDEiLCJEaXNwbGF5T2JqZWN0IiwidGVtcERpc3BsYXlPYmplY3RQYXJlbnQiLCJ2aXNpYmxlIiwicmVuZGVyYWJsZSIsIndvcmxkQWxwaGEiLCJmaWx0ZXJBcmVhIiwiZmlsdGVycyIsIl9lbmFibGVkRmlsdGVycyIsIl9ib3VuZHMiLCJfYm91bmRzSUQiLCJfbGFzdEJvdW5kc0lEIiwiX2JvdW5kc1JlY3QiLCJfbG9jYWxCb3VuZHNSZWN0IiwiX21hc2siLCJfZGVzdHJveWVkIiwicHJvdG90eXBlQWNjZXNzb3JzIiwiX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50Iiwid29ybGRWaXNpYmxlIiwiX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0iLCJza2lwVXBkYXRlIiwiY2FsY3VsYXRlQm91bmRzIiwiZ2V0TG9jYWxCb3VuZHMiLCJ0cmFuc2Zvcm1SZWYiLCJwYXJlbnRSZWYiLCJ0b0dsb2JhbCIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJ0b0xvY2FsIiwiZnJvbSIsInJlbmRlciIsInJlbmRlcmVyIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiYWRkQ2hpbGQiLCJfY3VycmVudEJvdW5kcyIsImludGVyYWN0aXZlIiwiaW50ZXJhY3RpdmVDaGlsZHJlbiIsImlzTWFzayIsImV2ZW50ZW1pdHRlcjNfZGVmYXVsdCIsImRpc3BsYXlfZXNfQ29udGFpbmVyIiwiRGlzcGxheU9iamVjdCQkMSIsIkNvbnRhaW5lciIsIm9uQ2hpbGRyZW5DaGFuZ2UiLCJhcmd1bWVudHMkMSIsImFyZ3VtZW50c0xlbmd0aCIsImFkZENoaWxkQXQiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwic2V0Q2hpbGRJbmRleCIsImN1cnJlbnRJbmRleCIsInJlbW92ZV9hcnJheV9pdGVtc19kZWZhdWx0IiwiZ2V0Q2hpbGRBdCIsInJlbW92ZUNoaWxkQXQiLCJyZW1vdmVDaGlsZHJlbiIsImJlZ2luSW5kZXgiLCJlbmRJbmRleCIsInJlbW92ZWQiLCJiZWdpbiIsInJhbmdlIiwiX2NhbGN1bGF0ZUJvdW5kcyIsInJlbmRlckFkdmFuY2VkIiwiX3JlbmRlciIsImJhdGNoIiwiZmx1c2giLCJlbmFibGVkIiwiZmlsdGVyIiwiZGVzdHJveUNoaWxkcmVuIiwib2xkQ2hpbGRyZW4iLCJfd2lkdGgiLCJfaGVpZ2h0IiwiY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtIiwiYWNjZXNzaWJsZVRhcmdldCIsImFjY2Vzc2libGUiLCJhY2Nlc3NpYmxlVGl0bGUiLCJhY2Nlc3NpYmxlSGludCIsInRhYkluZGV4IiwiX2FjY2Vzc2libGVBY3RpdmUiLCJfYWNjZXNzaWJsZURpdiIsImFjY2Vzc2liaWxpdHlfZXNfQWNjZXNzaWJpbGl0eU1hbmFnZXIiLCJjcmVhdGVUb3VjaEhvb2siLCJzdHlsZSIsIkRJVl9UT1VDSF9TSVpFIiwiRElWX1RPVUNIX1BPU19YIiwiRElWX1RPVUNIX1BPU19ZIiwiekluZGV4IiwicG9vbCIsInJlbmRlcklkIiwiZGVidWciLCJfb25LZXlEb3duIiwiX29uTW91c2VNb3ZlIiwiaXNBY3RpdmUiLCJpc01vYmlsZUFjY2Vzc2liaWxpdHkiLCJ0aGlzJDEiLCJob29rRGl2IiwiRElWX0hPT0tfU0laRSIsIkRJVl9IT09LX1BPU19YIiwiRElWX0hPT0tfUE9TX1kiLCJ0aXRsZSIsImFjdGl2YXRlIiwiYm9keSIsInBhcmVudE5vZGUiLCJkZWFjdGl2YXRlIiwidXBkYXRlQWNjZXNzaWJsZU9iamVjdHMiLCJkaXNwbGF5T2JqZWN0IiwicmVuZGVyaW5nVG9TY3JlZW4iLCJfbGFzdE9iamVjdFJlbmRlcmVkIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic3giLCJzeSIsImhpdEFyZWEiLCJjYXBIaXRBcmVhIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiYm9yZGVyU3R5bGUiLCJfb25DbGljayIsIl9vbkZvY3VzIiwiX29uRm9jdXNPdXQiLCJpbnRlcmFjdGlvbk1hbmFnZXIiLCJwbHVnaW5zIiwiaW50ZXJhY3Rpb24iLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnREYXRhIiwia2V5Q29kZSIsIm1vdmVtZW50WCIsIm1vdmVtZW50WSIsIlRBUkdFVF9GUE1TIiwiVVBEQVRFX1BSSU9SSVRZIiwiSU5URVJBQ1RJT04iLCJVVElMSVRZIiwiVGlja2VyTGlzdGVuZXIiLCJwcmlvcml0eSIsInByZXZpb3VzIiwiZGVsdGFUaW1lIiwicmVkaXJlY3QiLCJjb25uZWN0IiwiaGFyZCIsInRpY2tlcl9lc19UaWNrZXIiLCJfcmVxdWVzdElkIiwiX21heEVsYXBzZWRNUyIsImF1dG9TdGFydCIsImVsYXBzZWRNUyIsImxhc3RUaW1lIiwic3BlZWQiLCJfcHJvdGVjdGVkIiwiX3RpY2siLCJ0aW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGlja2VyX2VzX3Byb3RvdHlwZUFjY2Vzc29ycyIsIkZQUyIsIm1pbkZQUyIsInRpY2tlcl9lc19zdGF0aWNBY2Nlc3NvcnMiLCJzaGFyZWQiLCJfcmVxdWVzdElmTmVlZGVkIiwicGVyZm9ybWFuY2UiLCJub3ciLCJfY2FuY2VsSWZOZWVkZWQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIl9zdGFydElmUG9zc2libGUiLCJfYWRkTGlzdGVuZXIiLCJhZGRPbmNlIiwiY3VycmVudCIsImN1cnJlbnRUaW1lIiwiZnBzIiwibWluRlBNUyIsIl9zaGFyZWQiLCJUaWNrZXJQbHVnaW4iLCJhc3NpZ24iLCJzaGFyZWRUaWNrZXIiLCJ0aWNrZXIiLCJfdGlja2VyIiwib2xkVGlja2VyIiwiY29yZV9lc19SZXNvdXJjZSIsImRlc3Ryb3llZCIsImludGVybmFsIiwib25SZXNpemUiLCJtaW5pX3J1bm5lcl9taW5fZGVmYXVsdCIsIm9uVXBkYXRlIiwiY29yZV9lc19wcm90b3R5cGVBY2Nlc3NvcnMiLCJ2YWxpZCIsImJhc2VUZXh0dXJlIiwidW5iaW5kIiwidXBsb2FkIiwiZ2xUZXh0dXJlIiwiY29yZV9lc19CYXNlSW1hZ2VSZXNvdXJjZSIsIlJlc291cmNlJCQxIiwiQmFzZUltYWdlUmVzb3VyY2UiLCJlbGVtZW50IiwiY3Jvc3NvcmlnaW4iLCJyZWFsV2lkdGgiLCJyZWFsSGVpZ2h0IiwicGl4ZWxTdG9yZWkiLCJVTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wiLCJwcmVtdWx0aXBseUFscGhhIiwidGV4U3ViSW1hZ2UyRCIsInRleEltYWdlMkQiLCJjb3JlX2VzX0ltYWdlUmVzb3VyY2UiLCJCYXNlSW1hZ2VSZXNvdXJjZSQkMSIsIkltYWdlUmVzb3VyY2UiLCJIVE1MSW1hZ2VFbGVtZW50IiwiaW1hZ2VFbGVtZW50IiwiX3Byb2Nlc3MiLCJwcmVzZXJ2ZUJpdG1hcCIsImNyZWF0ZUJpdG1hcCIsImNyZWF0ZUltYWdlQml0bWFwIiwiYml0bWFwIiwiX2xvYWQiLCJhdXRvTG9hZCIsImNvbXBsZXRlZCIsIkNhbnZhc1Jlc291cmNlIiwiSFRNTENhbnZhc0VsZW1lbnQiLCJjb3JlX2VzX1ZpZGVvUmVzb3VyY2UiLCJWaWRlb1Jlc291cmNlIiwiSFRNTFZpZGVvRWxlbWVudCIsInZpZGVvRWxlbWVudCIsInNvdXJjZUVsZW1lbnQiLCJyZWYiLCJfYXV0b1VwZGF0ZSIsIl9pc0F1dG9VcGRhdGluZyIsImF1dG9QbGF5IiwiX3Jlc29sdmUiLCJfb25DYW5QbGF5IiwiYXV0b1VwZGF0ZSIsIkhBVkVfRU5PVUdIX0RBVEEiLCJIQVZFX0ZVVFVSRV9EQVRBIiwiX29uUGxheVN0YXJ0IiwiX29uUGxheVN0b3AiLCJfaXNTb3VyY2VSZWFkeSIsIl9pc1NvdXJjZVBsYXlpbmciLCJlbmRlZCIsInZpZGVvV2lkdGgiLCJ2aWRlb0hlaWdodCIsInBsYXkiLCJjb3JlX2VzX1NWR1Jlc291cmNlIiwiU1ZHUmVzb3VyY2UiLCJfbG9hZERhdGFVcmkiLCJzdmdTdHJpbmciLCJhdG9iIiwiX2xvYWRTdHJpbmciLCJzdmdYaHIiLCJET05FIiwic3ZnU2l6ZSIsImdldFNpemUiLCJ0ZW1wSW1hZ2UiLCJzdmdXaWR0aCIsInN2Z0hlaWdodCIsInJvdW5kIiwiX3BpeGlJZCIsImRyYXdJbWFnZSIsInNpemVNYXRjaCIsIlNWR19TSVpFIiwiQnVmZmVyUmVzb3VyY2UiLCJVaW50OEFycmF5IiwiVWludDMyQXJyYXkiLCJkZWZhdWx0QnVmZmVyT3B0aW9ucyIsInNjYWxlTW9kZSIsImNvcmVfZXNfQmFzZVRleHR1cmUiLCJCYXNlVGV4dHVyZSIsIm1pcG1hcCIsIndyYXBNb2RlIiwicmVzb3VyY2VPcHRpb25zIiwiYXV0b0RldGVjdFJlc291cmNlIiwidG91Y2hlZCIsImlzUG93ZXJPZlR3byIsIl9yZWZyZXNoUE9UIiwiX2dsVGV4dHVyZXMiLCJkaXJ0eUlkIiwiZGlydHlTdHlsZUlkIiwiY2FjaGVJZCIsInRleHR1cmVDYWNoZUlkcyIsInNldFJlc291cmNlIiwic2V0U3R5bGUiLCJkaXJ0eSIsInNldFNpemUiLCJzZXRSZWFsU2l6ZSIsInR3aWRkbGVfZGVmYXVsdCIsInNldFJlc29sdXRpb24iLCJvbGRSZXNvbHV0aW9uIiwicmVtb3ZlRnJvbUNhY2hlIiwiYWRkVG9DYWNoZSIsImZyb21CdWZmZXIiLCJiYXNlVGV4dHVyZUZyb21DYWNoZSIsImNvcmVfZXNfQXJyYXlSZXNvdXJjZSIsIkFycmF5UmVzb3VyY2UiLCJ1cmxzIiwiaXRlbURpcnR5SWRzIiwicGFydFRleHR1cmUiLCJhZGRSZXNvdXJjZUF0IiwicHJvbWlzZXMiLCJhbGwiLCJ0ZXh0dXJlIiwidGV4SW1hZ2UzRCIsInRleFN1YkltYWdlM0QiLCJjb3JlX2VzX0N1YmVSZXNvdXJjZSIsIkFycmF5UmVzb3VyY2UkJDEiLCJDdWJlUmVzb3VyY2UiLCJTSURFUyIsInNpZGUiLCJJTlNUQUxMRUQiLCJSZXNvdXJjZVBsdWdpbiIsImNvcmVfZXNfaW5kZXgiLCJTeXN0ZW0iLCJydW5uZXJzIiwiY29udGV4dENoYW5nZSIsIkZyYW1lQnVmZmVyIiwiZGVwdGgiLCJkaXJ0eUZvcm1hdCIsImRpcnR5U2l6ZSIsImRlcHRoVGV4dHVyZSIsImNvbG9yVGV4dHVyZXMiLCJnbEZyYW1lQnVmZmVycyIsImNvcmVfZXNfcHJvdG90eXBlQWNjZXNzb3JzJDEiLCJjb2xvclRleHR1cmUiLCJhZGRDb2xvclRleHR1cmUiLCJhZGREZXB0aFRleHR1cmUiLCJlbmFibGVEZXB0aCIsImVuYWJsZVN0ZW5jaWwiLCJCYXNlUmVuZGVyVGV4dHVyZSIsIkJhc2VUZXh0dXJlJCQxIiwiX2NhbnZhc1JlbmRlclRhcmdldCIsImNsZWFyQ29sb3IiLCJmcmFtZUJ1ZmZlciIsInN0ZW5jaWxNYXNrU3RhY2siLCJmaWx0ZXJTdGFjayIsIlRleHR1cmVVdnMiLCJ4MyIsInkzIiwidXZzVWludDMyIiwiZnJhbWUiLCJiYXNlRnJhbWUiLCJ0dyIsInRoIiwidzIiLCJoMiIsImNYIiwiY1kiLCJjb3JlX2VzX1RleHR1cmUiLCJUZXh0dXJlIiwib3JpZyIsIm5vRnJhbWUiLCJfZnJhbWUiLCJyZXF1aXJlc1VwZGF0ZSIsIl91dnMiLCJ1dk1hdHJpeCIsIl9yb3RhdGUiLCJvbkJhc2VUZXh0dXJlVXBkYXRlZCIsIl91cGRhdGVJRCIsImRlc3Ryb3lCYXNlIiwiaW1hZ2VVcmwiLCJ1cGRhdGVVdnMiLCJmcm9tTG9hZGVyIiwidGV4dHVyZUZyb21DYWNoZSIsInhOb3RGaXQiLCJ5Tm90Rml0IiwicmVsYXRpb25zaGlwIiwiZXJyb3JYIiwiZXJyb3JZIiwicmVtb3ZlQWxsSGFuZGxlcnMiLCJ0ZXgiLCJXSElURSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiY3JlYXRlV2hpdGVUZXh0dXJlIiwiUmVuZGVyVGV4dHVyZSIsIlRleHR1cmUkJDEiLCJiYXNlUmVuZGVyVGV4dHVyZSIsIl9sZWdhY3lSZW5kZXJlciIsImxlZ2FjeVJlbmRlcmVyIiwiZmlsdGVyRnJhbWUiLCJmaWx0ZXJQb29sS2V5IiwicmVzaXplQmFzZVRleHR1cmUiLCJBdHRyaWJ1dGUiLCJub3JtYWxpemVkIiwic3RyaWRlIiwiQXR0cmlidXRlXzEiLCJVSUQkMSIsIkJ1ZmZlciIsIl9zdGF0aWMiLCJfZ2xCdWZmZXJzIiwic3RhdGljIiwiZ2V0QnVmZmVyVHlwZSIsIkJZVEVTX1BFUl9FTEVNRU5UIiwibWFwJDEiLCJJbnQzMkFycmF5IiwiYnl0ZVNpemVNYXAiLCI1MTI2IiwiNTEyMyIsIjUxMjEiLCJVSUQiLCJHZW9tZXRyeSIsImJ1ZmZlcnMiLCJhdHRyaWJ1dGVzIiwiaW5kZXhCdWZmZXIiLCJnbFZlcnRleEFycmF5T2JqZWN0cyIsImluc3RhbmNlZCIsImluc3RhbmNlQ291bnQiLCJfc2l6ZSIsImFkZEF0dHJpYnV0ZSIsImlkcyIsImJ1ZmZlckluZGV4IiwiYWRkSW5kZXgiLCJnZXRJbmRleCIsImludGVybGVhdmUiLCJhcnJheXMiLCJzaXplcyIsImludGVybGVhdmVkQnVmZmVyIiwiYXR0cmlidXRlIiwib3V0U2l6ZSIsInZpZXdzIiwiQXJyYXlCdWZmZXIiLCJsaXR0bGVPZmZzZXQiLCJpbnRlcmxlYXZlVHlwZWRBcnJheXMiLCJnZW9tZXRyeSIsImF0dHJpYiIsIm1lcmdlIiwiZ2VvbWV0cmllcyIsImdlb21ldHJ5T3V0Iiwib2Zmc2V0cyIsImkkMiIsImokMSIsIm9mZnNldCIsIm9mZnNldDIiLCJidWZmZXJJbmRleFRvQ291bnQiLCJpJDMiLCJpJDQiLCJpJDUiLCJpbmRleEJ1ZmZlckRhdGEiLCJqJDIiLCJRdWFkIiwiR2VvbWV0cnkkJDEiLCJRdWFkVXYiLCJ1dnMiLCJ2ZXJ0ZXhCdWZmZXIiLCJ1dkJ1ZmZlciIsInRhcmdldFRleHR1cmVGcmFtZSIsImRlc3RpbmF0aW9uRnJhbWUiLCJpbnZhbGlkYXRlIiwiVUlEJDIiLCJVbmlmb3JtR3JvdXAiLCJ1bmlmb3JtcyIsImdyb3VwIiwic3luY1VuaWZvcm1zIiwiY29yZV9lc19GaWx0ZXJTdGF0ZSIsInJlbmRlclRleHR1cmUiLCJzb3VyY2VGcmFtZSIsImNvcmVfZXNfRmlsdGVyU3lzdGVtIiwiU3lzdGVtJCQxIiwiRmlsdGVyU3lzdGVtIiwidGV4dHVyZVBvb2wiLCJzdGF0ZVBvb2wiLCJxdWFkIiwicXVhZFV2IiwidGVtcFJlY3QiLCJhY3RpdmVTdGF0ZSIsImdsb2JhbFVuaWZvcm1zIiwib3V0cHV0RnJhbWUiLCJpbnB1dFNpemUiLCJpbnB1dFBpeGVsIiwiaW5wdXRDbGFtcCIsImZpbHRlckNsYW1wIiwiX3BpeGVsc1dpZHRoIiwiX3BpeGVsc0hlaWdodCIsImRlZmF1bHRGaWx0ZXJTdGFjayIsInN0YXRlIiwicGFkZGluZyIsImF1dG9GaXQiLCJnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSIsImxhc3RTdGF0ZSIsInJldHVybkZpbHRlclRleHR1cmUiLCJmbGlwIiwiZmxvcCIsImFwcGx5RmlsdGVyIiwidVNhbXBsZXIiLCJmaWx0ZXJHbG9iYWxzIiwic2V0U3RhdGUiLCJzaGFkZXIiLCJkcmF3IiwiY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgiLCJvdXRwdXRNYXRyaXgiLCJjdXJyZW50U3RhdGUiLCJ0ZXh0dXJlU2l6ZSIsIm1hcHBlZE1hdHJpeCIsImNhbGN1bGF0ZVNwcml0ZU1hdHJpeCIsInNwcml0ZSIsIl90ZXh0dXJlIiwiYW5jaG9yIiwiY29udGV4dExvc3QiLCJlbXB0eVBvb2wiLCJtaW5XaWR0aCIsIm1pbkhlaWdodCIsImdldEZpbHRlclRleHR1cmUiLCJydCIsImZpbHRlclRleHR1cmUiLCJ0ZXh0dXJlcyIsIk9iamVjdFJlbmRlcmVyIiwiQmF0Y2hTeXN0ZW0iLCJlbXB0eVJlbmRlcmVyIiwiY3VycmVudFJlbmRlcmVyIiwic2V0T2JqZWN0UmVuZGVyZXIiLCJvYmplY3RSZW5kZXJlciIsIlBSRUZFUl9FTlYiLCJDT05URVhUX1VJRCIsImNvcmVfZXNfQ29udGV4dFN5c3RlbSIsIkNvbnRleHRTeXN0ZW0iLCJ3ZWJHTFZlcnNpb24iLCJleHRlbnNpb25zIiwiaGFuZGxlQ29udGV4dExvc3QiLCJoYW5kbGVDb250ZXh0UmVzdG9yZWQiLCJpc0xvc3QiLCJpc0NvbnRleHRMb3N0IiwicmVzdG9yZUNvbnRleHQiLCJpbml0RnJvbUNvbnRleHQiLCJ2YWxpZGF0ZUNvbnRleHQiLCJpbml0RnJvbU9wdGlvbnMiLCJjcmVhdGVDb250ZXh0IiwiZ2V0RXh0ZW5zaW9ucyIsImRyYXdCdWZmZXJzIiwiZmxvYXRUZXh0dXJlIiwidmVydGV4QXJyYXlPYmplY3QiLCJwcmV2ZW50RGVmYXVsdCIsInVzZVByb2dyYW0iLCJwb3N0cmVuZGVyIiwiY29yZV9lc19GcmFtZWJ1ZmZlclN5c3RlbSIsIkZyYW1lYnVmZmVyU3lzdGVtIiwidmlld3BvcnQiLCJkcmF3QnVmZmVyRXh0ZW5zaW9uIiwiZnJhbWVidWZmZXIiLCJmYm8iLCJpbml0RnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsInVwZGF0ZUZyYW1lYnVmZmVyIiwicmVzaXplRnJhbWVidWZmZXIiLCJ0ZXh0dXJlUGFydCIsInNldFZpZXdwb3J0IiwiQ09MT1JfQlVGRkVSX0JJVCIsIkRFUFRIX0JVRkZFUl9CSVQiLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRSZW5kZXJidWZmZXIiLCJSRU5ERVJCVUZGRVIiLCJyZW5kZXJidWZmZXJTdG9yYWdlIiwiY291bnQiLCJhY3RpdmVUZXh0dXJlcyIsImZyYW1lYnVmZmVyVGV4dHVyZTJEIiwiQ09MT1JfQVRUQUNITUVOVDAiLCJkcmF3QnVmZmVyc1dFQkdMIiwiREVQVEhfQVRUQUNITUVOVCIsImNyZWF0ZVJlbmRlcmJ1ZmZlciIsImZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyIiwiREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UIiwiR0xCdWZmZXIiLCJieXRlTGVuZ3RoIiwiYnl0ZVNpemVNYXAkMSIsImNvcmVfZXNfR2VvbWV0cnlTeXN0ZW0iLCJHZW9tZXRyeVN5c3RlbSIsIl9hY3RpdmVHZW9tZXRyeSIsIl9hY3RpdmVWYW8iLCJoYXNWYW8iLCJoYXNJbnN0YW5jZSIsImNhY2hlIiwiY3JlYXRlVmVydGV4QXJyYXkiLCJuYXRpdmVWYW9FeHRlbnNpb24iLCJjcmVhdGVWZXJ0ZXhBcnJheU9FUyIsImJpbmRWZXJ0ZXhBcnJheSIsInZhbyIsImJpbmRWZXJ0ZXhBcnJheU9FUyIsImRlbGV0ZVZlcnRleEFycmF5IiwiZGVsZXRlVmVydGV4QXJyYXlPRVMiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yIiwiaW5zdGFuY2VFeHQiLCJ2ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWQiLCJkcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRSIsImRyYXdBcnJheXNJbnN0YW5jZWQiLCJkcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUiLCJ2YW9zIiwicHJvZ3JhbSIsImluaXRHZW9tZXRyeVZhbyIsImFjdGl2YXRlVmFvIiwidXBkYXRlQnVmZmVycyIsImdsQnVmZmVyIiwiRUxFTUVOVF9BUlJBWV9CVUZGRVIiLCJBUlJBWV9CVUZGRVIiLCJkcmF3VHlwZSIsIlNUQVRJQ19EUkFXIiwiRFlOQU1JQ19EUkFXIiwiYmluZEJ1ZmZlciIsImJ1ZmZlclN1YkRhdGEiLCJidWZmZXJEYXRhIiwiY2hlY2tDb21wYXRpYmlsaXR5IiwiZ2VvbWV0cnlBdHRyaWJ1dGVzIiwic2hhZGVyQXR0cmlidXRlcyIsImF0dHJpYnV0ZURhdGEiLCJnZXRTaWduYXR1cmUiLCJhdHRyaWJzIiwic3RyaW5ncyIsInNpZ25hdHVyZSIsInZhbyQxIiwidGVtcFN0cmlkZSIsInRlbXBTdGFydCIsImF0dHJpYlNpemUiLCJjcmVhdGVCdWZmZXIiLCJsYXN0QnVmZmVyIiwiZW5hYmxlVmVydGV4QXR0cmliQXJyYXkiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiZHJhd0VsZW1lbnRzIiwiZHJhd0FycmF5cyIsImNvbXBpbGVQcm9ncmFtIiwidmVydGV4U3JjIiwiZnJhZ21lbnRTcmMiLCJhdHRyaWJ1dGVMb2NhdGlvbnMiLCJnbFZlcnRTaGFkZXIiLCJjb21waWxlU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsImdsRnJhZ1NoYWRlciIsIkZSQUdNRU5UX1NIQURFUiIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJiaW5kQXR0cmliTG9jYXRpb24iLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsIlZBTElEQVRFX1NUQVRVUyIsImdldEVycm9yIiwiZ2V0UHJvZ3JhbUluZm9Mb2ciLCJkZWxldGVQcm9ncmFtIiwiZGVsZXRlU2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwic2hhZGVyU291cmNlIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJnZXRTaGFkZXJJbmZvTG9nIiwiY29yZV9lc19kZWZhdWx0VmFsdWUiLCJib29sZWFuQXJyYXkiLCJzZXRQcmVjaXNpb24iLCJwcmVjaXNpb24iLCJHTFNMX1RPX1NJWkUiLCJmbG9hdCIsInZlYzIiLCJ2ZWMzIiwidmVjNCIsImludCIsIml2ZWMyIiwiaXZlYzMiLCJpdmVjNCIsImJvb2wiLCJidmVjMiIsImJ2ZWMzIiwiYnZlYzQiLCJtYXQyIiwibWF0MyIsIm1hdDQiLCJzYW1wbGVyMkQiLCJtYXBTaXplIiwiR0xfVEFCTEUiLCJHTF9UT19HTFNMX1RZUEVTIiwiRkxPQVRfVkVDMiIsIkZMT0FUX1ZFQzMiLCJGTE9BVF9WRUM0IiwiSU5UIiwiSU5UX1ZFQzIiLCJJTlRfVkVDMyIsIklOVF9WRUM0IiwiQk9PTCIsIkJPT0xfVkVDMiIsIkJPT0xfVkVDMyIsIkJPT0xfVkVDNCIsIkZMT0FUX01BVDIiLCJGTE9BVF9NQVQzIiwiRkxPQVRfTUFUNCIsIlNBTVBMRVJfMkQiLCJTQU1QTEVSX0NVQkUiLCJTQU1QTEVSXzJEX0FSUkFZIiwibWFwVHlwZSIsInR5cGVOYW1lcyIsInRuIiwiR0xTTF9UT19TSU5HTEVfU0VUVEVSU19DQUNIRUQiLCJzYW1wbGVyQ3ViZSIsInNhbXBsZXIyREFycmF5IiwiR0xTTF9UT19BUlJBWV9TRVRURVJTIiwiZnJhZ1RlbXBsYXRlIiwiY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciIsIm1heElmcyIsImdlbmVyYXRlSWZUZXN0U3JjIiwiVUlEJDMiLCJjb3JlX2VzX1Byb2dyYW0iLCJQcm9ncmFtIiwiZGVmYXVsdFZlcnRleFNyYyIsImRlZmF1bHRGcmFnbWVudFNyYyIsImV4dHJhY3REYXRhIiwiZ2xQcm9ncmFtcyIsImNvcmVfZXNfc3RhdGljQWNjZXNzb3JzIiwiZ2V0VGVzdENvbnRleHQiLCJnZXRBdHRyaWJ1dGVEYXRhIiwidW5pZm9ybURhdGEiLCJnZXRVbmlmb3JtRGF0YSIsImF0dHJpYnV0ZXNBcnJheSIsInRvdGFsQXR0cmlidXRlcyIsIkFDVElWRV9BVFRSSUJVVEVTIiwiYXR0cmliRGF0YSIsImdldEFjdGl2ZUF0dHJpYiIsInRvdGFsVW5pZm9ybXMiLCJBQ1RJVkVfVU5JRk9STVMiLCJnZXRBY3RpdmVVbmlmb3JtIiwiU2hhZGVyIiwidW5pZm9ybUdyb3VwIiwiY29yZV9lc19wcm90b3R5cGVBY2Nlc3NvcnMkMiIsImNoZWNrVW5pZm9ybUV4aXN0cyIsInVuaWZvcm0iLCJTdGF0ZSIsInBvbHlnb25PZmZzZXQiLCJibGVuZCIsInByb3RvdHlwZUFjY2Vzc29ycyQzIiwiY3VsbGluZyIsImRlcHRoVGVzdCIsImNsb2Nrd2lzZUZyb250RmFjZSIsIl9ibGVuZE1vZGUiLCJfcG9seWdvbk9mZnNldCIsImNvcmVfZXNfRmlsdGVyIiwiU2hhZGVyJCQxIiwiRmlsdGVyIiwiYVRleHR1cmVDb29yZCIsInN0YXRpY0FjY2Vzc29ycyIsImZpbHRlck1hbmFnZXIiLCJkZXJwIiwiU09VUkNFX0tFWV9NQVAiLCJ2ZXJ0ZXgiLCJmcmFnbWVudCIsInRlbXBNYXQiLCJjb3JlX2VzX1RleHR1cmVNYXRyaXgiLCJjbGFtcE1hcmdpbiIsIm1hcENvb3JkIiwidUNsYW1wRnJhbWUiLCJ1Q2xhbXBPZmZzZXQiLCJfbGFzdFRleHR1cmVJRCIsImNsYW1wT2Zmc2V0IiwicHJvdG90eXBlQWNjZXNzb3JzJDQiLCJtdWx0aXBseVV2cyIsImZvcmNlVXBkYXRlIiwidGV4QmFzZSIsIm1hcmdpbiIsImNvcmVfZXNfU3ByaXRlTWFza0ZpbHRlciIsIkZpbHRlciQkMSIsIlNwcml0ZU1hc2tGaWx0ZXIiLCJtYXNrTWF0cml4IiwibWFza1Nwcml0ZSIsIm5wbUFscGhhIiwib3RoZXJNYXRyaXgiLCJtYXNrQ2xhbXAiLCJNYXNrU3lzdGVtIiwic2Npc3NvciIsInNjaXNzb3JEYXRhIiwic2Npc3NvclJlbmRlclRhcmdldCIsImVuYWJsZVNjaXNzb3IiLCJhbHBoYU1hc2tQb29sIiwiYWxwaGFNYXNrSW5kZXgiLCJtYXNrRGF0YSIsInZlcnRleERhdGEiLCJwdXNoU3ByaXRlTWFzayIsIl9hY3RpdmVSZW5kZXJUYXJnZXQiLCJpc0Zhc3RSZWN0Iiwicm90IiwicHVzaFN0ZW5jaWxNYXNrIiwicHVzaFNjaXNzb3JNYXNrIiwicG9wU3ByaXRlTWFzayIsInBvcFNjaXNzb3JNYXNrIiwicG9wU3RlbmNpbE1hc2siLCJhbHBoYU1hc2tGaWx0ZXIiLCJwdXNoU3RlbmNpbCIsInBvcFN0ZW5jaWwiLCJyZW5kZXJUYXJnZXQiLCJlbmFibGUiLCJTQ0lTU09SX1RFU1QiLCJkaXNhYmxlIiwiU3RlbmNpbFN5c3RlbSIsInNldE1hc2tTdGFjayIsIlNURU5DSUxfVEVTVCIsImdyYXBoaWNzIiwicHJldk1hc2tDb3VudCIsImNvbG9yTWFzayIsInN0ZW5jaWxGdW5jIiwiRVFVQUwiLCJfZ2V0Qml0d2lzZU1hc2siLCJzdGVuY2lsT3AiLCJLRUVQIiwiSU5DUiIsIl91c2VDdXJyZW50IiwiU1RFTkNJTF9CVUZGRVJfQklUIiwiY2xlYXJTdGVuY2lsIiwiREVDUiIsImNvcmVfZXNfUHJvamVjdGlvblN5c3RlbSIsIlByb2plY3Rpb25TeXN0ZW0iLCJkZWZhdWx0RnJhbWUiLCJwcm9qZWN0aW9uTWF0cml4IiwiY2FsY3VsYXRlUHJvamVjdGlvbiIsImNvcmVfZXNfUmVuZGVyVGV4dHVyZVN5c3RlbSIsIlJlbmRlclRleHR1cmVTeXN0ZW0iLCJfYmFja2dyb3VuZENvbG9yUmdiYSIsImRlZmF1bHRNYXNrU3RhY2siLCJwcm9qZWN0aW9uIiwiR0xQcm9ncmFtIiwidW5pZm9ybUdyb3VwcyIsIlVJRCQ0IiwiU2hhZGVyU3lzdGVtIiwiZG9udFN5bmMiLCJnbG9iYWxzIiwiZ2xQcm9ncmFtIiwiZ2VuZXJhdGVTaGFkZXIiLCJzeW5jVW5pZm9ybUdyb3VwIiwic2V0VW5pZm9ybXMiLCJnZXRnbFByb2dyYW0iLCJjcmVhdGVTeW5jR3JvdXBzIiwidGV4dHVyZUNvdW50IiwiZ2VuZXJhdGVVbmlmb3Jtc1N5bmMiLCJhdHRyaWJNYXAiLCJzaGFkZXJQcm9ncmFtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiQkxFTkQkMSIsIk9GRlNFVCQxIiwiQ1VMTElORyQxIiwiREVQVEhfVEVTVCQxIiwiV0lORElORyQxIiwiU3RhdGVTeXN0ZW0iLCJtYXhBdHRyaWJzIiwiYXR0cmliU3RhdGUiLCJzdGF0ZUlkIiwic2V0QmxlbmQiLCJzZXRPZmZzZXQiLCJzZXRDdWxsRmFjZSIsInNldERlcHRoVGVzdCIsInNldEZyb250RmFjZSIsImNoZWNrcyIsImRlZmF1bHRTdGF0ZSIsImdldFBhcmFtZXRlciIsIk1BWF9WRVJURVhfQVRUUklCUyIsInRlbXBBdHRyaWJTdGF0ZSIsImJsZW5kTW9kZXMiLCJPTkUiLCJPTkVfTUlOVVNfU1JDX0FMUEhBIiwiRFNUX0FMUEhBIiwiRFNUX0NPTE9SIiwiT05FX01JTlVTX1NSQ19DT0xPUiIsIlNSQ19BTFBIQSIsIm1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aSIsImRpZmYiLCJ1cGRhdGVDaGVjayIsImNoZWNrQmxlbmRNb2RlIiwiQkxFTkQiLCJQT0xZR09OX09GRlNFVF9GSUxMIiwiREVQVEhfVEVTVCIsIkNVTExfRkFDRSIsImZyb250RmFjZSIsInNldEJsZW5kTW9kZSIsImJsZW5kRnVuYyIsImJsZW5kRnVuY1NlcGFyYXRlIiwic2V0UG9seWdvbk9mZnNldCIsInJlc2V0QXR0cmlidXRlcyIsImRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheSIsIlVOUEFDS19GTElQX1lfV0VCR0wiLCJzeXN0ZW0iLCJjb3JlX2VzX1RleHR1cmVHQ1N5c3RlbSIsIlRleHR1cmVHQ1N5c3RlbSIsImNoZWNrQ291bnQiLCJtYXhJZGxlIiwiY2hlY2tDb3VudE1heCIsInRtIiwibWFuYWdlZFRleHR1cmVzIiwid2FzUmVtb3ZlZCIsImRlc3Ryb3lUZXh0dXJlIiwidW5sb2FkIiwidGV4dHVyZVN5c3RlbSIsIl9nbFJlbmRlclRhcmdldHMiLCJHTFRleHR1cmUiLCJjb3JlX2VzX1RleHR1cmVTeXN0ZW0iLCJUZXh0dXJlU3lzdGVtIiwiYm91bmRUZXh0dXJlcyIsImN1cnJlbnRMb2NhdGlvbiIsIm1heFRleHR1cmVzIiwiTUFYX1RFWFRVUkVfSU1BR0VfVU5JVFMiLCJlbXB0eVRleHR1cmVzIiwiZW1wdHlUZXh0dXJlMkQiLCJjcmVhdGVUZXh0dXJlIiwiYmluZFRleHR1cmUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiVEVYVFVSRV9NSU5fRklMVEVSIiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwidGV4dHVyZUdDIiwiaW5pdFRleHR1cmUiLCJ1cGRhdGVUZXh0dXJlIiwidXBkYXRlVGV4dHVyZVN0eWxlIiwic2tpcFJlbW92ZSIsImRlbGV0ZVRleHR1cmUiLCJnZW5lcmF0ZU1pcG1hcCIsIlRFWFRVUkVfV1JBUF9TIiwiVEVYVFVSRV9XUkFQX1QiLCJMSU5FQVJfTUlQTUFQX0xJTkVBUiIsIk5FQVJFU1RfTUlQTUFQX05FQVJFU1QiLCJzeXN0ZW1zIiwidGVtcE1hdHJpeCIsImNvcmVfZXNfQWJzdHJhY3RSZW5kZXJlciIsIkFic3RyYWN0UmVuZGVyZXIiLCJhcmcyIiwiYXJnMyIsInNjcmVlbiIsImF1dG9EZW5zaXR5IiwiX2JhY2tncm91bmRDb2xvciIsIl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmciLCJpbml0UGx1Z2lucyIsInN0YXRpY01hcCIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwiZ2VuZXJhdGVUZXh0dXJlIiwicmVnaW9uIiwicmVtb3ZlVmlldyIsImNvcmVfZXNfUmVuZGVyZXIiLCJBYnN0cmFjdFJlbmRlcmVyJCQxIiwiUmVuZGVyZXIiLCJwcmVyZW5kZXIiLCJhZGRTeXN0ZW0iLCJfX3BsdWdpbnMiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJwb3dlclByZWZlcmVuY2UiLCJDbGFzc1JlZiIsInNraXBVcGRhdGVUcmFuc2Zvcm0iLCJjYWNoZVBhcmVudCIsInJlZ2lzdGVyUGx1Z2luIiwicGx1Z2luTmFtZSIsImN0b3IiLCJDdWJlVGV4dHVyZSIsImFwcF9lc19BcHBsaWNhdGlvbiIsIkFwcGxpY2F0aW9uIiwiYXJnNCIsImFyZzUiLCJmb3JjZUNhbnZhcyIsImNyZWF0ZVJlbmRlcmVyIiwic3RhZ2UiLCJfcGx1Z2lucyIsInBsdWdpbiIsImFwcF9lc19wcm90b3R5cGVBY2Nlc3NvcnMiLCJfb3B0aW9ucyIsIlJlc2l6ZVBsdWdpbiIsImRvbSIsIl9yZXNpemVUbyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwicmVzaXplVG8iLCJURU1QX1JFQ1QiLCJFeHRyYWN0IiwiZXh0cmFjdCIsImltYWdlIiwidG9EYXRhVVJMIiwiZmxpcFkiLCJnZW5lcmF0ZWQiLCJjYW52YXNCdWZmZXIiLCJ3ZWJnbFBpeGVscyIsInJlYWRQaXhlbHMiLCJjYW52YXNEYXRhIiwicHV0SW1hZ2VEYXRhIiwidGVtcFBvaW50Iiwic3ByaXRlX2VzX1Nwcml0ZSIsIkNvbnRhaW5lciQkMSIsIlNwcml0ZSIsIl9hbmNob3IiLCJfb25BbmNob3JVcGRhdGUiLCJfdGludCIsIl90aW50UkdCIiwiY2FjaGVkVGludCIsInZlcnRleFRyaW1tZWREYXRhIiwiX3RyYW5zZm9ybUlEIiwiX3RleHR1cmVJRCIsIl90cmFuc2Zvcm1UcmltbWVkSUQiLCJfdGV4dHVyZVRyaW1tZWRJRCIsIl9vblRleHR1cmVVcGRhdGUiLCJjYWxjdWxhdGVWZXJ0aWNlcyIsIncwIiwidzEiLCJoMCIsImgxIiwiY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzIiwiY29udGFpbnNQb2ludCIsImRlc3Ryb3lCYXNlVGV4dHVyZSIsIkJhdGNoQnVmZmVyIiwiZmxvYXQzMlZpZXciLCJ1aW50MzJWaWV3IiwicG9zaXRpb25zIiwiY29sb3JzIiwic3ByaXRlX2VzX3ZlcnRleCIsInNwcml0ZV9lc19mcmFnVGVtcGxhdGUiLCJUSUNLIiwic3ByaXRlX2VzX1Nwcml0ZVJlbmRlcmVyIiwiT2JqZWN0UmVuZGVyZXIkJDEiLCJTcHJpdGVSZW5kZXJlciIsInZlcnRTaXplIiwidmVydEJ5dGVTaXplIiwiZ3JvdXBzIiwic3ByaXRlcyIsInZlcnRleEJ1ZmZlcnMiLCJ2YW9NYXgiLCJ2ZXJ0ZXhDb3VudCIsIm9uUHJlcmVuZGVyIiwiTUFYX1RFWFRVUkVTIiwic2FtcGxlVmFsdWVzIiwidVNhbXBsZXJzIiwiZ2VuZXJhdGVTYW1wbGVTcmMiLCJnZW5lcmF0ZU11bHRpVGV4dHVyZVNoYWRlciIsIm5leHRUZXh0dXJlIiwiY3VycmVudFRleHR1cmUiLCJucDIiLCJ0b3VjaCIsImdyb3VwQ291bnQiLCJ0ZXh0dXJlSWQiLCJjdXJyZW50R3JvdXAiLCJfaWQiLCJzcHJpdGVCbGVuZE1vZGUiLCJfZW5hYmxlZCIsImFyZ2IiLCJidWZmZXIkMSIsImdyb3VwVGV4dHVyZUNvdW50IiwiR3JhcGhpY3NEYXRhIiwibGluZVdpZHRoIiwibGluZUNvbG9yIiwibGluZUFscGhhIiwiZmlsbENvbG9yIiwiZmlsbEFscGhhIiwiZmlsbCIsIm5hdGl2ZUxpbmVzIiwic2hhcGUiLCJsaW5lQWxpZ25tZW50IiwiX2xpbmVUaW50IiwiX2ZpbGxUaW50IiwiYWRkSG9sZSIsImdyYXBoaWNzX2VzX3RlbXBQb2ludCIsInRlbXBDb2xvcjEiLCJ0ZW1wQ29sb3IyIiwiZ3JhcGhpY3NfZXNfR3JhcGhpY3MiLCJHcmFwaGljcyIsImdyYXBoaWNzRGF0YSIsIl9wcmV2VGludCIsImN1cnJlbnRQYXRoIiwiX3dlYkdMIiwiYm91bmRzUGFkZGluZyIsIl9sb2NhbEJvdW5kcyIsImZhc3RSZWN0RGlydHkiLCJjbGVhckRpcnR5IiwiYm91bmRzRGlydHkiLCJjYWNoZWRTcHJpdGVEaXJ0eSIsIl9zcHJpdGVSZWN0IiwiX2Zhc3RSZWN0IiwidXBkYXRlTG9jYWxCb3VuZHMiLCJfcXVhZHJhdGljQ3VydmVMZW5ndGgiLCJmcm9tWCIsImZyb21ZIiwiY3BYIiwiY3BZIiwidG9YIiwidG9ZIiwiYTMyIiwiYzIiLCJiYSIsIl9iZXppZXJDdXJ2ZUxlbmd0aCIsImNwWDIiLCJjcFkyIiwidDIiLCJ0MyIsIm50IiwibnQyIiwibnQzIiwicHJldlgiLCJwcmV2WSIsIl9zZWdtZW50c0NvdW50IiwiQ1VSVkVTIiwibWF4TGVuZ3RoIiwibWluU2VnbWVudHMiLCJtYXhTZWdtZW50cyIsImxpbmVTdHlsZSIsImNvbG9yIiwiYWxpZ25tZW50IiwiZHJhd1NoYXBlIiwibW92ZVRvIiwibGluZVRvIiwicXVhZHJhdGljQ3VydmVUbyIsInhhIiwieWEiLCJhZGFwdGl2ZSIsImJlemllckN1cnZlVG8iLCJkdCIsImR0MiIsImR0MyIsImFyY1RvIiwibW0iLCJkZCIsImNjIiwidHQiLCJrMSIsImsyIiwiajEiLCJqMiIsInF5Iiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiYXJjIiwiYW50aWNsb2Nrd2lzZSIsInN3ZWVwIiwic2VncyIsInN0YXJ0WCIsInN0YXJ0WSIsInRoZXRhIiwidGhldGEyIiwiY1RoZXRhIiwic1RoZXRhIiwic2VnTWludXMiLCJyZW1haW5kZXIiLCJiZWdpbkZpbGwiLCJmaWxsaW5nIiwiZW5kRmlsbCIsImRyYXdSZWN0IiwiZHJhd1JvdW5kZWRSZWN0IiwiZHJhd0NpcmNsZSIsImRyYXdFbGxpcHNlIiwiZHJhd1BvbHlnb24iLCJkcmF3U3RhciIsImlubmVyUmFkaXVzIiwicG9seWdvbiIsIl9yZW5kZXJTcHJpdGVSZWN0Iiwic3ByaXRlJCQxIiwidDEiLCJsYiIsInJ3IiwicmgiLCJjbG9zZVBhdGgiLCJfU1BSSVRFX1RFWFRVUkUiLCJncmFwaGljc19lc19XZWJHTEdyYXBoaWNzRGF0YSIsImdsUG9pbnRzIiwiZ2xJbmRpY2VzIiwiZ3JhcGhpY3NfZXNfZnJhZ21lbnQiLCJncmFwaGljc19lc192ZXJ0ZXgiLCJncmFwaGljc19lc19QcmltaXRpdmVTaGFkZXIiLCJQcmltaXRpdmVTaGFkZXIiLCJidWlsZExpbmUiLCJ3ZWJHTERhdGEiLCJ3ZWJHTERhdGFOYXRpdmVMaW5lcyIsInZlcnRzIiwicDF4IiwicDF5IiwicDJ4IiwicDJ5IiwiYnVpbGROYXRpdmVMaW5lIiwiZmlyc3RQb2ludCIsImxhc3RQb2ludCIsIm1pZFBvaW50WCIsIm1pZFBvaW50WSIsImluZGV4Q291bnQiLCJpbmRleFN0YXJ0IiwicDN4IiwicDN5IiwicGVycHgiLCJwZXJweSIsInBlcnAyeCIsInBlcnAyeSIsInBlcnAzeCIsInBlcnAzeSIsImRpc3QiLCJyYXRpbyIsInIxIiwiZGVub20iLCJwZGlzdCIsImJ1aWxkTGluZSQxIiwiYnVpbGRQb2x5IiwiaG9sZUFycmF5IiwiZWFyY3V0X2RlZmF1bHQiLCJ2ZXJ0UG9zIiwiYnVpbGRSZWN0YW5nbGUiLCJyZWN0RGF0YSIsInRlbXBQb2ludHMiLCJidWlsZFJvdW5kZWRSZWN0YW5nbGUiLCJycmVjdERhdGEiLCJyZWNQb2ludHMiLCJxdWFkcmF0aWNCZXppZXJDdXJ2ZSIsInZlY1BvcyIsImdldFB0IiwibjEiLCJuMiIsInBlcmMiLCJ4YiIsInliIiwiYnVpbGRDaXJjbGUiLCJjaXJjbGVEYXRhIiwidG90YWxTZWdzIiwic2VnIiwiZ3JhcGhpY3NfZXNfR3JhcGhpY3NSZW5kZXJlciIsIkdyYXBoaWNzUmVuZGVyZXIiLCJncmFwaGljc0RhdGFQb29sIiwicHJpbWl0aXZlU2hhZGVyIiwib25Db250ZXh0Q2hhbmdlIiwid2ViR0wiLCJ1cGRhdGVHcmFwaGljcyIsInRyYW5zbGF0aW9uTWF0cml4IiwibGFzdEluZGV4IiwiZ2V0V2ViR0xEYXRhIiwiYXR0cmlic1N0YXRlIiwiaW50ZXJhY3Rpb25fZXNfSW50ZXJhY3Rpb25EYXRhIiwib3JpZ2luYWxFdmVudCIsImlkZW50aWZpZXIiLCJpc1ByaW1hcnkiLCJidXR0b24iLCJidXR0b25zIiwidGlsdFgiLCJ0aWx0WSIsInBvaW50ZXJUeXBlIiwicHJlc3N1cmUiLCJyb3RhdGlvbkFuZ2xlIiwidHdpc3QiLCJ0YW5nZW50aWFsUHJlc3N1cmUiLCJpbnRlcmFjdGlvbl9lc19wcm90b3R5cGVBY2Nlc3NvcnMiLCJwb2ludGVySWQiLCJnZXRMb2NhbFBvc2l0aW9uIiwiZ2xvYmFsUG9zIiwiY29weUV2ZW50IiwiaXNJbnRlZ2VyIiwid2hpY2giLCJJbnRlcmFjdGlvbkV2ZW50Iiwic3RvcHBlZCIsImN1cnJlbnRUYXJnZXQiLCJzdG9wUHJvcGFnYXRpb24iLCJJbnRlcmFjdGlvblRyYWNraW5nRGF0YSIsIl9wb2ludGVySWQiLCJGTEFHUyIsImludGVyYWN0aW9uX2VzX3Byb3RvdHlwZUFjY2Vzc29ycyQxIiwiZmxhZ3MiLCJub25lIiwib3ZlciIsInJpZ2h0RG93biIsImxlZnREb3duIiwiX2RvU2V0IiwieW4iLCJPVkVSIiwiUklHSFRfRE9XTiIsIkxFRlRfRE9XTiIsImZyZWV6ZSIsImludGVyYWN0aXZlVGFyZ2V0IiwiYnV0dG9uTW9kZSIsImN1cnNvciIsInRyYWNrZWRQb2ludGVycyIsIl90cmFja2VkUG9pbnRlcnMiLCJNT1VTRV9QT0lOVEVSX0lEIiwiaGl0VGVzdEV2ZW50IiwiaW50ZXJhY3Rpb25fZXNfSW50ZXJhY3Rpb25NYW5hZ2VyIiwiSW50ZXJhY3Rpb25NYW5hZ2VyIiwiYXV0b1ByZXZlbnREZWZhdWx0IiwiaW50ZXJhY3Rpb25GcmVxdWVuY3kiLCJtb3VzZSIsImFjdGl2ZUludGVyYWN0aW9uRGF0YSIsImludGVyYWN0aW9uRGF0YVBvb2wiLCJpbnRlcmFjdGlvbkRPTUVsZW1lbnQiLCJtb3ZlV2hlbkluc2lkZSIsImV2ZW50c0FkZGVkIiwibW91c2VPdmVyUmVuZGVyZXIiLCJzdXBwb3J0c1RvdWNoRXZlbnRzIiwic3VwcG9ydHNQb2ludGVyRXZlbnRzIiwiUG9pbnRlckV2ZW50Iiwib25Qb2ludGVyVXAiLCJwcm9jZXNzUG9pbnRlclVwIiwib25Qb2ludGVyQ2FuY2VsIiwicHJvY2Vzc1BvaW50ZXJDYW5jZWwiLCJvblBvaW50ZXJEb3duIiwicHJvY2Vzc1BvaW50ZXJEb3duIiwib25Qb2ludGVyTW92ZSIsInByb2Nlc3NQb2ludGVyTW92ZSIsIm9uUG9pbnRlck91dCIsInByb2Nlc3NQb2ludGVyT3Zlck91dCIsIm9uUG9pbnRlck92ZXIiLCJjdXJzb3JTdHlsZXMiLCJwb2ludGVyIiwiY3VycmVudEN1cnNvck1vZGUiLCJfdGVtcFBvaW50Iiwic2V0VGFyZ2V0RWxlbWVudCIsImhpdFRlc3QiLCJnbG9iYWxQb2ludCIsInByb2Nlc3NJbnRlcmFjdGl2ZSIsInJlbW92ZUV2ZW50cyIsImFkZEV2ZW50cyIsIm1zUG9pbnRlckVuYWJsZWQiLCJfZGVsdGFUaW1lIiwiZGlkTW92ZSIsImludGVyYWN0aW9uRGF0YSIsImludGVyYWN0aW9uRXZlbnQiLCJjb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQiLCJzZXRDdXJzb3JNb2RlIiwiZXZlbnRTdHJpbmciLCJtYXBQb3NpdGlvblRvUG9pbnQiLCJwYXJlbnRFbGVtZW50IiwicmVzb2x1dGlvbk11bHRpcGxpZXIiLCJoaXQiLCJpbnRlcmFjdGl2ZVBhcmVudCIsImhpdFRlc3RDaGlsZHJlbiIsImNoaWxkSGl0Iiwibm9ybWFsaXplVG9Qb2ludGVyRGF0YSIsImlzTm9ybWFsaXplZCIsImV2ZW50TGVuIiwiZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwiaXNSaWdodEJ1dHRvbiIsIm9uUG9pbnRlckNvbXBsZXRlIiwiY2FuY2VsbGVkIiwiZXZlbnRBcHBlbmQiLCJyZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIiwidHJhY2tpbmdEYXRhIiwiaXNUb3VjaCIsImlzTW91c2UiLCJpc01vdXNlVGFwIiwiaXNEb3duIiwicG9pbnRlckV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJnbG9iYWxYIiwiZ2xvYmFsWSIsIm5vcm1hbGl6ZWRFdmVudHMiLCJUb3VjaEV2ZW50IiwibGkiLCJjaGFuZ2VkVG91Y2hlcyIsInRvdWNoZXMiLCJyYWRpdXNYIiwicmFkaXVzWSIsImZvcmNlIiwibGF5ZXJYIiwib2Zmc2V0WCIsImxheWVyWSIsIm9mZnNldFkiLCJNb3VzZUV2ZW50IiwidW53cmFwRXhwb3J0cyIsImNyZWF0ZUNvbW1vbmpzTW9kdWxlIiwicGFyc2VVcmkiLCJtaW5pU2lnbmFscyIsIlJlc291cmNlXzEiLCJfYm91bmRYZHJPblRpbWVvdXQiLCJfeGRyT25UaW1lb3V0IiwicGFkZGluZ0J5dGVzIiwiYmxvYiIsImJsb2JNaWRkbGV3YXJlRmFjdG9yeSIsIl9SZXNvdXJjZTIiLCJCbG9iIiwiX3JldCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwiX2IyIiwiVVJMIiwid2Via2l0VVJMIiwiYmxvYl8xIiwiVGV4dHVyZUxvYWRlciIsImxpYiIsImxvYWRlcnNfZXNfTG9hZGVyIiwiUmVzb3VyY2VMb2FkZXIkJDEiLCJsaWJfZGVmYXVsdCIsIkxvYWRlclBsdWdpbiIsInNoYXJlZExvYWRlciIsImxvYWRlciIsIm1lc2hQcm9ncmFtIiwiTG9hZGVyUmVzb3VyY2UiLCJtZXNoX2VzX3RlbXBQb2ludCIsInRlbXBQb2x5Z29uIiwibWVzaF9lc19NZXNoIiwiTWVzaCIsImRyYXdNb2RlIiwiX2dsRGF0YXMiLCJhVmVydGV4UG9zaXRpb24iLCJzdGVwIiwiaW5kMCIsImluZDEiLCJpbmQyIiwibWVzaF9lc19NZXNoUmVuZGVyZXIiLCJNZXNoUmVuZGVyZXIiLCJtZXNoIiwidVRleHR1cmVNYXRyaXgiLCJ1cGxvYWRVdk1hdHJpeCIsIm1lc2hfZXh0cmFzX2VzX3ZlcnRleCIsIm1lc2hfZXh0cmFzX2VzX2ZyYWdtZW50IiwibWVzaF9leHRyYXNfZXNfTWVzaDJkIiwiTWVzaCQkMSIsIk1lc2gyZCIsInVDb2xvciIsImJhc2VUZXgiLCJyZWZyZXNoIiwiX3JlZnJlc2giLCJQbGFuZSIsIk1lc2gyZCQkMSIsInZlcnRpY2VzWCIsInZlcnRpY2VzWSIsIm1lc2hXaWR0aCIsIm1lc2hIZWlnaHQiLCJzZWdtZW50c1giLCJzZWdtZW50c1kiLCJzaXplWCIsInNpemVZIiwidG90YWxTdWIiLCJ4cG9zIiwieXBvcyIsInZhbHVlMiIsInZhbHVlMyIsInZhbHVlNCIsIkRFRkFVTFRfQk9SREVSX1NJWkUiLCJOaW5lU2xpY2VQbGFuZSIsIlBsYW5lJCQxIiwibGVmdFdpZHRoIiwidG9wSGVpZ2h0IiwicmlnaHRXaWR0aCIsImJvdHRvbUhlaWdodCIsIl9vcmlnV2lkdGgiLCJfb3JpZ0hlaWdodCIsIl9sZWZ0V2lkdGgiLCJfcmlnaHRXaWR0aCIsIl90b3BIZWlnaHQiLCJfYm90dG9tSGVpZ2h0IiwidXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzIiwidXBkYXRlVmVydGljYWxWZXJ0aWNlcyIsIl91dnciLCJfdXZoIiwiUm9wZSIsImFtb3VudCIsInJlZnJlc2hWZXJ0aWNlcyIsIm5leHRQb2ludCIsInBlcnBYIiwicGVycFkiLCJwZXJwTGVuZ3RoIiwibnVtIiwicGFydGljbGVzX2VzX1BhcnRpY2xlQ29udGFpbmVyIiwiUGFydGljbGVDb250YWluZXIiLCJtYXhTaXplIiwicHJvcGVydGllcyIsImJhdGNoU2l6ZSIsIl9wcm9wZXJ0aWVzIiwiX21heFNpemUiLCJfYmF0Y2hTaXplIiwiX2J1ZmZlcnMiLCJfYnVmZmVyVXBkYXRlSURzIiwic2V0UHJvcGVydGllcyIsInRpbnRSZ2IiLCJwYXJ0aWNsZSIsInNtYWxsZXN0Q2hpbGRJbmRleCIsInBhcnRpY2xlc19lc19QYXJ0aWNsZUJ1ZmZlciIsImR5bmFtaWNQcm9wZXJ0eUZsYWdzIiwiZHluYW1pY1Byb3BlcnRpZXMiLCJzdGF0aWNQcm9wZXJ0aWVzIiwiYXR0cmlidXRlTmFtZSIsInVwbG9hZEZ1bmN0aW9uIiwic3RhdGljU3RyaWRlIiwic3RhdGljQnVmZmVyIiwic3RhdGljRGF0YSIsInN0YXRpY0RhdGFVaW50MzIiLCJkeW5hbWljU3RyaWRlIiwiZHluYW1pY0J1ZmZlciIsImR5bmFtaWNEYXRhIiwiZHluYW1pY0RhdGFVaW50MzIiLCJpbml0QnVmZmVycyIsImR5bmFtaWNPZmZzZXQiLCJkeW5CdWZmZXIiLCJzdGF0aWNPZmZzZXQiLCJwcm9wZXJ0eSQxIiwic3RhdEJ1ZmZlciIsInByb3BlcnR5JDIiLCJwcm9wZXJ0eSQzIiwidXBsb2FkRHluYW1pYyIsInN0YXJ0SW5kZXgiLCJ1cGxvYWRTdGF0aWMiLCJwYXJ0aWNsZXNfZXNfdmVydGV4IiwicGFydGljbGVzX2VzX2ZyYWdtZW50IiwicGFydGljbGVzX2VzX1BhcnRpY2xlUmVuZGVyZXIiLCJQYXJ0aWNsZVJlbmRlcmVyIiwidXBsb2FkVmVydGljZXMiLCJ1cGxvYWRQb3NpdGlvbiIsInVwbG9hZFJvdGF0aW9uIiwidXBsb2FkVXZzIiwidXBsb2FkVGludCIsInRvdGFsQ2hpbGRyZW4iLCJnZW5lcmF0ZUJ1ZmZlcnMiLCJ1cGRhdGVTdGF0aWMiLCJfZ2VuZXJhdGVPbmVNb3JlQnVmZmVyIiwiYmlkIiwic3ByaXRlUG9zaXRpb24iLCJzcHJpdGVSb3RhdGlvbiIsInRleHR1cmVVdnMiLCJURVhUX0dSQURJRU5UIiwiTElORUFSX1ZFUlRJQ0FMIiwiTElORUFSX0hPUklaT05UQUwiLCJkZWZhdWx0U3R5bGUiLCJhbGlnbiIsImJyZWFrV29yZHMiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0FscGhhIiwiZHJvcFNoYWRvd0FuZ2xlIiwiZHJvcFNoYWRvd0JsdXIiLCJkcm9wU2hhZG93Q29sb3IiLCJkcm9wU2hhZG93RGlzdGFuY2UiLCJmaWxsR3JhZGllbnRUeXBlIiwiZmlsbEdyYWRpZW50U3RvcHMiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250U3R5bGUiLCJmb250VmFyaWFudCIsImZvbnRXZWlnaHQiLCJsZXR0ZXJTcGFjaW5nIiwibGluZUhlaWdodCIsImxpbmVKb2luIiwibWl0ZXJMaW1pdCIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInRleHRCYXNlbGluZSIsIndoaXRlU3BhY2UiLCJ3b3JkV3JhcCIsIndvcmRXcmFwV2lkdGgiLCJsZWFkaW5nIiwiVGV4dFN0eWxlIiwic3R5bGVJRCIsImRlZXBDb3B5UHJvcGVydGllcyIsInRleHRfZXNfcHJvdG90eXBlQWNjZXNzb3JzIiwiZ2V0U2luZ2xlQ29sb3IiLCJnZXRDb2xvciIsInByb3BlcnR5T2JqIiwiY2xvbmVkUHJvcGVydGllcyIsIl9hbGlnbiIsIl9icmVha1dvcmRzIiwiX2Ryb3BTaGFkb3ciLCJfZHJvcFNoYWRvd0FscGhhIiwiX2Ryb3BTaGFkb3dBbmdsZSIsIl9kcm9wU2hhZG93Qmx1ciIsIl9kcm9wU2hhZG93Q29sb3IiLCJvdXRwdXRDb2xvciIsIl9kcm9wU2hhZG93RGlzdGFuY2UiLCJfZmlsbCIsIl9maWxsR3JhZGllbnRUeXBlIiwiX2ZpbGxHcmFkaWVudFN0b3BzIiwiYXJyYXkxIiwiYXJyYXkyIiwiYXJlQXJyYXlzRXF1YWwiLCJfZm9udEZhbWlseSIsIl9mb250U2l6ZSIsIl9mb250U3R5bGUiLCJfZm9udFZhcmlhbnQiLCJfZm9udFdlaWdodCIsIl9sZXR0ZXJTcGFjaW5nIiwiX2xpbmVIZWlnaHQiLCJfbGVhZGluZyIsIl9saW5lSm9pbiIsIl9taXRlckxpbWl0IiwiX3BhZGRpbmciLCJfc3Ryb2tlIiwiX3N0cm9rZVRoaWNrbmVzcyIsIl90ZXh0QmFzZWxpbmUiLCJfdHJpbSIsIl93aGl0ZVNwYWNlIiwiX3dvcmRXcmFwIiwiX3dvcmRXcmFwV2lkdGgiLCJ0b0ZvbnRTdHJpbmciLCJmb250U2l6ZVN0cmluZyIsImZvbnRGYW1pbGllcyIsIlRleHRNZXRyaWNzIiwibGluZXMiLCJsaW5lV2lkdGhzIiwibWF4TGluZVdpZHRoIiwiZm9udFByb3BlcnRpZXMiLCJtZWFzdXJlVGV4dCIsIl9jYW52YXMiLCJmb250IiwibWVhc3VyZUZvbnQiLCJsaW5lIiwiY29sbGFwc2VTcGFjZXMiLCJjb2xsYXBzZU5ld2xpbmVzIiwiY2FuUHJlcGVuZFNwYWNlcyIsInRva2VucyIsInRva2VuaXplIiwidG9rZW4iLCJpc05ld2xpbmUiLCJhZGRMaW5lIiwiY3VycklzQnJlYWtpbmdTcGFjZSIsImlzQnJlYWtpbmdTcGFjZSIsImxhc3RJc0JyZWFraW5nU3BhY2UiLCJ0b2tlbldpZHRoIiwiZ2V0RnJvbUNhY2hlIiwiY2FuQnJlYWtXb3JkcyIsImNoYXJhY3RlcnMiLCJjaGFyIiwibmV4dENoYXIiLCJsYXN0Q2hhciIsImNhbkJyZWFrQ2hhcnMiLCJjaGFyYWN0ZXJXaWR0aCIsImlzTGFzdFRva2VuIiwibmV3TGluZSIsInRyaW1SaWdodCIsInNwYWNpbmciLCJfbmV3bGluZXMiLCJfYnJlYWtpbmdTcGFjZXMiLCJfZm9udHMiLCJfY29udGV4dCIsIm1ldHJpY3NTdHJpbmciLCJNRVRSSUNTX1NUUklORyIsIkJBU0VMSU5FX1NZTUJPTCIsImJhc2VsaW5lIiwiQkFTRUxJTkVfTVVMVElQTElFUiIsImZpbGxUZXh0IiwiaW1hZ2VkYXRhIiwiYXNjZW50IiwiZGVzY2VudCIsImNsZWFyTWV0cmljcyIsInRleHRfZXNfY2FudmFzIiwiZGVmYXVsdERlc3Ryb3lPcHRpb25zIiwidGV4dF9lc19UZXh0IiwiU3ByaXRlJCQxIiwiVGV4dCIsIl90ZXh0IiwiX3N0eWxlIiwiX3N0eWxlTGlzdGVuZXIiLCJfZm9udCIsImxvY2FsU3R5bGVJRCIsInVwZGF0ZVRleHQiLCJyZXNwZWN0RGlydHkiLCJsaW5lUG9zaXRpb25YIiwibGluZVBvc2l0aW9uWSIsIm1lYXN1cmVkIiwic3Ryb2tlU3R5bGUiLCJnbG9iYWxBbHBoYSIsInNoYWRvd0JsdXIiLCJzaGFkb3dDb2xvciIsInhTaGFkb3dPZmZzZXQiLCJ5U2hhZG93T2Zmc2V0IiwiZHJhd0xldHRlclNwYWNpbmciLCJfZ2VuZXJhdGVGaWxsU3R5bGUiLCJpc1N0cm9rZSIsImN1cnJlbnRQb3NpdGlvbiIsInN0cm9rZVRleHQiLCJ0cmltbWVkIiwiX3JlbmRlckNhbnZhcyIsIl9vblN0eWxlQ2hhbmdlIiwiZ3JhZGllbnQiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwibGVuZ3RoUGx1czEiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsIkNvdW50TGltaXRlciIsIm1heEl0ZW1zUGVyRnJhbWUiLCJpdGVtc0xlZnQiLCJiZWdpbkZyYW1lIiwiYWxsb3dlZFRvVXBsb2FkIiwiVVBMT0FEU19QRVJfRlJBTUUiLCJwcmVwYXJlX2VzX0Jhc2VQcmVwYXJlIiwibGltaXRlciIsInVwbG9hZEhvb2tIZWxwZXIiLCJhZGRIb29rcyIsInVwbG9hZEhvb2tzIiwiY29tcGxldGVzIiwidGlja2luZyIsImRlbGF5ZWRUaWNrIiwicHJlcGFyZUl0ZW1zIiwicmVnaXN0ZXJGaW5kSG9vayIsImZpbmRUZXh0IiwiZmluZFRleHRTdHlsZSIsImZpbmRNdWx0aXBsZUJhc2VUZXh0dXJlcyIsImZpbmRCYXNlVGV4dHVyZSIsImZpbmRUZXh0dXJlIiwicmVnaXN0ZXJVcGxvYWRIb29rIiwiZHJhd1RleHQiLCJjYWxjdWxhdGVUZXh0U3R5bGUiLCJfdGV4dHVyZXMiLCJoZWxwZXIiLCJkb25lIiwidGljayIsInVwbG9hZGVkIiwibGVuJDEiLCJhZGRIb29rIiwidXBsb2FkSG9vayIsIlByZXBhcmUiLCJCYXNlUHJlcGFyZSQkMSIsImZpbmRHcmFwaGljcyIsInVwbG9hZEJhc2VUZXh0dXJlcyIsInVwbG9hZEdyYXBoaWNzIiwidGV4dHVyZU1hbmFnZXIiLCJUaW1lTGltaXRlciIsIm1heE1pbGxpc2Vjb25kcyIsImZyYW1lU3RhcnQiLCJEYXRlIiwic3ByaXRlX2FuaW1hdGVkX2VzX0FuaW1hdGVkU3ByaXRlIiwiQW5pbWF0ZWRTcHJpdGUiLCJfZHVyYXRpb25zIiwiYW5pbWF0aW9uU3BlZWQiLCJsb29wIiwib25GcmFtZUNoYW5nZSIsIm9uTG9vcCIsIl9jdXJyZW50VGltZSIsInBsYXlpbmciLCJ0b3RhbEZyYW1lcyIsImN1cnJlbnRGcmFtZSIsImdvdG9BbmRTdG9wIiwiZnJhbWVOdW1iZXIiLCJwcmV2aW91c0ZyYW1lIiwiZ290b0FuZFBsYXkiLCJlbGFwc2VkIiwibGFnIiwiZnJvbUZyYW1lcyIsImZyYW1lcyIsImZyb21JbWFnZXMiLCJpbWFnZXMiLCJTcHJpdGVzaGVldCIsInJlc29sdXRpb25GaWxlbmFtZSIsIl91cGRhdGVSZXNvbHV0aW9uIiwiX2ZyYW1lcyIsIl9mcmFtZUtleXMiLCJfYmF0Y2hJbmRleCIsIl9jYWxsYmFjayIsInNwcml0ZXNoZWV0X2VzX3N0YXRpY0FjY2Vzc29ycyIsIkJBVENIX1NJWkUiLCJtZXRhIiwiX3Byb2Nlc3NGcmFtZXMiLCJfcGFyc2VDb21wbGV0ZSIsIl9uZXh0QmF0Y2giLCJpbml0aWFsRnJhbWVJbmRleCIsImZyYW1lSW5kZXgiLCJtYXhGcmFtZXMiLCJzb3VyY2VTaXplIiwicm90YXRlZCIsInNwcml0ZVNvdXJjZVNpemUiLCJTcHJpdGVzaGVldExvYWRlciIsImltYWdlUmVzb3VyY2VOYW1lIiwibG9hZE9wdGlvbnMiLCJpbWFnZU1ldGFkYXRhIiwicmVzb3VyY2VQYXRoIiwiZ2V0UmVzb3VyY2VQYXRoIiwic3ByaXRlc2hlZXQiLCJzcHJpdGVfdGlsaW5nX2VzX3RlbXBQb2ludCIsInNwcml0ZV90aWxpbmdfZXNfVGlsaW5nU3ByaXRlIiwiVGlsaW5nU3ByaXRlIiwidGlsZVRyYW5zZm9ybSIsIl9jYW52YXNQYXR0ZXJuIiwidXZSZXNwZWN0QW5jaG9yIiwidGlsZVNjYWxlIiwidGlsZVBvc2l0aW9uIiwiZnJvbUZyYW1lIiwiZnJhbWVJZCIsImZyb21JbWFnZSIsImltYWdlSWQiLCJzcHJpdGVfdGlsaW5nX2VzX3ZlcnRleCIsInNwcml0ZV90aWxpbmdfZXNfZnJhZ21lbnQiLCJmcmFnbWVudFNpbXBsZSIsInNwcml0ZV90aWxpbmdfZXNfdGVtcE1hdCIsInNwcml0ZV90aWxpbmdfZXNfVGlsaW5nU3ByaXRlUmVuZGVyZXIiLCJUaWxpbmdTcHJpdGVSZW5kZXJlciIsInNpbXBsZVNoYWRlciIsInRzIiwidXYiLCJpc1NpbXBsZSIsIkgiLCJ1TWFwQ29vcmQiLCJ1VHJhbnNmb3JtIiwidGV4dF9iaXRtYXBfZXNfQml0bWFwVGV4dCIsIkJpdG1hcFRleHQiLCJfdGV4dFdpZHRoIiwiX3RleHRIZWlnaHQiLCJfZ2x5cGhzIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJtYXhXaWR0aCIsIm1heExpbmVIZWlnaHQiLCJ0ZXh0V2lkdGgiLCJ0ZXh0SGVpZ2h0IiwiZm9udHMiLCJjaGFycyIsInRleHRMZW5ndGgiLCJwcmV2Q2hhckNvZGUiLCJsYXN0TGluZVdpZHRoIiwibGFzdEJyZWFrUG9zIiwibGFzdEJyZWFrV2lkdGgiLCJzcGFjZXNSZW1vdmVkIiwiY2hhckNvZGUiLCJjaGFyRGF0YSIsImtlcm5pbmciLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhBZHZhbmNlIiwibGluZUFsaWduT2Zmc2V0cyIsImFsaWduT2Zmc2V0IiwibGVuQ2hhcnMiLCJ2YWxpZGF0ZSIsInBhcnNlSW50IiwicmVnaXN0ZXJGb250IiwiaW5mbyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY29tbW9uIiwicGFnZXMiLCJwYWdlc1RleHR1cmVzIiwibGV0dGVycyIsImxldHRlciIsInBhZ2UiLCJ0ZXh0dXJlUmVjdCIsImtlcm5pbmdzIiwiZmlyc3QiLCJzZWNvbmQiLCJCaXRtYXBGb250TG9hZGVyIiwiYml0bWFwRm9udCIsImRpcm5hbWUiLCJkaXIiLCJ4bWxVcmwiLCJwYWdlRmlsZSIsIl9kZWZhdWx0IiwiZGVmYXVsdEZpbHRlciIsImZpbHRlcl9hbHBoYV9lc19mcmFnbWVudCIsImZpbHRlcl9hbHBoYV9lc19BbHBoYUZpbHRlciIsIkFscGhhRmlsdGVyIiwidUFscGhhIiwidmVydFRlbXBsYXRlIiwiZ2VuZXJhdGVWZXJ0Qmx1clNvdXJjZSIsImtlcm5lbFNpemUiLCJ0ZW1wbGF0ZSIsImhhbGZMZW5ndGgiLCJ2ZXJ0U291cmNlIiwiYmx1ckxvb3AiLCJibHVyIiwiR0FVU1NJQU5fVkFMVUVTIiwiNSIsIjciLCI5IiwiMTEiLCIxMyIsIjE1IiwiZmlsdGVyX2JsdXJfZXNfZnJhZ1RlbXBsYXRlIiwiZ2VuZXJhdGVGcmFnQmx1clNvdXJjZSIsImtlcm5lbCIsImZyYWdTb3VyY2UiLCJmaWx0ZXJfYmx1cl9lc19CbHVyRmlsdGVyUGFzcyIsIkJsdXJGaWx0ZXJQYXNzIiwiaG9yaXpvbnRhbCIsInN0cmVuZ3RoIiwicXVhbGl0eSIsInZlcnRTcmMiLCJmcmFnU3JjIiwiX3F1YWxpdHkiLCJmaXJzdFJ1biIsIm1heFZhcnlpbmdzIiwiTUFYX1ZBUllJTkdfVkVDVE9SUyIsImdldE1heEtlcm5lbFNpemUiLCJwYXNzZXMiLCJ0ZW1wIiwiZmlsdGVyX2JsdXJfZXNfQmx1ckZpbHRlciIsIkJsdXJGaWx0ZXIiLCJibHVyWEZpbHRlciIsImJsdXJZRmlsdGVyIiwicmVwZWF0RWRnZVBpeGVscyIsImJsdXJYIiwiYmx1clkiLCJ4U3RyZW5ndGgiLCJ5U3RyZW5ndGgiLCJ1cGRhdGVQYWRkaW5nIiwiX3JlcGVhdEVkZ2VQaXhlbHMiLCJmaWx0ZXJfY29sb3JfbWF0cml4X2VzX2ZyYWdtZW50IiwiZmlsdGVyX2NvbG9yX21hdHJpeF9lc19Db2xvck1hdHJpeEZpbHRlciIsIkNvbG9yTWF0cml4RmlsdGVyIiwiX2xvYWRNYXRyaXgiLCJtdWx0aXBseSIsIm5ld01hdHJpeCIsIl9tdWx0aXBseSIsIl9jb2xvck1hdHJpeCIsImJyaWdodG5lc3MiLCJncmV5c2NhbGUiLCJibGFja0FuZFdoaXRlIiwiaHVlIiwiY29zUiIsInNpblIiLCJzcXJXIiwiY29udHJhc3QiLCJzYXR1cmF0ZSIsImRlc2F0dXJhdGUiLCJuZWdhdGl2ZSIsInNlcGlhIiwidGVjaG5pY29sb3IiLCJwb2xhcm9pZCIsInRvQkdSIiwia29kYWNocm9tZSIsImJyb3duaSIsInZpbnRhZ2UiLCJjb2xvclRvbmUiLCJkZXNhdHVyYXRpb24iLCJ0b25lZCIsImxpZ2h0Q29sb3IiLCJkYXJrQ29sb3IiLCJsUiIsImxHIiwibEIiLCJkUiIsImRHIiwiZEIiLCJuaWdodCIsImludGVuc2l0eSIsInByZWRhdG9yIiwibHNkIiwiZ3JheXNjYWxlIiwiZmlsdGVyX2Rpc3BsYWNlbWVudF9lc192ZXJ0ZXgiLCJmaWx0ZXJfZGlzcGxhY2VtZW50X2VzX2ZyYWdtZW50IiwiZmlsdGVyX2Rpc3BsYWNlbWVudF9lc19EaXNwbGFjZW1lbnRGaWx0ZXIiLCJEaXNwbGFjZW1lbnRGaWx0ZXIiLCJtYXBTYW1wbGVyIiwiZmlsdGVyTWF0cml4IiwiZmlsdGVyX2Z4YWFfZXNfdmVydGV4IiwiZmlsdGVyX2Z4YWFfZXNfZnJhZ21lbnQiLCJGWEFBRmlsdGVyIiwiZmlsdGVyX25vaXNlX2VzX2ZyYWdtZW50IiwiZmlsdGVyX25vaXNlX2VzX05vaXNlRmlsdGVyIiwiTm9pc2VGaWx0ZXIiLCJub2lzZSIsInNlZWQiLCJyYW5kb20iLCJ1Tm9pc2UiLCJ1U2VlZCIsIl90ZW1wTWF0cml4IiwiX2NhY2hlQXNCaXRtYXAiLCJfY2FjaGVEYXRhIiwiQ2FjaGVEYXRhIiwidGV4dHVyZUNhY2hlSWQiLCJvcmlnaW5hbFJlbmRlciIsIm9yaWdpbmFsUmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMiLCJvcmlnaW5hbEdldExvY2FsQm91bmRzIiwib3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm0iLCJvcmlnaW5hbEhpdFRlc3QiLCJvcmlnaW5hbERlc3Ryb3kiLCJvcmlnaW5hbE1hc2siLCJvcmlnaW5hbEZpbHRlckFyZWEiLCJjYWNoZUFzQml0bWFwIiwicmVuZGVyQ2FudmFzIiwib3JpZ2luYWxDb250YWluc1BvaW50IiwiX3JlbmRlckNhY2hlZCIsIl9yZW5kZXJDYWNoZWRDYW52YXMiLCJfY2FjaGVBc0JpdG1hcERlc3Ryb3kiLCJfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QiLCJfaW5pdENhY2hlZERpc3BsYXlPYmplY3QiLCJjYWNoZUFscGhhIiwiY2FjaGVkUmVuZGVyVGFyZ2V0IiwiY2FjaGVkU3ByaXRlIiwiX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyIsIl9nZXRDYWNoZWRMb2NhbEJvdW5kcyIsIl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyIsImdldENoaWxkQnlOYW1lIiwiZ2V0R2xvYmFsUG9zaXRpb24iLCJ3YXJuaW5ncyIsIm1zZyIsInN0YWNrIiwiZ3JvdXBDb2xsYXBzZWQiLCJncm91cEVuZCIsIlBJWEkiLCJuYW1lc3BhY2VzIiwiYWNjZXNzaWJpbGl0eSIsImFjY2Vzc2liaWxpdHlfZXNfbmFtZXNwYWNlT2JqZWN0IiwiZXh0cmFjdF9lc19uYW1lc3BhY2VPYmplY3QiLCJpbnRlcmFjdGlvbl9lc19uYW1lc3BhY2VPYmplY3QiLCJwcmVwYXJlIiwicHJlcGFyZV9lc19uYW1lc3BhY2VPYmplY3QiLCJzZXR0aW5ncyIsInV0aWxzIiwidXRpbHNfZXNfbmFtZXNwYWNlT2JqZWN0IiwiYXBwX2VzX25hbWVzcGFjZU9iamVjdCIsImNvbnN0YW50c19lc19uYW1lc3BhY2VPYmplY3QiLCJjb3JlX2VzX25hbWVzcGFjZU9iamVjdCIsImRpc3BsYXlfZXNfbmFtZXNwYWNlT2JqZWN0IiwiZ3JhcGhpY3NfZXNfbmFtZXNwYWNlT2JqZWN0IiwibG9hZGVyc19lc19uYW1lc3BhY2VPYmplY3QiLCJtYXRoX2VzX25hbWVzcGFjZU9iamVjdCIsIm1lc2hfZXNfbmFtZXNwYWNlT2JqZWN0IiwibWVzaF9leHRyYXNfZXNfbmFtZXNwYWNlT2JqZWN0IiwicGFydGljbGVzX2VzX25hbWVzcGFjZU9iamVjdCIsInNwcml0ZV9lc19uYW1lc3BhY2VPYmplY3QiLCJzcHJpdGVfYW5pbWF0ZWRfZXNfbmFtZXNwYWNlT2JqZWN0Iiwic3ByaXRlc2hlZXRfZXNfbmFtZXNwYWNlT2JqZWN0Iiwic3ByaXRlX3RpbGluZ19lc19uYW1lc3BhY2VPYmplY3QiLCJ0ZXh0X2VzX25hbWVzcGFjZU9iamVjdCIsInRleHRfYml0bWFwX2VzX25hbWVzcGFjZU9iamVjdCIsInRpY2tlcl9lc19uYW1lc3BhY2VPYmplY3QiLCJUcmFuc2Zvcm1TdGF0aWMiLCJUcmFuc2Zvcm1CYXNlIiwiVFJBTlNGT1JNX01PREUiLCJTVEFUSUMiLCJEWU5BTUlDIiwiV2ViR0xSZW5kZXJlciIsIkNhbnZhc1JlbmRlclRhcmdldCIsIkZpbHRlck1hbmFnZXIiLCJleHRyYXMiLCJnZXRTdmdTaXplIiwiUmF3TWVzaCIsIkNhbnZhc01lc2hSZW5kZXJlciIsInBhcnRpY2xlcyIsIlRpY2tlciIsImxvYWRlcnMiLCJiaXRtYXBGb250UGFyc2VyIiwicGFyc2VCaXRtYXBGb250RGF0YSIsInNwcml0ZXNoZWV0UGFyc2VyIiwiYWRkUGl4aU1pZGRsZXdhcmUiLCJtaWRkbGV3YXJlIiwiX3JlbmRlcldlYkdMIiwicmVuZGVyV2ViR0wiLCJyZW5kZXJBZHZhbmNlZFdlYkdMIiwiZnJvbUNhbnZhcyIsImZyb21TVkciLCJjb3B5IiwiZ2V0UmVuZGVyVGFyZ2V0IiwicmV0dXJuUmVuZGVyVGFyZ2V0IiwiQmx1clhGaWx0ZXIiLCJzdXBlcmNsYXNzIiwiQmx1cllGaWx0ZXIiLCJzcHJpdGVGcm9tIiwidGV4dHVyZUZyb20iLCJmcm9tVmlkZW8iLCJkZXByZWNhdGVkIiwidHJhbnNwb3NlTWF0cml4IiwiaW5wdXRNYXRyaXgiLCJjcmVhdGVVbmlmb3JtQXJyYXkiLCJjb2xzIiwicm93cyIsIlB1eW9UeXBlIiwiUmVkIiwiR3JlZW4iLCJCbHVlIiwiWWVsbG93IiwiUHVycGxlIiwiR2FyYmFnZSIsIkhhcmQiLCJTdW4iLCJCbG9jayIsIk5vbmUiLCJQdXlvIiwibmV3WSIsImNvbm5lY3Rpb25zIiwiRmllbGQiLCJoaWRkZW5Sb3dzIiwidGFyZ2V0UG9pbnQiLCJwdXlvVG9Qb3AiLCJnYXJiYWdlSW5IaWRkZW5Sb3dCZWhhdmlvciIsImNoYWluUG93ZXIiLCJjb2xvckJvbnVzIiwiZ3JvdXBCb251cyIsInBvaW50UHV5byIsInBvcHBpbmdHcm91cHMiLCJwb3BwaW5nQ29sb3JzIiwiY2hhaW5MZW5ndGgiLCJsaW5rU2NvcmUiLCJ0b3RhbFNjb3JlIiwibGlua0JvbnVzTXVsdGlwbGllciIsImxpbmtQdXlvTXVsdGlwbGllciIsImxlZnRvdmVyTnVpc2FuY2VQb2ludHMiLCJ0b3RhbEdhcmJhZ2UiLCJsaW5rR2FyYmFnZSIsImhhc1BvcHMiLCJoYXNEcm9wcyIsImNoYWluSGlzdG9yeSIsImRyb3BEaXN0YW5jZXMiLCJkcm9wcGVkTWF0cml4IiwiZ2FyYmFnZUNsZWFyQ291bnRNYXRyaXgiLCJ1cGRhdGVGaWVsZE1hdHJpeCIsInNldENvbm5lY3Rpb25EYXRhIiwic2ltU3RhdGUiLCJyZWZyZXNoUHV5b1Bvc2l0aW9uRGF0YSIsImRyb3BQdXlvcyIsImNhbGN1bGF0ZURyb3BEaXN0YW5jZXMiLCJzbGljZVBvaW50cyIsInNsaWNlcyIsIm5ld0NvbHVtbiIsInRoaXNfMSIsImVtcHR5Q2VsbHMiLCJwdXlvIiwiUHV5b0NlbGxzIiwiY2hlY2tGb3JDb2xvclBvcHMiLCJjaGVja01hdHJpeCIsImlzQ29sb3JlZCIsImdyb3VwXzEiLCJpc0dhcmJhZ2UiLCJjb25uZWN0aW9uIiwiY2hlY2tGb3JHYXJiYWdlUG9wcyIsIl9hIiwiX2IiLCJncm91cF8yIiwiY2FsY3VsYXRlTGlua1Njb3JlIiwibGlua0dyb3VwQm9udXMiLCJsaW5rQ29sb3JCb251cyIsImxpbmtDaGFpblBvd2VyIiwibGlua1B1eW9DbGVhcmVkIiwiX2MiLCJsaW5rVG90YWxCb251cyIsInRleHRNYXRyaXgiLCJjYWxjdWxhdGVHYXJiYWdlIiwibnVpc2FuY2VQb2ludHMiLCJudWlzYW5jZUNvdW50IiwicG9wUHV5b3MiLCJncm91cF8zIiwicG9wR2FyYmFnZSIsInJlZnJlc2hMaW5rRGF0YSIsInNpbXVsYXRlTGluayIsInNpbXVsYXRlQ2hhaW4iLCJhZHZhbmNlU3RhdGUiLCJzZW5kVG9QdXlvTmV4dXMiLCJwbk1hdHJpeCIsIm1hdHJpeFRleHQiLCJjb252ZXJzaW9uU2NoZW1lIiwiWSIsIlAiLCJKIiwiMCIsInVybFN0cmluZyIsIkNoYWluc2ltRWRpdG9yX1Nwcml0ZSIsImRlZmF1bHRTaW11bGF0b3JTZXR0aW5ncyIsImdhbWUiLCJDaGFpbnNpbUVkaXRvciIsInRhcmdldERpdiIsImZpZWxkRGlzcGxheSIsImZpZWxkQ29udHJvbHMiLCJwdXlvRGlzcGxheSIsImdhcmJhZ2VEaXNwbGF5Iiwic2NvcmVEaXNwbGF5IiwiZWRpdG9yRGlzcGxheSIsImdhbWVTZXR0aW5ncyIsImNlbGxXaWR0aCIsImNlbGxIZWlnaHQiLCJzaW11bGF0b3JTZXR0aW5ncyIsImRpc3BsYXlNb2RlIiwic2ltdWxhdGlvblNwZWVkIiwiYXV0b0FkdmFuY2UiLCJnYW1lRmllbGQiLCJzcmNfRmllbGQiLCJjb29yZEFycmF5IiwicHV5b1N0YXRlcyIsInB1eW9Ecm9wU3BlZWQiLCJwdXlvQm91bmNlRnJhbWVzIiwiZ2FyYmFnZURpc3BsYXlDb29yZGluYXRlcyIsImxlZnRCdXR0b25Eb3duIiwicmlnaHRCdXR0b25Eb3duIiwiYXBwIiwib25jb250ZXh0bWVudSIsInRleHR1cmVzVG9Mb2FkIiwibG9hZEFzc2V0cyIsImVkaXRvck9wZW4iLCJjdXJyZW50VG9vbCIsInRhcmdldExheWVyIiwiZWRpdG9yVG9vbERpc3BsYXkiLCJpZGxlU3RhdGUiLCJzaW11bGF0b3JNb2RlIiwiZ2FtZUxvb3AiLCJzZXROZXdGaWVsZCIsInJlZnJlc2hQdXlvU3ByaXRlcyIsImZpZWxkU3ByaXRlcyIsInB1eW9TcHJpdGVzIiwiY2hhaW5Db3VudFNwcml0ZXMiLCJpbml0RmllbGREaXNwbGF5IiwiaW5pdFNjb3JlRGlzcGxheSIsImluaXRHYW1lT3ZlclgiLCJpbml0UHV5b0Rpc3BsYXkiLCJpbml0RmllbGRDb250cm9scyIsImluaXRHYXJiYWdlRGlzcGxheSIsImluaXRUb29sRGlzcGxheSIsImNoYXJCRyIsImJvcmRlclRvcCIsImJvcmRlckxlZnRUb3AiLCJib3JkZXJMZWZ0Qm90dG9tIiwiYm9yZGVyUmlnaHRUb3AiLCJib3JkZXJSaWdodEJvdHRvbSIsImJvcmRlckJvdHRvbSIsIm5leHRXaW5kb3dCb3JkZXIiLCJuZXh0V2luZG93SW5uZXIiLCJuZXh0V2luZG93TWFzayIsInJlZFgiLCJyZWxlYXNlTW91c2UiLCJyZXNldEZpZWxkQW5kU3RhdGUiLCJhdXRvIiwiZGlzYWJsZVRvdWNoQmVoaW5kIiwidG9nZ2xlRWRpdG9yV2luZG93IiwiZWRpdCIsImdhcmJhZ2VUcmF5IiwiZWRpdEJ1YmJsZSIsInRvb2xDdXJzb3IiLCJ0b29sU3ByaXRlcyIsInRvb2xDb2xvcnMiLCJ0aGlzXzIiLCJyZWZyZXNoR2FyYmFnZUljb25zIiwiYW5pbWF0ZUZpZWxkRHJvcHMiLCJhbmltYXRlUG9wcyIsInN0aWxsRHJvcHBpbmciLCJkdXJhdGlvbiIsIl9kIiwiX2UiLCJfZiIsIl9nIiwiX2giLCJjZW50ZXJYIiwiY2FsY3VsYXRlR2FyYmFnZUljb25zIiwiZGlzdGFuY2UiLCJmcmFjdGlvbiIsImdhcmJhZ2VJY29ucyIsImNoZWNrQ3Jvd24iLCJjaGVja01vb24iLCJjaGVja1N0YXIiLCJjaGVja1JvY2siLCJjaGVja0xpbmUiLCJjaGVja1VuaXQiLCJwYWdlXzEiLCJy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QUQsRUFBQSxHQUFBQyxFQUFBLElBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUNBeXBCLEVBQUEsR0FBQTFwQixFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFBQUQsRUFBQSxHQUdBMHBCLEVBQUEsR0FBQTFwQixFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFDQXlwQixFQUFBLEdBQUExcEIsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFBQUQsRUFBQSxHQUFBQyxFQUFBLElBQ0F5cEIsRUFBQSxHQUFBMXBCLEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLElBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUNBeXBCLEVBQUEsR0FBQTFwQixFQUFBLEdBQUFDLEVBQUEsR0FBQUQsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFDQXlwQixFQUFBLEdBQUExcEIsRUFBQSxHQUFBQyxFQUFBLEdBQUFELEVBQUEsR0FBQUMsRUFBQSxHQUFBRCxFQUFBLEdBQUFDLEVBQUEsSUFBQUQsRUFBQSxHQUFBQyxFQUFBLElBQUFELEVBQUEsR0FHQTBwQixFQUFBLElBQUExcEIsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFBQUQsRUFBQSxJQUFBQyxFQUFBLElBQ0F5cEIsRUFBQSxJQUFBMXBCLEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLElBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUNBeXBCLEVBQUEsSUFBQTFwQixFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFDQXlwQixFQUFBLElBQUExcEIsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFBQUQsRUFBQSxJQUFBQyxFQUFBLElBQ0F5cEIsRUFBQSxJQUFBMXBCLEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLElBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBR0EwcEIsRUFBQSxJQUFBMXBCLEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLElBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUNBeXBCLEVBQUEsSUFBQTFwQixFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFDQXlwQixFQUFBLElBQUExcEIsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFBQUQsRUFBQSxJQUFBQyxFQUFBLElBQ0F5cEIsRUFBQSxJQUFBMXBCLEVBQUEsSUFBQUMsRUFBQSxHQUFBRCxFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLElBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUNBeXBCLEVBQUEsSUFBQTFwQixFQUFBLElBQUFDLEVBQUEsR0FBQUQsRUFBQSxJQUFBQyxFQUFBLEdBQUFELEVBQUEsSUFBQUMsRUFBQSxJQUFBRCxFQUFBLElBQUFDLEVBQUEsSUFBQUQsRUFBQSxJQUVBMHBCLEdBVUEwd0UsRUFBQXRpRyxVQUFBMmlHLGFBQUEsU0FBQXI5RCxHQUdBLElBQUFqN0IsRUFBQSxJQUFB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LE9BQU8rcEUsWUFBcUIsS0FBSyxNQUtsRXlvQyxHQUFLb0MsWUFDSHBJLEdBQWdCLENBQ2QsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDMUIsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUsiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdGZ1bmN0aW9uIGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKSB7XG4gXHRcdGRlbGV0ZSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHR9XG4gXHR2YXIgcGFyZW50SG90VXBkYXRlQ2FsbGJhY2sgPSB3aW5kb3dbXCJ3ZWJwYWNrSG90VXBkYXRlXCJdO1xuIFx0d2luZG93W1wid2VicGFja0hvdFVwZGF0ZVwiXSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0ZnVuY3Rpb24gd2VicGFja0hvdFVwZGF0ZUNhbGxiYWNrKGNodW5rSWQsIG1vcmVNb2R1bGVzKSB7XG4gXHRcdGhvdEFkZFVwZGF0ZUNodW5rKGNodW5rSWQsIG1vcmVNb2R1bGVzKTtcbiBcdFx0aWYgKHBhcmVudEhvdFVwZGF0ZUNhbGxiYWNrKSBwYXJlbnRIb3RVcGRhdGVDYWxsYmFjayhjaHVua0lkLCBtb3JlTW9kdWxlcyk7XG4gXHR9IDtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpIHtcbiBcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gXHRcdHNjcmlwdC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xuIFx0XHRzY3JpcHQuc3JjID0gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIGNodW5rSWQgKyBcIi5cIiArIGhvdEN1cnJlbnRIYXNoICsgXCIuaG90LXVwZGF0ZS5qc1wiO1xuIFx0XHRpZiAobnVsbCkgc2NyaXB0LmNyb3NzT3JpZ2luID0gbnVsbDtcbiBcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0fVxuXG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdGZ1bmN0aW9uIGhvdERvd25sb2FkTWFuaWZlc3QocmVxdWVzdFRpbWVvdXQpIHtcbiBcdFx0cmVxdWVzdFRpbWVvdXQgPSByZXF1ZXN0VGltZW91dCB8fCAxMDAwMDtcbiBcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdGlmICh0eXBlb2YgWE1MSHR0cFJlcXVlc3QgPT09IFwidW5kZWZpbmVkXCIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QobmV3IEVycm9yKFwiTm8gYnJvd3NlciBzdXBwb3J0XCIpKTtcbiBcdFx0XHR9XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gXHRcdFx0XHR2YXIgcmVxdWVzdFBhdGggPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgaG90Q3VycmVudEhhc2ggKyBcIi5ob3QtdXBkYXRlLmpzb25cIjtcbiBcdFx0XHRcdHJlcXVlc3Qub3BlbihcIkdFVFwiLCByZXF1ZXN0UGF0aCwgdHJ1ZSk7XG4gXHRcdFx0XHRyZXF1ZXN0LnRpbWVvdXQgPSByZXF1ZXN0VGltZW91dDtcbiBcdFx0XHRcdHJlcXVlc3Quc2VuZChudWxsKTtcbiBcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdHJldHVybiByZWplY3QoZXJyKTtcbiBcdFx0XHR9XG4gXHRcdFx0cmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHJldHVybjtcbiBcdFx0XHRcdGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCkge1xuIFx0XHRcdFx0XHQvLyB0aW1lb3V0XG4gXHRcdFx0XHRcdHJlamVjdChcbiBcdFx0XHRcdFx0XHRuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiB0aW1lZCBvdXQuXCIpXG4gXHRcdFx0XHRcdCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzID09PSA0MDQpIHtcbiBcdFx0XHRcdFx0Ly8gbm8gdXBkYXRlIGF2YWlsYWJsZVxuIFx0XHRcdFx0XHRyZXNvbHZlKCk7XG4gXHRcdFx0XHR9IGVsc2UgaWYgKHJlcXVlc3Quc3RhdHVzICE9PSAyMDAgJiYgcmVxdWVzdC5zdGF0dXMgIT09IDMwNCkge1xuIFx0XHRcdFx0XHQvLyBvdGhlciBmYWlsdXJlXG4gXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoXCJNYW5pZmVzdCByZXF1ZXN0IHRvIFwiICsgcmVxdWVzdFBhdGggKyBcIiBmYWlsZWQuXCIpKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdC8vIHN1Y2Nlc3NcbiBcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHR2YXIgdXBkYXRlID0gSlNPTi5wYXJzZShyZXF1ZXN0LnJlc3BvbnNlVGV4dCk7XG4gXHRcdFx0XHRcdH0gY2F0Y2ggKGUpIHtcbiBcdFx0XHRcdFx0XHRyZWplY3QoZSk7XG4gXHRcdFx0XHRcdFx0cmV0dXJuO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdHJlc29sdmUodXBkYXRlKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9O1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0dmFyIGhvdEFwcGx5T25VcGRhdGUgPSB0cnVlO1xuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHR2YXIgaG90Q3VycmVudEhhc2ggPSBcImIwNTAyMmFlNDlkOGYzMzYwNTBhXCI7XG4gXHR2YXIgaG90UmVxdWVzdFRpbWVvdXQgPSAxMDAwMDtcbiBcdHZhciBob3RDdXJyZW50TW9kdWxlRGF0YSA9IHt9O1xuIFx0dmFyIGhvdEN1cnJlbnRDaGlsZE1vZHVsZTtcbiBcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuIFx0dmFyIGhvdEN1cnJlbnRQYXJlbnRzID0gW107XG4gXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiBcdHZhciBob3RDdXJyZW50UGFyZW50c1RlbXAgPSBbXTtcblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVSZXF1aXJlKG1vZHVsZUlkKSB7XG4gXHRcdHZhciBtZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRpZiAoIW1lKSByZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXztcbiBcdFx0dmFyIGZuID0gZnVuY3Rpb24ocmVxdWVzdCkge1xuIFx0XHRcdGlmIChtZS5ob3QuYWN0aXZlKSB7XG4gXHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XSkge1xuIFx0XHRcdFx0XHRpZiAoaW5zdGFsbGVkTW9kdWxlc1tyZXF1ZXN0XS5wYXJlbnRzLmluZGV4T2YobW9kdWxlSWQpID09PSAtMSkge1xuIFx0XHRcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbcmVxdWVzdF0ucGFyZW50cy5wdXNoKG1vZHVsZUlkKTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aG90Q3VycmVudFBhcmVudHMgPSBbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHRob3RDdXJyZW50Q2hpbGRNb2R1bGUgPSByZXF1ZXN0O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1lLmNoaWxkcmVuLmluZGV4T2YocmVxdWVzdCkgPT09IC0xKSB7XG4gXHRcdFx0XHRcdG1lLmNoaWxkcmVuLnB1c2gocmVxdWVzdCk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdGNvbnNvbGUud2FybihcbiBcdFx0XHRcdFx0XCJbSE1SXSB1bmV4cGVjdGVkIHJlcXVpcmUoXCIgK1xuIFx0XHRcdFx0XHRcdHJlcXVlc3QgK1xuIFx0XHRcdFx0XHRcdFwiKSBmcm9tIGRpc3Bvc2VkIG1vZHVsZSBcIiArXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdCk7XG4gXHRcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFtdO1xuIFx0XHRcdH1cbiBcdFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhyZXF1ZXN0KTtcbiBcdFx0fTtcbiBcdFx0dmFyIE9iamVjdEZhY3RvcnkgPSBmdW5jdGlvbiBPYmplY3RGYWN0b3J5KG5hbWUpIHtcbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG4gXHRcdFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fW25hbWVdO1xuIFx0XHRcdFx0fSxcbiBcdFx0XHRcdHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiBcdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfX1tuYW1lXSA9IHZhbHVlO1xuIFx0XHRcdFx0fVxuIFx0XHRcdH07XG4gXHRcdH07XG4gXHRcdGZvciAodmFyIG5hbWUgaW4gX193ZWJwYWNrX3JlcXVpcmVfXykge1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChfX3dlYnBhY2tfcmVxdWlyZV9fLCBuYW1lKSAmJlxuIFx0XHRcdFx0bmFtZSAhPT0gXCJlXCIgJiZcbiBcdFx0XHRcdG5hbWUgIT09IFwidFwiXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sIG5hbWUsIE9iamVjdEZhY3RvcnkobmFtZSkpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRmbi5lID0gZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicmVhZHlcIikgaG90U2V0U3RhdHVzKFwicHJlcGFyZVwiKTtcbiBcdFx0XHRob3RDaHVua3NMb2FkaW5nKys7XG4gXHRcdFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZShjaHVua0lkKS50aGVuKGZpbmlzaENodW5rTG9hZGluZywgZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRmaW5pc2hDaHVua0xvYWRpbmcoKTtcbiBcdFx0XHRcdHRocm93IGVycjtcbiBcdFx0XHR9KTtcblxuIFx0XHRcdGZ1bmN0aW9uIGZpbmlzaENodW5rTG9hZGluZygpIHtcbiBcdFx0XHRcdGhvdENodW5rc0xvYWRpbmctLTtcbiBcdFx0XHRcdGlmIChob3RTdGF0dXMgPT09IFwicHJlcGFyZVwiKSB7XG4gXHRcdFx0XHRcdGlmICghaG90V2FpdGluZ0ZpbGVzTWFwW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRcdFx0aG90RW5zdXJlVXBkYXRlQ2h1bmsoY2h1bmtJZCk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKGhvdENodW5rc0xvYWRpbmcgPT09IDAgJiYgaG90V2FpdGluZ0ZpbGVzID09PSAwKSB7XG4gXHRcdFx0XHRcdFx0aG90VXBkYXRlRG93bmxvYWRlZCgpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9O1xuIFx0XHRmbi50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0XHRpZiAobW9kZSAmIDEpIHZhbHVlID0gZm4odmFsdWUpO1xuIFx0XHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnQodmFsdWUsIG1vZGUgJiB+MSk7XG4gXHRcdH07XG4gXHRcdHJldHVybiBmbjtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpIHtcbiBcdFx0dmFyIGhvdCA9IHtcbiBcdFx0XHQvLyBwcml2YXRlIHN0dWZmXG4gXHRcdFx0X2FjY2VwdGVkRGVwZW5kZW5jaWVzOiB7fSxcbiBcdFx0XHRfZGVjbGluZWREZXBlbmRlbmNpZXM6IHt9LFxuIFx0XHRcdF9zZWxmQWNjZXB0ZWQ6IGZhbHNlLFxuIFx0XHRcdF9zZWxmRGVjbGluZWQ6IGZhbHNlLFxuIFx0XHRcdF9kaXNwb3NlSGFuZGxlcnM6IFtdLFxuIFx0XHRcdF9tYWluOiBob3RDdXJyZW50Q2hpbGRNb2R1bGUgIT09IG1vZHVsZUlkLFxuXG4gXHRcdFx0Ly8gTW9kdWxlIEFQSVxuIFx0XHRcdGFjdGl2ZTogdHJ1ZSxcbiBcdFx0XHRhY2NlcHQ6IGZ1bmN0aW9uKGRlcCwgY2FsbGJhY2spIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmQWNjZXB0ZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJmdW5jdGlvblwiKSBob3QuX3NlbGZBY2NlcHRlZCA9IGRlcDtcbiBcdFx0XHRcdGVsc2UgaWYgKHR5cGVvZiBkZXAgPT09IFwib2JqZWN0XCIpXG4gXHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZGVwLmxlbmd0aDsgaSsrKVxuIFx0XHRcdFx0XHRcdGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwW2ldXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0XHRlbHNlIGhvdC5fYWNjZXB0ZWREZXBlbmRlbmNpZXNbZGVwXSA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKCkge307XG4gXHRcdFx0fSxcbiBcdFx0XHRkZWNsaW5lOiBmdW5jdGlvbihkZXApIHtcbiBcdFx0XHRcdGlmIChkZXAgPT09IHVuZGVmaW5lZCkgaG90Ll9zZWxmRGVjbGluZWQgPSB0cnVlO1xuIFx0XHRcdFx0ZWxzZSBpZiAodHlwZW9mIGRlcCA9PT0gXCJvYmplY3RcIilcbiBcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZXAubGVuZ3RoOyBpKyspXG4gXHRcdFx0XHRcdFx0aG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBbaV1dID0gdHJ1ZTtcbiBcdFx0XHRcdGVsc2UgaG90Ll9kZWNsaW5lZERlcGVuZGVuY2llc1tkZXBdID0gdHJ1ZTtcbiBcdFx0XHR9LFxuIFx0XHRcdGRpc3Bvc2U6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gXHRcdFx0XHRob3QuX2Rpc3Bvc2VIYW5kbGVycy5wdXNoKGNhbGxiYWNrKTtcbiBcdFx0XHR9LFxuIFx0XHRcdGFkZERpc3Bvc2VIYW5kbGVyOiBmdW5jdGlvbihjYWxsYmFjaykge1xuIFx0XHRcdFx0aG90Ll9kaXNwb3NlSGFuZGxlcnMucHVzaChjYWxsYmFjayk7XG4gXHRcdFx0fSxcbiBcdFx0XHRyZW1vdmVEaXNwb3NlSGFuZGxlcjogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiBcdFx0XHRcdHZhciBpZHggPSBob3QuX2Rpc3Bvc2VIYW5kbGVycy5pbmRleE9mKGNhbGxiYWNrKTtcbiBcdFx0XHRcdGlmIChpZHggPj0gMCkgaG90Ll9kaXNwb3NlSGFuZGxlcnMuc3BsaWNlKGlkeCwgMSk7XG4gXHRcdFx0fSxcblxuIFx0XHRcdC8vIE1hbmFnZW1lbnQgQVBJXG4gXHRcdFx0Y2hlY2s6IGhvdENoZWNrLFxuIFx0XHRcdGFwcGx5OiBob3RBcHBseSxcbiBcdFx0XHRzdGF0dXM6IGZ1bmN0aW9uKGwpIHtcbiBcdFx0XHRcdGlmICghbCkgcmV0dXJuIGhvdFN0YXR1cztcbiBcdFx0XHRcdGhvdFN0YXR1c0hhbmRsZXJzLnB1c2gobCk7XG4gXHRcdFx0fSxcbiBcdFx0XHRhZGRTdGF0dXNIYW5kbGVyOiBmdW5jdGlvbihsKSB7XG4gXHRcdFx0XHRob3RTdGF0dXNIYW5kbGVycy5wdXNoKGwpO1xuIFx0XHRcdH0sXG4gXHRcdFx0cmVtb3ZlU3RhdHVzSGFuZGxlcjogZnVuY3Rpb24obCkge1xuIFx0XHRcdFx0dmFyIGlkeCA9IGhvdFN0YXR1c0hhbmRsZXJzLmluZGV4T2YobCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIGhvdFN0YXR1c0hhbmRsZXJzLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdH0sXG5cbiBcdFx0XHQvL2luaGVyaXQgZnJvbSBwcmV2aW91cyBkaXNwb3NlIGNhbGxcbiBcdFx0XHRkYXRhOiBob3RDdXJyZW50TW9kdWxlRGF0YVttb2R1bGVJZF1cbiBcdFx0fTtcbiBcdFx0aG90Q3VycmVudENoaWxkTW9kdWxlID0gdW5kZWZpbmVkO1xuIFx0XHRyZXR1cm4gaG90O1xuIFx0fVxuXG4gXHR2YXIgaG90U3RhdHVzSGFuZGxlcnMgPSBbXTtcbiBcdHZhciBob3RTdGF0dXMgPSBcImlkbGVcIjtcblxuIFx0ZnVuY3Rpb24gaG90U2V0U3RhdHVzKG5ld1N0YXR1cykge1xuIFx0XHRob3RTdGF0dXMgPSBuZXdTdGF0dXM7XG4gXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaG90U3RhdHVzSGFuZGxlcnMubGVuZ3RoOyBpKyspXG4gXHRcdFx0aG90U3RhdHVzSGFuZGxlcnNbaV0uY2FsbChudWxsLCBuZXdTdGF0dXMpO1xuIFx0fVxuXG4gXHQvLyB3aGlsZSBkb3dubG9hZGluZ1xuIFx0dmFyIGhvdFdhaXRpbmdGaWxlcyA9IDA7XG4gXHR2YXIgaG90Q2h1bmtzTG9hZGluZyA9IDA7XG4gXHR2YXIgaG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHR2YXIgaG90UmVxdWVzdGVkRmlsZXNNYXAgPSB7fTtcbiBcdHZhciBob3RBdmFpbGFibGVGaWxlc01hcCA9IHt9O1xuIFx0dmFyIGhvdERlZmVycmVkO1xuXG4gXHQvLyBUaGUgdXBkYXRlIGluZm9cbiBcdHZhciBob3RVcGRhdGUsIGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdGZ1bmN0aW9uIHRvTW9kdWxlSWQoaWQpIHtcbiBcdFx0dmFyIGlzTnVtYmVyID0gK2lkICsgXCJcIiA9PT0gaWQ7XG4gXHRcdHJldHVybiBpc051bWJlciA/ICtpZCA6IGlkO1xuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RDaGVjayhhcHBseSkge1xuIFx0XHRpZiAoaG90U3RhdHVzICE9PSBcImlkbGVcIikge1xuIFx0XHRcdHRocm93IG5ldyBFcnJvcihcImNoZWNrKCkgaXMgb25seSBhbGxvd2VkIGluIGlkbGUgc3RhdHVzXCIpO1xuIFx0XHR9XG4gXHRcdGhvdEFwcGx5T25VcGRhdGUgPSBhcHBseTtcbiBcdFx0aG90U2V0U3RhdHVzKFwiY2hlY2tcIik7XG4gXHRcdHJldHVybiBob3REb3dubG9hZE1hbmlmZXN0KGhvdFJlcXVlc3RUaW1lb3V0KS50aGVuKGZ1bmN0aW9uKHVwZGF0ZSkge1xuIFx0XHRcdGlmICghdXBkYXRlKSB7XG4gXHRcdFx0XHRob3RTZXRTdGF0dXMoXCJpZGxlXCIpO1xuIFx0XHRcdFx0cmV0dXJuIG51bGw7XG4gXHRcdFx0fVxuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90V2FpdGluZ0ZpbGVzTWFwID0ge307XG4gXHRcdFx0aG90QXZhaWxhYmxlRmlsZXNNYXAgPSB1cGRhdGUuYztcbiBcdFx0XHRob3RVcGRhdGVOZXdIYXNoID0gdXBkYXRlLmg7XG5cbiBcdFx0XHRob3RTZXRTdGF0dXMoXCJwcmVwYXJlXCIpO1xuIFx0XHRcdHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gXHRcdFx0XHRob3REZWZlcnJlZCA9IHtcbiBcdFx0XHRcdFx0cmVzb2x2ZTogcmVzb2x2ZSxcbiBcdFx0XHRcdFx0cmVqZWN0OiByZWplY3RcbiBcdFx0XHRcdH07XG4gXHRcdFx0fSk7XG4gXHRcdFx0aG90VXBkYXRlID0ge307XG4gXHRcdFx0dmFyIGNodW5rSWQgPSAwO1xuIFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1sb25lLWJsb2Nrc1xuIFx0XHRcdHtcbiBcdFx0XHRcdC8qZ2xvYmFscyBjaHVua0lkICovXG4gXHRcdFx0XHRob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0aG90U3RhdHVzID09PSBcInByZXBhcmVcIiAmJlxuIFx0XHRcdFx0aG90Q2h1bmtzTG9hZGluZyA9PT0gMCAmJlxuIFx0XHRcdFx0aG90V2FpdGluZ0ZpbGVzID09PSAwXG4gXHRcdFx0KSB7XG4gXHRcdFx0XHRob3RVcGRhdGVEb3dubG9hZGVkKCk7XG4gXHRcdFx0fVxuIFx0XHRcdHJldHVybiBwcm9taXNlO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG4gXHRmdW5jdGlvbiBob3RBZGRVcGRhdGVDaHVuayhjaHVua0lkLCBtb3JlTW9kdWxlcykge1xuIFx0XHRpZiAoIWhvdEF2YWlsYWJsZUZpbGVzTWFwW2NodW5rSWRdIHx8ICFob3RSZXF1ZXN0ZWRGaWxlc01hcFtjaHVua0lkXSlcbiBcdFx0XHRyZXR1cm47XG4gXHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gZmFsc2U7XG4gXHRcdGZvciAodmFyIG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRob3RVcGRhdGVbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZiAoLS1ob3RXYWl0aW5nRmlsZXMgPT09IDAgJiYgaG90Q2h1bmtzTG9hZGluZyA9PT0gMCkge1xuIFx0XHRcdGhvdFVwZGF0ZURvd25sb2FkZWQoKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RFbnN1cmVVcGRhdGVDaHVuayhjaHVua0lkKSB7XG4gXHRcdGlmICghaG90QXZhaWxhYmxlRmlsZXNNYXBbY2h1bmtJZF0pIHtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXNNYXBbY2h1bmtJZF0gPSB0cnVlO1xuIFx0XHR9IGVsc2Uge1xuIFx0XHRcdGhvdFJlcXVlc3RlZEZpbGVzTWFwW2NodW5rSWRdID0gdHJ1ZTtcbiBcdFx0XHRob3RXYWl0aW5nRmlsZXMrKztcbiBcdFx0XHRob3REb3dubG9hZFVwZGF0ZUNodW5rKGNodW5rSWQpO1xuIFx0XHR9XG4gXHR9XG5cbiBcdGZ1bmN0aW9uIGhvdFVwZGF0ZURvd25sb2FkZWQoKSB7XG4gXHRcdGhvdFNldFN0YXR1cyhcInJlYWR5XCIpO1xuIFx0XHR2YXIgZGVmZXJyZWQgPSBob3REZWZlcnJlZDtcbiBcdFx0aG90RGVmZXJyZWQgPSBudWxsO1xuIFx0XHRpZiAoIWRlZmVycmVkKSByZXR1cm47XG4gXHRcdGlmIChob3RBcHBseU9uVXBkYXRlKSB7XG4gXHRcdFx0Ly8gV3JhcCBkZWZlcnJlZCBvYmplY3QgaW4gUHJvbWlzZSB0byBtYXJrIGl0IGFzIGEgd2VsbC1oYW5kbGVkIFByb21pc2UgdG9cbiBcdFx0XHQvLyBhdm9pZCB0cmlnZ2VyaW5nIHVuY2F1Z2h0IGV4Y2VwdGlvbiB3YXJuaW5nIGluIENocm9tZS5cbiBcdFx0XHQvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDY1NjY2XG4gXHRcdFx0UHJvbWlzZS5yZXNvbHZlKClcbiBcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuIFx0XHRcdFx0XHRyZXR1cm4gaG90QXBwbHkoaG90QXBwbHlPblVwZGF0ZSk7XG4gXHRcdFx0XHR9KVxuIFx0XHRcdFx0LnRoZW4oXG4gXHRcdFx0XHRcdGZ1bmN0aW9uKHJlc3VsdCkge1xuIFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocmVzdWx0KTtcbiBcdFx0XHRcdFx0fSxcbiBcdFx0XHRcdFx0ZnVuY3Rpb24oZXJyKSB7XG4gXHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGVycik7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdCk7XG4gXHRcdH0gZWxzZSB7XG4gXHRcdFx0dmFyIG91dGRhdGVkTW9kdWxlcyA9IFtdO1xuIFx0XHRcdGZvciAodmFyIGlkIGluIGhvdFVwZGF0ZSkge1xuIFx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0XHRvdXRkYXRlZE1vZHVsZXMucHVzaCh0b01vZHVsZUlkKGlkKSk7XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHRcdGRlZmVycmVkLnJlc29sdmUob3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0fVxuIFx0fVxuXG4gXHRmdW5jdGlvbiBob3RBcHBseShvcHRpb25zKSB7XG4gXHRcdGlmIChob3RTdGF0dXMgIT09IFwicmVhZHlcIilcbiBcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJhcHBseSgpIGlzIG9ubHkgYWxsb3dlZCBpbiByZWFkeSBzdGF0dXNcIik7XG4gXHRcdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gXHRcdHZhciBjYjtcbiBcdFx0dmFyIGk7XG4gXHRcdHZhciBqO1xuIFx0XHR2YXIgbW9kdWxlO1xuIFx0XHR2YXIgbW9kdWxlSWQ7XG5cbiBcdFx0ZnVuY3Rpb24gZ2V0QWZmZWN0ZWRTdHVmZih1cGRhdGVNb2R1bGVJZCkge1xuIFx0XHRcdHZhciBvdXRkYXRlZE1vZHVsZXMgPSBbdXBkYXRlTW9kdWxlSWRdO1xuIFx0XHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuXG4gXHRcdFx0dmFyIHF1ZXVlID0gb3V0ZGF0ZWRNb2R1bGVzLnNsaWNlKCkubWFwKGZ1bmN0aW9uKGlkKSB7XG4gXHRcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0XHRjaGFpbjogW2lkXSxcbiBcdFx0XHRcdFx0aWQ6IGlkXG4gXHRcdFx0XHR9O1xuIFx0XHRcdH0pO1xuIFx0XHRcdHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gXHRcdFx0XHR2YXIgcXVldWVJdGVtID0gcXVldWUucG9wKCk7XG4gXHRcdFx0XHR2YXIgbW9kdWxlSWQgPSBxdWV1ZUl0ZW0uaWQ7XG4gXHRcdFx0XHR2YXIgY2hhaW4gPSBxdWV1ZUl0ZW0uY2hhaW47XG4gXHRcdFx0XHRtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdGlmICghbW9kdWxlIHx8IG1vZHVsZS5ob3QuX3NlbGZBY2NlcHRlZCkgY29udGludWU7XG4gXHRcdFx0XHRpZiAobW9kdWxlLmhvdC5fc2VsZkRlY2xpbmVkKSB7XG4gXHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0Y2hhaW46IGNoYWluLFxuIFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZFxuIFx0XHRcdFx0XHR9O1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKG1vZHVsZS5ob3QuX21haW4pIHtcbiBcdFx0XHRcdFx0cmV0dXJuIHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcInVuYWNjZXB0ZWRcIixcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4sXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1vZHVsZS5wYXJlbnRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdHZhciBwYXJlbnRJZCA9IG1vZHVsZS5wYXJlbnRzW2ldO1xuIFx0XHRcdFx0XHR2YXIgcGFyZW50ID0gaW5zdGFsbGVkTW9kdWxlc1twYXJlbnRJZF07XG4gXHRcdFx0XHRcdGlmICghcGFyZW50KSBjb250aW51ZTtcbiBcdFx0XHRcdFx0aWYgKHBhcmVudC5ob3QuX2RlY2xpbmVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXSkge1xuIFx0XHRcdFx0XHRcdHJldHVybiB7XG4gXHRcdFx0XHRcdFx0XHR0eXBlOiBcImRlY2xpbmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdFx0bW9kdWxlSWQ6IG1vZHVsZUlkLFxuIFx0XHRcdFx0XHRcdFx0cGFyZW50SWQ6IHBhcmVudElkXG4gXHRcdFx0XHRcdFx0fTtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRpZiAob3V0ZGF0ZWRNb2R1bGVzLmluZGV4T2YocGFyZW50SWQpICE9PSAtMSkgY29udGludWU7XG4gXHRcdFx0XHRcdGlmIChwYXJlbnQuaG90Ll9hY2NlcHRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRcdFx0XHRpZiAoIW91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSlcbiBcdFx0XHRcdFx0XHRcdG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSA9IFtdO1xuIFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXSwgW21vZHVsZUlkXSk7XG4gXHRcdFx0XHRcdFx0Y29udGludWU7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0ZGVsZXRlIG91dGRhdGVkRGVwZW5kZW5jaWVzW3BhcmVudElkXTtcbiBcdFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzLnB1c2gocGFyZW50SWQpO1xuIFx0XHRcdFx0XHRxdWV1ZS5wdXNoKHtcbiBcdFx0XHRcdFx0XHRjaGFpbjogY2hhaW4uY29uY2F0KFtwYXJlbnRJZF0pLFxuIFx0XHRcdFx0XHRcdGlkOiBwYXJlbnRJZFxuIFx0XHRcdFx0XHR9KTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG5cbiBcdFx0XHRyZXR1cm4ge1xuIFx0XHRcdFx0dHlwZTogXCJhY2NlcHRlZFwiLFxuIFx0XHRcdFx0bW9kdWxlSWQ6IHVwZGF0ZU1vZHVsZUlkLFxuIFx0XHRcdFx0b3V0ZGF0ZWRNb2R1bGVzOiBvdXRkYXRlZE1vZHVsZXMsXG4gXHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llczogb3V0ZGF0ZWREZXBlbmRlbmNpZXNcbiBcdFx0XHR9O1xuIFx0XHR9XG5cbiBcdFx0ZnVuY3Rpb24gYWRkQWxsVG9TZXQoYSwgYikge1xuIFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0dmFyIGl0ZW0gPSBiW2ldO1xuIFx0XHRcdFx0aWYgKGEuaW5kZXhPZihpdGVtKSA9PT0gLTEpIGEucHVzaChpdGVtKTtcbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBhdCBiZWdpbiBhbGwgdXBkYXRlcyBtb2R1bGVzIGFyZSBvdXRkYXRlZFxuIFx0XHQvLyB0aGUgXCJvdXRkYXRlZFwiIHN0YXR1cyBjYW4gcHJvcGFnYXRlIHRvIHBhcmVudHMgaWYgdGhleSBkb24ndCBhY2NlcHQgdGhlIGNoaWxkcmVuXG4gXHRcdHZhciBvdXRkYXRlZERlcGVuZGVuY2llcyA9IHt9O1xuIFx0XHR2YXIgb3V0ZGF0ZWRNb2R1bGVzID0gW107XG4gXHRcdHZhciBhcHBsaWVkVXBkYXRlID0ge307XG5cbiBcdFx0dmFyIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSA9IGZ1bmN0aW9uIHdhcm5VbmV4cGVjdGVkUmVxdWlyZSgpIHtcbiBcdFx0XHRjb25zb2xlLndhcm4oXG4gXHRcdFx0XHRcIltITVJdIHVuZXhwZWN0ZWQgcmVxdWlyZShcIiArIHJlc3VsdC5tb2R1bGVJZCArIFwiKSB0byBkaXNwb3NlZCBtb2R1bGVcIlxuIFx0XHRcdCk7XG4gXHRcdH07XG5cbiBcdFx0Zm9yICh2YXIgaWQgaW4gaG90VXBkYXRlKSB7XG4gXHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChob3RVcGRhdGUsIGlkKSkge1xuIFx0XHRcdFx0bW9kdWxlSWQgPSB0b01vZHVsZUlkKGlkKTtcbiBcdFx0XHRcdC8qKiBAdHlwZSB7VE9ET30gKi9cbiBcdFx0XHRcdHZhciByZXN1bHQ7XG4gXHRcdFx0XHRpZiAoaG90VXBkYXRlW2lkXSkge1xuIFx0XHRcdFx0XHRyZXN1bHQgPSBnZXRBZmZlY3RlZFN0dWZmKG1vZHVsZUlkKTtcbiBcdFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHRcdHJlc3VsdCA9IHtcbiBcdFx0XHRcdFx0XHR0eXBlOiBcImRpc3Bvc2VkXCIsXG4gXHRcdFx0XHRcdFx0bW9kdWxlSWQ6IGlkXG4gXHRcdFx0XHRcdH07XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHQvKiogQHR5cGUge0Vycm9yfGZhbHNlfSAqL1xuIFx0XHRcdFx0dmFyIGFib3J0RXJyb3IgPSBmYWxzZTtcbiBcdFx0XHRcdHZhciBkb0FwcGx5ID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgZG9EaXNwb3NlID0gZmFsc2U7XG4gXHRcdFx0XHR2YXIgY2hhaW5JbmZvID0gXCJcIjtcbiBcdFx0XHRcdGlmIChyZXN1bHQuY2hhaW4pIHtcbiBcdFx0XHRcdFx0Y2hhaW5JbmZvID0gXCJcXG5VcGRhdGUgcHJvcGFnYXRpb246IFwiICsgcmVzdWx0LmNoYWluLmpvaW4oXCIgLT4gXCIpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c3dpdGNoIChyZXN1bHQudHlwZSkge1xuIFx0XHRcdFx0XHRjYXNlIFwic2VsZi1kZWNsaW5lZFwiOlxuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRGVjbGluZWQpIG9wdGlvbnMub25EZWNsaW5lZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVEZWNsaW5lZClcbiBcdFx0XHRcdFx0XHRcdGFib3J0RXJyb3IgPSBuZXcgRXJyb3IoXG4gXHRcdFx0XHRcdFx0XHRcdFwiQWJvcnRlZCBiZWNhdXNlIG9mIHNlbGYgZGVjbGluZTogXCIgK1xuIFx0XHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5tb2R1bGVJZCArXG4gXHRcdFx0XHRcdFx0XHRcdFx0Y2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiZGVjbGluZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkRlY2xpbmVkKSBvcHRpb25zLm9uRGVjbGluZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRGVjbGluZWQpXG4gXHRcdFx0XHRcdFx0XHRhYm9ydEVycm9yID0gbmV3IEVycm9yKFxuIFx0XHRcdFx0XHRcdFx0XHRcIkFib3J0ZWQgYmVjYXVzZSBvZiBkZWNsaW5lZCBkZXBlbmRlbmN5OiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0Lm1vZHVsZUlkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRcIiBpbiBcIiArXG4gXHRcdFx0XHRcdFx0XHRcdFx0cmVzdWx0LnBhcmVudElkICtcbiBcdFx0XHRcdFx0XHRcdFx0XHRjaGFpbkluZm9cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0YnJlYWs7XG4gXHRcdFx0XHRcdGNhc2UgXCJ1bmFjY2VwdGVkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25VbmFjY2VwdGVkKSBvcHRpb25zLm9uVW5hY2NlcHRlZChyZXN1bHQpO1xuIFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pZ25vcmVVbmFjY2VwdGVkKVxuIFx0XHRcdFx0XHRcdFx0YWJvcnRFcnJvciA9IG5ldyBFcnJvcihcbiBcdFx0XHRcdFx0XHRcdFx0XCJBYm9ydGVkIGJlY2F1c2UgXCIgKyBtb2R1bGVJZCArIFwiIGlzIG5vdCBhY2NlcHRlZFwiICsgY2hhaW5JbmZvXG4gXHRcdFx0XHRcdFx0XHQpO1xuIFx0XHRcdFx0XHRcdGJyZWFrO1xuIFx0XHRcdFx0XHRjYXNlIFwiYWNjZXB0ZWRcIjpcbiBcdFx0XHRcdFx0XHRpZiAob3B0aW9ucy5vbkFjY2VwdGVkKSBvcHRpb25zLm9uQWNjZXB0ZWQocmVzdWx0KTtcbiBcdFx0XHRcdFx0XHRkb0FwcGx5ID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0Y2FzZSBcImRpc3Bvc2VkXCI6XG4gXHRcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25EaXNwb3NlZCkgb3B0aW9ucy5vbkRpc3Bvc2VkKHJlc3VsdCk7XG4gXHRcdFx0XHRcdFx0ZG9EaXNwb3NlID0gdHJ1ZTtcbiBcdFx0XHRcdFx0XHRicmVhaztcbiBcdFx0XHRcdFx0ZGVmYXVsdDpcbiBcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmV4Y2VwdGlvbiB0eXBlIFwiICsgcmVzdWx0LnR5cGUpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0aWYgKGFib3J0RXJyb3IpIHtcbiBcdFx0XHRcdFx0aG90U2V0U3RhdHVzKFwiYWJvcnRcIik7XG4gXHRcdFx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdChhYm9ydEVycm9yKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdGlmIChkb0FwcGx5KSB7XG4gXHRcdFx0XHRcdGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdID0gaG90VXBkYXRlW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0YWRkQWxsVG9TZXQob3V0ZGF0ZWRNb2R1bGVzLCByZXN1bHQub3V0ZGF0ZWRNb2R1bGVzKTtcbiBcdFx0XHRcdFx0Zm9yIChtb2R1bGVJZCBpbiByZXN1bHQub3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRcdFx0XHRpZiAoXG4gXHRcdFx0XHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llcyxcbiBcdFx0XHRcdFx0XHRcdFx0bW9kdWxlSWRcbiBcdFx0XHRcdFx0XHRcdClcbiBcdFx0XHRcdFx0XHQpIHtcbiBcdFx0XHRcdFx0XHRcdGlmICghb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdKVxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0gPSBbXTtcbiBcdFx0XHRcdFx0XHRcdGFkZEFsbFRvU2V0KFxuIFx0XHRcdFx0XHRcdFx0XHRvdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF0sXG4gXHRcdFx0XHRcdFx0XHRcdHJlc3VsdC5vdXRkYXRlZERlcGVuZGVuY2llc1ttb2R1bGVJZF1cbiBcdFx0XHRcdFx0XHRcdCk7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0XHRpZiAoZG9EaXNwb3NlKSB7XG4gXHRcdFx0XHRcdGFkZEFsbFRvU2V0KG91dGRhdGVkTW9kdWxlcywgW3Jlc3VsdC5tb2R1bGVJZF0pO1xuIFx0XHRcdFx0XHRhcHBsaWVkVXBkYXRlW21vZHVsZUlkXSA9IHdhcm5VbmV4cGVjdGVkUmVxdWlyZTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBTdG9yZSBzZWxmIGFjY2VwdGVkIG91dGRhdGVkIG1vZHVsZXMgdG8gcmVxdWlyZSB0aGVtIGxhdGVyIGJ5IHRoZSBtb2R1bGUgc3lzdGVtXG4gXHRcdHZhciBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXMgPSBbXTtcbiBcdFx0Zm9yIChpID0gMDsgaSA8IG91dGRhdGVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdG1vZHVsZUlkID0gb3V0ZGF0ZWRNb2R1bGVzW2ldO1xuIFx0XHRcdGlmIChcbiBcdFx0XHRcdGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdICYmXG4gXHRcdFx0XHRpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdClcbiBcdFx0XHRcdG91dGRhdGVkU2VsZkFjY2VwdGVkTW9kdWxlcy5wdXNoKHtcbiBcdFx0XHRcdFx0bW9kdWxlOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0ZXJyb3JIYW5kbGVyOiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5ob3QuX3NlbGZBY2NlcHRlZFxuIFx0XHRcdFx0fSk7XG4gXHRcdH1cblxuIFx0XHQvLyBOb3cgaW4gXCJkaXNwb3NlXCIgcGhhc2VcbiBcdFx0aG90U2V0U3RhdHVzKFwiZGlzcG9zZVwiKTtcbiBcdFx0T2JqZWN0LmtleXMoaG90QXZhaWxhYmxlRmlsZXNNYXApLmZvckVhY2goZnVuY3Rpb24oY2h1bmtJZCkge1xuIFx0XHRcdGlmIChob3RBdmFpbGFibGVGaWxlc01hcFtjaHVua0lkXSA9PT0gZmFsc2UpIHtcbiBcdFx0XHRcdGhvdERpc3Bvc2VDaHVuayhjaHVua0lkKTtcbiBcdFx0XHR9XG4gXHRcdH0pO1xuXG4gXHRcdHZhciBpZHg7XG4gXHRcdHZhciBxdWV1ZSA9IG91dGRhdGVkTW9kdWxlcy5zbGljZSgpO1xuIFx0XHR3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuIFx0XHRcdG1vZHVsZUlkID0gcXVldWUucG9wKCk7XG4gXHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0aWYgKCFtb2R1bGUpIGNvbnRpbnVlO1xuXG4gXHRcdFx0dmFyIGRhdGEgPSB7fTtcblxuIFx0XHRcdC8vIENhbGwgZGlzcG9zZSBoYW5kbGVyc1xuIFx0XHRcdHZhciBkaXNwb3NlSGFuZGxlcnMgPSBtb2R1bGUuaG90Ll9kaXNwb3NlSGFuZGxlcnM7XG4gXHRcdFx0Zm9yIChqID0gMDsgaiA8IGRpc3Bvc2VIYW5kbGVycy5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0Y2IgPSBkaXNwb3NlSGFuZGxlcnNbal07XG4gXHRcdFx0XHRjYihkYXRhKTtcbiBcdFx0XHR9XG4gXHRcdFx0aG90Q3VycmVudE1vZHVsZURhdGFbbW9kdWxlSWRdID0gZGF0YTtcblxuIFx0XHRcdC8vIGRpc2FibGUgbW9kdWxlICh0aGlzIGRpc2FibGVzIHJlcXVpcmVzIGZyb20gdGhpcyBtb2R1bGUpXG4gXHRcdFx0bW9kdWxlLmhvdC5hY3RpdmUgPSBmYWxzZTtcblxuIFx0XHRcdC8vIHJlbW92ZSBtb2R1bGUgZnJvbSBjYWNoZVxuIFx0XHRcdGRlbGV0ZSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXTtcblxuIFx0XHRcdC8vIHdoZW4gZGlzcG9zaW5nIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2FsbCBkaXNwb3NlIGhhbmRsZXJcbiBcdFx0XHRkZWxldGUgb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuXG4gXHRcdFx0Ly8gcmVtb3ZlIFwicGFyZW50c1wiIHJlZmVyZW5jZXMgZnJvbSBhbGwgY2hpbGRyZW5cbiBcdFx0XHRmb3IgKGogPSAwOyBqIDwgbW9kdWxlLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgY2hpbGQgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZS5jaGlsZHJlbltqXV07XG4gXHRcdFx0XHRpZiAoIWNoaWxkKSBjb250aW51ZTtcbiBcdFx0XHRcdGlkeCA9IGNoaWxkLnBhcmVudHMuaW5kZXhPZihtb2R1bGVJZCk7XG4gXHRcdFx0XHRpZiAoaWR4ID49IDApIHtcbiBcdFx0XHRcdFx0Y2hpbGQucGFyZW50cy5zcGxpY2UoaWR4LCAxKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyByZW1vdmUgb3V0ZGF0ZWQgZGVwZW5kZW5jeSBmcm9tIG1vZHVsZSBjaGlsZHJlblxuIFx0XHR2YXIgZGVwZW5kZW5jeTtcbiBcdFx0dmFyIG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzO1xuIFx0XHRmb3IgKG1vZHVsZUlkIGluIG91dGRhdGVkRGVwZW5kZW5jaWVzKSB7XG4gXHRcdFx0aWYgKFxuIFx0XHRcdFx0T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG91dGRhdGVkRGVwZW5kZW5jaWVzLCBtb2R1bGVJZClcbiBcdFx0XHQpIHtcbiBcdFx0XHRcdG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0aWYgKG1vZHVsZSkge1xuIFx0XHRcdFx0XHRtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcyA9IG91dGRhdGVkRGVwZW5kZW5jaWVzW21vZHVsZUlkXTtcbiBcdFx0XHRcdFx0Zm9yIChqID0gMDsgaiA8IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHRcdFx0ZGVwZW5kZW5jeSA9IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2pdO1xuIFx0XHRcdFx0XHRcdGlkeCA9IG1vZHVsZS5jaGlsZHJlbi5pbmRleE9mKGRlcGVuZGVuY3kpO1xuIFx0XHRcdFx0XHRcdGlmIChpZHggPj0gMCkgbW9kdWxlLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuIFx0XHRcdFx0XHR9XG4gXHRcdFx0XHR9XG4gXHRcdFx0fVxuIFx0XHR9XG5cbiBcdFx0Ly8gTm90IGluIFwiYXBwbHlcIiBwaGFzZVxuIFx0XHRob3RTZXRTdGF0dXMoXCJhcHBseVwiKTtcblxuIFx0XHRob3RDdXJyZW50SGFzaCA9IGhvdFVwZGF0ZU5ld0hhc2g7XG5cbiBcdFx0Ly8gaW5zZXJ0IG5ldyBjb2RlXG4gXHRcdGZvciAobW9kdWxlSWQgaW4gYXBwbGllZFVwZGF0ZSkge1xuIFx0XHRcdGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYXBwbGllZFVwZGF0ZSwgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IGFwcGxpZWRVcGRhdGVbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGNhbGwgYWNjZXB0IGhhbmRsZXJzXG4gXHRcdHZhciBlcnJvciA9IG51bGw7XG4gXHRcdGZvciAobW9kdWxlSWQgaW4gb3V0ZGF0ZWREZXBlbmRlbmNpZXMpIHtcbiBcdFx0XHRpZiAoXG4gXHRcdFx0XHRPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3V0ZGF0ZWREZXBlbmRlbmNpZXMsIG1vZHVsZUlkKVxuIFx0XHRcdCkge1xuIFx0XHRcdFx0bW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0XHRpZiAobW9kdWxlKSB7XG4gXHRcdFx0XHRcdG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzID0gb3V0ZGF0ZWREZXBlbmRlbmNpZXNbbW9kdWxlSWRdO1xuIFx0XHRcdFx0XHR2YXIgY2FsbGJhY2tzID0gW107XG4gXHRcdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdFx0XHRcdGRlcGVuZGVuY3kgPSBtb2R1bGVPdXRkYXRlZERlcGVuZGVuY2llc1tpXTtcbiBcdFx0XHRcdFx0XHRjYiA9IG1vZHVsZS5ob3QuX2FjY2VwdGVkRGVwZW5kZW5jaWVzW2RlcGVuZGVuY3ldO1xuIFx0XHRcdFx0XHRcdGlmIChjYikge1xuIFx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrcy5pbmRleE9mKGNiKSAhPT0gLTEpIGNvbnRpbnVlO1xuIFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2tzLnB1c2goY2IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0XHRcdFx0Y2IgPSBjYWxsYmFja3NbaV07XG4gXHRcdFx0XHRcdFx0dHJ5IHtcbiBcdFx0XHRcdFx0XHRcdGNiKG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzKTtcbiBcdFx0XHRcdFx0XHR9IGNhdGNoIChlcnIpIHtcbiBcdFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRvcHRpb25zLm9uRXJyb3JlZCh7XG4gXHRcdFx0XHRcdFx0XHRcdFx0dHlwZTogXCJhY2NlcHQtZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRcdG1vZHVsZUlkOiBtb2R1bGVJZCxcbiBcdFx0XHRcdFx0XHRcdFx0XHRkZXBlbmRlbmN5SWQ6IG1vZHVsZU91dGRhdGVkRGVwZW5kZW5jaWVzW2ldLFxuIFx0XHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHR9XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH1cbiBcdFx0XHR9XG4gXHRcdH1cblxuIFx0XHQvLyBMb2FkIHNlbGYgYWNjZXB0ZWQgbW9kdWxlc1xuIFx0XHRmb3IgKGkgPSAwOyBpIDwgb3V0ZGF0ZWRTZWxmQWNjZXB0ZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGl0ZW0gPSBvdXRkYXRlZFNlbGZBY2NlcHRlZE1vZHVsZXNbaV07XG4gXHRcdFx0bW9kdWxlSWQgPSBpdGVtLm1vZHVsZTtcbiBcdFx0XHRob3RDdXJyZW50UGFyZW50cyA9IFttb2R1bGVJZF07XG4gXHRcdFx0dHJ5IHtcbiBcdFx0XHRcdF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpO1xuIFx0XHRcdH0gY2F0Y2ggKGVycikge1xuIFx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtLmVycm9ySGFuZGxlciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gXHRcdFx0XHRcdHRyeSB7XG4gXHRcdFx0XHRcdFx0aXRlbS5lcnJvckhhbmRsZXIoZXJyKTtcbiBcdFx0XHRcdFx0fSBjYXRjaCAoZXJyMikge1xuIFx0XHRcdFx0XHRcdGlmIChvcHRpb25zLm9uRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBcInNlbGYtYWNjZXB0LWVycm9yLWhhbmRsZXItZXJyb3JlZFwiLFxuIFx0XHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRcdGVycm9yOiBlcnIyLFxuIFx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbEVycm9yOiBlcnJcbiBcdFx0XHRcdFx0XHRcdH0pO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaWdub3JlRXJyb3JlZCkge1xuIFx0XHRcdFx0XHRcdFx0aWYgKCFlcnJvcikgZXJyb3IgPSBlcnIyO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fSBlbHNlIHtcbiBcdFx0XHRcdFx0aWYgKG9wdGlvbnMub25FcnJvcmVkKSB7XG4gXHRcdFx0XHRcdFx0b3B0aW9ucy5vbkVycm9yZWQoe1xuIFx0XHRcdFx0XHRcdFx0dHlwZTogXCJzZWxmLWFjY2VwdC1lcnJvcmVkXCIsXG4gXHRcdFx0XHRcdFx0XHRtb2R1bGVJZDogbW9kdWxlSWQsXG4gXHRcdFx0XHRcdFx0XHRlcnJvcjogZXJyXG4gXHRcdFx0XHRcdFx0fSk7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmlnbm9yZUVycm9yZWQpIHtcbiBcdFx0XHRcdFx0XHRpZiAoIWVycm9yKSBlcnJvciA9IGVycjtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fVxuIFx0XHRcdH1cbiBcdFx0fVxuXG4gXHRcdC8vIGhhbmRsZSBlcnJvcnMgaW4gYWNjZXB0IGhhbmRsZXJzIGFuZCBzZWxmIGFjY2VwdGVkIG1vZHVsZSBsb2FkXG4gXHRcdGlmIChlcnJvcikge1xuIFx0XHRcdGhvdFNldFN0YXR1cyhcImZhaWxcIik7XG4gXHRcdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiBcdFx0fVxuXG4gXHRcdGhvdFNldFN0YXR1cyhcImlkbGVcIik7XG4gXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gXHRcdFx0cmVzb2x2ZShvdXRkYXRlZE1vZHVsZXMpO1xuIFx0XHR9KTtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aG90OiBob3RDcmVhdGVNb2R1bGUobW9kdWxlSWQpLFxuIFx0XHRcdHBhcmVudHM6IChob3RDdXJyZW50UGFyZW50c1RlbXAgPSBob3RDdXJyZW50UGFyZW50cywgaG90Q3VycmVudFBhcmVudHMgPSBbXSwgaG90Q3VycmVudFBhcmVudHNUZW1wKSxcbiBcdFx0XHRjaGlsZHJlbjogW11cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgaG90Q3JlYXRlUmVxdWlyZShtb2R1bGVJZCkpO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIF9fd2VicGFja19oYXNoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18uaCA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gaG90Q3VycmVudEhhc2g7IH07XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gaG90Q3JlYXRlUmVxdWlyZSgyMSkoX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjEpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eVxuICAsIHByZWZpeCA9ICd+JztcblxuLyoqXG4gKiBDb25zdHJ1Y3RvciB0byBjcmVhdGUgYSBzdG9yYWdlIGZvciBvdXIgYEVFYCBvYmplY3RzLlxuICogQW4gYEV2ZW50c2AgaW5zdGFuY2UgaXMgYSBwbGFpbiBvYmplY3Qgd2hvc2UgcHJvcGVydGllcyBhcmUgZXZlbnQgbmFtZXMuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRXZlbnRzKCkge31cblxuLy9cbi8vIFdlIHRyeSB0byBub3QgaW5oZXJpdCBmcm9tIGBPYmplY3QucHJvdG90eXBlYC4gSW4gc29tZSBlbmdpbmVzIGNyZWF0aW5nIGFuXG4vLyBpbnN0YW5jZSBpbiB0aGlzIHdheSBpcyBmYXN0ZXIgdGhhbiBjYWxsaW5nIGBPYmplY3QuY3JlYXRlKG51bGwpYCBkaXJlY3RseS5cbi8vIElmIGBPYmplY3QuY3JlYXRlKG51bGwpYCBpcyBub3Qgc3VwcG9ydGVkIHdlIHByZWZpeCB0aGUgZXZlbnQgbmFtZXMgd2l0aCBhXG4vLyBjaGFyYWN0ZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIGJ1aWx0LWluIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBub3Rcbi8vIG92ZXJyaWRkZW4gb3IgdXNlZCBhcyBhbiBhdHRhY2sgdmVjdG9yLlxuLy9cbmlmIChPYmplY3QuY3JlYXRlKSB7XG4gIEV2ZW50cy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gIC8vXG4gIC8vIFRoaXMgaGFjayBpcyBuZWVkZWQgYmVjYXVzZSB0aGUgYF9fcHJvdG9fX2AgcHJvcGVydHkgaXMgc3RpbGwgaW5oZXJpdGVkIGluXG4gIC8vIHNvbWUgb2xkIGJyb3dzZXJzIGxpa2UgQW5kcm9pZCA0LCBpUGhvbmUgNS4xLCBPcGVyYSAxMSBhbmQgU2FmYXJpIDUuXG4gIC8vXG4gIGlmICghbmV3IEV2ZW50cygpLl9fcHJvdG9fXykgcHJlZml4ID0gZmFsc2U7XG59XG5cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYSBzaW5nbGUgZXZlbnQgbGlzdGVuZXIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gRUUoZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdGhpcy5mbiA9IGZuO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICB0aGlzLm9uY2UgPSBvbmNlIHx8IGZhbHNlO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBhcGkgcHVibGljXG4gKi9cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG59XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IGxpc3RpbmcgdGhlIGV2ZW50cyBmb3Igd2hpY2ggdGhlIGVtaXR0ZXIgaGFzIHJlZ2lzdGVyZWRcbiAqIGxpc3RlbmVycy5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICB2YXIgbmFtZXMgPSBbXVxuICAgICwgZXZlbnRzXG4gICAgLCBuYW1lO1xuXG4gIGlmICh0aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgcmV0dXJuIG5hbWVzO1xuXG4gIGZvciAobmFtZSBpbiAoZXZlbnRzID0gdGhpcy5fZXZlbnRzKSkge1xuICAgIGlmIChoYXMuY2FsbChldmVudHMsIG5hbWUpKSBuYW1lcy5wdXNoKHByZWZpeCA/IG5hbWUuc2xpY2UoMSkgOiBuYW1lKTtcbiAgfVxuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgcmV0dXJuIG5hbWVzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGV2ZW50cykpO1xuICB9XG5cbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGV4aXN0cyBPbmx5IGNoZWNrIGlmIHRoZXJlIGFyZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7QXJyYXl8Qm9vbGVhbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKGV2ZW50LCBleGlzdHMpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGF2YWlsYWJsZSA9IHRoaXMuX2V2ZW50c1tldnRdO1xuXG4gIGlmIChleGlzdHMpIHJldHVybiAhIWF2YWlsYWJsZTtcbiAgaWYgKCFhdmFpbGFibGUpIHJldHVybiBbXTtcbiAgaWYgKGF2YWlsYWJsZS5mbikgcmV0dXJuIFthdmFpbGFibGUuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXZhaWxhYmxlLmxlbmd0aCwgZWUgPSBuZXcgQXJyYXkobCk7IGkgPCBsOyBpKyspIHtcbiAgICBlZVtpXSA9IGF2YWlsYWJsZVtpXS5mbjtcbiAgfVxuXG4gIHJldHVybiBlZTtcbn07XG5cbi8qKlxuICogQ2FsbHMgZWFjaCBvZiB0aGUgbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8U3ltYm9sfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQsIGExLCBhMiwgYTMsIGE0LCBhNSkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIXRoaXMuX2V2ZW50c1tldnRdKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1tldnRdXG4gICAgLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgLCBhcmdzXG4gICAgLCBpO1xuXG4gIGlmIChsaXN0ZW5lcnMuZm4pIHtcbiAgICBpZiAobGlzdGVuZXJzLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVycy5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCksIHRydWU7XG4gICAgICBjYXNlIDI6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEpLCB0cnVlO1xuICAgICAgY2FzZSAzOiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiksIHRydWU7XG4gICAgICBjYXNlIDQ6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMyksIHRydWU7XG4gICAgICBjYXNlIDU6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQpLCB0cnVlO1xuICAgICAgY2FzZSA2OiByZXR1cm4gbGlzdGVuZXJzLmZuLmNhbGwobGlzdGVuZXJzLmNvbnRleHQsIGExLCBhMiwgYTMsIGE0LCBhNSksIHRydWU7XG4gICAgfVxuXG4gICAgZm9yIChpID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cblxuICAgIGxpc3RlbmVycy5mbi5hcHBseShsaXN0ZW5lcnMuY29udGV4dCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGhcbiAgICAgICwgajtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGxpc3RlbmVyc1tpXS5vbmNlKSB0aGlzLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcnNbaV0uZm4sIHVuZGVmaW5lZCwgdHJ1ZSk7XG5cbiAgICAgIHN3aXRjaCAobGVuKSB7XG4gICAgICAgIGNhc2UgMTogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQpOyBicmVhaztcbiAgICAgICAgY2FzZSAyOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEpOyBicmVhaztcbiAgICAgICAgY2FzZSAzOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgNDogbGlzdGVuZXJzW2ldLmZuLmNhbGwobGlzdGVuZXJzW2ldLmNvbnRleHQsIGExLCBhMiwgYTMpOyBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoIWFyZ3MpIGZvciAoaiA9IDEsIGFyZ3MgPSBuZXcgQXJyYXkobGVuIC0xKTsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICBhcmdzW2ogLSAxXSA9IGFyZ3VtZW50c1tqXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4uYXBwbHkobGlzdGVuZXJzW2ldLmNvbnRleHQsIGFyZ3MpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50LCBmbiwgY29udGV4dCkge1xuICB2YXIgbGlzdGVuZXIgPSBuZXcgRUUoZm4sIGNvbnRleHQgfHwgdGhpcylcbiAgICAsIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgdGhpcy5fZXZlbnRzW2V2dF0gPSBsaXN0ZW5lciwgdGhpcy5fZXZlbnRzQ291bnQrKztcbiAgZWxzZSBpZiAoIXRoaXMuX2V2ZW50c1tldnRdLmZuKSB0aGlzLl9ldmVudHNbZXZ0XS5wdXNoKGxpc3RlbmVyKTtcbiAgZWxzZSB0aGlzLl9ldmVudHNbZXZ0XSA9IFt0aGlzLl9ldmVudHNbZXZ0XSwgbGlzdGVuZXJdO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBZGQgYSBvbmUtdGltZSBsaXN0ZW5lciBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtNaXhlZH0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZShldmVudCwgZm4sIGNvbnRleHQpIHtcbiAgdmFyIGxpc3RlbmVyID0gbmV3IEVFKGZuLCBjb250ZXh0IHx8IHRoaXMsIHRydWUpXG4gICAgLCBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHRoaXMuX2V2ZW50c1tldnRdID0gbGlzdGVuZXIsIHRoaXMuX2V2ZW50c0NvdW50Kys7XG4gIGVsc2UgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XS5mbikgdGhpcy5fZXZlbnRzW2V2dF0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2UgdGhpcy5fZXZlbnRzW2V2dF0gPSBbdGhpcy5fZXZlbnRzW2V2dF0sIGxpc3RlbmVyXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBsaXN0ZW5lcnMgb2YgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xTeW1ib2x9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gT25seSByZW1vdmUgdGhlIGxpc3RlbmVycyB0aGF0IG1hdGNoIHRoaXMgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge01peGVkfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGZuLCBjb250ZXh0LCBvbmNlKSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiB0aGlzO1xuICBpZiAoIWZuKSB7XG4gICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHNbZXZ0XTtcblxuICBpZiAobGlzdGVuZXJzLmZuKSB7XG4gICAgaWYgKFxuICAgICAgICAgbGlzdGVuZXJzLmZuID09PSBmblxuICAgICAgJiYgKCFvbmNlIHx8IGxpc3RlbmVycy5vbmNlKVxuICAgICAgJiYgKCFjb250ZXh0IHx8IGxpc3RlbmVycy5jb250ZXh0ID09PSBjb250ZXh0KVxuICAgICkge1xuICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHRoaXMuX2V2ZW50cyA9IG5ldyBFdmVudHMoKTtcbiAgICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKHZhciBpID0gMCwgZXZlbnRzID0gW10sIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKFxuICAgICAgICAgICBsaXN0ZW5lcnNbaV0uZm4gIT09IGZuXG4gICAgICAgIHx8IChvbmNlICYmICFsaXN0ZW5lcnNbaV0ub25jZSlcbiAgICAgICAgfHwgKGNvbnRleHQgJiYgbGlzdGVuZXJzW2ldLmNvbnRleHQgIT09IGNvbnRleHQpXG4gICAgICApIHtcbiAgICAgICAgZXZlbnRzLnB1c2gobGlzdGVuZXJzW2ldKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIFJlc2V0IHRoZSBhcnJheSwgb3IgcmVtb3ZlIGl0IGNvbXBsZXRlbHkgaWYgd2UgaGF2ZSBubyBtb3JlIGxpc3RlbmVycy5cbiAgICAvL1xuICAgIGlmIChldmVudHMubGVuZ3RoKSB0aGlzLl9ldmVudHNbZXZ0XSA9IGV2ZW50cy5sZW5ndGggPT09IDEgPyBldmVudHNbMF0gOiBldmVudHM7XG4gICAgZWxzZSBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCkgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIGVsc2UgZGVsZXRlIHRoaXMuX2V2ZW50c1tldnRdO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfFN5bWJvbH0gW2V2ZW50XSBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9IGB0aGlzYC5cbiAqIEBhcGkgcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KSB7XG4gIHZhciBldnQ7XG5cbiAgaWYgKGV2ZW50KSB7XG4gICAgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcbiAgICBpZiAodGhpcy5fZXZlbnRzW2V2dF0pIHtcbiAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKSB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gICAgICBlbHNlIGRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBUaGlzIGZ1bmN0aW9uIGRvZXNuJ3QgYXBwbHkgYW55bW9yZS5cbi8vXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBwcmVmaXguXG4vL1xuRXZlbnRFbWl0dGVyLnByZWZpeGVkID0gcHJlZml4O1xuXG4vL1xuLy8gQWxsb3cgYEV2ZW50RW1pdHRlcmAgdG8gYmUgaW1wb3J0ZWQgYXMgbW9kdWxlIG5hbWVzcGFjZS5cbi8vXG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG4vL1xuLy8gRXhwb3NlIHRoZSBtb2R1bGUuXG4vL1xuaWYgKCd1bmRlZmluZWQnICE9PSB0eXBlb2YgbW9kdWxlKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xufVxuIiwidmFyIE1pbmlSdW5uZXI9ZnVuY3Rpb24obmFtZSxhcmdzTGVuZ3RoKXt0aGlzLml0ZW1zPVtdO3RoaXMuX25hbWU9bmFtZTt0aGlzLmRpc3BhdGNoPXRoaXMuZW1pdD10aGlzLnJ1bj1NaW5pUnVubmVyLmdlbmVyYXRlUnVuKG5hbWUsYXJnc0xlbmd0aHx8MCl9O3ZhciBwPU1pbmlSdW5uZXIucHJvdG90eXBlO3AuYWRkPWZ1bmN0aW9uKGl0ZW0pe2lmKCFpdGVtW3RoaXMuX25hbWVdKXJldHVybjt0aGlzLnJlbW92ZShpdGVtKTt0aGlzLml0ZW1zLnB1c2goaXRlbSl9O3AucmVtb3ZlPWZ1bmN0aW9uKGl0ZW0pe3ZhciBpbmRleD10aGlzLml0ZW1zLmluZGV4T2YoaXRlbSk7aWYoaW5kZXghPT0tMSl7dGhpcy5pdGVtcy5zcGxpY2UoaW5kZXgsMSl9fTtwLmNvbnRhaW5zPWZ1bmN0aW9uKGl0ZW0pe3JldHVybiB0aGlzLml0ZW1zLmluZGV4T2YoaXRlbSkhPT0tMX07cC5yZW1vdmVBbGw9ZnVuY3Rpb24oKXt0aGlzLml0ZW1zLmxlbmd0aD0wfTtPYmplY3QuZGVmaW5lUHJvcGVydHkocCxcImVtcHR5XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1zLmxlbmd0aD09PTB9fSk7TWluaVJ1bm5lci5nZW5lcmF0ZVJ1bj1mdW5jdGlvbihuYW1lLGFyZ3NMZW5ndGgpe3ZhciBrZXk9bmFtZStcInxcIithcmdzTGVuZ3RoO3ZhciBmdW5jPU1pbmlSdW5uZXIuaGFzaFtrZXldO2lmKCFmdW5jKXtpZihhcmdzTGVuZ3RoPjApe3ZhciBhcmdzPVwiYXJnMFwiO2Zvcih2YXIgaT0xO2k8YXJnc0xlbmd0aDtpKyspe2FyZ3MrPVwiLGFyZ1wiK2l9ZnVuYz1uZXcgRnVuY3Rpb24oYXJncyxcInZhciBpdGVtcyA9IHRoaXMuaXRlbXM7IGZvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7IGl0ZW1zW2ldLlwiK25hbWUrXCIoXCIrYXJncytcIik7IH1cIil9ZWxzZXtmdW5jPW5ldyBGdW5jdGlvbihcInZhciBpdGVtcyA9IHRoaXMuaXRlbXM7IGZvcih2YXIgaT0wO2k8aXRlbXMubGVuZ3RoO2krKyl7IGl0ZW1zW2ldLlwiK25hbWUrXCIoKTsgfVwiKX1NaW5pUnVubmVyLmhhc2hba2V5XT1mdW5jfXJldHVybiBmdW5jfTtNaW5pUnVubmVyLmhhc2g9e307bW9kdWxlLmV4cG9ydHM9TWluaVJ1bm5lcjsiLCIvKipcbiAqIEJpdCB0d2lkZGxpbmcgaGFja3MgZm9yIEphdmFTY3JpcHQuXG4gKlxuICogQXV0aG9yOiBNaWtvbGEgTHlzZW5rb1xuICpcbiAqIFBvcnRlZCBmcm9tIFN0YW5mb3JkIGJpdCB0d2lkZGxpbmcgaGFjayBsaWJyYXJ5OlxuICogICAgaHR0cDovL2dyYXBoaWNzLnN0YW5mb3JkLmVkdS9+c2VhbmRlci9iaXRoYWNrcy5odG1sXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7IFwidXNlIHJlc3RyaWN0XCI7XG5cbi8vTnVtYmVyIG9mIGJpdHMgaW4gYW4gaW50ZWdlclxudmFyIElOVF9CSVRTID0gMzI7XG5cbi8vQ29uc3RhbnRzXG5leHBvcnRzLklOVF9CSVRTICA9IElOVF9CSVRTO1xuZXhwb3J0cy5JTlRfTUFYICAgPSAgMHg3ZmZmZmZmZjtcbmV4cG9ydHMuSU5UX01JTiAgID0gLTE8PChJTlRfQklUUy0xKTtcblxuLy9SZXR1cm5zIC0xLCAwLCArMSBkZXBlbmRpbmcgb24gc2lnbiBvZiB4XG5leHBvcnRzLnNpZ24gPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiAodiA+IDApIC0gKHYgPCAwKTtcbn1cblxuLy9Db21wdXRlcyBhYnNvbHV0ZSB2YWx1ZSBvZiBpbnRlZ2VyXG5leHBvcnRzLmFicyA9IGZ1bmN0aW9uKHYpIHtcbiAgdmFyIG1hc2sgPSB2ID4+IChJTlRfQklUUy0xKTtcbiAgcmV0dXJuICh2IF4gbWFzaykgLSBtYXNrO1xufVxuXG4vL0NvbXB1dGVzIG1pbmltdW0gb2YgaW50ZWdlcnMgeCBhbmQgeVxuZXhwb3J0cy5taW4gPSBmdW5jdGlvbih4LCB5KSB7XG4gIHJldHVybiB5IF4gKCh4IF4geSkgJiAtKHggPCB5KSk7XG59XG5cbi8vQ29tcHV0ZXMgbWF4aW11bSBvZiBpbnRlZ2VycyB4IGFuZCB5XG5leHBvcnRzLm1heCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgcmV0dXJuIHggXiAoKHggXiB5KSAmIC0oeCA8IHkpKTtcbn1cblxuLy9DaGVja3MgaWYgYSBudW1iZXIgaXMgYSBwb3dlciBvZiB0d29cbmV4cG9ydHMuaXNQb3cyID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gISh2ICYgKHYtMSkpICYmICghIXYpO1xufVxuXG4vL0NvbXB1dGVzIGxvZyBiYXNlIDIgb2YgdlxuZXhwb3J0cy5sb2cyID0gZnVuY3Rpb24odikge1xuICB2YXIgciwgc2hpZnQ7XG4gIHIgPSAgICAgKHYgPiAweEZGRkYpIDw8IDQ7IHYgPj4+PSByO1xuICBzaGlmdCA9ICh2ID4gMHhGRiAgKSA8PCAzOyB2ID4+Pj0gc2hpZnQ7IHIgfD0gc2hpZnQ7XG4gIHNoaWZ0ID0gKHYgPiAweEYgICApIDw8IDI7IHYgPj4+PSBzaGlmdDsgciB8PSBzaGlmdDtcbiAgc2hpZnQgPSAodiA+IDB4MyAgICkgPDwgMTsgdiA+Pj49IHNoaWZ0OyByIHw9IHNoaWZ0O1xuICByZXR1cm4gciB8ICh2ID4+IDEpO1xufVxuXG4vL0NvbXB1dGVzIGxvZyBiYXNlIDEwIG9mIHZcbmV4cG9ydHMubG9nMTAgPSBmdW5jdGlvbih2KSB7XG4gIHJldHVybiAgKHYgPj0gMTAwMDAwMDAwMCkgPyA5IDogKHYgPj0gMTAwMDAwMDAwKSA/IDggOiAodiA+PSAxMDAwMDAwMCkgPyA3IDpcbiAgICAgICAgICAodiA+PSAxMDAwMDAwKSA/IDYgOiAodiA+PSAxMDAwMDApID8gNSA6ICh2ID49IDEwMDAwKSA/IDQgOlxuICAgICAgICAgICh2ID49IDEwMDApID8gMyA6ICh2ID49IDEwMCkgPyAyIDogKHYgPj0gMTApID8gMSA6IDA7XG59XG5cbi8vQ291bnRzIG51bWJlciBvZiBiaXRzXG5leHBvcnRzLnBvcENvdW50ID0gZnVuY3Rpb24odikge1xuICB2ID0gdiAtICgodiA+Pj4gMSkgJiAweDU1NTU1NTU1KTtcbiAgdiA9ICh2ICYgMHgzMzMzMzMzMykgKyAoKHYgPj4+IDIpICYgMHgzMzMzMzMzMyk7XG4gIHJldHVybiAoKHYgKyAodiA+Pj4gNCkgJiAweEYwRjBGMEYpICogMHgxMDEwMTAxKSA+Pj4gMjQ7XG59XG5cbi8vQ291bnRzIG51bWJlciBvZiB0cmFpbGluZyB6ZXJvc1xuZnVuY3Rpb24gY291bnRUcmFpbGluZ1plcm9zKHYpIHtcbiAgdmFyIGMgPSAzMjtcbiAgdiAmPSAtdjtcbiAgaWYgKHYpIGMtLTtcbiAgaWYgKHYgJiAweDAwMDBGRkZGKSBjIC09IDE2O1xuICBpZiAodiAmIDB4MDBGRjAwRkYpIGMgLT0gODtcbiAgaWYgKHYgJiAweDBGMEYwRjBGKSBjIC09IDQ7XG4gIGlmICh2ICYgMHgzMzMzMzMzMykgYyAtPSAyO1xuICBpZiAodiAmIDB4NTU1NTU1NTUpIGMgLT0gMTtcbiAgcmV0dXJuIGM7XG59XG5leHBvcnRzLmNvdW50VHJhaWxpbmdaZXJvcyA9IGNvdW50VHJhaWxpbmdaZXJvcztcblxuLy9Sb3VuZHMgdG8gbmV4dCBwb3dlciBvZiAyXG5leHBvcnRzLm5leHRQb3cyID0gZnVuY3Rpb24odikge1xuICB2ICs9IHYgPT09IDA7XG4gIC0tdjtcbiAgdiB8PSB2ID4+PiAxO1xuICB2IHw9IHYgPj4+IDI7XG4gIHYgfD0gdiA+Pj4gNDtcbiAgdiB8PSB2ID4+PiA4O1xuICB2IHw9IHYgPj4+IDE2O1xuICByZXR1cm4gdiArIDE7XG59XG5cbi8vUm91bmRzIGRvd24gdG8gcHJldmlvdXMgcG93ZXIgb2YgMlxuZXhwb3J0cy5wcmV2UG93MiA9IGZ1bmN0aW9uKHYpIHtcbiAgdiB8PSB2ID4+PiAxO1xuICB2IHw9IHYgPj4+IDI7XG4gIHYgfD0gdiA+Pj4gNDtcbiAgdiB8PSB2ID4+PiA4O1xuICB2IHw9IHYgPj4+IDE2O1xuICByZXR1cm4gdiAtICh2Pj4+MSk7XG59XG5cbi8vQ29tcHV0ZXMgcGFyaXR5IG9mIHdvcmRcbmV4cG9ydHMucGFyaXR5ID0gZnVuY3Rpb24odikge1xuICB2IF49IHYgPj4+IDE2O1xuICB2IF49IHYgPj4+IDg7XG4gIHYgXj0gdiA+Pj4gNDtcbiAgdiAmPSAweGY7XG4gIHJldHVybiAoMHg2OTk2ID4+PiB2KSAmIDE7XG59XG5cbnZhciBSRVZFUlNFX1RBQkxFID0gbmV3IEFycmF5KDI1Nik7XG5cbihmdW5jdGlvbih0YWIpIHtcbiAgZm9yKHZhciBpPTA7IGk8MjU2OyArK2kpIHtcbiAgICB2YXIgdiA9IGksIHIgPSBpLCBzID0gNztcbiAgICBmb3IgKHYgPj4+PSAxOyB2OyB2ID4+Pj0gMSkge1xuICAgICAgciA8PD0gMTtcbiAgICAgIHIgfD0gdiAmIDE7XG4gICAgICAtLXM7XG4gICAgfVxuICAgIHRhYltpXSA9IChyIDw8IHMpICYgMHhmZjtcbiAgfVxufSkoUkVWRVJTRV9UQUJMRSk7XG5cbi8vUmV2ZXJzZSBiaXRzIGluIGEgMzIgYml0IHdvcmRcbmV4cG9ydHMucmV2ZXJzZSA9IGZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuICAoUkVWRVJTRV9UQUJMRVsgdiAgICAgICAgICYgMHhmZl0gPDwgMjQpIHxcbiAgICAgICAgICAoUkVWRVJTRV9UQUJMRVsodiA+Pj4gOCkgICYgMHhmZl0gPDwgMTYpIHxcbiAgICAgICAgICAoUkVWRVJTRV9UQUJMRVsodiA+Pj4gMTYpICYgMHhmZl0gPDwgOCkgIHxcbiAgICAgICAgICAgUkVWRVJTRV9UQUJMRVsodiA+Pj4gMjQpICYgMHhmZl07XG59XG5cbi8vSW50ZXJsZWF2ZSBiaXRzIG9mIDIgY29vcmRpbmF0ZXMgd2l0aCAxNiBiaXRzLiAgVXNlZnVsIGZvciBmYXN0IHF1YWR0cmVlIGNvZGVzXG5leHBvcnRzLmludGVybGVhdmUyID0gZnVuY3Rpb24oeCwgeSkge1xuICB4ICY9IDB4RkZGRjtcbiAgeCA9ICh4IHwgKHggPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgeCA9ICh4IHwgKHggPDwgMikpICYgMHgzMzMzMzMzMztcbiAgeCA9ICh4IHwgKHggPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICB5ICY9IDB4RkZGRjtcbiAgeSA9ICh5IHwgKHkgPDwgOCkpICYgMHgwMEZGMDBGRjtcbiAgeSA9ICh5IHwgKHkgPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgeSA9ICh5IHwgKHkgPDwgMSkpICYgMHg1NTU1NTU1NTtcblxuICByZXR1cm4geCB8ICh5IDw8IDEpO1xufVxuXG4vL0V4dHJhY3RzIHRoZSBudGggaW50ZXJsZWF2ZWQgY29tcG9uZW50XG5leHBvcnRzLmRlaW50ZXJsZWF2ZTIgPSBmdW5jdGlvbih2LCBuKSB7XG4gIHYgPSAodiA+Pj4gbikgJiAweDU1NTU1NTU1O1xuICB2ID0gKHYgfCAodiA+Pj4gMSkpICAmIDB4MzMzMzMzMzM7XG4gIHYgPSAodiB8ICh2ID4+PiAyKSkgICYgMHgwRjBGMEYwRjtcbiAgdiA9ICh2IHwgKHYgPj4+IDQpKSAgJiAweDAwRkYwMEZGO1xuICB2ID0gKHYgfCAodiA+Pj4gMTYpKSAmIDB4MDAwRkZGRjtcbiAgcmV0dXJuICh2IDw8IDE2KSA+PiAxNjtcbn1cblxuXG4vL0ludGVybGVhdmUgYml0cyBvZiAzIGNvb3JkaW5hdGVzLCBlYWNoIHdpdGggMTAgYml0cy4gIFVzZWZ1bCBmb3IgZmFzdCBvY3RyZWUgY29kZXNcbmV4cG9ydHMuaW50ZXJsZWF2ZTMgPSBmdW5jdGlvbih4LCB5LCB6KSB7XG4gIHggJj0gMHgzRkY7XG4gIHggID0gKHggfCAoeDw8MTYpKSAmIDQyNzgxOTAzMzU7XG4gIHggID0gKHggfCAoeDw8OCkpICAmIDI1MTcxOTY5NTtcbiAgeCAgPSAoeCB8ICh4PDw0KSkgICYgMzI3MjM1NjAzNTtcbiAgeCAgPSAoeCB8ICh4PDwyKSkgICYgMTIyNzEzMzUxMztcblxuICB5ICY9IDB4M0ZGO1xuICB5ICA9ICh5IHwgKHk8PDE2KSkgJiA0Mjc4MTkwMzM1O1xuICB5ICA9ICh5IHwgKHk8PDgpKSAgJiAyNTE3MTk2OTU7XG4gIHkgID0gKHkgfCAoeTw8NCkpICAmIDMyNzIzNTYwMzU7XG4gIHkgID0gKHkgfCAoeTw8MikpICAmIDEyMjcxMzM1MTM7XG4gIHggfD0gKHkgPDwgMSk7XG4gIFxuICB6ICY9IDB4M0ZGO1xuICB6ICA9ICh6IHwgKHo8PDE2KSkgJiA0Mjc4MTkwMzM1O1xuICB6ICA9ICh6IHwgKHo8PDgpKSAgJiAyNTE3MTk2OTU7XG4gIHogID0gKHogfCAoejw8NCkpICAmIDMyNzIzNTYwMzU7XG4gIHogID0gKHogfCAoejw8MikpICAmIDEyMjcxMzM1MTM7XG4gIFxuICByZXR1cm4geCB8ICh6IDw8IDIpO1xufVxuXG4vL0V4dHJhY3RzIG50aCBpbnRlcmxlYXZlZCBjb21wb25lbnQgb2YgYSAzLXR1cGxlXG5leHBvcnRzLmRlaW50ZXJsZWF2ZTMgPSBmdW5jdGlvbih2LCBuKSB7XG4gIHYgPSAodiA+Pj4gbikgICAgICAgJiAxMjI3MTMzNTEzO1xuICB2ID0gKHYgfCAodj4+PjIpKSAgICYgMzI3MjM1NjAzNTtcbiAgdiA9ICh2IHwgKHY+Pj40KSkgICAmIDI1MTcxOTY5NTtcbiAgdiA9ICh2IHwgKHY+Pj44KSkgICAmIDQyNzgxOTAzMzU7XG4gIHYgPSAodiB8ICh2Pj4+MTYpKSAgJiAweDNGRjtcbiAgcmV0dXJuICh2PDwyMik+PjIyO1xufVxuXG4vL0NvbXB1dGVzIG5leHQgY29tYmluYXRpb24gaW4gY29sZXhpY29ncmFwaGljIG9yZGVyICh0aGlzIGlzIG1pc3Rha2VubHkgY2FsbGVkIG5leHRQZXJtdXRhdGlvbiBvbiB0aGUgYml0IHR3aWRkbGluZyBoYWNrcyBwYWdlKVxuZXhwb3J0cy5uZXh0Q29tYmluYXRpb24gPSBmdW5jdGlvbih2KSB7XG4gIHZhciB0ID0gdiB8ICh2IC0gMSk7XG4gIHJldHVybiAodCArIDEpIHwgKCgofnQgJiAtfnQpIC0gMSkgPj4+IChjb3VudFRyYWlsaW5nWmVyb3ModikgKyAxKSk7XG59XG5cbiIsIi8qKlxuICogaXNNb2JpbGUuanMgdjAuNC4xXG4gKlxuICogQSBzaW1wbGUgbGlicmFyeSB0byBkZXRlY3QgQXBwbGUgcGhvbmVzIGFuZCB0YWJsZXRzLFxuICogQW5kcm9pZCBwaG9uZXMgYW5kIHRhYmxldHMsIG90aGVyIG1vYmlsZSBkZXZpY2VzIChsaWtlIGJsYWNrYmVycnksIG1pbmktb3BlcmEgYW5kIHdpbmRvd3MgcGhvbmUpLFxuICogYW5kIGFueSBraW5kIG9mIHNldmVuIGluY2ggZGV2aWNlLCB2aWEgdXNlciBhZ2VudCBzbmlmZmluZy5cbiAqXG4gKiBAYXV0aG9yOiBLYWkgTWFsbGVhIChrbWFsbGVhQGdtYWlsLmNvbSlcbiAqXG4gKiBAbGljZW5zZTogaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvcHVibGljZG9tYWluL3plcm8vMS4wL1xuICovXG4oZnVuY3Rpb24gKGdsb2JhbCkge1xuXG4gICAgdmFyIGFwcGxlX3Bob25lICAgICAgICAgPSAvaVBob25lL2ksXG4gICAgICAgIGFwcGxlX2lwb2QgICAgICAgICAgPSAvaVBvZC9pLFxuICAgICAgICBhcHBsZV90YWJsZXQgICAgICAgID0gL2lQYWQvaSxcbiAgICAgICAgYW5kcm9pZF9waG9uZSAgICAgICA9IC8oPz0uKlxcYkFuZHJvaWRcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdBbmRyb2lkJyBBTkQgJ01vYmlsZSdcbiAgICAgICAgYW5kcm9pZF90YWJsZXQgICAgICA9IC9BbmRyb2lkL2ksXG4gICAgICAgIGFtYXpvbl9waG9uZSAgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiU0Q0OTMwVVJcXGIpL2ksXG4gICAgICAgIGFtYXpvbl90YWJsZXQgICAgICAgPSAvKD89LipcXGJBbmRyb2lkXFxiKSg/PS4qXFxiKD86S0ZPVHxLRlRUfEtGSldJfEtGSldBfEtGU09XSXxLRlRIV0l8S0ZUSFdBfEtGQVBXSXxLRkFQV0F8S0ZBUldJfEtGQVNXSXxLRlNBV0l8S0ZTQVdBKVxcYikvaSxcbiAgICAgICAgd2luZG93c19waG9uZSAgICAgICA9IC9XaW5kb3dzIFBob25lL2ksXG4gICAgICAgIHdpbmRvd3NfdGFibGV0ICAgICAgPSAvKD89LipcXGJXaW5kb3dzXFxiKSg/PS4qXFxiQVJNXFxiKS9pLCAvLyBNYXRjaCAnV2luZG93cycgQU5EICdBUk0nXG4gICAgICAgIG90aGVyX2JsYWNrYmVycnkgICAgPSAvQmxhY2tCZXJyeS9pLFxuICAgICAgICBvdGhlcl9ibGFja2JlcnJ5XzEwID0gL0JCMTAvaSxcbiAgICAgICAgb3RoZXJfb3BlcmEgICAgICAgICA9IC9PcGVyYSBNaW5pL2ksXG4gICAgICAgIG90aGVyX2Nocm9tZSAgICAgICAgPSAvKENyaU9TfENocm9tZSkoPz0uKlxcYk1vYmlsZVxcYikvaSxcbiAgICAgICAgb3RoZXJfZmlyZWZveCAgICAgICA9IC8oPz0uKlxcYkZpcmVmb3hcXGIpKD89LipcXGJNb2JpbGVcXGIpL2ksIC8vIE1hdGNoICdGaXJlZm94JyBBTkQgJ01vYmlsZSdcbiAgICAgICAgc2V2ZW5faW5jaCA9IG5ldyBSZWdFeHAoXG4gICAgICAgICAgICAnKD86JyArICAgICAgICAgLy8gTm9uLWNhcHR1cmluZyBncm91cFxuXG4gICAgICAgICAgICAnTmV4dXMgNycgKyAgICAgLy8gTmV4dXMgN1xuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ0JOVFYyNTAnICsgICAgIC8vIEImTiBOb29rIFRhYmxldCA3IGluY2hcblxuICAgICAgICAgICAgJ3wnICsgICAgICAgICAgIC8vIE9SXG5cbiAgICAgICAgICAgICdLaW5kbGUgRmlyZScgKyAvLyBLaW5kbGUgRmlyZVxuXG4gICAgICAgICAgICAnfCcgKyAgICAgICAgICAgLy8gT1JcblxuICAgICAgICAgICAgJ1NpbGsnICsgICAgICAgIC8vIEtpbmRsZSBGaXJlLCBTaWxrIEFjY2VsZXJhdGVkXG5cbiAgICAgICAgICAgICd8JyArICAgICAgICAgICAvLyBPUlxuXG4gICAgICAgICAgICAnR1QtUDEwMDAnICsgICAgLy8gR2FsYXh5IFRhYiA3IGluY2hcblxuICAgICAgICAgICAgJyknLCAgICAgICAgICAgIC8vIEVuZCBub24tY2FwdHVyaW5nIGdyb3VwXG5cbiAgICAgICAgICAgICdpJyk7ICAgICAgICAgICAvLyBDYXNlLWluc2Vuc2l0aXZlIG1hdGNoaW5nXG5cbiAgICB2YXIgbWF0Y2ggPSBmdW5jdGlvbihyZWdleCwgdXNlckFnZW50KSB7XG4gICAgICAgIHJldHVybiByZWdleC50ZXN0KHVzZXJBZ2VudCk7XG4gICAgfTtcblxuICAgIHZhciBJc01vYmlsZUNsYXNzID0gZnVuY3Rpb24odXNlckFnZW50KSB7XG4gICAgICAgIHZhciB1YSA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgICAgIC8vIEZhY2Vib29rIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgYWRkcyBhIGJ1bmNoIG9mIHN0cmluZ3MgdGhhdFxuICAgICAgICAvLyBtYXRjaCBldmVyeXRoaW5nLiBTdHJpcCBpdCBvdXQgaWYgaXQgZXhpc3RzLlxuICAgICAgICB2YXIgdG1wID0gdWEuc3BsaXQoJ1tGQkFOJyk7XG4gICAgICAgIGlmICh0eXBlb2YgdG1wWzFdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdWEgPSB0bXBbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUd2l0dGVyIG1vYmlsZSBhcHAncyBpbnRlZ3JhdGVkIGJyb3dzZXIgb24gaVBhZCBhZGRzIGEgXCJUd2l0dGVyIGZvclxuICAgICAgICAvLyBpUGhvbmVcIiBzdHJpbmcuIFNhbWUgcHJvYmFibGUgaGFwcGVucyBvbiBvdGhlciB0YWJsZXQgcGxhdGZvcm1zLlxuICAgICAgICAvLyBUaGlzIHdpbGwgY29uZnVzZSBkZXRlY3Rpb24gc28gc3RyaXAgaXQgb3V0IGlmIGl0IGV4aXN0cy5cbiAgICAgICAgdG1wID0gdWEuc3BsaXQoJ1R3aXR0ZXInKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0bXBbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB1YSA9IHRtcFswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXBwbGUgPSB7XG4gICAgICAgICAgICBwaG9uZTogIG1hdGNoKGFwcGxlX3Bob25lLCB1YSksXG4gICAgICAgICAgICBpcG9kOiAgIG1hdGNoKGFwcGxlX2lwb2QsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFwcGxlX3Bob25lLCB1YSkgJiYgbWF0Y2goYXBwbGVfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKGFwcGxlX3Bob25lLCB1YSkgfHwgbWF0Y2goYXBwbGVfaXBvZCwgdWEpIHx8IG1hdGNoKGFwcGxlX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW1hem9uID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSxcbiAgICAgICAgICAgIHRhYmxldDogIW1hdGNoKGFtYXpvbl9waG9uZSwgdWEpICYmIG1hdGNoKGFtYXpvbl90YWJsZXQsIHVhKSxcbiAgICAgICAgICAgIGRldmljZTogbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW1hem9uX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYW5kcm9pZCA9IHtcbiAgICAgICAgICAgIHBob25lOiAgbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpLFxuICAgICAgICAgICAgdGFibGV0OiAhbWF0Y2goYW1hem9uX3Bob25lLCB1YSkgJiYgIW1hdGNoKGFuZHJvaWRfcGhvbmUsIHVhKSAmJiAobWF0Y2goYW1hem9uX3RhYmxldCwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSkpLFxuICAgICAgICAgICAgZGV2aWNlOiBtYXRjaChhbWF6b25fcGhvbmUsIHVhKSB8fCBtYXRjaChhbWF6b25fdGFibGV0LCB1YSkgfHwgbWF0Y2goYW5kcm9pZF9waG9uZSwgdWEpIHx8IG1hdGNoKGFuZHJvaWRfdGFibGV0LCB1YSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy53aW5kb3dzID0ge1xuICAgICAgICAgICAgcGhvbmU6ICBtYXRjaCh3aW5kb3dzX3Bob25lLCB1YSksXG4gICAgICAgICAgICB0YWJsZXQ6IG1hdGNoKHdpbmRvd3NfdGFibGV0LCB1YSksXG4gICAgICAgICAgICBkZXZpY2U6IG1hdGNoKHdpbmRvd3NfcGhvbmUsIHVhKSB8fCBtYXRjaCh3aW5kb3dzX3RhYmxldCwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3RoZXIgPSB7XG4gICAgICAgICAgICBibGFja2JlcnJ5OiAgIG1hdGNoKG90aGVyX2JsYWNrYmVycnksIHVhKSxcbiAgICAgICAgICAgIGJsYWNrYmVycnkxMDogbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpLFxuICAgICAgICAgICAgb3BlcmE6ICAgICAgICBtYXRjaChvdGhlcl9vcGVyYSwgdWEpLFxuICAgICAgICAgICAgZmlyZWZveDogICAgICBtYXRjaChvdGhlcl9maXJlZm94LCB1YSksXG4gICAgICAgICAgICBjaHJvbWU6ICAgICAgIG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpLFxuICAgICAgICAgICAgZGV2aWNlOiAgICAgICBtYXRjaChvdGhlcl9ibGFja2JlcnJ5LCB1YSkgfHwgbWF0Y2gob3RoZXJfYmxhY2tiZXJyeV8xMCwgdWEpIHx8IG1hdGNoKG90aGVyX29wZXJhLCB1YSkgfHwgbWF0Y2gob3RoZXJfZmlyZWZveCwgdWEpIHx8IG1hdGNoKG90aGVyX2Nocm9tZSwgdWEpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V2ZW5faW5jaCA9IG1hdGNoKHNldmVuX2luY2gsIHVhKTtcbiAgICAgICAgdGhpcy5hbnkgPSB0aGlzLmFwcGxlLmRldmljZSB8fCB0aGlzLmFuZHJvaWQuZGV2aWNlIHx8IHRoaXMud2luZG93cy5kZXZpY2UgfHwgdGhpcy5vdGhlci5kZXZpY2UgfHwgdGhpcy5zZXZlbl9pbmNoO1xuXG4gICAgICAgIC8vIGV4Y2x1ZGVzICdvdGhlcicgZGV2aWNlcyBhbmQgaXBvZHMsIHRhcmdldGluZyB0b3VjaHNjcmVlbiBwaG9uZXNcbiAgICAgICAgdGhpcy5waG9uZSA9IHRoaXMuYXBwbGUucGhvbmUgfHwgdGhpcy5hbmRyb2lkLnBob25lIHx8IHRoaXMud2luZG93cy5waG9uZTtcblxuICAgICAgICAvLyBleGNsdWRlcyA3IGluY2ggZGV2aWNlcywgY2xhc3NpZnlpbmcgYXMgcGhvbmUgb3IgdGFibGV0IGlzIGxlZnQgdG8gdGhlIHVzZXJcbiAgICAgICAgdGhpcy50YWJsZXQgPSB0aGlzLmFwcGxlLnRhYmxldCB8fCB0aGlzLmFuZHJvaWQudGFibGV0IHx8IHRoaXMud2luZG93cy50YWJsZXQ7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgaW5zdGFudGlhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIElNID0gbmV3IElzTW9iaWxlQ2xhc3MoKTtcbiAgICAgICAgSU0uQ2xhc3MgPSBJc01vYmlsZUNsYXNzO1xuICAgICAgICByZXR1cm4gSU07XG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cyAmJiB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvL25vZGVcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBJc01vYmlsZUNsYXNzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgLy9icm93c2VyaWZ5XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gaW5zdGFudGlhdGUoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvL0FNRFxuICAgICAgICBkZWZpbmUoJ2lzTW9iaWxlJywgW10sIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGdsb2JhbC5pc01vYmlsZSA9IGluc3RhbnRpYXRlKCk7XG4gICAgfVxuXG59KSh0aGlzKTtcbiIsIid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIFJlbW92ZSBhIHJhbmdlIG9mIGl0ZW1zIGZyb20gYW4gYXJyYXlcbiAqXG4gKiBAZnVuY3Rpb24gcmVtb3ZlSXRlbXNcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IGFyciBUaGUgdGFyZ2V0IGFycmF5XG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJZHggVGhlIGluZGV4IHRvIGJlZ2luIHJlbW92aW5nIGZyb20gKGluY2x1c2l2ZSlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZW1vdmVDb3VudCBIb3cgbWFueSBpdGVtcyB0byByZW1vdmVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZW1vdmVJdGVtcyAoYXJyLCBzdGFydElkeCwgcmVtb3ZlQ291bnQpIHtcbiAgdmFyIGksIGxlbmd0aCA9IGFyci5sZW5ndGhcblxuICBpZiAoc3RhcnRJZHggPj0gbGVuZ3RoIHx8IHJlbW92ZUNvdW50ID09PSAwKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICByZW1vdmVDb3VudCA9IChzdGFydElkeCArIHJlbW92ZUNvdW50ID4gbGVuZ3RoID8gbGVuZ3RoIC0gc3RhcnRJZHggOiByZW1vdmVDb3VudClcblxuICB2YXIgbGVuID0gbGVuZ3RoIC0gcmVtb3ZlQ291bnRcblxuICBmb3IgKGkgPSBzdGFydElkeDsgaSA8IGxlbjsgKytpKSB7XG4gICAgYXJyW2ldID0gYXJyW2kgKyByZW1vdmVDb3VudF1cbiAgfVxuXG4gIGFyci5sZW5ndGggPSBsZW5cbn1cbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBpbXBvcnQgTG9hZGVyIGZyb20gJy4vTG9hZGVyJztcbi8vIGltcG9ydCBSZXNvdXJjZSBmcm9tICcuL1Jlc291cmNlJztcbi8vIGltcG9ydCAqIGFzIGFzeW5jIGZyb20gJy4vYXN5bmMnO1xuLy8gaW1wb3J0ICogYXMgYjY0IGZyb20gJy4vYjY0JztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cblxudmFyIExvYWRlciA9IHJlcXVpcmUoJy4vTG9hZGVyJykuTG9hZGVyO1xudmFyIFJlc291cmNlID0gcmVxdWlyZSgnLi9SZXNvdXJjZScpLlJlc291cmNlO1xudmFyIGFzeW5jID0gcmVxdWlyZSgnLi9hc3luYycpO1xudmFyIGI2NCA9IHJlcXVpcmUoJy4vYjY0Jyk7XG5cbi8qKlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBMb2FkZXJcbiAqIEBtZW1iZXIge0NsYXNzPFJlc291cmNlPn1cbiAqL1xuTG9hZGVyLlJlc291cmNlID0gUmVzb3VyY2U7XG5cbi8qKlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBMb2FkZXJcbiAqIEBtZW1iZXIge0NsYXNzPGFzeW5jPn1cbiAqL1xuTG9hZGVyLmFzeW5jID0gYXN5bmM7XG5cbi8qKlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBMb2FkZXJcbiAqIEBtZW1iZXIge0NsYXNzPGVuY29kZUJpbmFyeT59XG4gKi9cbkxvYWRlci5lbmNvZGVCaW5hcnkgPSBiNjQ7XG5cbi8qKlxuICpcbiAqIEBkZXByZWNhdGVkXG4gKiBAc2VlIExvYWRlci5lbmNvZGVCaW5hcnlcbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgTG9hZGVyXG4gKiBAbWVtYmVyIHtDbGFzczxlbmNvZGVCaW5hcnk+fVxuICovXG5Mb2FkZXIuYmFzZTY0ID0gYjY0O1xuXG4vLyBleHBvcnQgbWFudWFsbHksIGFuZCBhbHNvIGFzIGRlZmF1bHRcbm1vZHVsZS5leHBvcnRzID0gTG9hZGVyO1xuXG4vLyBkZWZhdWx0ICYgbmFtZWQgZXhwb3J0XG5tb2R1bGUuZXhwb3J0cy5Mb2FkZXIgPSBMb2FkZXI7XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gTG9hZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGVhcmN1dDtcbm1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBlYXJjdXQ7XG5cbmZ1bmN0aW9uIGVhcmN1dChkYXRhLCBob2xlSW5kaWNlcywgZGltKSB7XG5cbiAgICBkaW0gPSBkaW0gfHwgMjtcblxuICAgIHZhciBoYXNIb2xlcyA9IGhvbGVJbmRpY2VzICYmIGhvbGVJbmRpY2VzLmxlbmd0aCxcbiAgICAgICAgb3V0ZXJMZW4gPSBoYXNIb2xlcyA/IGhvbGVJbmRpY2VzWzBdICogZGltIDogZGF0YS5sZW5ndGgsXG4gICAgICAgIG91dGVyTm9kZSA9IGxpbmtlZExpc3QoZGF0YSwgMCwgb3V0ZXJMZW4sIGRpbSwgdHJ1ZSksXG4gICAgICAgIHRyaWFuZ2xlcyA9IFtdO1xuXG4gICAgaWYgKCFvdXRlck5vZGUgfHwgb3V0ZXJOb2RlLm5leHQgPT09IG91dGVyTm9kZS5wcmV2KSByZXR1cm4gdHJpYW5nbGVzO1xuXG4gICAgdmFyIG1pblgsIG1pblksIG1heFgsIG1heFksIHgsIHksIGludlNpemU7XG5cbiAgICBpZiAoaGFzSG9sZXMpIG91dGVyTm9kZSA9IGVsaW1pbmF0ZUhvbGVzKGRhdGEsIGhvbGVJbmRpY2VzLCBvdXRlck5vZGUsIGRpbSk7XG5cbiAgICAvLyBpZiB0aGUgc2hhcGUgaXMgbm90IHRvbyBzaW1wbGUsIHdlJ2xsIHVzZSB6LW9yZGVyIGN1cnZlIGhhc2ggbGF0ZXI7IGNhbGN1bGF0ZSBwb2x5Z29uIGJib3hcbiAgICBpZiAoZGF0YS5sZW5ndGggPiA4MCAqIGRpbSkge1xuICAgICAgICBtaW5YID0gbWF4WCA9IGRhdGFbMF07XG4gICAgICAgIG1pblkgPSBtYXhZID0gZGF0YVsxXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gZGltOyBpIDwgb3V0ZXJMZW47IGkgKz0gZGltKSB7XG4gICAgICAgICAgICB4ID0gZGF0YVtpXTtcbiAgICAgICAgICAgIHkgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgICAgIGlmICh4IDwgbWluWCkgbWluWCA9IHg7XG4gICAgICAgICAgICBpZiAoeSA8IG1pblkpIG1pblkgPSB5O1xuICAgICAgICAgICAgaWYgKHggPiBtYXhYKSBtYXhYID0geDtcbiAgICAgICAgICAgIGlmICh5ID4gbWF4WSkgbWF4WSA9IHk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtaW5YLCBtaW5ZIGFuZCBpbnZTaXplIGFyZSBsYXRlciB1c2VkIHRvIHRyYW5zZm9ybSBjb29yZHMgaW50byBpbnRlZ2VycyBmb3Igei1vcmRlciBjYWxjdWxhdGlvblxuICAgICAgICBpbnZTaXplID0gTWF0aC5tYXgobWF4WCAtIG1pblgsIG1heFkgLSBtaW5ZKTtcbiAgICAgICAgaW52U2l6ZSA9IGludlNpemUgIT09IDAgPyAxIC8gaW52U2l6ZSA6IDA7XG4gICAgfVxuXG4gICAgZWFyY3V0TGlua2VkKG91dGVyTm9kZSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgcmV0dXJuIHRyaWFuZ2xlcztcbn1cblxuLy8gY3JlYXRlIGEgY2lyY3VsYXIgZG91Ymx5IGxpbmtlZCBsaXN0IGZyb20gcG9seWdvbiBwb2ludHMgaW4gdGhlIHNwZWNpZmllZCB3aW5kaW5nIG9yZGVyXG5mdW5jdGlvbiBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgY2xvY2t3aXNlKSB7XG4gICAgdmFyIGksIGxhc3Q7XG5cbiAgICBpZiAoY2xvY2t3aXNlID09PSAoc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pID4gMCkpIHtcbiAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gZGltKSBsYXN0ID0gaW5zZXJ0Tm9kZShpLCBkYXRhW2ldLCBkYXRhW2kgKyAxXSwgbGFzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gZW5kIC0gZGltOyBpID49IHN0YXJ0OyBpIC09IGRpbSkgbGFzdCA9IGluc2VydE5vZGUoaSwgZGF0YVtpXSwgZGF0YVtpICsgMV0sIGxhc3QpO1xuICAgIH1cblxuICAgIGlmIChsYXN0ICYmIGVxdWFscyhsYXN0LCBsYXN0Lm5leHQpKSB7XG4gICAgICAgIHJlbW92ZU5vZGUobGFzdCk7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxhc3Q7XG59XG5cbi8vIGVsaW1pbmF0ZSBjb2xpbmVhciBvciBkdXBsaWNhdGUgcG9pbnRzXG5mdW5jdGlvbiBmaWx0ZXJQb2ludHMoc3RhcnQsIGVuZCkge1xuICAgIGlmICghc3RhcnQpIHJldHVybiBzdGFydDtcbiAgICBpZiAoIWVuZCkgZW5kID0gc3RhcnQ7XG5cbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBhZ2FpbjtcbiAgICBkbyB7XG4gICAgICAgIGFnYWluID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFwLnN0ZWluZXIgJiYgKGVxdWFscyhwLCBwLm5leHQpIHx8IGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID09PSAwKSkge1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwKTtcbiAgICAgICAgICAgIHAgPSBlbmQgPSBwLnByZXY7XG4gICAgICAgICAgICBpZiAocCA9PT0gcC5uZXh0KSBicmVhaztcbiAgICAgICAgICAgIGFnYWluID0gdHJ1ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcCA9IHAubmV4dDtcbiAgICAgICAgfVxuICAgIH0gd2hpbGUgKGFnYWluIHx8IHAgIT09IGVuZCk7XG5cbiAgICByZXR1cm4gZW5kO1xufVxuXG4vLyBtYWluIGVhciBzbGljaW5nIGxvb3Agd2hpY2ggdHJpYW5ndWxhdGVzIGEgcG9seWdvbiAoZ2l2ZW4gYXMgYSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGVhcmN1dExpbmtlZChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplLCBwYXNzKSB7XG4gICAgaWYgKCFlYXIpIHJldHVybjtcblxuICAgIC8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbiAgICBpZiAoIXBhc3MgJiYgaW52U2l6ZSkgaW5kZXhDdXJ2ZShlYXIsIG1pblgsIG1pblksIGludlNpemUpO1xuXG4gICAgdmFyIHN0b3AgPSBlYXIsXG4gICAgICAgIHByZXYsIG5leHQ7XG5cbiAgICAvLyBpdGVyYXRlIHRocm91Z2ggZWFycywgc2xpY2luZyB0aGVtIG9uZSBieSBvbmVcbiAgICB3aGlsZSAoZWFyLnByZXYgIT09IGVhci5uZXh0KSB7XG4gICAgICAgIHByZXYgPSBlYXIucHJldjtcbiAgICAgICAgbmV4dCA9IGVhci5uZXh0O1xuXG4gICAgICAgIGlmIChpbnZTaXplID8gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSA6IGlzRWFyKGVhcikpIHtcbiAgICAgICAgICAgIC8vIGN1dCBvZmYgdGhlIHRyaWFuZ2xlXG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChwcmV2LmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goZWFyLmkgLyBkaW0pO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV4dC5pIC8gZGltKTtcblxuICAgICAgICAgICAgcmVtb3ZlTm9kZShlYXIpO1xuXG4gICAgICAgICAgICAvLyBza2lwcGluZyB0aGUgbmV4dCB2ZXJ0ZXggbGVhZHMgdG8gbGVzcyBzbGl2ZXIgdHJpYW5nbGVzXG4gICAgICAgICAgICBlYXIgPSBuZXh0Lm5leHQ7XG4gICAgICAgICAgICBzdG9wID0gbmV4dC5uZXh0O1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVhciA9IG5leHQ7XG5cbiAgICAgICAgLy8gaWYgd2UgbG9vcGVkIHRocm91Z2ggdGhlIHdob2xlIHJlbWFpbmluZyBwb2x5Z29uIGFuZCBjYW4ndCBmaW5kIGFueSBtb3JlIGVhcnNcbiAgICAgICAgaWYgKGVhciA9PT0gc3RvcCkge1xuICAgICAgICAgICAgLy8gdHJ5IGZpbHRlcmluZyBwb2ludHMgYW5kIHNsaWNpbmcgYWdhaW5cbiAgICAgICAgICAgIGlmICghcGFzcykge1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChmaWx0ZXJQb2ludHMoZWFyKSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUsIDEpO1xuXG4gICAgICAgICAgICAvLyBpZiB0aGlzIGRpZG4ndCB3b3JrLCB0cnkgY3VyaW5nIGFsbCBzbWFsbCBzZWxmLWludGVyc2VjdGlvbnMgbG9jYWxseVxuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXNzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgZWFyID0gY3VyZUxvY2FsSW50ZXJzZWN0aW9ucyhlYXIsIHRyaWFuZ2xlcywgZGltKTtcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoZWFyLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSwgMik7XG5cbiAgICAgICAgICAgIC8vIGFzIGEgbGFzdCByZXNvcnQsIHRyeSBzcGxpdHRpbmcgdGhlIHJlbWFpbmluZyBwb2x5Z29uIGludG8gdHdvXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhc3MgPT09IDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpdEVhcmN1dChlYXIsIHRyaWFuZ2xlcywgZGltLCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGNoZWNrIHdoZXRoZXIgYSBwb2x5Z29uIG5vZGUgZm9ybXMgYSB2YWxpZCBlYXIgd2l0aCBhZGphY2VudCBub2Rlc1xuZnVuY3Rpb24gaXNFYXIoZWFyKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gbm93IG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlIG90aGVyIHBvaW50cyBpbnNpZGUgdGhlIHBvdGVudGlhbCBlYXJcbiAgICB2YXIgcCA9IGVhci5uZXh0Lm5leHQ7XG5cbiAgICB3aGlsZSAocCAhPT0gZWFyLnByZXYpIHtcbiAgICAgICAgaWYgKHBvaW50SW5UcmlhbmdsZShhLngsIGEueSwgYi54LCBiLnksIGMueCwgYy55LCBwLngsIHAueSkgJiZcbiAgICAgICAgICAgIGFyZWEocC5wcmV2LCBwLCBwLm5leHQpID49IDApIHJldHVybiBmYWxzZTtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gaXNFYXJIYXNoZWQoZWFyLCBtaW5YLCBtaW5ZLCBpbnZTaXplKSB7XG4gICAgdmFyIGEgPSBlYXIucHJldixcbiAgICAgICAgYiA9IGVhcixcbiAgICAgICAgYyA9IGVhci5uZXh0O1xuXG4gICAgaWYgKGFyZWEoYSwgYiwgYykgPj0gMCkgcmV0dXJuIGZhbHNlOyAvLyByZWZsZXgsIGNhbid0IGJlIGFuIGVhclxuXG4gICAgLy8gdHJpYW5nbGUgYmJveDsgbWluICYgbWF4IGFyZSBjYWxjdWxhdGVkIGxpa2UgdGhpcyBmb3Igc3BlZWRcbiAgICB2YXIgbWluVFggPSBhLnggPCBiLnggPyAoYS54IDwgYy54ID8gYS54IDogYy54KSA6IChiLnggPCBjLnggPyBiLnggOiBjLngpLFxuICAgICAgICBtaW5UWSA9IGEueSA8IGIueSA/IChhLnkgPCBjLnkgPyBhLnkgOiBjLnkpIDogKGIueSA8IGMueSA/IGIueSA6IGMueSksXG4gICAgICAgIG1heFRYID0gYS54ID4gYi54ID8gKGEueCA+IGMueCA/IGEueCA6IGMueCkgOiAoYi54ID4gYy54ID8gYi54IDogYy54KSxcbiAgICAgICAgbWF4VFkgPSBhLnkgPiBiLnkgPyAoYS55ID4gYy55ID8gYS55IDogYy55KSA6IChiLnkgPiBjLnkgPyBiLnkgOiBjLnkpO1xuXG4gICAgLy8gei1vcmRlciByYW5nZSBmb3IgdGhlIGN1cnJlbnQgdHJpYW5nbGUgYmJveDtcbiAgICB2YXIgbWluWiA9IHpPcmRlcihtaW5UWCwgbWluVFksIG1pblgsIG1pblksIGludlNpemUpLFxuICAgICAgICBtYXhaID0gek9yZGVyKG1heFRYLCBtYXhUWSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG5cbiAgICB2YXIgcCA9IGVhci5wcmV2WixcbiAgICAgICAgbiA9IGVhci5uZXh0WjtcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIGluIGJvdGggZGlyZWN0aW9uc1xuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aICYmIG4gJiYgbi56IDw9IG1heFopIHtcbiAgICAgICAgaWYgKHAgIT09IGVhci5wcmV2ICYmIHAgIT09IGVhci5uZXh0ICYmXG4gICAgICAgICAgICBwb2ludEluVHJpYW5nbGUoYS54LCBhLnksIGIueCwgYi55LCBjLngsIGMueSwgcC54LCBwLnkpICYmXG4gICAgICAgICAgICBhcmVhKHAucHJldiwgcCwgcC5uZXh0KSA+PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHAgPSBwLnByZXZaO1xuXG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGRlY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChwICYmIHAueiA+PSBtaW5aKSB7XG4gICAgICAgIGlmIChwICE9PSBlYXIucHJldiAmJiBwICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIHAueCwgcC55KSAmJlxuICAgICAgICAgICAgYXJlYShwLnByZXYsIHAsIHAubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBwID0gcC5wcmV2WjtcbiAgICB9XG5cbiAgICAvLyBsb29rIGZvciByZW1haW5pbmcgcG9pbnRzIGluIGluY3JlYXNpbmcgei1vcmRlclxuICAgIHdoaWxlIChuICYmIG4ueiA8PSBtYXhaKSB7XG4gICAgICAgIGlmIChuICE9PSBlYXIucHJldiAmJiBuICE9PSBlYXIubmV4dCAmJlxuICAgICAgICAgICAgcG9pbnRJblRyaWFuZ2xlKGEueCwgYS55LCBiLngsIGIueSwgYy54LCBjLnksIG4ueCwgbi55KSAmJlxuICAgICAgICAgICAgYXJlYShuLnByZXYsIG4sIG4ubmV4dCkgPj0gMCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBuID0gbi5uZXh0WjtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gZ28gdGhyb3VnaCBhbGwgcG9seWdvbiBub2RlcyBhbmQgY3VyZSBzbWFsbCBsb2NhbCBzZWxmLWludGVyc2VjdGlvbnNcbmZ1bmN0aW9uIGN1cmVMb2NhbEludGVyc2VjdGlvbnMoc3RhcnQsIHRyaWFuZ2xlcywgZGltKSB7XG4gICAgdmFyIHAgPSBzdGFydDtcbiAgICBkbyB7XG4gICAgICAgIHZhciBhID0gcC5wcmV2LFxuICAgICAgICAgICAgYiA9IHAubmV4dC5uZXh0O1xuXG4gICAgICAgIGlmICghZXF1YWxzKGEsIGIpICYmIGludGVyc2VjdHMoYSwgcCwgcC5uZXh0LCBiKSAmJiBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkpIHtcblxuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2goYS5pIC8gZGltKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKHAuaSAvIGRpbSk7XG4gICAgICAgICAgICB0cmlhbmdsZXMucHVzaChiLmkgLyBkaW0pO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgdHdvIG5vZGVzIGludm9sdmVkXG4gICAgICAgICAgICByZW1vdmVOb2RlKHApO1xuICAgICAgICAgICAgcmVtb3ZlTm9kZShwLm5leHQpO1xuXG4gICAgICAgICAgICBwID0gc3RhcnQgPSBiO1xuICAgICAgICB9XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gc3RhcnQpO1xuXG4gICAgcmV0dXJuIHA7XG59XG5cbi8vIHRyeSBzcGxpdHRpbmcgcG9seWdvbiBpbnRvIHR3byBhbmQgdHJpYW5ndWxhdGUgdGhlbSBpbmRlcGVuZGVudGx5XG5mdW5jdGlvbiBzcGxpdEVhcmN1dChzdGFydCwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICAvLyBsb29rIGZvciBhIHZhbGlkIGRpYWdvbmFsIHRoYXQgZGl2aWRlcyB0aGUgcG9seWdvbiBpbnRvIHR3b1xuICAgIHZhciBhID0gc3RhcnQ7XG4gICAgZG8ge1xuICAgICAgICB2YXIgYiA9IGEubmV4dC5uZXh0O1xuICAgICAgICB3aGlsZSAoYiAhPT0gYS5wcmV2KSB7XG4gICAgICAgICAgICBpZiAoYS5pICE9PSBiLmkgJiYgaXNWYWxpZERpYWdvbmFsKGEsIGIpKSB7XG4gICAgICAgICAgICAgICAgLy8gc3BsaXQgdGhlIHBvbHlnb24gaW4gdHdvIGJ5IHRoZSBkaWFnb25hbFxuICAgICAgICAgICAgICAgIHZhciBjID0gc3BsaXRQb2x5Z29uKGEsIGIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZmlsdGVyIGNvbGluZWFyIHBvaW50cyBhcm91bmQgdGhlIGN1dHNcbiAgICAgICAgICAgICAgICBhID0gZmlsdGVyUG9pbnRzKGEsIGEubmV4dCk7XG4gICAgICAgICAgICAgICAgYyA9IGZpbHRlclBvaW50cyhjLCBjLm5leHQpO1xuXG4gICAgICAgICAgICAgICAgLy8gcnVuIGVhcmN1dCBvbiBlYWNoIGhhbGZcbiAgICAgICAgICAgICAgICBlYXJjdXRMaW5rZWQoYSwgdHJpYW5nbGVzLCBkaW0sIG1pblgsIG1pblksIGludlNpemUpO1xuICAgICAgICAgICAgICAgIGVhcmN1dExpbmtlZChjLCB0cmlhbmdsZXMsIGRpbSwgbWluWCwgbWluWSwgaW52U2l6ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYiA9IGIubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBhID0gYS5uZXh0O1xuICAgIH0gd2hpbGUgKGEgIT09IHN0YXJ0KTtcbn1cblxuLy8gbGluayBldmVyeSBob2xlIGludG8gdGhlIG91dGVyIGxvb3AsIHByb2R1Y2luZyBhIHNpbmdsZS1yaW5nIHBvbHlnb24gd2l0aG91dCBob2xlc1xuZnVuY3Rpb24gZWxpbWluYXRlSG9sZXMoZGF0YSwgaG9sZUluZGljZXMsIG91dGVyTm9kZSwgZGltKSB7XG4gICAgdmFyIHF1ZXVlID0gW10sXG4gICAgICAgIGksIGxlbiwgc3RhcnQsIGVuZCwgbGlzdDtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IGhvbGVJbmRpY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgIGVuZCA9IGkgPCBsZW4gLSAxID8gaG9sZUluZGljZXNbaSArIDFdICogZGltIDogZGF0YS5sZW5ndGg7XG4gICAgICAgIGxpc3QgPSBsaW5rZWRMaXN0KGRhdGEsIHN0YXJ0LCBlbmQsIGRpbSwgZmFsc2UpO1xuICAgICAgICBpZiAobGlzdCA9PT0gbGlzdC5uZXh0KSBsaXN0LnN0ZWluZXIgPSB0cnVlO1xuICAgICAgICBxdWV1ZS5wdXNoKGdldExlZnRtb3N0KGxpc3QpKTtcbiAgICB9XG5cbiAgICBxdWV1ZS5zb3J0KGNvbXBhcmVYKTtcblxuICAgIC8vIHByb2Nlc3MgaG9sZXMgZnJvbSBsZWZ0IHRvIHJpZ2h0XG4gICAgZm9yIChpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGVsaW1pbmF0ZUhvbGUocXVldWVbaV0sIG91dGVyTm9kZSk7XG4gICAgICAgIG91dGVyTm9kZSA9IGZpbHRlclBvaW50cyhvdXRlck5vZGUsIG91dGVyTm9kZS5uZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0ZXJOb2RlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlWChhLCBiKSB7XG4gICAgcmV0dXJuIGEueCAtIGIueDtcbn1cblxuLy8gZmluZCBhIGJyaWRnZSBiZXR3ZWVuIHZlcnRpY2VzIHRoYXQgY29ubmVjdHMgaG9sZSB3aXRoIGFuIG91dGVyIHJpbmcgYW5kIGFuZCBsaW5rIGl0XG5mdW5jdGlvbiBlbGltaW5hdGVIb2xlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIG91dGVyTm9kZSA9IGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSk7XG4gICAgaWYgKG91dGVyTm9kZSkge1xuICAgICAgICB2YXIgYiA9IHNwbGl0UG9seWdvbihvdXRlck5vZGUsIGhvbGUpO1xuICAgICAgICBmaWx0ZXJQb2ludHMoYiwgYi5uZXh0KTtcbiAgICB9XG59XG5cbi8vIERhdmlkIEViZXJseSdzIGFsZ29yaXRobSBmb3IgZmluZGluZyBhIGJyaWRnZSBiZXR3ZWVuIGhvbGUgYW5kIG91dGVyIHBvbHlnb25cbmZ1bmN0aW9uIGZpbmRIb2xlQnJpZGdlKGhvbGUsIG91dGVyTm9kZSkge1xuICAgIHZhciBwID0gb3V0ZXJOb2RlLFxuICAgICAgICBoeCA9IGhvbGUueCxcbiAgICAgICAgaHkgPSBob2xlLnksXG4gICAgICAgIHF4ID0gLUluZmluaXR5LFxuICAgICAgICBtO1xuXG4gICAgLy8gZmluZCBhIHNlZ21lbnQgaW50ZXJzZWN0ZWQgYnkgYSByYXkgZnJvbSB0aGUgaG9sZSdzIGxlZnRtb3N0IHBvaW50IHRvIHRoZSBsZWZ0O1xuICAgIC8vIHNlZ21lbnQncyBlbmRwb2ludCB3aXRoIGxlc3NlciB4IHdpbGwgYmUgcG90ZW50aWFsIGNvbm5lY3Rpb24gcG9pbnRcbiAgICBkbyB7XG4gICAgICAgIGlmIChoeSA8PSBwLnkgJiYgaHkgPj0gcC5uZXh0LnkgJiYgcC5uZXh0LnkgIT09IHAueSkge1xuICAgICAgICAgICAgdmFyIHggPSBwLnggKyAoaHkgLSBwLnkpICogKHAubmV4dC54IC0gcC54KSAvIChwLm5leHQueSAtIHAueSk7XG4gICAgICAgICAgICBpZiAoeCA8PSBoeCAmJiB4ID4gcXgpIHtcbiAgICAgICAgICAgICAgICBxeCA9IHg7XG4gICAgICAgICAgICAgICAgaWYgKHggPT09IGh4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoeSA9PT0gcC55KSByZXR1cm4gcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh5ID09PSBwLm5leHQueSkgcmV0dXJuIHAubmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbSA9IHAueCA8IHAubmV4dC54ID8gcCA6IHAubmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IG91dGVyTm9kZSk7XG5cbiAgICBpZiAoIW0pIHJldHVybiBudWxsO1xuXG4gICAgaWYgKGh4ID09PSBxeCkgcmV0dXJuIG0ucHJldjsgLy8gaG9sZSB0b3VjaGVzIG91dGVyIHNlZ21lbnQ7IHBpY2sgbG93ZXIgZW5kcG9pbnRcblxuICAgIC8vIGxvb2sgZm9yIHBvaW50cyBpbnNpZGUgdGhlIHRyaWFuZ2xlIG9mIGhvbGUgcG9pbnQsIHNlZ21lbnQgaW50ZXJzZWN0aW9uIGFuZCBlbmRwb2ludDtcbiAgICAvLyBpZiB0aGVyZSBhcmUgbm8gcG9pbnRzIGZvdW5kLCB3ZSBoYXZlIGEgdmFsaWQgY29ubmVjdGlvbjtcbiAgICAvLyBvdGhlcndpc2UgY2hvb3NlIHRoZSBwb2ludCBvZiB0aGUgbWluaW11bSBhbmdsZSB3aXRoIHRoZSByYXkgYXMgY29ubmVjdGlvbiBwb2ludFxuXG4gICAgdmFyIHN0b3AgPSBtLFxuICAgICAgICBteCA9IG0ueCxcbiAgICAgICAgbXkgPSBtLnksXG4gICAgICAgIHRhbk1pbiA9IEluZmluaXR5LFxuICAgICAgICB0YW47XG5cbiAgICBwID0gbS5uZXh0O1xuXG4gICAgd2hpbGUgKHAgIT09IHN0b3ApIHtcbiAgICAgICAgaWYgKGh4ID49IHAueCAmJiBwLnggPj0gbXggJiYgaHggIT09IHAueCAmJlxuICAgICAgICAgICAgICAgIHBvaW50SW5UcmlhbmdsZShoeSA8IG15ID8gaHggOiBxeCwgaHksIG14LCBteSwgaHkgPCBteSA/IHF4IDogaHgsIGh5LCBwLngsIHAueSkpIHtcblxuICAgICAgICAgICAgdGFuID0gTWF0aC5hYnMoaHkgLSBwLnkpIC8gKGh4IC0gcC54KTsgLy8gdGFuZ2VudGlhbFxuXG4gICAgICAgICAgICBpZiAoKHRhbiA8IHRhbk1pbiB8fCAodGFuID09PSB0YW5NaW4gJiYgcC54ID4gbS54KSkgJiYgbG9jYWxseUluc2lkZShwLCBob2xlKSkge1xuICAgICAgICAgICAgICAgIG0gPSBwO1xuICAgICAgICAgICAgICAgIHRhbk1pbiA9IHRhbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG07XG59XG5cbi8vIGludGVybGluayBwb2x5Z29uIG5vZGVzIGluIHotb3JkZXJcbmZ1bmN0aW9uIGluZGV4Q3VydmUoc3RhcnQsIG1pblgsIG1pblksIGludlNpemUpIHtcbiAgICB2YXIgcCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueiA9PT0gbnVsbCkgcC56ID0gek9yZGVyKHAueCwgcC55LCBtaW5YLCBtaW5ZLCBpbnZTaXplKTtcbiAgICAgICAgcC5wcmV2WiA9IHAucHJldjtcbiAgICAgICAgcC5uZXh0WiA9IHAubmV4dDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICBwLnByZXZaLm5leHRaID0gbnVsbDtcbiAgICBwLnByZXZaID0gbnVsbDtcblxuICAgIHNvcnRMaW5rZWQocCk7XG59XG5cbi8vIFNpbW9uIFRhdGhhbSdzIGxpbmtlZCBsaXN0IG1lcmdlIHNvcnQgYWxnb3JpdGhtXG4vLyBodHRwOi8vd3d3LmNoaWFyay5ncmVlbmVuZC5vcmcudWsvfnNndGF0aGFtL2FsZ29yaXRobXMvbGlzdHNvcnQuaHRtbFxuZnVuY3Rpb24gc29ydExpbmtlZChsaXN0KSB7XG4gICAgdmFyIGksIHAsIHEsIGUsIHRhaWwsIG51bU1lcmdlcywgcFNpemUsIHFTaXplLFxuICAgICAgICBpblNpemUgPSAxO1xuXG4gICAgZG8ge1xuICAgICAgICBwID0gbGlzdDtcbiAgICAgICAgbGlzdCA9IG51bGw7XG4gICAgICAgIHRhaWwgPSBudWxsO1xuICAgICAgICBudW1NZXJnZXMgPSAwO1xuXG4gICAgICAgIHdoaWxlIChwKSB7XG4gICAgICAgICAgICBudW1NZXJnZXMrKztcbiAgICAgICAgICAgIHEgPSBwO1xuICAgICAgICAgICAgcFNpemUgPSAwO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGluU2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcFNpemUrKztcbiAgICAgICAgICAgICAgICBxID0gcS5uZXh0WjtcbiAgICAgICAgICAgICAgICBpZiAoIXEpIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcVNpemUgPSBpblNpemU7XG5cbiAgICAgICAgICAgIHdoaWxlIChwU2l6ZSA+IDAgfHwgKHFTaXplID4gMCAmJiBxKSkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBTaXplICE9PSAwICYmIChxU2l6ZSA9PT0gMCB8fCAhcSB8fCBwLnogPD0gcS56KSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gcDtcbiAgICAgICAgICAgICAgICAgICAgcCA9IHAubmV4dFo7XG4gICAgICAgICAgICAgICAgICAgIHBTaXplLS07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZSA9IHE7XG4gICAgICAgICAgICAgICAgICAgIHEgPSBxLm5leHRaO1xuICAgICAgICAgICAgICAgICAgICBxU2l6ZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0YWlsKSB0YWlsLm5leHRaID0gZTtcbiAgICAgICAgICAgICAgICBlbHNlIGxpc3QgPSBlO1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2WiA9IHRhaWw7XG4gICAgICAgICAgICAgICAgdGFpbCA9IGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHAgPSBxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbC5uZXh0WiA9IG51bGw7XG4gICAgICAgIGluU2l6ZSAqPSAyO1xuXG4gICAgfSB3aGlsZSAobnVtTWVyZ2VzID4gMSk7XG5cbiAgICByZXR1cm4gbGlzdDtcbn1cblxuLy8gei1vcmRlciBvZiBhIHBvaW50IGdpdmVuIGNvb3JkcyBhbmQgaW52ZXJzZSBvZiB0aGUgbG9uZ2VyIHNpZGUgb2YgZGF0YSBiYm94XG5mdW5jdGlvbiB6T3JkZXIoeCwgeSwgbWluWCwgbWluWSwgaW52U2l6ZSkge1xuICAgIC8vIGNvb3JkcyBhcmUgdHJhbnNmb3JtZWQgaW50byBub24tbmVnYXRpdmUgMTUtYml0IGludGVnZXIgcmFuZ2VcbiAgICB4ID0gMzI3NjcgKiAoeCAtIG1pblgpICogaW52U2l6ZTtcbiAgICB5ID0gMzI3NjcgKiAoeSAtIG1pblkpICogaW52U2l6ZTtcblxuICAgIHggPSAoeCB8ICh4IDw8IDgpKSAmIDB4MDBGRjAwRkY7XG4gICAgeCA9ICh4IHwgKHggPDwgNCkpICYgMHgwRjBGMEYwRjtcbiAgICB4ID0gKHggfCAoeCA8PCAyKSkgJiAweDMzMzMzMzMzO1xuICAgIHggPSAoeCB8ICh4IDw8IDEpKSAmIDB4NTU1NTU1NTU7XG5cbiAgICB5ID0gKHkgfCAoeSA8PCA4KSkgJiAweDAwRkYwMEZGO1xuICAgIHkgPSAoeSB8ICh5IDw8IDQpKSAmIDB4MEYwRjBGMEY7XG4gICAgeSA9ICh5IHwgKHkgPDwgMikpICYgMHgzMzMzMzMzMztcbiAgICB5ID0gKHkgfCAoeSA8PCAxKSkgJiAweDU1NTU1NTU1O1xuXG4gICAgcmV0dXJuIHggfCAoeSA8PCAxKTtcbn1cblxuLy8gZmluZCB0aGUgbGVmdG1vc3Qgbm9kZSBvZiBhIHBvbHlnb24gcmluZ1xuZnVuY3Rpb24gZ2V0TGVmdG1vc3Qoc3RhcnQpIHtcbiAgICB2YXIgcCA9IHN0YXJ0LFxuICAgICAgICBsZWZ0bW9zdCA9IHN0YXJ0O1xuICAgIGRvIHtcbiAgICAgICAgaWYgKHAueCA8IGxlZnRtb3N0LngpIGxlZnRtb3N0ID0gcDtcbiAgICAgICAgcCA9IHAubmV4dDtcbiAgICB9IHdoaWxlIChwICE9PSBzdGFydCk7XG5cbiAgICByZXR1cm4gbGVmdG1vc3Q7XG59XG5cbi8vIGNoZWNrIGlmIGEgcG9pbnQgbGllcyB3aXRoaW4gYSBjb252ZXggdHJpYW5nbGVcbmZ1bmN0aW9uIHBvaW50SW5UcmlhbmdsZShheCwgYXksIGJ4LCBieSwgY3gsIGN5LCBweCwgcHkpIHtcbiAgICByZXR1cm4gKGN4IC0gcHgpICogKGF5IC0gcHkpIC0gKGF4IC0gcHgpICogKGN5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGF4IC0gcHgpICogKGJ5IC0gcHkpIC0gKGJ4IC0gcHgpICogKGF5IC0gcHkpID49IDAgJiZcbiAgICAgICAgICAgKGJ4IC0gcHgpICogKGN5IC0gcHkpIC0gKGN4IC0gcHgpICogKGJ5IC0gcHkpID49IDA7XG59XG5cbi8vIGNoZWNrIGlmIGEgZGlhZ29uYWwgYmV0d2VlbiB0d28gcG9seWdvbiBub2RlcyBpcyB2YWxpZCAobGllcyBpbiBwb2x5Z29uIGludGVyaW9yKVxuZnVuY3Rpb24gaXNWYWxpZERpYWdvbmFsKGEsIGIpIHtcbiAgICByZXR1cm4gYS5uZXh0LmkgIT09IGIuaSAmJiBhLnByZXYuaSAhPT0gYi5pICYmICFpbnRlcnNlY3RzUG9seWdvbihhLCBiKSAmJlxuICAgICAgICAgICBsb2NhbGx5SW5zaWRlKGEsIGIpICYmIGxvY2FsbHlJbnNpZGUoYiwgYSkgJiYgbWlkZGxlSW5zaWRlKGEsIGIpO1xufVxuXG4vLyBzaWduZWQgYXJlYSBvZiBhIHRyaWFuZ2xlXG5mdW5jdGlvbiBhcmVhKHAsIHEsIHIpIHtcbiAgICByZXR1cm4gKHEueSAtIHAueSkgKiAoci54IC0gcS54KSAtIChxLnggLSBwLngpICogKHIueSAtIHEueSk7XG59XG5cbi8vIGNoZWNrIGlmIHR3byBwb2ludHMgYXJlIGVxdWFsXG5mdW5jdGlvbiBlcXVhbHMocDEsIHAyKSB7XG4gICAgcmV0dXJuIHAxLnggPT09IHAyLnggJiYgcDEueSA9PT0gcDIueTtcbn1cblxuLy8gY2hlY2sgaWYgdHdvIHNlZ21lbnRzIGludGVyc2VjdFxuZnVuY3Rpb24gaW50ZXJzZWN0cyhwMSwgcTEsIHAyLCBxMikge1xuICAgIGlmICgoZXF1YWxzKHAxLCBxMSkgJiYgZXF1YWxzKHAyLCBxMikpIHx8XG4gICAgICAgIChlcXVhbHMocDEsIHEyKSAmJiBlcXVhbHMocDIsIHExKSkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBhcmVhKHAxLCBxMSwgcDIpID4gMCAhPT0gYXJlYShwMSwgcTEsIHEyKSA+IDAgJiZcbiAgICAgICAgICAgYXJlYShwMiwgcTIsIHAxKSA+IDAgIT09IGFyZWEocDIsIHEyLCBxMSkgPiAwO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaW50ZXJzZWN0cyBhbnkgcG9seWdvbiBzZWdtZW50c1xuZnVuY3Rpb24gaW50ZXJzZWN0c1BvbHlnb24oYSwgYikge1xuICAgIHZhciBwID0gYTtcbiAgICBkbyB7XG4gICAgICAgIGlmIChwLmkgIT09IGEuaSAmJiBwLm5leHQuaSAhPT0gYS5pICYmIHAuaSAhPT0gYi5pICYmIHAubmV4dC5pICE9PSBiLmkgJiZcbiAgICAgICAgICAgICAgICBpbnRlcnNlY3RzKHAsIHAubmV4dCwgYSwgYikpIHJldHVybiB0cnVlO1xuICAgICAgICBwID0gcC5uZXh0O1xuICAgIH0gd2hpbGUgKHAgIT09IGEpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBjaGVjayBpZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgbG9jYWxseSBpbnNpZGUgdGhlIHBvbHlnb25cbmZ1bmN0aW9uIGxvY2FsbHlJbnNpZGUoYSwgYikge1xuICAgIHJldHVybiBhcmVhKGEucHJldiwgYSwgYS5uZXh0KSA8IDAgP1xuICAgICAgICBhcmVhKGEsIGIsIGEubmV4dCkgPj0gMCAmJiBhcmVhKGEsIGEucHJldiwgYikgPj0gMCA6XG4gICAgICAgIGFyZWEoYSwgYiwgYS5wcmV2KSA8IDAgfHwgYXJlYShhLCBhLm5leHQsIGIpIDwgMDtcbn1cblxuLy8gY2hlY2sgaWYgdGhlIG1pZGRsZSBwb2ludCBvZiBhIHBvbHlnb24gZGlhZ29uYWwgaXMgaW5zaWRlIHRoZSBwb2x5Z29uXG5mdW5jdGlvbiBtaWRkbGVJbnNpZGUoYSwgYikge1xuICAgIHZhciBwID0gYSxcbiAgICAgICAgaW5zaWRlID0gZmFsc2UsXG4gICAgICAgIHB4ID0gKGEueCArIGIueCkgLyAyLFxuICAgICAgICBweSA9IChhLnkgKyBiLnkpIC8gMjtcbiAgICBkbyB7XG4gICAgICAgIGlmICgoKHAueSA+IHB5KSAhPT0gKHAubmV4dC55ID4gcHkpKSAmJiBwLm5leHQueSAhPT0gcC55ICYmXG4gICAgICAgICAgICAgICAgKHB4IDwgKHAubmV4dC54IC0gcC54KSAqIChweSAtIHAueSkgLyAocC5uZXh0LnkgLSBwLnkpICsgcC54KSlcbiAgICAgICAgICAgIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgICAgIHAgPSBwLm5leHQ7XG4gICAgfSB3aGlsZSAocCAhPT0gYSk7XG5cbiAgICByZXR1cm4gaW5zaWRlO1xufVxuXG4vLyBsaW5rIHR3byBwb2x5Z29uIHZlcnRpY2VzIHdpdGggYSBicmlkZ2U7IGlmIHRoZSB2ZXJ0aWNlcyBiZWxvbmcgdG8gdGhlIHNhbWUgcmluZywgaXQgc3BsaXRzIHBvbHlnb24gaW50byB0d287XG4vLyBpZiBvbmUgYmVsb25ncyB0byB0aGUgb3V0ZXIgcmluZyBhbmQgYW5vdGhlciB0byBhIGhvbGUsIGl0IG1lcmdlcyBpdCBpbnRvIGEgc2luZ2xlIHJpbmdcbmZ1bmN0aW9uIHNwbGl0UG9seWdvbihhLCBiKSB7XG4gICAgdmFyIGEyID0gbmV3IE5vZGUoYS5pLCBhLngsIGEueSksXG4gICAgICAgIGIyID0gbmV3IE5vZGUoYi5pLCBiLngsIGIueSksXG4gICAgICAgIGFuID0gYS5uZXh0LFxuICAgICAgICBicCA9IGIucHJldjtcblxuICAgIGEubmV4dCA9IGI7XG4gICAgYi5wcmV2ID0gYTtcblxuICAgIGEyLm5leHQgPSBhbjtcbiAgICBhbi5wcmV2ID0gYTI7XG5cbiAgICBiMi5uZXh0ID0gYTI7XG4gICAgYTIucHJldiA9IGIyO1xuXG4gICAgYnAubmV4dCA9IGIyO1xuICAgIGIyLnByZXYgPSBicDtcblxuICAgIHJldHVybiBiMjtcbn1cblxuLy8gY3JlYXRlIGEgbm9kZSBhbmQgb3B0aW9uYWxseSBsaW5rIGl0IHdpdGggcHJldmlvdXMgb25lIChpbiBhIGNpcmN1bGFyIGRvdWJseSBsaW5rZWQgbGlzdClcbmZ1bmN0aW9uIGluc2VydE5vZGUoaSwgeCwgeSwgbGFzdCkge1xuICAgIHZhciBwID0gbmV3IE5vZGUoaSwgeCwgeSk7XG5cbiAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgcC5wcmV2ID0gcDtcbiAgICAgICAgcC5uZXh0ID0gcDtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHAubmV4dCA9IGxhc3QubmV4dDtcbiAgICAgICAgcC5wcmV2ID0gbGFzdDtcbiAgICAgICAgbGFzdC5uZXh0LnByZXYgPSBwO1xuICAgICAgICBsYXN0Lm5leHQgPSBwO1xuICAgIH1cbiAgICByZXR1cm4gcDtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTm9kZShwKSB7XG4gICAgcC5uZXh0LnByZXYgPSBwLnByZXY7XG4gICAgcC5wcmV2Lm5leHQgPSBwLm5leHQ7XG5cbiAgICBpZiAocC5wcmV2WikgcC5wcmV2Wi5uZXh0WiA9IHAubmV4dFo7XG4gICAgaWYgKHAubmV4dFopIHAubmV4dFoucHJldlogPSBwLnByZXZaO1xufVxuXG5mdW5jdGlvbiBOb2RlKGksIHgsIHkpIHtcbiAgICAvLyB2ZXJ0ZXggaW5kZXggaW4gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICB0aGlzLmkgPSBpO1xuXG4gICAgLy8gdmVydGV4IGNvb3JkaW5hdGVzXG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLy8gcHJldmlvdXMgYW5kIG5leHQgdmVydGV4IG5vZGVzIGluIGEgcG9seWdvbiByaW5nXG4gICAgdGhpcy5wcmV2ID0gbnVsbDtcbiAgICB0aGlzLm5leHQgPSBudWxsO1xuXG4gICAgLy8gei1vcmRlciBjdXJ2ZSB2YWx1ZVxuICAgIHRoaXMueiA9IG51bGw7XG5cbiAgICAvLyBwcmV2aW91cyBhbmQgbmV4dCBub2RlcyBpbiB6LW9yZGVyXG4gICAgdGhpcy5wcmV2WiA9IG51bGw7XG4gICAgdGhpcy5uZXh0WiA9IG51bGw7XG5cbiAgICAvLyBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGlzIGEgc3RlaW5lciBwb2ludFxuICAgIHRoaXMuc3RlaW5lciA9IGZhbHNlO1xufVxuXG4vLyByZXR1cm4gYSBwZXJjZW50YWdlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgcG9seWdvbiBhcmVhIGFuZCBpdHMgdHJpYW5ndWxhdGlvbiBhcmVhO1xuLy8gdXNlZCB0byB2ZXJpZnkgY29ycmVjdG5lc3Mgb2YgdHJpYW5ndWxhdGlvblxuZWFyY3V0LmRldmlhdGlvbiA9IGZ1bmN0aW9uIChkYXRhLCBob2xlSW5kaWNlcywgZGltLCB0cmlhbmdsZXMpIHtcbiAgICB2YXIgaGFzSG9sZXMgPSBob2xlSW5kaWNlcyAmJiBob2xlSW5kaWNlcy5sZW5ndGg7XG4gICAgdmFyIG91dGVyTGVuID0gaGFzSG9sZXMgPyBob2xlSW5kaWNlc1swXSAqIGRpbSA6IGRhdGEubGVuZ3RoO1xuXG4gICAgdmFyIHBvbHlnb25BcmVhID0gTWF0aC5hYnMoc2lnbmVkQXJlYShkYXRhLCAwLCBvdXRlckxlbiwgZGltKSk7XG4gICAgaWYgKGhhc0hvbGVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBob2xlSW5kaWNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gaG9sZUluZGljZXNbaV0gKiBkaW07XG4gICAgICAgICAgICB2YXIgZW5kID0gaSA8IGxlbiAtIDEgPyBob2xlSW5kaWNlc1tpICsgMV0gKiBkaW0gOiBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25BcmVhIC09IE1hdGguYWJzKHNpZ25lZEFyZWEoZGF0YSwgc3RhcnQsIGVuZCwgZGltKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdHJpYW5nbGVzQXJlYSA9IDA7XG4gICAgZm9yIChpID0gMDsgaSA8IHRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICB2YXIgYSA9IHRyaWFuZ2xlc1tpXSAqIGRpbTtcbiAgICAgICAgdmFyIGIgPSB0cmlhbmdsZXNbaSArIDFdICogZGltO1xuICAgICAgICB2YXIgYyA9IHRyaWFuZ2xlc1tpICsgMl0gKiBkaW07XG4gICAgICAgIHRyaWFuZ2xlc0FyZWEgKz0gTWF0aC5hYnMoXG4gICAgICAgICAgICAoZGF0YVthXSAtIGRhdGFbY10pICogKGRhdGFbYiArIDFdIC0gZGF0YVthICsgMV0pIC1cbiAgICAgICAgICAgIChkYXRhW2FdIC0gZGF0YVtiXSkgKiAoZGF0YVtjICsgMV0gLSBkYXRhW2EgKyAxXSkpO1xuICAgIH1cblxuICAgIHJldHVybiBwb2x5Z29uQXJlYSA9PT0gMCAmJiB0cmlhbmdsZXNBcmVhID09PSAwID8gMCA6XG4gICAgICAgIE1hdGguYWJzKCh0cmlhbmdsZXNBcmVhIC0gcG9seWdvbkFyZWEpIC8gcG9seWdvbkFyZWEpO1xufTtcblxuZnVuY3Rpb24gc2lnbmVkQXJlYShkYXRhLCBzdGFydCwgZW5kLCBkaW0pIHtcbiAgICB2YXIgc3VtID0gMDtcbiAgICBmb3IgKHZhciBpID0gc3RhcnQsIGogPSBlbmQgLSBkaW07IGkgPCBlbmQ7IGkgKz0gZGltKSB7XG4gICAgICAgIHN1bSArPSAoZGF0YVtqXSAtIGRhdGFbaV0pICogKGRhdGFbaSArIDFdICsgZGF0YVtqICsgMV0pO1xuICAgICAgICBqID0gaTtcbiAgICB9XG4gICAgcmV0dXJuIHN1bTtcbn1cblxuLy8gdHVybiBhIHBvbHlnb24gaW4gYSBtdWx0aS1kaW1lbnNpb25hbCBhcnJheSBmb3JtIChlLmcuIGFzIGluIEdlb0pTT04pIGludG8gYSBmb3JtIEVhcmN1dCBhY2NlcHRzXG5lYXJjdXQuZmxhdHRlbiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgdmFyIGRpbSA9IGRhdGFbMF1bMF0ubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSB7dmVydGljZXM6IFtdLCBob2xlczogW10sIGRpbWVuc2lvbnM6IGRpbX0sXG4gICAgICAgIGhvbGVJbmRleCA9IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8IGRpbTsgZCsrKSByZXN1bHQudmVydGljZXMucHVzaChkYXRhW2ldW2pdW2RdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgIGhvbGVJbmRleCArPSBkYXRhW2kgLSAxXS5sZW5ndGg7XG4gICAgICAgICAgICByZXN1bHQuaG9sZXMucHVzaChob2xlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbnZhciBNaW5pU2lnbmFsQmluZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1pbmlTaWduYWxCaW5kaW5nKGZuLCBvbmNlLCB0aGlzQXJnKSB7XG4gICAgaWYgKG9uY2UgPT09IHVuZGVmaW5lZCkgb25jZSA9IGZhbHNlO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aGlzLl9vd25lci5kZXRhY2godGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbEJpbmRpbmc7XG59KSgpO1xuXG5mdW5jdGlvbiBfYWRkTWluaVNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICBpZiAoIXNlbGYuX2hlYWQpIHtcbiAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICBub2RlLl9wcmV2ID0gc2VsZi5fdGFpbDtcbiAgICBzZWxmLl90YWlsID0gbm9kZTtcbiAgfVxuXG4gIG5vZGUuX293bmVyID0gc2VsZjtcblxuICByZXR1cm4gbm9kZTtcbn1cblxudmFyIE1pbmlTaWduYWwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNaW5pU2lnbmFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNaW5pU2lnbmFsKTtcblxuICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1pbmlTaWduYWwsIFt7XG4gICAga2V5OiAnaGFuZGxlcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYW5kbGVycygpIHtcbiAgICAgIHZhciBleGlzdHMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IGFyZ3VtZW50c1swXTtcblxuICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuXG4gICAgICBpZiAoZXhpc3RzKSByZXR1cm4gISFub2RlO1xuXG4gICAgICB2YXIgZWUgPSBbXTtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgZWUucHVzaChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdoYXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoYXMobm9kZSkge1xuICAgICAgaWYgKCEobm9kZSBpbnN0YW5jZW9mIE1pbmlTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pbmlTaWduYWwjaGFzKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgTWluaVNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGlzcGF0Y2gnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLl9vbmNlKSB0aGlzLmRldGFjaChub2RlKTtcbiAgICAgICAgbm9kZS5fZm4uYXBwbHkobm9kZS5fdGhpc0FyZywgYXJndW1lbnRzKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChub2RlLl9wcmV2KSBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDtcbiAgICAgIGlmIChub2RlLl9uZXh0KSBub2RlLl9uZXh0Ll9wcmV2ID0gbm9kZS5fcHJldjtcblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuIHRoaXM7XG5cbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcblxuICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgbm9kZS5fb3duZXIgPSBudWxsO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNaW5pU2lnbmFsO1xufSkoKTtcblxuTWluaVNpZ25hbC5NaW5pU2lnbmFsQmluZGluZyA9IE1pbmlTaWduYWxCaW5kaW5nO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNaW5pU2lnbmFsO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4iLCIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwYXJzZVVSSSAoc3RyLCBvcHRzKSB7XG4gIG9wdHMgPSBvcHRzIHx8IHt9XG5cbiAgdmFyIG8gPSB7XG4gICAga2V5OiBbJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXSxcbiAgICBxOiB7XG4gICAgICBuYW1lOiAncXVlcnlLZXknLFxuICAgICAgcGFyc2VyOiAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2dcbiAgICB9LFxuICAgIHBhcnNlcjoge1xuICAgICAgc3RyaWN0OiAvXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KCgoKD86W14/I1xcL10qXFwvKSopKFtePyNdKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLFxuICAgICAgbG9vc2U6IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pL1xuICAgIH1cbiAgfVxuXG4gIHZhciBtID0gby5wYXJzZXJbb3B0cy5zdHJpY3RNb2RlID8gJ3N0cmljdCcgOiAnbG9vc2UnXS5leGVjKHN0cilcbiAgdmFyIHVyaSA9IHt9XG4gIHZhciBpID0gMTRcblxuICB3aGlsZSAoaS0tKSB1cmlbby5rZXlbaV1dID0gbVtpXSB8fCAnJ1xuXG4gIHVyaVtvLnEubmFtZV0gPSB7fVxuICB1cmlbby5rZXlbMTJdXS5yZXBsYWNlKG8ucS5wYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgaWYgKCQxKSB1cmlbby5xLm5hbWVdWyQxXSA9ICQyXG4gIH0pXG5cbiAgcmV0dXJuIHVyaVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5lYWNoU2VyaWVzID0gZWFjaFNlcmllcztcbmV4cG9ydHMucXVldWUgPSBxdWV1ZTtcbi8qKlxuICogU21hbGxlciB2ZXJzaW9uIG9mIHRoZSBhc3luYyBsaWJyYXJ5IGNvbnN0cnVjdHMuXG4gKlxuICogQG5hbWVzcGFjZSBhc3luY1xuICovXG5cbi8qKlxuICogTm9vcCBmdW5jdGlvblxuICpcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvblxuICogQG1lbWJlcm9mIGFzeW5jXG4gKi9cbmZ1bmN0aW9uIF9ub29wKCkge30gLyogZW1wdHkgKi9cblxuLyoqXG4gKiBJdGVyYXRlcyBhbiBhcnJheSBpbiBzZXJpZXMuXG4gKlxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge0FycmF5LjwqPn0gYXJyYXkgLSBBcnJheSB0byBpdGVyYXRlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBkb25lLCBvciBvbiBlcnJvci5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZmVyTmV4dD1mYWxzZV0gLSBCcmVhayBzeW5jaHJvbm91cyBlYWNoIGxvb3AgYnkgY2FsbGluZyBuZXh0IHdpdGggYSBzZXRUaW1lb3V0IG9mIDEuXG4gKi9cbmZ1bmN0aW9uIGVhY2hTZXJpZXMoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gICAgdmFyIGkgPSAwO1xuICAgIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG5cbiAgICAoZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICAgICAgaWYgKGVyciB8fCBpID09PSBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZWZlck5leHQpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yKGFycmF5W2krK10sIG5leHQpO1xuICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgfVxuICAgIH0pKCk7XG59XG5cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKlxuICogQGlnbm9yZVxuICogQG1lbWJlcm9mIGFzeW5jXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSB3cmFwcGluZyBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gb25seU9uY2UoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gICAgICAgIGlmIChmbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2FsbEZuID0gZm47XG5cbiAgICAgICAgZm4gPSBudWxsO1xuICAgICAgICBjYWxsRm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIEFzeW5jIHF1ZXVlIGltcGxlbWVudGF0aW9uLFxuICpcbiAqIEBtZW1iZXJvZiBhc3luY1xuICogQHBhcmFtIHtmdW5jdGlvbn0gd29ya2VyIC0gVGhlIHdvcmtlciBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIHRhc2suXG4gKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gKiBAcmV0dXJuIHsqfSBUaGUgYXN5bmMgcXVldWUgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBxdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gICAgaWYgKGNvbmN1cnJlbmN5ID09IG51bGwpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICBjb25jdXJyZW5jeSA9IDE7XG4gICAgfSBlbHNlIGlmIChjb25jdXJyZW5jeSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbmN1cnJlbmN5IG11c3Qgbm90IGJlIHplcm8nKTtcbiAgICB9XG5cbiAgICB2YXIgd29ya2VycyA9IDA7XG4gICAgdmFyIHEgPSB7XG4gICAgICAgIF90YXNrczogW10sXG4gICAgICAgIGNvbmN1cnJlbmN5OiBjb25jdXJyZW5jeSxcbiAgICAgICAgc2F0dXJhdGVkOiBfbm9vcCxcbiAgICAgICAgdW5zYXR1cmF0ZWQ6IF9ub29wLFxuICAgICAgICBidWZmZXI6IGNvbmN1cnJlbmN5IC8gNCxcbiAgICAgICAgZW1wdHk6IF9ub29wLFxuICAgICAgICBkcmFpbjogX25vb3AsXG4gICAgICAgIGVycm9yOiBfbm9vcCxcbiAgICAgICAgc3RhcnRlZDogZmFsc2UsXG4gICAgICAgIHBhdXNlZDogZmFsc2UsXG4gICAgICAgIHB1c2g6IGZ1bmN0aW9uIHB1c2goZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIF9pbnNlcnQoZGF0YSwgZmFsc2UsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAga2lsbDogZnVuY3Rpb24ga2lsbCgpIHtcbiAgICAgICAgICAgIHdvcmtlcnMgPSAwO1xuICAgICAgICAgICAgcS5kcmFpbiA9IF9ub29wO1xuICAgICAgICAgICAgcS5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgICAgICBxLl90YXNrcyA9IFtdO1xuICAgICAgICB9LFxuICAgICAgICB1bnNoaWZ0OiBmdW5jdGlvbiB1bnNoaWZ0KGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBfaW5zZXJ0KGRhdGEsIHRydWUsIGNhbGxiYWNrKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvY2VzczogZnVuY3Rpb24gcHJvY2VzcygpIHtcbiAgICAgICAgICAgIHdoaWxlICghcS5wYXVzZWQgJiYgd29ya2VycyA8IHEuY29uY3VycmVuY3kgJiYgcS5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhc2sgPSBxLl90YXNrcy5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHEuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBxLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgd29ya2VycyArPSAxO1xuXG4gICAgICAgICAgICAgICAgaWYgKHdvcmtlcnMgPT09IHEuY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgICAgICAgICAgcS5zYXR1cmF0ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB3b3JrZXIodGFzay5kYXRhLCBvbmx5T25jZShfbmV4dCh0YXNrKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBsZW5ndGg6IGZ1bmN0aW9uIGxlbmd0aCgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGg7XG4gICAgICAgIH0sXG4gICAgICAgIHJ1bm5pbmc6IGZ1bmN0aW9uIHJ1bm5pbmcoKSB7XG4gICAgICAgICAgICByZXR1cm4gd29ya2VycztcbiAgICAgICAgfSxcbiAgICAgICAgaWRsZTogZnVuY3Rpb24gaWRsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBxLl90YXNrcy5sZW5ndGggKyB3b3JrZXJzID09PSAwO1xuICAgICAgICB9LFxuICAgICAgICBwYXVzZTogZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XG4gICAgICAgICAgICBpZiAocS5wYXVzZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBxLnBhdXNlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBOZWVkIHRvIGNhbGwgcS5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgICAgICAgIC8vIHdvcmtlciB0byBwcmVzZXJ2ZSBmdWxsIGNvbmN1cnJlbmN5IGFmdGVyIHBhdXNlXG4gICAgICAgICAgICBmb3IgKHZhciB3ID0gMTsgdyA8PSBxLmNvbmN1cnJlbmN5OyB3KyspIHtcbiAgICAgICAgICAgICAgICBxLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBfaW5zZXJ0KGRhdGEsIGluc2VydEF0RnJvbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0YXNrIGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcS5zdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZGF0YSA9PSBudWxsICYmIHEuaWRsZSgpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICAvLyBjYWxsIGRyYWluIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyB0YXNrc1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHEuZHJhaW4oKTtcbiAgICAgICAgICAgIH0sIDEpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXRlbSA9IHtcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICBjYWxsYmFjazogdHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gY2FsbGJhY2sgOiBfbm9vcFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpbnNlcnRBdEZyb250KSB7XG4gICAgICAgICAgICBxLl90YXNrcy51bnNoaWZ0KGl0ZW0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcS5fdGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHEucHJvY2VzcygpO1xuICAgICAgICB9LCAxKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBfbmV4dCh0YXNrKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgICAgd29ya2VycyAtPSAxO1xuXG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3VtZW50cyk7XG5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICAgICAgICAgICAgICBxLmVycm9yKGFyZ3VtZW50c1swXSwgdGFzay5kYXRhKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdvcmtlcnMgPD0gcS5jb25jdXJyZW5jeSAtIHEuYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgcS51bnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocS5pZGxlKCkpIHtcbiAgICAgICAgICAgICAgICBxLmRyYWluKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHEucHJvY2VzcygpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBxO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5SZXNvdXJjZSA9IHVuZGVmaW5lZDtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9wYXJzZVVyaSA9IHJlcXVpcmUoJ3BhcnNlLXVyaScpO1xuXG52YXIgX3BhcnNlVXJpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlVXJpKTtcblxudmFyIF9taW5pU2lnbmFscyA9IHJlcXVpcmUoJ21pbmktc2lnbmFscycpO1xuXG52YXIgX21pbmlTaWduYWxzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21pbmlTaWduYWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLy8gdGVzdHMgaWYgQ09SUyBpcyBzdXBwb3J0ZWQgaW4gWEhSLCBpZiBub3Qgd2UgbmVlZCB0byB1c2UgWERSXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDtcblxuLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG52YXIgU1RBVFVTX05PTkUgPSAwO1xudmFyIFNUQVRVU19PSyA9IDIwMDtcbnZhciBTVEFUVVNfRU1QVFkgPSAyMDQ7XG52YXIgU1RBVFVTX0lFX0JVR19FTVBUWSA9IDEyMjM7XG52YXIgU1RBVFVTX1RZUEVfT0sgPSAyO1xuXG4vLyBub29wXG5mdW5jdGlvbiBfbm9vcCgpIHt9IC8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgUmVzb3VyY2UgPSBleHBvcnRzLlJlc291cmNlID0gZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gdG8gc2V0IHRoZSB0eXBlIGZvciwgZS5nLiBcInBuZ1wiIG9yIFwiZm50XCJcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cbiAgICBSZXNvdXJjZS5zZXRFeHRlbnNpb25Mb2FkVHlwZSA9IGZ1bmN0aW9uIHNldEV4dGVuc2lvbkxvYWRUeXBlKGV4dG5hbWUsIGxvYWRUeXBlKSB7XG4gICAgICAgIHNldEV4dE1hcChSZXNvdXJjZS5fbG9hZFR5cGVNYXAsIGV4dG5hbWUsIGxvYWRUeXBlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHhoclR5cGUgLSBUaGUgeGhyIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5zZXRFeHRlbnNpb25YaHJUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uWGhyVHlwZShleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgICAgIHNldEV4dE1hcChSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIGZvciBhdWRpby92aWRlbyBsb2FkcyB5b3UgY2FuIHBhc3NcbiAgICAgKiAgICAgIGFuIGFycmF5IG9mIHNvdXJjZXMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFRoZSBvcHRpb25zIGZvciB0aGUgbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xib29sZWFufSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gLSBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBEZWZhdWx0IGlzIHRvXG4gICAgICogICAgICBkZXRlcm1pbmUgYXV0b21hdGljYWxseS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMudGltZW91dD0wXSAtIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSBsb2FkLiBJZiB0aGUgbG9hZCB0YWtlc1xuICAgICAqICAgICAgbG9uZ2VyIHRoYW4gdGhpcyB0aW1lIGl0IGlzIGNhbmNlbGxlZCBhbmQgdGhlIGxvYWQgaXMgY29uc2lkZXJlZCBhIGZhaWx1cmUuIElmIHRoaXMgdmFsdWUgaXNcbiAgICAgKiAgICAgIHNldCB0byBgMGAgdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5JTWV0YWRhdGF9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICovXG5cblxuICAgIGZ1bmN0aW9uIFJlc291cmNlKG5hbWUsIHVybCwgb3B0aW9ucykge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzb3VyY2UpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBuYW1lIGFuZCB1cmwgYXJlIHJlcXVpcmVkIGZvciBjb25zdHJ1Y3RpbmcgYSByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3RhdGUgZmxhZ3Mgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZmxhZ3MgPSAwO1xuXG4gICAgICAgIC8vIHNldCBkYXRhIHVybCBmbGFnLCBuZWVkcyB0byBiZSBzZXQgZWFybHkgZm9yIHNvbWUgX2RldGVybWluZVggY2hlY2tzIHRvIHdvcmsuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMLCB1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdXJsIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBleHRlbnNpb24gdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuX2dldEV4dGVuc2lvbigpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSB0aGF0IHdhcyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHthbnl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRhdGEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJcyB0aGlzIHJlcXVlc3QgY3Jvc3Mtb3JpZ2luPyBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gb3B0aW9ucy5jcm9zc09yaWdpbiA9PT0gdHJ1ZSA/ICdhbm9ueW1vdXMnIDogb3B0aW9ucy5jcm9zc09yaWdpbjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzIGxvbmdlciB0aGFuIHRoaXMgdGltZVxuICAgICAgICAgKiBpdCBpcyBjYW5jZWxsZWQgYW5kIHRoZSBsb2FkIGlzIGNvbnNpZGVyZWQgYSBmYWlsdXJlLiBJZiB0aGlzIHZhbHVlIGlzIHNldCB0byBgMGBcbiAgICAgICAgICogdGhlbiB0aGVyZSBpcyBubyBleHBsaWNpdCB0aW1lb3V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgfHwgMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1ldGhvZCBvZiBsb2FkaW5nIHRvIHVzZSBmb3IgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2UuTE9BRF9UWVBFfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkVHlwZSA9IG9wdGlvbnMubG9hZFR5cGUgfHwgdGhpcy5fZGV0ZXJtaW5lTG9hZFR5cGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgdXNlZCB0byBsb2FkIHRoZSByZXNvdXJjZSB2aWEgWEhSLiBJZiB1bnNldCwgZGV0ZXJtaW5lZCBhdXRvbWF0aWNhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnhoclR5cGUgPSBvcHRpb25zLnhoclR5cGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4dHJhIGluZm8gZm9yIG1pZGRsZXdhcmUsIGFuZCBjb250cm9sbGluZyBzcGVjaWZpY3MgYWJvdXQgaG93IHRoZSByZXNvdXJjZSBsb2Fkcy5cbiAgICAgICAgICpcbiAgICAgICAgICogTm90ZSB0aGF0IGlmIHlvdSBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCwgdGhlIFJlc291cmNlIGNsYXNzIHRha2VzIG93bmVyc2hpcCBvZiBpdC5cbiAgICAgICAgICogTWVhbmluZyBpdCB3aWxsIG1vZGlmeSBpdCBhcyBpdCBzZWVzIGZpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2UuSU1ldGFkYXRhfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG9wdGlvbnMubWV0YWRhdGEgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBlcnJvciB0aGF0IG9jY3VycmVkIHdoaWxlIGxvYWRpbmcgKGlmIGFueSkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXJyb3IgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgWEhSIG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS4gVGhpcyBpcyBvbmx5IHNldFxuICAgICAgICAgKiB3aGVuIGBsb2FkVHlwZWAgaXMgYFJlc291cmNlLkxPQURfVFlQRS5YSFJgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7WE1MSHR0cFJlcXVlc3R9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnhociA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjaGlsZCByZXNvdXJjZXMgdGhpcyByZXNvdXJjZSBvd25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UuVFlQRS5VTktOT1dOO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcHJvZ3Jlc3MgY2h1bmsgb3duZWQgYnkgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NDaHVuayA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgZGVxdWV1ZWAgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIGFzeW5jIHF1ZXVlIGRlcXVldWUgbWV0aG9kXG4gICAgICAgICAqIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVxdWV1ZSA9IF9ub29wO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIG9uIGxvYWQgYmluZGluZyB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGltZXIgZm9yIGVsZW1lbnQgbG9hZHMgdG8gY2hlY2sgaWYgdGhleSB0aW1lb3V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGNvbXBsZXRlYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZENvbXBsZXRlID0gdGhpcy5jb21wbGV0ZS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vbkVycm9yYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uRXJyb3IgPSB0aGlzLl9vbkVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uUHJvZ3Jlc3NgIGZ1bmN0aW9uIGJvdW5kIHRvIHRoaXMgcmVzb3VyY2UncyBjb250ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25Qcm9ncmVzcyA9IHRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25UaW1lb3V0YCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uVGltZW91dCA9IHRoaXMuX29uVGltZW91dC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vIHhociBjYWxsYmFja3NcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uVGltZW91dCA9IHRoaXMuX3hock9uVGltZW91dC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uQWJvcnQgPSB0aGlzLl94aHJPbkFib3J0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25Mb2FkID0gdGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcmVzb3VyY2UgYmVpbmdzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblN0YXJ0U2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblN0YXJ0ID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIGVhY2ggdGltZSBwcm9ncmVzcyBvZiB0aGlzIHJlc291cmNlIGxvYWQgdXBkYXRlcy5cbiAgICAgICAgICogTm90IGFsbCByZXNvdXJjZXMgdHlwZXMgYW5kIGxvYWRlciBzeXN0ZW1zIGNhbiBzdXBwb3J0IHRoaXMgZXZlbnRcbiAgICAgICAgICogc28gc29tZXRpbWVzIGl0IG1heSBub3QgYmUgYXZhaWxhYmxlLiBJZiB0aGUgcmVzb3VyY2VcbiAgICAgICAgICogaXMgYmVpbmcgbG9hZGVkIG9uIGEgbW9kZXJuIGJyb3dzZXIsIHVzaW5nIFhIUiwgYW5kIHRoZSByZW1vdGUgc2VydmVyXG4gICAgICAgICAqIHByb3Blcmx5IHNldHMgQ29udGVudC1MZW5ndGggaGVhZGVycywgdGhlbiB0aGlzIHdpbGwgYmUgYXZhaWxhYmxlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgUmVzb3VyY2UuT25Qcm9ncmVzc1NpZ25hbH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1NpZ25hbH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qcm9ncmVzcyA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCBvbmNlIHRoaXMgcmVzb3VyY2UgaGFzIGxvYWRlZCwgaWYgdGhlcmUgd2FzIGFuIGVycm9yIGl0IHdpbGxcbiAgICAgICAgICogYmUgaW4gdGhlIGBlcnJvcmAgcHJvcGVydHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIGFmdGVyIHRoaXMgcmVzb3VyY2UgaGFzIGhhZCBhbGwgdGhlICphZnRlciogbWlkZGxld2FyZSBydW4gb24gaXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkFmdGVyTWlkZGxld2FyZSA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSByZXBvcnRzIGxvYWRpbmcgcHJvZ3Jlc3MuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgKiBAY2FsbGJhY2sgT25Qcm9ncmVzc1NpZ25hbFxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBSZXNvdXJjZVxuICAgICAqIEB0eXBlZGVmIHtvYmplY3R9IElNZXRhZGF0YVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgICAqICAgICAgZWxlbWVudCB0byB1c2UgZm9yIGxvYWRpbmcsIGluc3RlYWQgb2YgY3JlYXRpbmcgb25lLlxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3NraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd8c3RyaW5nW119IFttaW1lVHlwZV0gLSBUaGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIHNvdXJjZSBlbGVtZW50XG4gICAgICogICAgICBvZiBhIHZpZGVvL2F1ZGlvIGVsbWVudC4gSWYgdGhlIHVybHMgYXJlIGFuIGFycmF5LCB5b3UgY2FuIHBhc3MgdGhpcyBhcyBhbiBhcnJheSBhcyB3ZWxsXG4gICAgICogICAgICB3aGVyZSBlYWNoIGluZGV4IGlzIHRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgY29ycmVzcG9uZGluZyB1cmwgaW5kZXguXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBTdG9yZXMgd2hldGhlciBvciBub3QgdGhpcyB1cmwgaXMgYSBkYXRhIHVybC5cbiAgICAgKlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoZSByZXNvdXJjZSBhcyBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqL1xuICAgIFJlc291cmNlLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgICAgICB0aGlzLl9jbGVhckV2ZW50cygpO1xuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gdXNlIGZvciB0aGUgZXJyb3JcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgICAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIGVycm9yXG4gICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cbiAgICAgICAgLy8gY2xlYXIgZXZlbnRzIGJlZm9yZSBjYWxsaW5nIGFib3J0c1xuICAgICAgICB0aGlzLl9jbGVhckV2ZW50cygpO1xuXG4gICAgICAgIC8vIGFib3J0IHRoZSBhY3R1YWwgbG9hZGluZ1xuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIHRoaXMueGhyLmFib3J0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy54ZHIpIHtcbiAgICAgICAgICAgIHRoaXMueGRyLmFib3J0KCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgICAgICAvLyBzaW5nbGUgc291cmNlXG4gICAgICAgICAgICBpZiAodGhpcy5kYXRhLnNyYykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBSZXNvdXJjZS5FTVBUWV9HSUY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBtdWx0aS1zb3VyY2VcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5kYXRhLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVDaGlsZCh0aGlzLmRhdGEuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb25lIG5vdy5cbiAgICAgICAgdGhpcy5fZmluaXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEtpY2tzIG9mZiBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UuIFRoaXMgbWV0aG9kIGlzIGFzeW5jaHJvbm91cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NiXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGNhbGwgb25jZSB0aGUgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2IoX3RoaXMpO1xuICAgICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAoY2IpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuXG4gICAgICAgIHRoaXMub25TdGFydC5kaXNwYXRjaCh0aGlzKTtcblxuICAgICAgICAvLyBpZiB1bnNldCwgZGV0ZXJtaW5lIHRoZSB2YWx1ZVxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gZmFsc2UgfHwgdHlwZW9mIHRoaXMuY3Jvc3NPcmlnaW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLmNyb3NzT3JpZ2luID0gdGhpcy5fZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odGhpcy51cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLmxvYWRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5JTUFHRTpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLklNQUdFO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5BVURJTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLkFVRElPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCdhdWRpbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5WSURFTzpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlZJREVPO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRTb3VyY2VFbGVtZW50KCd2aWRlbycpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLkxPQURfVFlQRS5YSFI6XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICh1c2VYZHIgJiYgdGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkWGRyKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2hhc0ZsYWcgPSBmdW5jdGlvbiBfaGFzRmxhZyhmbGFnKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBmbGFnKSAhPT0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogKFVuKVNldHMgdGhlIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gV2hldGhlciB0byBzZXQgb3IgKHVuKXNldCB0aGUgZmxhZy5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9zZXRGbGFnID0gZnVuY3Rpb24gX3NldEZsYWcoZmxhZywgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSB2YWx1ZSA/IHRoaXMuX2ZsYWdzIHwgZmxhZyA6IHRoaXMuX2ZsYWdzICYgfmZsYWc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgdGhlIGV2ZW50cyBmcm9tIHRoZSB1bmRlcmx5aW5nIGxvYWRpbmcgc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9jbGVhckV2ZW50cyA9IGZ1bmN0aW9uIF9jbGVhckV2ZW50cygpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2VsZW1lbnRUaW1lcik7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YSAmJiB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMueGhyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbnRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluYWxpemVzIHRoZSBsb2FkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9maW5pc2ggPSBmdW5jdGlvbiBfZmluaXNoKCkge1xuICAgICAgICBpZiAodGhpcy5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBsZXRlIGNhbGxlZCBhZ2FpbiBmb3IgYW4gYWxyZWFkeSBjb21wbGV0ZWQgcmVzb3VyY2UuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zZXRGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcblxuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgYSBzaW5nbGUgc291cmNlLFxuICAgICAqIGxpa2UgYW4gSFRNTEltYWdlRWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkRWxlbWVudCA9IGZ1bmN0aW9uIF9sb2FkRWxlbWVudCh0eXBlKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLm1ldGFkYXRhLmxvYWRFbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbWFnZScgJiYgdHlwZW9mIHdpbmRvdy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSB0aGlzLnVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG5cbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIG11bHRpcGxlIHNvdXJjZXMsXG4gICAgICogbGlrZSBhbiBIVE1MQXVkaW9FbGVtZW50IG9yIEhUTUxWaWRlb0VsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudCB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fbG9hZFNvdXJjZUVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYXVkaW8nICYmIHR5cGVvZiB3aW5kb3cuQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCdVbnN1cHBvcnRlZCBlbGVtZW50OiAnICsgdHlwZSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLnNraXBTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIHN1cHBvcnQgZm9yIENvY29vbkpTIENhbnZhcysgcnVudGltZSwgbGFja3MgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJylcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IuaXNDb2Nvb25KUykge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5zcmMgPSBBcnJheS5pc0FycmF5KHRoaXMudXJsKSA/IHRoaXMudXJsWzBdIDogdGhpcy51cmw7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGhpcy51cmwpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1pbWVUeXBlcyA9IHRoaXMubWV0YWRhdGEubWltZVR5cGU7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIF9taW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmFwcGVuZENoaWxkKHRoaXMuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzLnVybCwgQXJyYXkuaXNBcnJheShfbWltZVR5cGVzKSA/IF9taW1lVHlwZXNbMF0gOiBfbWltZVR5cGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5kYXRhLmxvYWQoKTtcblxuICAgICAgICBpZiAodGhpcy50aW1lb3V0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSBzZXRUaW1lb3V0KHRoaXMuX2JvdW5kT25UaW1lb3V0LCB0aGlzLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhNTEh0dHBSZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkWGhyID0gZnVuY3Rpb24gX2xvYWRYaHIoKSB7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuICAgICAgICB4aHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIHhoci50aW1lb3V0ID0gdGhpcy50aW1lb3V0O1xuXG4gICAgICAgIC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgICAgIC8vICpjb3VnaCogc2FmYXJpICpjb3VnaCogY2FuJ3QgZGVhbCB3aXRoIGl0LlxuICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMueGhyVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigndGltZW91dCcsIHRoaXMuX2JvdW5kWGhyT25UaW1lb3V0LCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZFhock9uTG9hZCwgZmFsc2UpO1xuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhEb21haW5SZXF1ZXN0LiBUaGlzIGlzIGhlcmUgYmVjYXVzZSB3ZSBuZWVkIHRvIHN1cHBvcnQgSUU5IChncm9zcykuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYZHIgPSBmdW5jdGlvbiBfbG9hZFhkcigpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgeGRyID0gdGhpcy54aHIgPSBuZXcgWERvbWFpblJlcXVlc3QoKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0IGhhcyBhIGZldyBxdWlya3MuIE9jY2FzaW9uYWxseSBpdCB3aWxsIGFib3J0IHJlcXVlc3RzXG4gICAgICAgIC8vIEEgd2F5IHRvIGF2b2lkIHRoaXMgaXMgdG8gbWFrZSBzdXJlIEFMTCBjYWxsYmFja3MgYXJlIHNldCBldmVuIGlmIG5vdCB1c2VkXG4gICAgICAgIC8vIE1vcmUgaW5mbyBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE1Nzg2OTY2L3hkb21haW5yZXF1ZXN0LWFib3J0cy1wb3N0LW9uLWllLTlcbiAgICAgICAgeGRyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQgfHwgNTAwMDsgLy8gWERSIG5lZWRzIGEgdGltZW91dCB2YWx1ZSBvciBpdCBicmVha3MgaW4gSUU5XG5cbiAgICAgICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgICAgIHhkci5vbnRpbWVvdXQgPSB0aGlzLl9ib3VuZFhock9uVGltZW91dDtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcblxuICAgICAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgICAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdHMgYXJlIGJlaW5nIHNlbnQgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geGRyLnNlbmQoKTtcbiAgICAgICAgfSwgMSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzb3VyY2UgdXNlZCBpbiBsb2FkaW5nIHZpYSBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBlbGVtZW50IHR5cGUgKHZpZGVvIG9yIGF1ZGlvKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHNvdXJjZSBVUkwgdG8gbG9hZCBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbWltZV0gLSBUaGUgbWltZSB0eXBlIG9mIHRoZSB2aWRlb1xuICAgICAqIEByZXR1cm4ge0hUTUxTb3VyY2VFbGVtZW50fSBUaGUgc291cmNlIGVsZW1lbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fY3JlYXRlU291cmNlID0gZnVuY3Rpb24gX2NyZWF0ZVNvdXJjZSh0eXBlLCB1cmwsIG1pbWUpIHtcbiAgICAgICAgaWYgKCFtaW1lKSB7XG4gICAgICAgICAgICBtaW1lID0gdHlwZSArICcvJyArIHRoaXMuX2dldEV4dGVuc2lvbih1cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgICAgIHNvdXJjZS5zcmMgPSB1cmw7XG4gICAgICAgIHNvdXJjZS50eXBlID0gbWltZTtcblxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSBsb2FkIGVycm9ycyBvdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBlcnJvciBldmVudCBmcm9tIHRoZSBlbGVtZW50IHRoYXQgZW1pdHMgaXQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl9vbkVycm9yID0gZnVuY3Rpb24gX29uRXJyb3IoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5hYm9ydCgnRmFpbGVkIHRvIGxvYWQgZWxlbWVudCB1c2luZzogJyArIGV2ZW50LnRhcmdldC5ub2RlTmFtZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQgb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdFByb2dyZXNzRXZlbnR8RXZlbnR9IGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fb25Qcm9ncmVzcyA9IGZ1bmN0aW9uIF9vblByb2dyZXNzKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2godGhpcywgZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIHRpbWVvdXQgZXZlbnQgZmlyZXMgZm9yIGFuIGVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX29uVGltZW91dCA9IGZ1bmN0aW9uIF9vblRpbWVvdXQoKSB7XG4gICAgICAgIHRoaXMuYWJvcnQoJ0xvYWQgdGltZWQgb3V0LicpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uRXJyb3IgPSBmdW5jdGlvbiBfeGhyT25FcnJvcigpIHtcbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyO1xuXG4gICAgICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgJyBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiAnICsgeGhyLnN0YXR1cyArICcsIHRleHQ6IFwiJyArIHhoci5zdGF0dXNUZXh0ICsgJ1wiJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5feGhyT25UaW1lb3V0ID0gZnVuY3Rpb24gX3hock9uVGltZW91dCgpIHtcbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyO1xuXG4gICAgICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgJyBSZXF1ZXN0IHRpbWVkIG91dC4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGFuIGFib3J0IGV2ZW50IGZpcmVzIGZvciB4aHIveGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UucHJvdG90eXBlLl94aHJPbkFib3J0ID0gZnVuY3Rpb24gX3hock9uQWJvcnQoKSB7XG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjtcblxuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArICcgUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gZGF0YSBzdWNjZXNzZnVsbHkgbG9hZHMgZnJvbSBhbiB4aHIveGRyIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RMb2FkRXZlbnR8RXZlbnR9IGV2ZW50IC0gTG9hZCBldmVudFxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uTG9hZCA9IGZ1bmN0aW9uIF94aHJPbkxvYWQoKSB7XG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyBhY2Nlc3NpYmxlIG9ubHkgaWYgcmVzcG9uc2VUeXBlIGlzICcnIG9yICd0ZXh0JyBhbmQgb24gb2xkZXIgYnJvd3NlcnNcbiAgICAgICAgaWYgKHhoci5yZXNwb25zZVR5cGUgPT09ICcnIHx8IHhoci5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyB8fCB0eXBlb2YgeGhyLnJlc3BvbnNlVHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRleHQgPSB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RhdHVzIGNhbiBiZSAwIHdoZW4gdXNpbmcgdGhlIGBmaWxlOi8vYCBwcm90b2NvbCBzbyB3ZSBhbHNvIGNoZWNrIGlmIGEgcmVzcG9uc2UgaXMgc2V0LlxuICAgICAgICAvLyBJZiBpdCBoYXMgYSByZXNwb25zZSwgd2UgYXNzdW1lIDIwMDsgb3RoZXJ3aXNlIGEgMCBzdGF0dXMgY29kZSB3aXRoIG5vIGNvbnRlbnRzIGlzIGFuIGFib3J0ZWQgcmVxdWVzdC5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX05PTkUgJiYgKHRleHQubGVuZ3RoID4gMCB8fCB4aHIucmVzcG9uc2VUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVIpKSB7XG4gICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfT0s7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaGFuZGxlIElFOSBidWc6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTAwNDY5NzIvbXNpZS1yZXR1cm5zLXN0YXR1cy1jb2RlLW9mLTEyMjMtZm9yLWFqYXgtcmVxdWVzdFxuICAgICAgICBlbHNlIGlmIChzdGF0dXMgPT09IFNUQVRVU19JRV9CVUdfRU1QVFkpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMgPSBTVEFUVVNfRU1QVFk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXR1c1R5cGUgPSBzdGF0dXMgLyAxMDAgfCAwO1xuXG4gICAgICAgIGlmIChzdGF0dXNUeXBlID09PSBTVEFUVVNfVFlQRV9PSykge1xuICAgICAgICAgICAgLy8gaWYgdGV4dCwganVzdCByZXR1cm4gaXRcbiAgICAgICAgICAgIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0ZXh0O1xuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuVEVYVDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGpzb24sIHBhcnNlIGludG8ganNvbiBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gSlNPTi5wYXJzZSh0ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlLlRZUEUuSlNPTjtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgnRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCBqc29uOiAnICsgZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LkRPTVBhcnNlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9tcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvbXBhcnNlci5wYXJzZUZyb21TdHJpbmcodGV4dCwgJ3RleHQveG1sJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB0ZXh0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRpdjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZS5UWVBFLlhNTDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogJyArIGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG90aGVyIHR5cGVzIGp1c3QgcmV0dXJuIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB4aHIucmVzcG9uc2UgfHwgdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoJ1snICsgeGhyLnN0YXR1cyArICddICcgKyB4aHIuc3RhdHVzVGV4dCArICc6ICcgKyB4aHIucmVzcG9uc2VVUkwpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbXBsZXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgICAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2xvYz13aW5kb3cubG9jYXRpb25dIC0gVGhlIGxvY2F0aW9uIG9iamVjdCB0byB0ZXN0IGFnYWluc3QuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZUNyb3NzT3JpZ2luID0gZnVuY3Rpb24gX2RldGVybWluZUNyb3NzT3JpZ2luKHVybCwgbG9jKSB7XG4gICAgICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQSBzYW5kYm94ZWQgaWZyYW1lIHdpdGhvdXQgdGhlICdhbGxvdy1zYW1lLW9yaWdpbicgYXR0cmlidXRlIHdpbGwgaGF2ZSBhIHNwZWNpYWxcbiAgICAgICAgLy8gb3JpZ2luIGRlc2lnbmVkIG5vdCB0byBtYXRjaCB3aW5kb3cubG9jYXRpb24ub3JpZ2luLCBhbmQgd2lsbCBhbHdheXMgcmVxdWlyZVxuICAgICAgICAvLyBjcm9zc09yaWdpbiByZXF1ZXN0cyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIGxvY2F0aW9uIG1hdGNoZXMuXG4gICAgICAgIGlmICh3aW5kb3cub3JpZ2luICE9PSB3aW5kb3cubG9jYXRpb24ub3JpZ2luKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkZWZhdWx0IGlzIHdpbmRvdy5sb2NhdGlvblxuICAgICAgICBsb2MgPSBsb2MgfHwgd2luZG93LmxvY2F0aW9uO1xuXG4gICAgICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldCB0aGUgYnJvd3NlciBkZXRlcm1pbmUgdGhlIGZ1bGwgaHJlZiBmb3IgdGhlIHVybCBvZiB0aGlzIHJlc291cmNlIGFuZCB0aGVuXG4gICAgICAgIC8vIHBhcnNlIHdpdGggdGhlIG5vZGUgdXJsIGxpYiwgd2UgY2FuJ3QgdXNlIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSBhbmNob3IgZWxlbWVudFxuICAgICAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICAgICAgdGVtcEFuY2hvci5ocmVmID0gdXJsO1xuICAgICAgICB1cmwgPSAoMCwgX3BhcnNlVXJpMi5kZWZhdWx0KSh0ZW1wQW5jaG9yLmhyZWYsIHsgc3RyaWN0TW9kZTogdHJ1ZSB9KTtcblxuICAgICAgICB2YXIgc2FtZVBvcnQgPSAhdXJsLnBvcnQgJiYgbG9jLnBvcnQgPT09ICcnIHx8IHVybC5wb3J0ID09PSBsb2MucG9ydDtcbiAgICAgICAgdmFyIHByb3RvY29sID0gdXJsLnByb3RvY29sID8gdXJsLnByb3RvY29sICsgJzonIDogJyc7XG5cbiAgICAgICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgICAgIGlmICh1cmwuaG9zdCAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCBwcm90b2NvbCAhPT0gbG9jLnByb3RvY29sKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2Fub255bW91cyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIHJlc3BvbnNlVHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFRoZSByZXNwb25zZVR5cGUgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZVhoclR5cGUgPSBmdW5jdGlvbiBfZGV0ZXJtaW5lWGhyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlLl94aHJUeXBlTWFwW3RoaXMuZXh0ZW5zaW9uXSB8fCBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIHRoZSBsb2FkVHlwZSBvZiBhIHJlc291cmNlIGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5MT0FEX1RZUEV9IFRoZSBsb2FkVHlwZSB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fZGV0ZXJtaW5lTG9hZFR5cGUgPSBmdW5jdGlvbiBfZGV0ZXJtaW5lTG9hZFR5cGUoKSB7XG4gICAgICAgIHJldHVybiBSZXNvdXJjZS5fbG9hZFR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlLkxPQURfVFlQRS5YSFI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBleHRlbnNpb24gKHNhbnMgJy4nKSBvZiB0aGUgZmlsZSBiZWluZyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBleHRlbnNpb24uXG4gICAgICovXG5cblxuICAgIFJlc291cmNlLnByb3RvdHlwZS5fZ2V0RXh0ZW5zaW9uID0gZnVuY3Rpb24gX2dldEV4dGVuc2lvbigpIHtcbiAgICAgICAgdmFyIHVybCA9IHRoaXMudXJsO1xuICAgICAgICB2YXIgZXh0ID0gJyc7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNEYXRhVXJsKSB7XG4gICAgICAgICAgICB2YXIgc2xhc2hJbmRleCA9IHVybC5pbmRleE9mKCcvJyk7XG5cbiAgICAgICAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcoc2xhc2hJbmRleCArIDEsIHVybC5pbmRleE9mKCc7Jywgc2xhc2hJbmRleCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHF1ZXJ5U3RhcnQgPSB1cmwuaW5kZXhPZignPycpO1xuICAgICAgICAgICAgdmFyIGhhc2hTdGFydCA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBNYXRoLm1pbihxdWVyeVN0YXJ0ID4gLTEgPyBxdWVyeVN0YXJ0IDogdXJsLmxlbmd0aCwgaGFzaFN0YXJ0ID4gLTEgPyBoYXNoU3RhcnQgOiB1cmwubGVuZ3RoKTtcblxuICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIG1pbWUgdHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgcmVzcG9uc2VUeXBlIG9mXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1Jlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSB0eXBlIC0gVGhlIHR5cGUgdG8gZ2V0IGEgbWltZSB0eXBlIGZvci5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSBtaW1lIHR5cGUgdG8gdXNlLlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZS5wcm90b3R5cGUuX2dldE1pbWVGcm9tWGhyVHlwZSA9IGZ1bmN0aW9uIF9nZXRNaW1lRnJvbVhoclR5cGUodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vb2N0ZXQtYmluYXJ5JztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9COlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vYmxvYic7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi94bWwnO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT046XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9qc29uJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ERUZBVUxUOlxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUOlxuICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RleHQvcGxhaW4nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhSZXNvdXJjZSwgW3tcbiAgICAgICAga2V5OiAnaXNEYXRhVXJsJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuREFUQV9VUkwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGhhcyBmaW5pc2hlZCBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIGhhcyBjb21wbGV0ZWx5XG4gICAgICAgICAqIGxvYWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0NvbXBsZXRlJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZS5TVEFUVVNfRkxBR1MuQ09NUExFVEUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuXG4gICAgfSwge1xuICAgICAgICBrZXk6ICdpc0xvYWRpbmcnLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKFJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBSZXNvdXJjZTtcbn0oKTtcblxuLyoqXG4gKiBUaGUgdHlwZXMgb2YgcmVzb3VyY2VzIGEgcmVzb3VyY2UgY291bGQgcmVwcmVzZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge251bWJlcn1cbiAqL1xuXG5cblJlc291cmNlLlNUQVRVU19GTEFHUyA9IHtcbiAgICBOT05FOiAwLFxuICAgIERBVEFfVVJMOiAxIDw8IDAsXG4gICAgQ09NUExFVEU6IDEgPDwgMSxcbiAgICBMT0FESU5HOiAxIDw8IDJcbn07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlLlRZUEUgPSB7XG4gICAgVU5LTk9XTjogMCxcbiAgICBKU09OOiAxLFxuICAgIFhNTDogMixcbiAgICBJTUFHRTogMyxcbiAgICBBVURJTzogNCxcbiAgICBWSURFTzogNSxcbiAgICBURVhUOiA2XG59O1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiBsb2FkaW5nIGEgcmVzb3VyY2UgY2FuIHVzZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlLkxPQURfVFlQRSA9IHtcbiAgICAvKiogVXNlcyBYTUxIdHRwUmVxdWVzdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBYSFI6IDEsXG4gICAgLyoqIFVzZXMgYW4gYEltYWdlYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgSU1BR0U6IDIsXG4gICAgLyoqIFVzZXMgYW4gYEF1ZGlvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgQVVESU86IDMsXG4gICAgLyoqIFVzZXMgYSBgVmlkZW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBWSURFTzogNFxufTtcblxuLyoqXG4gKiBUaGUgWEhSIHJlYWR5IHN0YXRlcywgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUgPSB7XG4gICAgLyoqIHN0cmluZyAqL1xuICAgIERFRkFVTFQ6ICd0ZXh0JyxcbiAgICAvKiogQXJyYXlCdWZmZXIgKi9cbiAgICBCVUZGRVI6ICdhcnJheWJ1ZmZlcicsXG4gICAgLyoqIEJsb2IgKi9cbiAgICBCTE9COiAnYmxvYicsXG4gICAgLyoqIERvY3VtZW50ICovXG4gICAgRE9DVU1FTlQ6ICdkb2N1bWVudCcsXG4gICAgLyoqIE9iamVjdCAqL1xuICAgIEpTT046ICdqc29uJyxcbiAgICAvKiogU3RyaW5nICovXG4gICAgVEVYVDogJ3RleHQnXG59O1xuXG5SZXNvdXJjZS5fbG9hZFR5cGVNYXAgPSB7XG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgcG5nOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgYm1wOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAganBnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAganBlZzogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHRpZjogUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgIHRpZmY6IFJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICB3ZWJwOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGdhOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgc3ZnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgJ3N2Zyt4bWwnOiBSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsIC8vIGZvciBTVkcgZGF0YSB1cmxzXG5cbiAgICAvLyBhdWRpb1xuICAgIG1wMzogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAgIG9nZzogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAgIHdhdjogUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuXG4gICAgLy8gdmlkZW9zXG4gICAgbXA0OiBSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gICAgd2VibTogUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPXG59O1xuXG5SZXNvdXJjZS5feGhyVHlwZU1hcCA9IHtcbiAgICAvLyB4bWxcbiAgICB4aHRtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtbDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICB4bWw6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHRteDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgc3ZnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcblxuICAgIC8vIFRoaXMgd2FzIGFkZGVkIHRvIGhhbmRsZSBUaWxlZCBUaWxlc2V0IFhNTCwgYnV0IC50c3ggaXMgYWxzbyBhIFR5cGVTY3JpcHQgUmVhY3QgQ29tcG9uZW50LlxuICAgIC8vIFNpbmNlIGl0IGlzIHdheSBsZXNzIGxpa2VseSBmb3IgcGVvcGxlIHRvIGJlIGxvYWRpbmcgVHlwZVNjcmlwdCBmaWxlcyBpbnN0ZWFkIG9mIFRpbGVkIGZpbGVzLFxuICAgIC8vIHRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIGZpbmUuXG4gICAgdHN4OiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcblxuICAgIC8vIGltYWdlc1xuICAgIGdpZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBwbmc6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgYm1wOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGpwZzogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBqcGVnOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0aWZmOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHdlYnA6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGdhOiBSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuXG4gICAgLy8ganNvblxuICAgIGpzb246IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04sXG5cbiAgICAvLyB0ZXh0XG4gICAgdGV4dDogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgICB0eHQ6IFJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG5cbiAgICAvLyBmb250c1xuICAgIHR0ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxuICAgIG90ZjogUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSXG59O1xuXG4vLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09JztcblxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gICAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICAgICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIGlmICghZXh0bmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuZnVuY3Rpb24gcmVxVHlwZSh4aHIpIHtcbiAgICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cblxuLy8gQmFja3dhcmRzIGNvbXBhdFxuaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IFJlc291cmNlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNvdXJjZS5qcy5tYXAiLCIvKiEgaHR0cHM6Ly9tdGhzLmJlL3B1bnljb2RlIHYxLjQuMSBieSBAbWF0aGlhcyAqL1xuOyhmdW5jdGlvbihyb290KSB7XG5cblx0LyoqIERldGVjdCBmcmVlIHZhcmlhYmxlcyAqL1xuXHR2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmXG5cdFx0IWV4cG9ydHMubm9kZVR5cGUgJiYgZXhwb3J0cztcblx0dmFyIGZyZWVNb2R1bGUgPSB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZSAmJlxuXHRcdCFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXHR2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsO1xuXHRpZiAoXG5cdFx0ZnJlZUdsb2JhbC5nbG9iYWwgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLndpbmRvdyA9PT0gZnJlZUdsb2JhbCB8fFxuXHRcdGZyZWVHbG9iYWwuc2VsZiA9PT0gZnJlZUdsb2JhbFxuXHQpIHtcblx0XHRyb290ID0gZnJlZUdsb2JhbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgYHB1bnljb2RlYCBvYmplY3QuXG5cdCAqIEBuYW1lIHB1bnljb2RlXG5cdCAqIEB0eXBlIE9iamVjdFxuXHQgKi9cblx0dmFyIHB1bnljb2RlLFxuXG5cdC8qKiBIaWdoZXN0IHBvc2l0aXZlIHNpZ25lZCAzMi1iaXQgZmxvYXQgdmFsdWUgKi9cblx0bWF4SW50ID0gMjE0NzQ4MzY0NywgLy8gYWthLiAweDdGRkZGRkZGIG9yIDJeMzEtMVxuXG5cdC8qKiBCb290c3RyaW5nIHBhcmFtZXRlcnMgKi9cblx0YmFzZSA9IDM2LFxuXHR0TWluID0gMSxcblx0dE1heCA9IDI2LFxuXHRza2V3ID0gMzgsXG5cdGRhbXAgPSA3MDAsXG5cdGluaXRpYWxCaWFzID0gNzIsXG5cdGluaXRpYWxOID0gMTI4LCAvLyAweDgwXG5cdGRlbGltaXRlciA9ICctJywgLy8gJ1xceDJEJ1xuXG5cdC8qKiBSZWd1bGFyIGV4cHJlc3Npb25zICovXG5cdHJlZ2V4UHVueWNvZGUgPSAvXnhuLS0vLFxuXHRyZWdleE5vbkFTQ0lJID0gL1teXFx4MjAtXFx4N0VdLywgLy8gdW5wcmludGFibGUgQVNDSUkgY2hhcnMgKyBub24tQVNDSUkgY2hhcnNcblx0cmVnZXhTZXBhcmF0b3JzID0gL1tcXHgyRVxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZywgLy8gUkZDIDM0OTAgc2VwYXJhdG9yc1xuXG5cdC8qKiBFcnJvciBtZXNzYWdlcyAqL1xuXHRlcnJvcnMgPSB7XG5cdFx0J292ZXJmbG93JzogJ092ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzJyxcblx0XHQnbm90LWJhc2ljJzogJ0lsbGVnYWwgaW5wdXQgPj0gMHg4MCAobm90IGEgYmFzaWMgY29kZSBwb2ludCknLFxuXHRcdCdpbnZhbGlkLWlucHV0JzogJ0ludmFsaWQgaW5wdXQnXG5cdH0sXG5cblx0LyoqIENvbnZlbmllbmNlIHNob3J0Y3V0cyAqL1xuXHRiYXNlTWludXNUTWluID0gYmFzZSAtIHRNaW4sXG5cdGZsb29yID0gTWF0aC5mbG9vcixcblx0c3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZSxcblxuXHQvKiogVGVtcG9yYXJ5IHZhcmlhYmxlICovXG5cdGtleTtcblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGVycm9yIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlIFRoZSBlcnJvciB0eXBlLlxuXHQgKiBAcmV0dXJucyB7RXJyb3J9IFRocm93cyBhIGBSYW5nZUVycm9yYCB3aXRoIHRoZSBhcHBsaWNhYmxlIGVycm9yIG1lc3NhZ2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBlcnJvcih0eXBlKSB7XG5cdFx0dGhyb3cgbmV3IFJhbmdlRXJyb3IoZXJyb3JzW3R5cGVdKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBIGdlbmVyaWMgYEFycmF5I21hcGAgdXRpbGl0eSBmdW5jdGlvbi5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5IGFycmF5XG5cdCAqIGl0ZW0uXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgYXJyYXkgb2YgdmFsdWVzIHJldHVybmVkIGJ5IHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cblx0ICovXG5cdGZ1bmN0aW9uIG1hcChhcnJheSwgZm4pIHtcblx0XHR2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHR3aGlsZSAobGVuZ3RoLS0pIHtcblx0XHRcdHJlc3VsdFtsZW5ndGhdID0gZm4oYXJyYXlbbGVuZ3RoXSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH1cblxuXHQvKipcblx0ICogQSBzaW1wbGUgYEFycmF5I21hcGAtbGlrZSB3cmFwcGVyIHRvIHdvcmsgd2l0aCBkb21haW4gbmFtZSBzdHJpbmdzIG9yIGVtYWlsXG5cdCAqIGFkZHJlc3Nlcy5cblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcy5cblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgZm9yIGV2ZXJ5XG5cdCAqIGNoYXJhY3Rlci5cblx0ICogQHJldHVybnMge0FycmF5fSBBIG5ldyBzdHJpbmcgb2YgY2hhcmFjdGVycyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2tcblx0ICogZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXBEb21haW4oc3RyaW5nLCBmbikge1xuXHRcdHZhciBwYXJ0cyA9IHN0cmluZy5zcGxpdCgnQCcpO1xuXHRcdHZhciByZXN1bHQgPSAnJztcblx0XHRpZiAocGFydHMubGVuZ3RoID4gMSkge1xuXHRcdFx0Ly8gSW4gZW1haWwgYWRkcmVzc2VzLCBvbmx5IHRoZSBkb21haW4gbmFtZSBzaG91bGQgYmUgcHVueWNvZGVkLiBMZWF2ZVxuXHRcdFx0Ly8gdGhlIGxvY2FsIHBhcnQgKGkuZS4gZXZlcnl0aGluZyB1cCB0byBgQGApIGludGFjdC5cblx0XHRcdHJlc3VsdCA9IHBhcnRzWzBdICsgJ0AnO1xuXHRcdFx0c3RyaW5nID0gcGFydHNbMV07XG5cdFx0fVxuXHRcdC8vIEF2b2lkIGBzcGxpdChyZWdleClgIGZvciBJRTggY29tcGF0aWJpbGl0eS4gU2VlICMxNy5cblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZShyZWdleFNlcGFyYXRvcnMsICdcXHgyRScpO1xuXHRcdHZhciBsYWJlbHMgPSBzdHJpbmcuc3BsaXQoJy4nKTtcblx0XHR2YXIgZW5jb2RlZCA9IG1hcChsYWJlbHMsIGZuKS5qb2luKCcuJyk7XG5cdFx0cmV0dXJuIHJlc3VsdCArIGVuY29kZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBudW1lcmljIGNvZGUgcG9pbnRzIG9mIGVhY2ggVW5pY29kZVxuXHQgKiBjaGFyYWN0ZXIgaW4gdGhlIHN0cmluZy4gV2hpbGUgSmF2YVNjcmlwdCB1c2VzIFVDUy0yIGludGVybmFsbHksXG5cdCAqIHRoaXMgZnVuY3Rpb24gd2lsbCBjb252ZXJ0IGEgcGFpciBvZiBzdXJyb2dhdGUgaGFsdmVzIChlYWNoIG9mIHdoaWNoXG5cdCAqIFVDUy0yIGV4cG9zZXMgYXMgc2VwYXJhdGUgY2hhcmFjdGVycykgaW50byBhIHNpbmdsZSBjb2RlIHBvaW50LFxuXHQgKiBtYXRjaGluZyBVVEYtMTYuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZW5jb2RlYFxuXHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZGVjb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgVGhlIFVuaWNvZGUgaW5wdXQgc3RyaW5nIChVQ1MtMikuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gVGhlIG5ldyBhcnJheSBvZiBjb2RlIHBvaW50cy5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJkZWNvZGUoc3RyaW5nKSB7XG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBjb3VudGVyID0gMCxcblx0XHQgICAgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aCxcblx0XHQgICAgdmFsdWUsXG5cdFx0ICAgIGV4dHJhO1xuXHRcdHdoaWxlIChjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHR2YWx1ZSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRpZiAodmFsdWUgPj0gMHhEODAwICYmIHZhbHVlIDw9IDB4REJGRiAmJiBjb3VudGVyIDwgbGVuZ3RoKSB7XG5cdFx0XHRcdC8vIGhpZ2ggc3Vycm9nYXRlLCBhbmQgdGhlcmUgaXMgYSBuZXh0IGNoYXJhY3RlclxuXHRcdFx0XHRleHRyYSA9IHN0cmluZy5jaGFyQ29kZUF0KGNvdW50ZXIrKyk7XG5cdFx0XHRcdGlmICgoZXh0cmEgJiAweEZDMDApID09IDB4REMwMCkgeyAvLyBsb3cgc3Vycm9nYXRlXG5cdFx0XHRcdFx0b3V0cHV0LnB1c2goKCh2YWx1ZSAmIDB4M0ZGKSA8PCAxMCkgKyAoZXh0cmEgJiAweDNGRikgKyAweDEwMDAwKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyB1bm1hdGNoZWQgc3Vycm9nYXRlOyBvbmx5IGFwcGVuZCB0aGlzIGNvZGUgdW5pdCwgaW4gY2FzZSB0aGUgbmV4dFxuXHRcdFx0XHRcdC8vIGNvZGUgdW5pdCBpcyB0aGUgaGlnaCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpclxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdFx0XHRjb3VudGVyLS07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKHZhbHVlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgc3RyaW5nIGJhc2VkIG9uIGFuIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEBzZWUgYHB1bnljb2RlLnVjczIuZGVjb2RlYFxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGUudWNzMlxuXHQgKiBAbmFtZSBlbmNvZGVcblx0ICogQHBhcmFtIHtBcnJheX0gY29kZVBvaW50cyBUaGUgYXJyYXkgb2YgbnVtZXJpYyBjb2RlIHBvaW50cy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIG5ldyBVbmljb2RlIHN0cmluZyAoVUNTLTIpLlxuXHQgKi9cblx0ZnVuY3Rpb24gdWNzMmVuY29kZShhcnJheSkge1xuXHRcdHJldHVybiBtYXAoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0XHR2YXIgb3V0cHV0ID0gJyc7XG5cdFx0XHRpZiAodmFsdWUgPiAweEZGRkYpIHtcblx0XHRcdFx0dmFsdWUgLT0gMHgxMDAwMDtcblx0XHRcdFx0b3V0cHV0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZSh2YWx1ZSA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMCk7XG5cdFx0XHRcdHZhbHVlID0gMHhEQzAwIHwgdmFsdWUgJiAweDNGRjtcblx0XHRcdH1cblx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUpO1xuXHRcdFx0cmV0dXJuIG91dHB1dDtcblx0XHR9KS5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGJhc2ljIGNvZGUgcG9pbnQgaW50byBhIGRpZ2l0L2ludGVnZXIuXG5cdCAqIEBzZWUgYGRpZ2l0VG9CYXNpYygpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gY29kZVBvaW50IFRoZSBiYXNpYyBudW1lcmljIGNvZGUgcG9pbnQgdmFsdWUuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBudW1lcmljIHZhbHVlIG9mIGEgYmFzaWMgY29kZSBwb2ludCAoZm9yIHVzZSBpblxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGluIHRoZSByYW5nZSBgMGAgdG8gYGJhc2UgLSAxYCwgb3IgYGJhc2VgIGlmXG5cdCAqIHRoZSBjb2RlIHBvaW50IGRvZXMgbm90IHJlcHJlc2VudCBhIHZhbHVlLlxuXHQgKi9cblx0ZnVuY3Rpb24gYmFzaWNUb0RpZ2l0KGNvZGVQb2ludCkge1xuXHRcdGlmIChjb2RlUG9pbnQgLSA0OCA8IDEwKSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gMjI7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA2NSA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gNjU7XG5cdFx0fVxuXHRcdGlmIChjb2RlUG9pbnQgLSA5NyA8IDI2KSB7XG5cdFx0XHRyZXR1cm4gY29kZVBvaW50IC0gOTc7XG5cdFx0fVxuXHRcdHJldHVybiBiYXNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgZGlnaXQvaW50ZWdlciBpbnRvIGEgYmFzaWMgY29kZSBwb2ludC5cblx0ICogQHNlZSBgYmFzaWNUb0RpZ2l0KClgXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBkaWdpdCBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBiYXNpYyBjb2RlIHBvaW50IHdob3NlIHZhbHVlICh3aGVuIHVzZWQgZm9yXG5cdCAqIHJlcHJlc2VudGluZyBpbnRlZ2VycykgaXMgYGRpZ2l0YCwgd2hpY2ggbmVlZHMgdG8gYmUgaW4gdGhlIHJhbmdlXG5cdCAqIGAwYCB0byBgYmFzZSAtIDFgLiBJZiBgZmxhZ2AgaXMgbm9uLXplcm8sIHRoZSB1cHBlcmNhc2UgZm9ybSBpc1xuXHQgKiB1c2VkOyBlbHNlLCB0aGUgbG93ZXJjYXNlIGZvcm0gaXMgdXNlZC4gVGhlIGJlaGF2aW9yIGlzIHVuZGVmaW5lZFxuXHQgKiBpZiBgZmxhZ2AgaXMgbm9uLXplcm8gYW5kIGBkaWdpdGAgaGFzIG5vIHVwcGVyY2FzZSBmb3JtLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGlnaXRUb0Jhc2ljKGRpZ2l0LCBmbGFnKSB7XG5cdFx0Ly8gIDAuLjI1IG1hcCB0byBBU0NJSSBhLi56IG9yIEEuLlpcblx0XHQvLyAyNi4uMzUgbWFwIHRvIEFTQ0lJIDAuLjlcblx0XHRyZXR1cm4gZGlnaXQgKyAyMiArIDc1ICogKGRpZ2l0IDwgMjYpIC0gKChmbGFnICE9IDApIDw8IDUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJpYXMgYWRhcHRhdGlvbiBmdW5jdGlvbiBhcyBwZXIgc2VjdGlvbiAzLjQgb2YgUkZDIDM0OTIuXG5cdCAqIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzNDkyI3NlY3Rpb24tMy40XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBhZGFwdChkZWx0YSwgbnVtUG9pbnRzLCBmaXJzdFRpbWUpIHtcblx0XHR2YXIgayA9IDA7XG5cdFx0ZGVsdGEgPSBmaXJzdFRpbWUgPyBmbG9vcihkZWx0YSAvIGRhbXApIDogZGVsdGEgPj4gMTtcblx0XHRkZWx0YSArPSBmbG9vcihkZWx0YSAvIG51bVBvaW50cyk7XG5cdFx0Zm9yICgvKiBubyBpbml0aWFsaXphdGlvbiAqLzsgZGVsdGEgPiBiYXNlTWludXNUTWluICogdE1heCA+PiAxOyBrICs9IGJhc2UpIHtcblx0XHRcdGRlbHRhID0gZmxvb3IoZGVsdGEgLyBiYXNlTWludXNUTWluKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZsb29yKGsgKyAoYmFzZU1pbnVzVE1pbiArIDEpICogZGVsdGEgLyAoZGVsdGEgKyBza2V3KSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzIHRvIGEgc3RyaW5nIG9mIFVuaWNvZGVcblx0ICogc3ltYm9scy5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIHJlc3VsdGluZyBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKi9cblx0ZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7XG5cdFx0Ly8gRG9uJ3QgdXNlIFVDUy0yXG5cdFx0dmFyIG91dHB1dCA9IFtdLFxuXHRcdCAgICBpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aCxcblx0XHQgICAgb3V0LFxuXHRcdCAgICBpID0gMCxcblx0XHQgICAgbiA9IGluaXRpYWxOLFxuXHRcdCAgICBiaWFzID0gaW5pdGlhbEJpYXMsXG5cdFx0ICAgIGJhc2ljLFxuXHRcdCAgICBqLFxuXHRcdCAgICBpbmRleCxcblx0XHQgICAgb2xkaSxcblx0XHQgICAgdyxcblx0XHQgICAgayxcblx0XHQgICAgZGlnaXQsXG5cdFx0ICAgIHQsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBiYXNlTWludXNUO1xuXG5cdFx0Ly8gSGFuZGxlIHRoZSBiYXNpYyBjb2RlIHBvaW50czogbGV0IGBiYXNpY2AgYmUgdGhlIG51bWJlciBvZiBpbnB1dCBjb2RlXG5cdFx0Ly8gcG9pbnRzIGJlZm9yZSB0aGUgbGFzdCBkZWxpbWl0ZXIsIG9yIGAwYCBpZiB0aGVyZSBpcyBub25lLCB0aGVuIGNvcHlcblx0XHQvLyB0aGUgZmlyc3QgYmFzaWMgY29kZSBwb2ludHMgdG8gdGhlIG91dHB1dC5cblxuXHRcdGJhc2ljID0gaW5wdXQubGFzdEluZGV4T2YoZGVsaW1pdGVyKTtcblx0XHRpZiAoYmFzaWMgPCAwKSB7XG5cdFx0XHRiYXNpYyA9IDA7XG5cdFx0fVxuXG5cdFx0Zm9yIChqID0gMDsgaiA8IGJhc2ljOyArK2opIHtcblx0XHRcdC8vIGlmIGl0J3Mgbm90IGEgYmFzaWMgY29kZSBwb2ludFxuXHRcdFx0aWYgKGlucHV0LmNoYXJDb2RlQXQoaikgPj0gMHg4MCkge1xuXHRcdFx0XHRlcnJvcignbm90LWJhc2ljJyk7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQucHVzaChpbnB1dC5jaGFyQ29kZUF0KGopKTtcblx0XHR9XG5cblx0XHQvLyBNYWluIGRlY29kaW5nIGxvb3A6IHN0YXJ0IGp1c3QgYWZ0ZXIgdGhlIGxhc3QgZGVsaW1pdGVyIGlmIGFueSBiYXNpYyBjb2RlXG5cdFx0Ly8gcG9pbnRzIHdlcmUgY29waWVkOyBzdGFydCBhdCB0aGUgYmVnaW5uaW5nIG90aGVyd2lzZS5cblxuXHRcdGZvciAoaW5kZXggPSBiYXNpYyA+IDAgPyBiYXNpYyArIDEgOiAwOyBpbmRleCA8IGlucHV0TGVuZ3RoOyAvKiBubyBmaW5hbCBleHByZXNzaW9uICovKSB7XG5cblx0XHRcdC8vIGBpbmRleGAgaXMgdGhlIGluZGV4IG9mIHRoZSBuZXh0IGNoYXJhY3RlciB0byBiZSBjb25zdW1lZC5cblx0XHRcdC8vIERlY29kZSBhIGdlbmVyYWxpemVkIHZhcmlhYmxlLWxlbmd0aCBpbnRlZ2VyIGludG8gYGRlbHRhYCxcblx0XHRcdC8vIHdoaWNoIGdldHMgYWRkZWQgdG8gYGlgLiBUaGUgb3ZlcmZsb3cgY2hlY2tpbmcgaXMgZWFzaWVyXG5cdFx0XHQvLyBpZiB3ZSBpbmNyZWFzZSBgaWAgYXMgd2UgZ28sIHRoZW4gc3VidHJhY3Qgb2ZmIGl0cyBzdGFydGluZ1xuXHRcdFx0Ly8gdmFsdWUgYXQgdGhlIGVuZCB0byBvYnRhaW4gYGRlbHRhYC5cblx0XHRcdGZvciAob2xkaSA9IGksIHcgPSAxLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblxuXHRcdFx0XHRpZiAoaW5kZXggPj0gaW5wdXRMZW5ndGgpIHtcblx0XHRcdFx0XHRlcnJvcignaW52YWxpZC1pbnB1dCcpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZGlnaXQgPSBiYXNpY1RvRGlnaXQoaW5wdXQuY2hhckNvZGVBdChpbmRleCsrKSk7XG5cblx0XHRcdFx0aWYgKGRpZ2l0ID49IGJhc2UgfHwgZGlnaXQgPiBmbG9vcigobWF4SW50IC0gaSkgLyB3KSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aSArPSBkaWdpdCAqIHc7XG5cdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA8IHQpIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0aWYgKHcgPiBmbG9vcihtYXhJbnQgLyBiYXNlTWludXNUKSkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dyAqPSBiYXNlTWludXNUO1xuXG5cdFx0XHR9XG5cblx0XHRcdG91dCA9IG91dHB1dC5sZW5ndGggKyAxO1xuXHRcdFx0YmlhcyA9IGFkYXB0KGkgLSBvbGRpLCBvdXQsIG9sZGkgPT0gMCk7XG5cblx0XHRcdC8vIGBpYCB3YXMgc3VwcG9zZWQgdG8gd3JhcCBhcm91bmQgZnJvbSBgb3V0YCB0byBgMGAsXG5cdFx0XHQvLyBpbmNyZW1lbnRpbmcgYG5gIGVhY2ggdGltZSwgc28gd2UnbGwgZml4IHRoYXQgbm93OlxuXHRcdFx0aWYgKGZsb29yKGkgLyBvdXQpID4gbWF4SW50IC0gbikge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0biArPSBmbG9vcihpIC8gb3V0KTtcblx0XHRcdGkgJT0gb3V0O1xuXG5cdFx0XHQvLyBJbnNlcnQgYG5gIGF0IHBvc2l0aW9uIGBpYCBvZiB0aGUgb3V0cHV0XG5cdFx0XHRvdXRwdXQuc3BsaWNlKGkrKywgMCwgbik7XG5cblx0XHR9XG5cblx0XHRyZXR1cm4gdWNzMmVuY29kZShvdXRwdXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scyAoZS5nLiBhIGRvbWFpbiBuYW1lIGxhYmVsKSB0byBhXG5cdCAqIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGVuY29kZShpbnB1dCkge1xuXHRcdHZhciBuLFxuXHRcdCAgICBkZWx0YSxcblx0XHQgICAgaGFuZGxlZENQQ291bnQsXG5cdFx0ICAgIGJhc2ljTGVuZ3RoLFxuXHRcdCAgICBiaWFzLFxuXHRcdCAgICBqLFxuXHRcdCAgICBtLFxuXHRcdCAgICBxLFxuXHRcdCAgICBrLFxuXHRcdCAgICB0LFxuXHRcdCAgICBjdXJyZW50VmFsdWUsXG5cdFx0ICAgIG91dHB1dCA9IFtdLFxuXHRcdCAgICAvKiogYGlucHV0TGVuZ3RoYCB3aWxsIGhvbGQgdGhlIG51bWJlciBvZiBjb2RlIHBvaW50cyBpbiBgaW5wdXRgLiAqL1xuXHRcdCAgICBpbnB1dExlbmd0aCxcblx0XHQgICAgLyoqIENhY2hlZCBjYWxjdWxhdGlvbiByZXN1bHRzICovXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50UGx1c09uZSxcblx0XHQgICAgYmFzZU1pbnVzVCxcblx0XHQgICAgcU1pbnVzVDtcblxuXHRcdC8vIENvbnZlcnQgdGhlIGlucHV0IGluIFVDUy0yIHRvIFVuaWNvZGVcblx0XHRpbnB1dCA9IHVjczJkZWNvZGUoaW5wdXQpO1xuXG5cdFx0Ly8gQ2FjaGUgdGhlIGxlbmd0aFxuXHRcdGlucHV0TGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB0aGUgc3RhdGVcblx0XHRuID0gaW5pdGlhbE47XG5cdFx0ZGVsdGEgPSAwO1xuXHRcdGJpYXMgPSBpbml0aWFsQmlhcztcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHNcblx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgMHg4MCkge1xuXHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoY3VycmVudFZhbHVlKSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aGFuZGxlZENQQ291bnQgPSBiYXNpY0xlbmd0aCA9IG91dHB1dC5sZW5ndGg7XG5cblx0XHQvLyBgaGFuZGxlZENQQ291bnRgIGlzIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgdGhhdCBoYXZlIGJlZW4gaGFuZGxlZDtcblx0XHQvLyBgYmFzaWNMZW5ndGhgIGlzIHRoZSBudW1iZXIgb2YgYmFzaWMgY29kZSBwb2ludHMuXG5cblx0XHQvLyBGaW5pc2ggdGhlIGJhc2ljIHN0cmluZyAtIGlmIGl0IGlzIG5vdCBlbXB0eSAtIHdpdGggYSBkZWxpbWl0ZXJcblx0XHRpZiAoYmFzaWNMZW5ndGgpIHtcblx0XHRcdG91dHB1dC5wdXNoKGRlbGltaXRlcik7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBlbmNvZGluZyBsb29wOlxuXHRcdHdoaWxlIChoYW5kbGVkQ1BDb3VudCA8IGlucHV0TGVuZ3RoKSB7XG5cblx0XHRcdC8vIEFsbCBub24tYmFzaWMgY29kZSBwb2ludHMgPCBuIGhhdmUgYmVlbiBoYW5kbGVkIGFscmVhZHkuIEZpbmQgdGhlIG5leHRcblx0XHRcdC8vIGxhcmdlciBvbmU6XG5cdFx0XHRmb3IgKG0gPSBtYXhJbnQsIGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA+PSBuICYmIGN1cnJlbnRWYWx1ZSA8IG0pIHtcblx0XHRcdFx0XHRtID0gY3VycmVudFZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEluY3JlYXNlIGBkZWx0YWAgZW5vdWdoIHRvIGFkdmFuY2UgdGhlIGRlY29kZXIncyA8bixpPiBzdGF0ZSB0byA8bSwwPixcblx0XHRcdC8vIGJ1dCBndWFyZCBhZ2FpbnN0IG92ZXJmbG93XG5cdFx0XHRoYW5kbGVkQ1BDb3VudFBsdXNPbmUgPSBoYW5kbGVkQ1BDb3VudCArIDE7XG5cdFx0XHRpZiAobSAtIG4gPiBmbG9vcigobWF4SW50IC0gZGVsdGEpIC8gaGFuZGxlZENQQ291bnRQbHVzT25lKSkge1xuXHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVsdGEgKz0gKG0gLSBuKSAqIGhhbmRsZWRDUENvdW50UGx1c09uZTtcblx0XHRcdG4gPSBtO1xuXG5cdFx0XHRmb3IgKGogPSAwOyBqIDwgaW5wdXRMZW5ndGg7ICsraikge1xuXHRcdFx0XHRjdXJyZW50VmFsdWUgPSBpbnB1dFtqXTtcblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlIDwgbiAmJiArK2RlbHRhID4gbWF4SW50KSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoY3VycmVudFZhbHVlID09IG4pIHtcblx0XHRcdFx0XHQvLyBSZXByZXNlbnQgZGVsdGEgYXMgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlclxuXHRcdFx0XHRcdGZvciAocSA9IGRlbHRhLCBrID0gYmFzZTsgLyogbm8gY29uZGl0aW9uICovOyBrICs9IGJhc2UpIHtcblx0XHRcdFx0XHRcdHQgPSBrIDw9IGJpYXMgPyB0TWluIDogKGsgPj0gYmlhcyArIHRNYXggPyB0TWF4IDogayAtIGJpYXMpO1xuXHRcdFx0XHRcdFx0aWYgKHEgPCB0KSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cU1pbnVzVCA9IHEgLSB0O1xuXHRcdFx0XHRcdFx0YmFzZU1pbnVzVCA9IGJhc2UgLSB0O1xuXHRcdFx0XHRcdFx0b3V0cHV0LnB1c2goXG5cdFx0XHRcdFx0XHRcdHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWModCArIHFNaW51c1QgJSBiYXNlTWludXNULCAwKSlcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRxID0gZmxvb3IocU1pbnVzVCAvIGJhc2VNaW51c1QpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKHN0cmluZ0Zyb21DaGFyQ29kZShkaWdpdFRvQmFzaWMocSwgMCkpKTtcblx0XHRcdFx0XHRiaWFzID0gYWRhcHQoZGVsdGEsIGhhbmRsZWRDUENvdW50UGx1c09uZSwgaGFuZGxlZENQQ291bnQgPT0gYmFzaWNMZW5ndGgpO1xuXHRcdFx0XHRcdGRlbHRhID0gMDtcblx0XHRcdFx0XHQrK2hhbmRsZWRDUENvdW50O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCsrZGVsdGE7XG5cdFx0XHQrK247XG5cblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dC5qb2luKCcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIFB1bnljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzXG5cdCAqIHRvIFVuaWNvZGUuIE9ubHkgdGhlIFB1bnljb2RlZCBwYXJ0cyBvZiB0aGUgaW5wdXQgd2lsbCBiZSBjb252ZXJ0ZWQsIGkuZS5cblx0ICogaXQgZG9lc24ndCBtYXR0ZXIgaWYgeW91IGNhbGwgaXQgb24gYSBzdHJpbmcgdGhhdCBoYXMgYWxyZWFkeSBiZWVuXG5cdCAqIGNvbnZlcnRlZCB0byBVbmljb2RlLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBQdW55Y29kZWQgZG9tYWluIG5hbWUgb3IgZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBjb252ZXJ0IHRvIFVuaWNvZGUuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBVbmljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBQdW55Y29kZVxuXHQgKiBzdHJpbmcuXG5cdCAqL1xuXHRmdW5jdGlvbiB0b1VuaWNvZGUoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleFB1bnljb2RlLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/IGRlY29kZShzdHJpbmcuc2xpY2UoNCkudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBVbmljb2RlIHN0cmluZyByZXByZXNlbnRpbmcgYSBkb21haW4gbmFtZSBvciBhbiBlbWFpbCBhZGRyZXNzIHRvXG5cdCAqIFB1bnljb2RlLiBPbmx5IHRoZSBub24tQVNDSUkgcGFydHMgb2YgdGhlIGRvbWFpbiBuYW1lIHdpbGwgYmUgY29udmVydGVkLFxuXHQgKiBpLmUuIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IHdpdGggYSBkb21haW4gdGhhdCdzIGFscmVhZHkgaW5cblx0ICogQVNDSUkuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG8gY29udmVydCwgYXMgYVxuXHQgKiBVbmljb2RlIHN0cmluZy5cblx0ICogQHJldHVybnMge1N0cmluZ30gVGhlIFB1bnljb2RlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBkb21haW4gbmFtZSBvclxuXHQgKiBlbWFpbCBhZGRyZXNzLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9BU0NJSShpbnB1dCkge1xuXHRcdHJldHVybiBtYXBEb21haW4oaW5wdXQsIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0cmV0dXJuIHJlZ2V4Tm9uQVNDSUkudGVzdChzdHJpbmcpXG5cdFx0XHRcdD8gJ3huLS0nICsgZW5jb2RlKHN0cmluZylcblx0XHRcdFx0OiBzdHJpbmc7XG5cdFx0fSk7XG5cdH1cblxuXHQvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXHQvKiogRGVmaW5lIHRoZSBwdWJsaWMgQVBJICovXG5cdHB1bnljb2RlID0ge1xuXHRcdC8qKlxuXHRcdCAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBQdW55Y29kZS5qcyB2ZXJzaW9uIG51bWJlci5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBTdHJpbmdcblx0XHQgKi9cblx0XHQndmVyc2lvbic6ICcxLjQuMScsXG5cdFx0LyoqXG5cdFx0ICogQW4gb2JqZWN0IG9mIG1ldGhvZHMgdG8gY29udmVydCBmcm9tIEphdmFTY3JpcHQncyBpbnRlcm5hbCBjaGFyYWN0ZXJcblx0XHQgKiByZXByZXNlbnRhdGlvbiAoVUNTLTIpIHRvIFVuaWNvZGUgY29kZSBwb2ludHMsIGFuZCBiYWNrLlxuXHRcdCAqIEBzZWUgPGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nPlxuXHRcdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHRcdCAqIEB0eXBlIE9iamVjdFxuXHRcdCAqL1xuXHRcdCd1Y3MyJzoge1xuXHRcdFx0J2RlY29kZSc6IHVjczJkZWNvZGUsXG5cdFx0XHQnZW5jb2RlJzogdWNzMmVuY29kZVxuXHRcdH0sXG5cdFx0J2RlY29kZSc6IGRlY29kZSxcblx0XHQnZW5jb2RlJzogZW5jb2RlLFxuXHRcdCd0b0FTQ0lJJzogdG9BU0NJSSxcblx0XHQndG9Vbmljb2RlJzogdG9Vbmljb2RlXG5cdH07XG5cblx0LyoqIEV4cG9zZSBgcHVueWNvZGVgICovXG5cdC8vIFNvbWUgQU1EIGJ1aWxkIG9wdGltaXplcnMsIGxpa2Ugci5qcywgY2hlY2sgZm9yIHNwZWNpZmljIGNvbmRpdGlvbiBwYXR0ZXJuc1xuXHQvLyBsaWtlIHRoZSBmb2xsb3dpbmc6XG5cdGlmIChcblx0XHR0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiZcblx0XHR0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJlxuXHRcdGRlZmluZS5hbWRcblx0KSB7XG5cdFx0ZGVmaW5lKCdwdW55Y29kZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH0pO1xuXHR9IGVsc2UgaWYgKGZyZWVFeHBvcnRzICYmIGZyZWVNb2R1bGUpIHtcblx0XHRpZiAobW9kdWxlLmV4cG9ydHMgPT0gZnJlZUV4cG9ydHMpIHtcblx0XHRcdC8vIGluIE5vZGUuanMsIGlvLmpzLCBvciBSaW5nb0pTIHYwLjguMCtcblx0XHRcdGZyZWVNb2R1bGUuZXhwb3J0cyA9IHB1bnljb2RlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpbiBOYXJ3aGFsIG9yIFJpbmdvSlMgdjAuNy4wLVxuXHRcdFx0Zm9yIChrZXkgaW4gcHVueWNvZGUpIHtcblx0XHRcdFx0cHVueWNvZGUuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAoZnJlZUV4cG9ydHNba2V5XSA9IHB1bnljb2RlW2tleV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBpbiBSaGlubyBvciBhIHdlYiBicm93c2VyXG5cdFx0cm9vdC5wdW55Y29kZSA9IHB1bnljb2RlO1xuXHR9XG5cbn0odGhpcykpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNTdHJpbmc6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiB0eXBlb2YoYXJnKSA9PT0gJ3N0cmluZyc7XG4gIH0sXG4gIGlzT2JqZWN0OiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID09PSBudWxsO1xuICB9LFxuICBpc051bGxPclVuZGVmaW5lZDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PSBudWxsO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLmRlY29kZSA9IGV4cG9ydHMucGFyc2UgPSByZXF1aXJlKCcuL2RlY29kZScpO1xuZXhwb3J0cy5lbmNvZGUgPSBleHBvcnRzLnN0cmluZ2lmeSA9IHJlcXVpcmUoJy4vZW5jb2RlJyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyBJZiBvYmouaGFzT3duUHJvcGVydHkgaGFzIGJlZW4gb3ZlcnJpZGRlbiwgdGhlbiBjYWxsaW5nXG4vLyBvYmouaGFzT3duUHJvcGVydHkocHJvcCkgd2lsbCBicmVhay5cbi8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2lzc3Vlcy8xNzA3XG5mdW5jdGlvbiBoYXNPd25Qcm9wZXJ0eShvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHFzLCBzZXAsIGVxLCBvcHRpb25zKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICB2YXIgb2JqID0ge307XG5cbiAgaWYgKHR5cGVvZiBxcyAhPT0gJ3N0cmluZycgfHwgcXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIHZhciByZWdleHAgPSAvXFwrL2c7XG4gIHFzID0gcXMuc3BsaXQoc2VwKTtcblxuICB2YXIgbWF4S2V5cyA9IDEwMDA7XG4gIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLm1heEtleXMgPT09ICdudW1iZXInKSB7XG4gICAgbWF4S2V5cyA9IG9wdGlvbnMubWF4S2V5cztcbiAgfVxuXG4gIHZhciBsZW4gPSBxcy5sZW5ndGg7XG4gIC8vIG1heEtleXMgPD0gMCBtZWFucyB0aGF0IHdlIHNob3VsZCBub3QgbGltaXQga2V5cyBjb3VudFxuICBpZiAobWF4S2V5cyA+IDAgJiYgbGVuID4gbWF4S2V5cykge1xuICAgIGxlbiA9IG1heEtleXM7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgdmFyIHggPSBxc1tpXS5yZXBsYWNlKHJlZ2V4cCwgJyUyMCcpLFxuICAgICAgICBpZHggPSB4LmluZGV4T2YoZXEpLFxuICAgICAgICBrc3RyLCB2c3RyLCBrLCB2O1xuXG4gICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICBrc3RyID0geC5zdWJzdHIoMCwgaWR4KTtcbiAgICAgIHZzdHIgPSB4LnN1YnN0cihpZHggKyAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAga3N0ciA9IHg7XG4gICAgICB2c3RyID0gJyc7XG4gICAgfVxuXG4gICAgayA9IGRlY29kZVVSSUNvbXBvbmVudChrc3RyKTtcbiAgICB2ID0gZGVjb2RlVVJJQ29tcG9uZW50KHZzdHIpO1xuXG4gICAgaWYgKCFoYXNPd25Qcm9wZXJ0eShvYmosIGspKSB7XG4gICAgICBvYmpba10gPSB2O1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICBvYmpba10ucHVzaCh2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2JqW2tdID0gW29ialtrXSwgdl07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHN0cmluZ2lmeVByaW1pdGl2ZSA9IGZ1bmN0aW9uKHYpIHtcbiAgc3dpdGNoICh0eXBlb2Ygdikge1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdjtcblxuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHYgPyAndHJ1ZScgOiAnZmFsc2UnO1xuXG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBpc0Zpbml0ZSh2KSA/IHYgOiAnJztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqLCBzZXAsIGVxLCBuYW1lKSB7XG4gIHNlcCA9IHNlcCB8fCAnJic7XG4gIGVxID0gZXEgfHwgJz0nO1xuICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgb2JqID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG1hcChvYmplY3RLZXlzKG9iaiksIGZ1bmN0aW9uKGspIHtcbiAgICAgIHZhciBrcyA9IGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUoaykpICsgZXE7XG4gICAgICBpZiAoaXNBcnJheShvYmpba10pKSB7XG4gICAgICAgIHJldHVybiBtYXAob2JqW2tdLCBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgcmV0dXJuIGtzICsgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZSh2KSk7XG4gICAgICAgIH0pLmpvaW4oc2VwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqW2tdKSk7XG4gICAgICB9XG4gICAgfSkuam9pbihzZXApO1xuXG4gIH1cblxuICBpZiAoIW5hbWUpIHJldHVybiAnJztcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUobmFtZSkpICsgZXEgK1xuICAgICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZ2lmeVByaW1pdGl2ZShvYmopKTtcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG5mdW5jdGlvbiBtYXAgKHhzLCBmKSB7XG4gIGlmICh4cy5tYXApIHJldHVybiB4cy5tYXAoZik7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgIHJlcy5wdXNoKGYoeHNbaV0sIGkpKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG52YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJlcy5wdXNoKGtleSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkxvYWRlciA9IHVuZGVmaW5lZDtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX21pbmlTaWduYWxzID0gcmVxdWlyZSgnbWluaS1zaWduYWxzJyk7XG5cbnZhciBfbWluaVNpZ25hbHMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbWluaVNpZ25hbHMpO1xuXG52YXIgX3BhcnNlVXJpID0gcmVxdWlyZSgncGFyc2UtdXJpJyk7XG5cbnZhciBfcGFyc2VVcmkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFyc2VVcmkpO1xuXG52YXIgX2FzeW5jID0gcmVxdWlyZSgnLi9hc3luYycpO1xuXG52YXIgYXN5bmMgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfYXN5bmMpO1xuXG52YXIgX1Jlc291cmNlID0gcmVxdWlyZSgnLi9SZXNvdXJjZScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGVsc2UgeyB2YXIgbmV3T2JqID0ge307IGlmIChvYmogIT0gbnVsbCkgeyBmb3IgKHZhciBrZXkgaW4gb2JqKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IHJldHVybiBuZXdPYmo7IH0gfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG4vLyBzb21lIGNvbnN0YW50c1xudmFyIE1BWF9QUk9HUkVTUyA9IDEwMDtcbnZhciByZ3hFeHRyYWN0VXJsSGFzaCA9IC8oI1tcXHctXSspPyQvO1xuXG4vKipcbiAqIE1hbmFnZXMgdGhlIHN0YXRlIGFuZCBsb2FkaW5nIG9mIG11bHRpcGxlIHJlc291cmNlcyB0byBsb2FkLlxuICpcbiAqIEBjbGFzc1xuICovXG5cbnZhciBMb2FkZXIgPSBleHBvcnRzLkxvYWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2Jhc2VVcmw9JyddIC0gVGhlIGJhc2UgdXJsIGZvciBhbGwgcmVzb3VyY2VzIGxvYWRlZCBieSB0aGlzIGxvYWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmN1cnJlbmN5PTEwXSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgYmFzZVVybCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogJyc7XG4gICAgICAgIHZhciBjb25jdXJyZW5jeSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTA7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvYWRlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBiYXNlIHVybCBmb3IgYWxsIHJlc291cmNlcyBsb2FkZWQgYnkgdGhpcyBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcm9ncmVzcyBwZXJjZW50IG9mIHRoZSBsb2FkZXIgZ29pbmcgdGhyb3VnaCB0aGUgcXVldWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMb2FkaW5nIHN0YXRlIG9mIHRoZSBsb2FkZXIsIHRydWUgaWYgaXQgaXMgY3VycmVudGx5IGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcXVlcnlzdHJpbmcgdG8gYXBwZW5kIHRvIGV2ZXJ5IFVSTCBhZGRlZCB0byB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIHNob3VsZCBiZSBhIHZhbGlkIHF1ZXJ5IHN0cmluZyAqd2l0aG91dCogdGhlIHF1ZXN0aW9uLW1hcmsgKGA/YCkuIFRoZSBsb2FkZXIgd2lsbFxuICAgICAgICAgKiBhbHNvICpub3QqIGVzY2FwZSB2YWx1ZXMgZm9yIHlvdS4gTWFrZSBzdXJlIHRvIGVzY2FwZSB5b3VyIHBhcmFtZXRlcnMgd2l0aFxuICAgICAgICAgKiBbYGVuY29kZVVSSUNvbXBvbmVudGBdKGh0dHBzOi8vbWRuLmlvL2VuY29kZVVSSUNvbXBvbmVudCkgYmVmb3JlIGFzc2lnbmluZyB0aGlzIHByb3BlcnR5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXhhbXBsZVxuICAgICAgICAgKiBjb25zdCBsb2FkZXIgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5kZWZhdWx0UXVlcnlTdHJpbmcgPSAndXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3VzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAgICAgKiBsb2FkZXIuYWRkKCdpbWFnZS5wbmcnKS5sb2FkKCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIGxvYWRlci5yZXNldCgpO1xuICAgICAgICAgKlxuICAgICAgICAgKiAvLyBUaGlzIHdpbGwgcmVxdWVzdCAnaW1hZ2UucG5nP3Y9MSZ1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCdcbiAgICAgICAgICogbG9hZGVyLmFkZCgnaWFtZ2UucG5nP3Y9MScpLmxvYWQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcgPSAnJztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1pZGRsZXdhcmUgdG8gcnVuIGJlZm9yZSBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRyYWNrcyB0aGUgcmVzb3VyY2VzIHdlIGFyZSBjdXJyZW50bHkgY29tcGxldGluZyBwYXJzaW5nIGZvci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfbG9hZFJlc291cmNlYCBmdW5jdGlvbiBib3VuZCB3aXRoIHRoaXMgb2JqZWN0IGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKiBAcGFyYW0ge1Jlc291cmNlfSByIC0gVGhlIHJlc291cmNlIHRvIGxvYWRcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZCAtIFRoZSBkZXF1ZXVlIGZ1bmN0aW9uXG4gICAgICAgICAqIEByZXR1cm4ge3VuZGVmaW5lZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kTG9hZFJlc291cmNlID0gZnVuY3Rpb24gKHIsIGQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fbG9hZFJlc291cmNlKHIsIGQpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb3VyY2VzIHdhaXRpbmcgdG8gYmUgbG9hZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZVtdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcXVldWUgPSBhc3luYy5xdWV1ZSh0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSwgY29uY3VycmVuY3kpO1xuXG4gICAgICAgIHRoaXMuX3F1ZXVlLnBhdXNlKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFsbCB0aGUgcmVzb3VyY2VzIGZvciB0aGlzIGxvYWRlciBrZXllZCBieSBuYW1lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8c3RyaW5nLCBSZXNvdXJjZT59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCBvciBlcnJvcmVkIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uUHJvZ3Jlc3NTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgb25jZSBwZXIgZXJyb3JlZCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkVycm9yU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkVycm9yID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgcGVyIGxvYWRlZCByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkxvYWRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uTG9hZCA9IG5ldyBfbWluaVNpZ25hbHMyLmRlZmF1bHQoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSBsb2FkZXIgYmVnaW5zIHRvIHByb2Nlc3MgdGhlIHF1ZXVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgY2FsbGJhY2sgbG9va3MgbGlrZSB7QGxpbmsgTG9hZGVyLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgd2hlbiB0aGUgcXVldWVkIHJlc291cmNlcyBhbGwgbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIExvYWRlci5PbkNvbXBsZXRlU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8vIEFkZCBkZWZhdWx0IGJlZm9yZSBtaWRkbGV3YXJlXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdGhpcy5wcmUoTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZVtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgZGVmYXVsdCBhZnRlciBtaWRkbGV3YXJlXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUubGVuZ3RoOyArK19pKSB7XG4gICAgICAgICAgICB0aGlzLnVzZShMb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmVbX2ldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHByb2dyZXNzIGNoYW5nZXMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgcHJvZ3Jlc3MgaXMgYWR2YW5jaW5nIG9uLlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgaGFzIGNvbXBsZXRlZCBvciBmYWlsZWQgdG8gY2F1c2UgdGhlIHByb2dyZXNzIHRvIGFkdmFuY2UuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGFuIGVycm9yIG9jY3VycnMgdGhlIGxvYWRlciBhbmQgcmVzb3VyY2UgYXJlIGRpc2FwdGNoZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTG9hZGVyXG4gICAgICogQGNhbGxiYWNrIE9uRXJyb3JTaWduYWxcbiAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGUgZXJyb3IgaGFwcGVuZWQgaW4uXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBjYXVzZWQgdGhlIGVycm9yLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogV2hlbiBhIGxvYWQgY29tcGxldGVzIHRoZSBsb2FkZXIgYW5kIHJlc291cmNlIGFyZSBkaXNhcHRjaGVkLlxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIExvYWRlclxuICAgICAqIEBjYWxsYmFjayBPbkxvYWRTaWduYWxcbiAgICAgKiBAcGFyYW0ge0xvYWRlcn0gbG9hZGVyIC0gVGhlIGxvYWRlciB0aGF0IGxhb2RlZCB0aGUgcmVzb3VyY2UuXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCBoYXMgY29tcGxldGVkIGxvYWRpbmcuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBsb2FkZXIgc3RhcnRzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgKiBAY2FsbGJhY2sgT25TdGFydFNpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIHN0YXJ0ZWQgbG9hZGluZyByZXNvdXJjZXMuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBsb2FkZXIgY29tcGxldGVzIGxvYWRpbmcgcmVzb3VyY2VzIGl0IGRpc3BhdGNoZXMgdGhpcyBjYWxsYmFjay5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBMb2FkZXJcbiAgICAgKiBAY2FsbGJhY2sgT25Db21wbGV0ZVNpZ25hbFxuICAgICAqIEBwYXJhbSB7TG9hZGVyfSBsb2FkZXIgLSBUaGUgbG9hZGVyIHRoYXQgaGFzIGZpbmlzaGVkIGxvYWRpbmcgcmVzb3VyY2VzLlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogT3B0aW9ucyBmb3IgYSBjYWxsIHRvIGAuYWRkKClgLlxuICAgICAqXG4gICAgICogQHNlZSBMb2FkZXIjYWRkXG4gICAgICpcbiAgICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJQWRkT3B0aW9uc1xuICAgICAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd9IFtrZXldIC0gQWxpYXMgZm9yIGBuYW1lYC5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ30gW3VybF0gLSBUaGUgdXJsIGZvciB0aGlzIHJlc291cmNlLCByZWxhdGl2ZSB0byB0aGUgYmFzZVVybCBvZiB0aGlzIGxvYWRlci5cbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xib29sZWFufSBbY3Jvc3NPcmlnaW5dIC0gSXMgdGhpcyByZXF1ZXN0IGNyb3NzLW9yaWdpbj8gRGVmYXVsdCBpcyB0b1xuICAgICAqICAgICAgZGV0ZXJtaW5lIGF1dG9tYXRpY2FsbHkuXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICogQHByb3BlcnR5IHtSZXNvdXJjZS5MT0FEX1RZUEV9IFtsb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFt4aHJUeXBlPVJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFRdIC0gSG93XG4gICAgICogICAgICBzaG91bGQgdGhlIGRhdGEgYmVpbmcgbG9hZGVkIGJlIGludGVycHJldGVkIHdoZW4gdXNpbmcgWEhSP1xuICAgICAqIEBwcm9wZXJ0eSB7TG9hZGVyLk9uQ29tcGxldGVTaWduYWx9IFtvbkNvbXBsZXRlXSAtIENhbGxiYWNrIHRvIGFkZCBhbiBhbiBvbkNvbXBsZXRlIHNpZ25hbCBpc3RlbmVyLlxuICAgICAqIEBwcm9wZXJ0eSB7TG9hZGVyLk9uQ29tcGxldGVTaWduYWx9IFtjYWxsYmFja10gLSBBbGlhcyBmb3IgYG9uQ29tcGxldGVgLlxuICAgICAqIEBwcm9wZXJ0eSB7UmVzb3VyY2UuSU1ldGFkYXRhfSBbbWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZSBhbmQgdGhlIFJlc291cmNlIG9iamVjdC5cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSByZXNvdXJjZSAob3IgbXVsdGlwbGUgcmVzb3VyY2VzKSB0byB0aGUgbG9hZGVyIHF1ZXVlLlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gdGFrZSBhIHdpZGUgdmFyaWV0eSBvZiBkaWZmZXJlbnQgcGFyYW1ldGVycy4gVGhlIG9ubHkgdGhpbmcgdGhhdCBpcyBhbHdheXNcbiAgICAgKiByZXF1aXJlZCB0aGUgdXJsIHRvIGxvYWQuIEFsbCB0aGUgZm9sbG93aW5nIHdpbGwgd29yazpcbiAgICAgKlxuICAgICAqIGBgYGpzXG4gICAgICogbG9hZGVyXG4gICAgICogICAgIC8vIG5vcm1hbCBwYXJhbSBzeW50YXhcbiAgICAgKiAgICAgLmFkZCgna2V5JywgJ2h0dHA6Ly8uLi4nLCBmdW5jdGlvbiAoKSB7fSlcbiAgICAgKiAgICAgLmFkZCgnaHR0cDovLy4uLicsIGZ1bmN0aW9uICgpIHt9KVxuICAgICAqICAgICAuYWRkKCdodHRwOi8vLi4uJylcbiAgICAgKlxuICAgICAqICAgICAvLyBvYmplY3Qgc3ludGF4XG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgbmFtZTogJ2tleTInLFxuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgbmFtZTogJ2tleTMnLFxuICAgICAqICAgICAgICAgdXJsOiAnaHR0cDovLy4uLidcbiAgICAgKiAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHt9XG4gICAgICogICAgIH0pXG4gICAgICogICAgIC5hZGQoe1xuICAgICAqICAgICAgICAgdXJsOiAnaHR0cHM6Ly8uLi4nLFxuICAgICAqICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30sXG4gICAgICogICAgICAgICBjcm9zc09yaWdpbjogdHJ1ZVxuICAgICAqICAgICB9KVxuICAgICAqXG4gICAgICogICAgIC8vIHlvdSBjYW4gYWxzbyBwYXNzIGFuIGFycmF5IG9mIG9iamVjdHMgb3IgdXJscyBvciBib3RoXG4gICAgICogICAgIC5hZGQoW1xuICAgICAqICAgICAgICAgeyBuYW1lOiAna2V5NCcsIHVybDogJ2h0dHA6Ly8uLi4nLCBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7fSB9LFxuICAgICAqICAgICAgICAgeyB1cmw6ICdodHRwOi8vLi4uJywgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge30gfSxcbiAgICAgKiAgICAgICAgICdodHRwOi8vLi4uJ1xuICAgICAqICAgICBdKVxuICAgICAqXG4gICAgICogICAgIC8vIGFuZCB5b3UgY2FuIHVzZSBib3RoIHBhcmFtcyBhbmQgb3B0aW9uc1xuICAgICAqICAgICAuYWRkKCdrZXknLCAnaHR0cDovLy4uLicsIHsgY3Jvc3NPcmlnaW46IHRydWUgfSwgZnVuY3Rpb24gKCkge30pXG4gICAgICogICAgIC5hZGQoJ2h0dHA6Ly8uLi4nLCB7IGNyb3NzT3JpZ2luOiB0cnVlIH0sIGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfElBZGRPcHRpb25zfSBbbmFtZV0gLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZCwgaWYgbm90IHBhc3NlZCB0aGUgdXJsIGlzIHVzZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt1cmxdIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgcmVsYXRpdmUgdG8gdGhlIGJhc2VVcmwgb2YgdGhpcyBsb2FkZXIuXG4gICAgICogQHBhcmFtIHtJQWRkT3B0aW9uc30gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7TG9hZGVyLk9uQ29tcGxldGVTaWduYWx9IFtjYl0gLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhpcyBzcGVjaWZpYyByZXNvdXJjZSBjb21wbGV0ZXMgbG9hZGluZy5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQobmFtZSwgdXJsLCBvcHRpb25zLCBjYikge1xuICAgICAgICAvLyBzcGVjaWFsIGNhc2Ugb2YgYW4gYXJyYXkgb2Ygb2JqZWN0cyBvciB1cmxzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWUpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChuYW1lW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG4gICAgICAgIGlmICgodHlwZW9mIG5hbWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG5hbWUpKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGNiID0gdXJsIHx8IG5hbWUuY2FsbGJhY2sgfHwgbmFtZS5vbkNvbXBsZXRlO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG5hbWU7XG4gICAgICAgICAgICB1cmwgPSBuYW1lLnVybDtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLm5hbWUgfHwgbmFtZS5rZXkgfHwgbmFtZS51cmw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuICAgICAgICBpZiAodHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNiID0gb3B0aW9ucztcbiAgICAgICAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICAgICAgICB1cmwgPSBuYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbm93IHRoYXQgd2Ugc2hpZnRlZCBtYWtlIHN1cmUgd2UgaGF2ZSBhIHByb3BlciB1cmwuXG4gICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB1cmwgcGFzc2VkIHRvIGFkZCByZXNvdXJjZSB0byBsb2FkZXIuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvcHRpb25zIGFyZSBvcHRpb25hbCBzbyBwZW9wbGUgbWlnaHQgcGFzcyBhIGZ1bmN0aW9uIGFuZCBubyBvcHRpb25zXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2IgPSBvcHRpb25zO1xuICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiBsb2FkaW5nIGFscmVhZHkgeW91IGNhbiBvbmx5IGFkZCByZXNvdXJjZXMgdGhhdCBoYXZlIGEgcGFyZW50LlxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nICYmICghb3B0aW9ucyB8fCAhb3B0aW9ucy5wYXJlbnRSZXNvdXJjZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCByZXNvdXJjZXMgd2hpbGUgdGhlIGxvYWRlciBpcyBydW5uaW5nLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBuYW1lZCBcIicgKyBuYW1lICsgJ1wiIGFscmVhZHkgZXhpc3RzLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGJhc2UgdXJsIGlmIHRoaXMgaXNuJ3QgYW4gYWJzb2x1dGUgdXJsXG4gICAgICAgIHVybCA9IHRoaXMuX3ByZXBhcmVVcmwodXJsKTtcblxuICAgICAgICAvLyBjcmVhdGUgdGhlIHN0b3JlIHRoZSByZXNvdXJjZVxuICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXSA9IG5ldyBfUmVzb3VyY2UuUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5vbkFmdGVyTWlkZGxld2FyZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIGFjdGl2ZWx5IGxvYWRpbmcsIG1ha2Ugc3VyZSB0byBhZGp1c3QgcHJvZ3Jlc3MgY2h1bmtzIGZvciB0aGF0IHBhcmVudCBhbmQgaXRzIGNoaWxkcmVuXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnQgPSBvcHRpb25zLnBhcmVudFJlc291cmNlO1xuICAgICAgICAgICAgdmFyIGluY29tcGxldGVDaGlsZHJlbiA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoOyArK19pMikge1xuICAgICAgICAgICAgICAgIGlmICghcGFyZW50LmNoaWxkcmVuW19pMl0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5bX2kyXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgZnVsbENodW5rID0gcGFyZW50LnByb2dyZXNzQ2h1bmsgKiAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDEpOyAvLyArMSBmb3IgcGFyZW50XG4gICAgICAgICAgICB2YXIgZWFjaENodW5rID0gZnVsbENodW5rIC8gKGluY29tcGxldGVDaGlsZHJlbi5sZW5ndGggKyAyKTsgLy8gKzIgZm9yIHBhcmVudCAmIG5ldyBjaGlsZFxuXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICAgICAgICBwYXJlbnQucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcblxuICAgICAgICAgICAgZm9yICh2YXIgX2kzID0gMDsgX2kzIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytfaTMpIHtcbiAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW5bX2kzXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoZSByZXNvdXJjZSB0byB0aGUgcXVldWVcbiAgICAgICAgdGhpcy5fcXVldWUucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gICAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5wcmUgPSBmdW5jdGlvbiBwcmUoZm4pIHtcbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZuKSB7XG4gICAgICAgIHRoaXMuX2FmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBxdWV1ZSBvZiB0aGUgbG9hZGVyIHRvIHByZXBhcmUgZm9yIGEgbmV3IGxvYWQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHt0aGlzfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fcXVldWUua2lsbCgpO1xuICAgICAgICB0aGlzLl9xdWV1ZS5wYXVzZSgpO1xuXG4gICAgICAgIC8vIGFib3J0IGFsbCByZXNvdXJjZSBsb2Fkc1xuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5yZXNvdXJjZXNba107XG5cbiAgICAgICAgICAgIGlmIChyZXMuX29uTG9hZEJpbmRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXMuX29uTG9hZEJpbmRpbmcuZGV0YWNoKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXMuaXNMb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc291cmNlcyA9IHt9O1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgbG9hZGluZyB0aGUgcXVldWVkIHJlc291cmNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYl0gLSBPcHRpb25hbCBjYWxsYmFjayB0aGF0IHdpbGwgYmUgYm91bmQgdG8gdGhlIGBjb21wbGV0ZWAgZXZlbnQuXG4gICAgICogQHJldHVybiB7dGhpc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQoY2IpIHtcbiAgICAgICAgLy8gcmVnaXN0ZXIgY29tcGxldGUgY2FsbGJhY2sgaWYgdGhleSBwYXNzIG9uZVxuICAgICAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ29tcGxldGUub25jZShjYik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3F1ZXVlLmlkbGUoKSkge1xuICAgICAgICAgICAgdGhpcy5fb25TdGFydCgpO1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZGlzdHJpYnV0ZSBwcm9ncmVzcyBjaHVua3NcbiAgICAgICAgICAgIHZhciBudW1UYXNrcyA9IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY2h1bmsgPSBNQVhfUFJPR1JFU1MgLyBudW1UYXNrcztcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZS5fdGFza3NbaV0uZGF0YS5wcm9ncmVzc0NodW5rID0gY2h1bms7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcbiAgICAgICAgICAgIHRoaXMuX29uU3RhcnQoKTtcblxuICAgICAgICAgICAgLy8gc3RhcnQgbG9hZGluZ1xuICAgICAgICAgICAgdGhpcy5fcXVldWUucmVzdW1lKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTBcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogUHJlcGFyZXMgYSB1cmwgZm9yIHVzYWdlIGJhc2VkIG9uIHRoZSBjb25maWd1cmF0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHByZXBhcmUuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBUaGUgcHJlcGFyZWQgdXJsLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX3ByZXBhcmVVcmwgPSBmdW5jdGlvbiBfcHJlcGFyZVVybCh1cmwpIHtcbiAgICAgICAgdmFyIHBhcnNlZFVybCA9ICgwLCBfcGFyc2VVcmkyLmRlZmF1bHQpKHVybCwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuXG4gICAgICAgIC8vIGFic29sdXRlIHVybCwganVzdCB1c2UgaXQgYXMgaXMuXG4gICAgICAgIGlmIChwYXJzZWRVcmwucHJvdG9jb2wgfHwgIXBhcnNlZFVybC5wYXRoIHx8IHVybC5pbmRleE9mKCcvLycpID09PSAwKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB1cmw7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYmFzZVVybCBkb2Vzbid0IGVuZCBpbiBzbGFzaCBhbmQgdXJsIGRvZXNuJ3Qgc3RhcnQgd2l0aCBzbGFzaCwgdGhlbiBhZGQgYSBzbGFzaCBpbmJldHdlZW5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5iYXNlVXJsLmxlbmd0aCAmJiB0aGlzLmJhc2VVcmwubGFzdEluZGV4T2YoJy8nKSAhPT0gdGhpcy5iYXNlVXJsLmxlbmd0aCAtIDEgJiYgdXJsLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5iYXNlVXJsICsgJy8nICsgdXJsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyB1cmw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2UgbmVlZCB0byBhZGQgYSBkZWZhdWx0IHF1ZXJ5c3RyaW5nLCB0aGVyZSBpcyBhIGJpdCBtb3JlIHdvcmtcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nKSB7XG4gICAgICAgICAgICB2YXIgaGFzaCA9IHJneEV4dHJhY3RVcmxIYXNoLmV4ZWMocmVzdWx0KVswXTtcblxuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnN1YnN0cigwLCByZXN1bHQubGVuZ3RoIC0gaGFzaC5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyYnICsgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnPycgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0ICs9IGhhc2g7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBhIHNpbmdsZSByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9sb2FkUmVzb3VyY2UgPSBmdW5jdGlvbiBfbG9hZFJlc291cmNlKHJlc291cmNlLCBkZXF1ZXVlKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHJlc291cmNlLl9kZXF1ZXVlID0gZGVxdWV1ZTtcblxuICAgICAgICAvLyBydW4gYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgYXN5bmMuZWFjaFNlcmllcyh0aGlzLl9iZWZvcmVNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMyLCByZXNvdXJjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBiZWZvcmUgbWlkZGxld2FyZSBtYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUsXG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgICAgICAgICBuZXh0KHJlc291cmNlLmlzQ29tcGxldGUgPyB7fSA6IG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLl9vbkxvYWQocmVzb3VyY2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IHJlc291cmNlLm9uQ29tcGxldGUub25jZShfdGhpczIuX29uTG9hZCwgX3RoaXMyKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb25jZSBsb2FkaW5nIGhhcyBzdGFydGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fb25TdGFydCA9IGZ1bmN0aW9uIF9vblN0YXJ0KCkge1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb25jZSBlYWNoIHJlc291cmNlIGhhcyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG5cbiAgICBMb2FkZXIucHJvdG90eXBlLl9vbkNvbXBsZXRlID0gZnVuY3Rpb24gX29uQ29tcGxldGUoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcywgdGhpcy5yZXNvdXJjZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgZWFjaCB0aW1lIGEgcmVzb3VyY2VzIGlzIGxvYWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB3YXMgbG9hZGVkXG4gICAgICovXG5cblxuICAgIExvYWRlci5wcm90b3R5cGUuX29uTG9hZCA9IGZ1bmN0aW9uIF9vbkxvYWQocmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgcmVzb3VyY2UuX29uTG9hZEJpbmRpbmcgPSBudWxsO1xuXG4gICAgICAgIC8vIHJlbW92ZSB0aGlzIHJlc291cmNlIGZyb20gdGhlIGFzeW5jIHF1ZXVlLCBhbmQgYWRkIGl0IHRvIG91ciBsaXN0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBiZWluZyBwYXJzZWRcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5wdXNoKHJlc291cmNlKTtcbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUoKTtcblxuICAgICAgICAvLyBydW4gYWxsIHRoZSBhZnRlciBtaWRkbGV3YXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICAgIGFzeW5jLmVhY2hTZXJpZXModGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMzLCByZXNvdXJjZSwgbmV4dCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc291cmNlLm9uQWZ0ZXJNaWRkbGV3YXJlLmRpc3BhdGNoKHJlc291cmNlKTtcblxuICAgICAgICAgICAgX3RoaXMzLnByb2dyZXNzID0gTWF0aC5taW4oTUFYX1BST0dSRVNTLCBfdGhpczMucHJvZ3Jlc3MgKyByZXNvdXJjZS5wcm9ncmVzc0NodW5rKTtcbiAgICAgICAgICAgIF90aGlzMy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzMywgcmVzb3VyY2UpO1xuXG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpczMub25FcnJvci5kaXNwYXRjaChyZXNvdXJjZS5lcnJvciwgX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzMy5vbkxvYWQuZGlzcGF0Y2goX3RoaXMzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMzLl9yZXNvdXJjZXNQYXJzaW5nLmluZGV4T2YocmVzb3VyY2UpLCAxKTtcblxuICAgICAgICAgICAgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuICAgICAgICAgICAgaWYgKF90aGlzMy5fcXVldWUuaWRsZSgpICYmIF90aGlzMy5fcmVzb3VyY2VzUGFyc2luZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBfdGhpczMuX29uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIF9jcmVhdGVDbGFzcyhMb2FkZXIsIFt7XG4gICAgICAgIGtleTogJ2NvbmN1cnJlbmN5JyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcXVldWUuY29uY3VycmVuY3k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlcXVpcmUtanNkb2NcbiAgICAgICAgLFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldChjb25jdXJyZW5jeSkge1xuICAgICAgICAgICAgdGhpcy5fcXVldWUuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59KCk7XG5cbi8qKlxuICogQSBkZWZhdWx0IGFycmF5IG9mIG1pZGRsZXdhcmUgdG8gcnVuIGJlZm9yZSBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5cblxuTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuXG4vKipcbiAqIEEgZGVmYXVsdCBhcnJheSBvZiBtaWRkbGV3YXJlIHRvIHJ1biBhZnRlciBsb2FkaW5nIGVhY2ggcmVzb3VyY2UuXG4gKiBFYWNoIG9mIHRoZXNlIG1pZGRsZXdhcmVzIGFyZSBhZGRlZCB0byBhbnkgbmV3IExvYWRlciBpbnN0YW5jZXMgd2hlbiB0aGV5IGFyZSBjcmVhdGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyIHtmdW5jdGlvbltdfVxuICovXG5Mb2FkZXIuX2RlZmF1bHRBZnRlck1pZGRsZXdhcmUgPSBbXTtcblxuLyoqXG4gKiBTZXRzIHVwIGEgbWlkZGxld2FyZSBmdW5jdGlvbiB0aGF0IHdpbGwgcnVuICpiZWZvcmUqIHRoZVxuICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGZuIC0gVGhlIG1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcmVnaXN0ZXIuXG4gKiBAcmV0dXJuIHtMb2FkZXJ9IFJldHVybnMgaXRzZWxmLlxuICovXG5Mb2FkZXIucHJlID0gZnVuY3Rpb24gTG9hZGVyUHJlU3RhdGljKGZuKSB7XG4gICAgTG9hZGVyLl9kZWZhdWx0QmVmb3JlTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59O1xuXG4vKipcbiAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmFmdGVyKiB0aGVcbiAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICogQHJldHVybiB7TG9hZGVyfSBSZXR1cm5zIGl0c2VsZi5cbiAqL1xuTG9hZGVyLnVzZSA9IGZ1bmN0aW9uIExvYWRlclVzZVN0YXRpYyhmbikge1xuICAgIExvYWRlci5fZGVmYXVsdEFmdGVyTWlkZGxld2FyZS5wdXNoKGZuKTtcblxuICAgIHJldHVybiBMb2FkZXI7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TG9hZGVyLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZW5jb2RlQmluYXJ5ID0gZW5jb2RlQmluYXJ5O1xudmFyIF9rZXlTdHIgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0nO1xuXG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBpbnB1dCBUaGUgaW5wdXQgZGF0YSB0byBlbmNvZGUuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZW5jb2RlZCBiYXNlNjQgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGVuY29kZUJpbmFyeShpbnB1dCkge1xuICAgIHZhciBvdXRwdXQgPSAnJztcbiAgICB2YXIgaW54ID0gMDtcblxuICAgIHdoaWxlIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgLy8gRmlsbCBieXRlIGJ1ZmZlciBhcnJheVxuICAgICAgICB2YXIgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICAgICAgdmFyIGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICBmb3IgKHZhciBqbnggPSAwOyBqbnggPCBieXRlYnVmZmVyLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIGlmIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IGlucHV0LmNoYXJDb2RlQXQoaW54KyspICYgMHhmZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgICAgIC8vIGluZGV4IDE6IGZpcnN0IDYgYml0c1xuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMF0gPSBieXRlYnVmZmVyWzBdID4+IDI7XG5cbiAgICAgICAgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9IChieXRlYnVmZmVyWzBdICYgMHgzKSA8PCA0IHwgYnl0ZWJ1ZmZlclsxXSA+PiA0O1xuXG4gICAgICAgIC8vIGluZGV4IDM6IHRoaXJkIDYgYml0cyAoNCBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAyICsgMiBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMiB8IGJ5dGVidWZmZXJbMl0gPj4gNjtcblxuICAgICAgICAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gYnl0ZWJ1ZmZlclsyXSAmIDB4M2Y7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuICAgICAgICB2YXIgcGFkZGluZ0J5dGVzID0gaW54IC0gKGlucHV0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgY2hhcmFjdGVyIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBObyBwYWRkaW5nIC0gcHJvY2VlZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHdlIHdpbGwgZ3JhYiBlYWNoIGFwcHJvcHJpYXRlIGNoYXJhY3RlciBvdXQgb2Ygb3VyIGtleXN0cmluZ1xuICAgICAgICAvLyBiYXNlZCBvbiBvdXIgaW5kZXggYXJyYXkgYW5kIGFwcGVuZCBpdCB0byB0aGUgb3V0cHV0IHN0cmluZ1xuICAgICAgICBmb3IgKHZhciBfam54ID0gMDsgX2pueCA8IGVuY29kZWRDaGFySW5kZXhlcy5sZW5ndGg7ICsrX2pueCkge1xuICAgICAgICAgICAgb3V0cHV0ICs9IF9rZXlTdHIuY2hhckF0KGVuY29kZWRDaGFySW5kZXhlc1tfam54XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuXG4vLyBCYWNrd2FyZHMgY29tcGF0XG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZW5jb2RlQmluYXJ5OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iNjQuanMubWFwIiwiLyohXG4gKiBAcGl4aS9jb25zdGFudHMgLSB2NS4wLjAtYWxwaGEuM1xuICogQ29tcGlsZWQgVHVlLCAwMyBKdWwgMjAxOCAwNDowODoyMSBVVENcbiAqXG4gKiBAcGl4aS9jb25zdGFudHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEVOVlxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTF9MRUdBQ1kgLSBVc2VkIGZvciBvbGRlciB2MSBXZWJHTCBkZXZpY2VzLiBQaXhpSlMgd2lsbCBhaW0gdG8gZW5zdXJlIGNvbXBhdGliaWxpdHlcbiAqICB3aXRoIG9sZGVyIC8gbGVzcyBhZHZhbmNlZCBkZXZpY2VzLiBJZiB5b3UgZXhwZXJpZW5jZSB1bmV4cGxhaW5lZCBmbGlja2VyaW5nIHByZWZlciB0aGlzIGVudmlyb25tZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gVmVyc2lvbiAxIG9mIFdlYkdMXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wyIC0gVmVyc2lvbiAyIG9mIFdlYkdMXG4gKi9cbnZhciBFTlYgPSB7XG4gICAgV0VCR0xfTEVHQUNZOiAwLFxuICAgIFdFQkdMOiAxLFxuICAgIFdFQkdMMjogMixcbn07XG5cbi8qKlxuICogQ29uc3RhbnQgdG8gaWRlbnRpZnkgdGhlIFJlbmRlcmVyIFR5cGUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xudmFyIFJFTkRFUkVSX1RZUEUgPSB7XG4gICAgVU5LTk9XTjogICAgMCxcbiAgICBXRUJHTDogICAgICAxLFxuICAgIENBTlZBUzogICAgIDIsXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgYmxlbmQgbW9kZXMgc3VwcG9ydGVkIGJ5IFBJWEkuXG4gKlxuICogSU1QT1JUQU5UIC0gVGhlIFdlYkdMIHJlbmRlcmVyIG9ubHkgc3VwcG9ydHMgdGhlIE5PUk1BTCwgQURELCBNVUxUSVBMWSBhbmQgU0NSRUVOIGJsZW5kIG1vZGVzLlxuICogQW55dGhpbmcgZWxzZSB3aWxsIHNpbGVudGx5IGFjdCBsaWtlIE5PUk1BTC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCTEVORF9NT0RFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT1JNQUxcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBRERcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9WRVJMQVlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSUdIVEVOXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1JfRE9ER0VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOXG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFSRF9MSUdIVFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNPRlRfTElHSFRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFXG4gKiBAcHJvcGVydHkge251bWJlcn0gRVhDTFVTSU9OXG4gKiBAcHJvcGVydHkge251bWJlcn0gSFVFXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SXG4gKiBAcHJvcGVydHkge251bWJlcn0gTFVNSU5PU0lUWVxuICovXG52YXIgQkxFTkRfTU9ERVMgPSB7XG4gICAgTk9STUFMOiAgICAgICAgIDAsXG4gICAgQUREOiAgICAgICAgICAgIDEsXG4gICAgTVVMVElQTFk6ICAgICAgIDIsXG4gICAgU0NSRUVOOiAgICAgICAgIDMsXG4gICAgT1ZFUkxBWTogICAgICAgIDQsXG4gICAgREFSS0VOOiAgICAgICAgIDUsXG4gICAgTElHSFRFTjogICAgICAgIDYsXG4gICAgQ09MT1JfRE9ER0U6ICAgIDcsXG4gICAgQ09MT1JfQlVSTjogICAgIDgsXG4gICAgSEFSRF9MSUdIVDogICAgIDksXG4gICAgU09GVF9MSUdIVDogICAgIDEwLFxuICAgIERJRkZFUkVOQ0U6ICAgICAxMSxcbiAgICBFWENMVVNJT046ICAgICAgMTIsXG4gICAgSFVFOiAgICAgICAgICAgIDEzLFxuICAgIFNBVFVSQVRJT046ICAgICAxNCxcbiAgICBDT0xPUjogICAgICAgICAgMTUsXG4gICAgTFVNSU5PU0lUWTogICAgIDE2LFxuICAgIE5PUk1BTF9OUE06ICAgICAxNyxcbiAgICBBRERfTlBNOiAgICAgICAgMTgsXG4gICAgU0NSRUVOX05QTTogICAgIDE5LFxufTtcblxuLyoqXG4gKiBWYXJpb3VzIHdlYmdsIGRyYXcgbW9kZXMuIFRoZXNlIGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgd2hpY2ggR0wgZHJhd01vZGUgdG8gdXNlXG4gKiB1bmRlciBjZXJ0YWluIHNpdHVhdGlvbnMgYW5kIHJlbmRlcmVycy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBEUkFXX01PREVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBPSU5UU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVTXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9MT09QXG4gKiBAcHJvcGVydHkge251bWJlcn0gTElORV9TVFJJUFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFU1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX1NUUklQXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfRkFOXG4gKi9cbnZhciBEUkFXX01PREVTID0ge1xuICAgIFBPSU5UUzogICAgICAgICAwLFxuICAgIExJTkVTOiAgICAgICAgICAxLFxuICAgIExJTkVfTE9PUDogICAgICAyLFxuICAgIExJTkVfU1RSSVA6ICAgICAzLFxuICAgIFRSSUFOR0xFUzogICAgICA0LFxuICAgIFRSSUFOR0xFX1NUUklQOiA1LFxuICAgIFRSSUFOR0xFX0ZBTjogICA2LFxufTtcblxuLyoqXG4gKiBWYXJpb3VzIEdMIHRleHR1cmUvcmVzb3VyY2VzIGZvcm1hdHMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgRk9STUFUU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0JBPTY0MDhcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBSR0I9NjQwN1xuICogQHByb3BlcnR5IHtudW1iZXJ9IEFMUEhBPTY0MDZcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMVU1JTkFOQ0U9NjQwOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOQU5DRV9BTFBIQT02NDEwXG4gKiBAcHJvcGVydHkge251bWJlcn0gREVQVEhfQ09NUE9ORU5UPTY0MDJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSF9TVEVOQ0lMPTM0MDQxXG4gKi9cbnZhciBGT1JNQVRTID0ge1xuICAgIFJHQkE6ICAgICAgICAgICAgIDY0MDgsXG4gICAgUkdCOiAgICAgICAgICAgICAgNjQwNyxcbiAgICBBTFBIQTogICAgICAgICAgICA2NDA2LFxuICAgIExVTUlOQU5DRTogICAgICAgIDY0MDksXG4gICAgTFVNSU5BTkNFX0FMUEhBOiAgNjQxMCxcbiAgICBERVBUSF9DT01QT05FTlQ6ICA2NDAyLFxuICAgIERFUFRIX1NURU5DSUw6ICAgIDM0MDQxLFxufTtcblxuLyoqXG4gKiBWYXJpb3VzIEdMIHRhcmdldCB0eXBlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBUQVJHRVRTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfMkQ9MzU1M1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFRFWFRVUkVfQ1VCRV9NQVA9MzQwNjdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBURVhUVVJFXzJEX0FSUkFZPTM1ODY2XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YPTM0MDY5XG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZPTM0MDcxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZPTM0MDcyXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXG4gKiBAcHJvcGVydHkge251bWJlcn0gVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aPTM0MDc0XG4gKi9cbnZhciBUQVJHRVRTID0ge1xuICAgIFRFWFRVUkVfMkQ6IDM1NTMsXG4gICAgVEVYVFVSRV9DVUJFX01BUDogMzQwNjcsXG4gICAgVEVYVFVSRV8yRF9BUlJBWTogMzU4NjYsXG4gICAgVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YOiAzNDA2OSxcbiAgICBURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1g6IDM0MDcwLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWTogMzQwNzEsXG4gICAgVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZOiAzNDA3MixcbiAgICBURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1o6IDM0MDczLFxuICAgIFRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWjogMzQwNzQsXG59O1xuXG4vKipcbiAqIFZhcmlvdXMgR0wgZGF0YSBmb3JtYXQgdHlwZXMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgVFlQRVNcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfQllURT01MTIxXG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlQ9NTEyM1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzVfNl81PTMzNjM1XG4gKiBAcHJvcGVydHkge251bWJlcn0gVU5TSUdORURfU0hPUlRfNF80XzRfND0zMjgxOVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOU0lHTkVEX1NIT1JUXzVfNV81XzE9MzI4MjBcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBGTE9BVD01MTI2XG4gKiBAcHJvcGVydHkge251bWJlcn0gSEFMRl9GTE9BVD0zNjE5M1xuICovXG52YXIgVFlQRVMgPSB7XG4gICAgVU5TSUdORURfQllURTogNTEyMSxcbiAgICBVTlNJR05FRF9TSE9SVDogNTEyMyxcbiAgICBVTlNJR05FRF9TSE9SVF81XzZfNTogMzM2MzUsXG4gICAgVU5TSUdORURfU0hPUlRfNF80XzRfNDogMzI4MTksXG4gICAgVU5TSUdORURfU0hPUlRfNV81XzVfMTogMzI4MjAsXG4gICAgRkxPQVQ6IDUxMjYsXG4gICAgSEFMRl9GTE9BVDogMzYxOTMsXG59O1xuXG4vKipcbiAqIFRoZSBzY2FsZSBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuU0NBTEVfTU9ERX0gc2NhbGUgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHNjYWxpbmcgbW9kZSBvZiBmdXR1cmUgb3BlcmF0aW9ucy5cbiAqIEl0IGNhbiBiZSByZS1hc3NpZ25lZCB0byBlaXRoZXIgTElORUFSIG9yIE5FQVJFU1QsIGRlcGVuZGluZyB1cG9uIHN1aXRhYmlsaXR5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIFNDQUxFX01PREVTXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUiBTbW9vdGggc2NhbGluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE5FQVJFU1QgUGl4ZWxhdGluZyBzY2FsaW5nXG4gKi9cbnZhciBTQ0FMRV9NT0RFUyA9IHtcbiAgICBMSU5FQVI6ICAgICAxLFxuICAgIE5FQVJFU1Q6ICAgIDAsXG59O1xuXG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgd2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVMgPSB7XG4gICAgQ0xBTVA6ICAgICAgICAgICAzMzA3MSxcbiAgICBSRVBFQVQ6ICAgICAgICAgIDEwNDk3LFxuICAgIE1JUlJPUkVEX1JFUEVBVDogMzM2NDgsXG59O1xuXG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgR0NfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBoYXBwZW4gcGVyaW9kaWNhbGx5IGF1dG9tYXRpY2FsbHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNQU5VQUwgLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBuZWVkIHRvIGJlIGNhbGxlZCBtYW51YWxseVxuICovXG52YXIgR0NfTU9ERVMgPSB7XG4gICAgQVVUTzogICAgICAgICAgIDAsXG4gICAgTUFOVUFMOiAgICAgICAgIDEsXG59O1xuXG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHNoYWRlcnMuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtzdHJpbmd9IExPVz0nbG93cCdcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBNRURJVU09J21lZGl1bXAnXG4gKiBAcHJvcGVydHkge3N0cmluZ30gSElHSD0naGlnaHAnXG4gKi9cbnZhciBQUkVDSVNJT04gPSB7XG4gICAgTE9XOiAnbG93cCcsXG4gICAgTUVESVVNOiAnbWVkaXVtcCcsXG4gICAgSElHSDogJ2hpZ2hwJyxcbn07XG5cbmV4cG9ydCB7IEVOViwgUkVOREVSRVJfVFlQRSwgQkxFTkRfTU9ERVMsIERSQVdfTU9ERVMsIEZPUk1BVFMsIFRBUkdFVFMsIFRZUEVTLCBTQ0FMRV9NT0RFUywgV1JBUF9NT0RFUywgR0NfTU9ERVMsIFBSRUNJU0lPTiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zZXR0aW5ncyAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL3NldHRpbmdzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IERldmljZSBmcm9tICdpc21vYmlsZWpzJztcblxuZnVuY3Rpb24gbWF4UmVjb21tZW5kZWRUZXh0dXJlcyhtYXgpXG57XG4gICAgaWYgKERldmljZS50YWJsZXQgfHwgRGV2aWNlLnBob25lKVxuICAgIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHJlcyBpcyBpcGhvbmUgNiBvciBoaWdoZXIuLlxuICAgICAgICByZXR1cm4gNDtcbiAgICB9XG5cbiAgICAvLyBkZXNrdG9wIHNob3VsZCBiZSBva1xuICAgIHJldHVybiBtYXg7XG59XG5cbmZ1bmN0aW9uIGNhblVwbG9hZFNhbWVCdWZmZXIoKVxue1xuICAgIC8vIFVwbG9hZGluZyB0aGUgc2FtZSBidWZmZXIgbXVsdGlwbGUgdGltZXMgaW4gYSBzaW5nbGUgZnJhbWUgY2FuIGNhdXNlIHBlcmYgaXNzdWVzLlxuICAgIC8vIEFwcGFyZW50IG9uIElPUyBzbyBvbmx5IGNoZWNrIGZvciB0aGF0IGF0IHRoZSBtb21lbnRcbiAgICAvLyB0aGlzIGNoZWNrIG1heSBiZWNvbWUgbW9yZSBjb21wbGV4IGlmIHRoaXMgaXNzdWUgcG9wcyB1cCBlbHNld2hlcmUuXG4gICAgdmFyIGlvcyA9ICEhbmF2aWdhdG9yLnBsYXRmb3JtICYmICgvaVBhZHxpUGhvbmV8aVBvZC8pLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcblxuICAgIHJldHVybiAhaW9zO1xufVxuXG4vKipcbiAqIFVzZXIncyBjdXN0b21pemFibGUgZ2xvYmFscyBmb3Igb3ZlcnJpZGluZyB0aGUgZGVmYXVsdCBQSVhJIHNldHRpbmdzLCBzdWNoXG4gKiBhcyBhIHJlbmRlcmVyJ3MgZGVmYXVsdCByZXNvbHV0aW9uLCBmcmFtZXJhdGUsIGZsb2F0IHByZWNpc2lvbiwgZXRjLlxuICogQGV4YW1wbGVcbiAqIC8vIFVzZSB0aGUgbmF0aXZlIHdpbmRvdyByZXNvbHV0aW9uIGFzIHRoZSBkZWZhdWx0IHJlc29sdXRpb25cbiAqIC8vIHdpbGwgc3VwcG9ydCBoaWdoLWRlbnNpdHkgZGlzcGxheXMgd2hlbiByZW5kZXJpbmdcbiAqIFBJWEkuc2V0dGluZ3MuUkVTT0xVVElPTiA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvLlxuICpcbiAqIC8vIERpc2FibGUgaW50ZXJwb2xhdGlvbiB3aGVuIHNjYWxpbmcsIHdpbGwgbWFrZSB0ZXh0dXJlIGJlIHBpeGVsYXRlZFxuICogUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFID0gUElYSS5TQ0FMRV9NT0RFUy5ORUFSRVNUO1xuICogQG5hbWVzcGFjZSBQSVhJLnNldHRpbmdzXG4gKi9cbnZhciBzZXR0aW5ncyA9IHtcblxuICAgIC8qKlxuICAgICAqIElmIHNldCB0byB0cnVlIFdlYkdMIHdpbGwgYXR0ZW1wdCBtYWtlIHRleHR1cmVzIG1pbXBhcGVkIGJ5IGRlZmF1bHQuXG4gICAgICogTWlwbWFwcGluZyB3aWxsIG9ubHkgc3VjY2VlZCBpZiB0aGUgYmFzZSB0ZXh0dXJlIHVwbG9hZGVkIGhhcyBwb3dlciBvZiB0d28gZGltZW5zaW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBNSVBNQVBfVEVYVFVSRVM6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgUkVTT0xVVElPTjogMSxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZmlsdGVyIHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBGSUxURVJfUkVTT0xVVElPTjogMSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIHRleHR1cmVzIHRoYXQgdGhpcyBkZXZpY2Ugc3VwcG9ydHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDMyXG4gICAgICovXG4gICAgU1BSSVRFX01BWF9URVhUVVJFUzogbWF4UmVjb21tZW5kZWRUZXh0dXJlcygzMiksXG5cbiAgICAvLyBUT0RPOiBtYXliZSBjaGFuZ2UgdG8gU1BSSVRFLkJBVENIX1NJWkU6IDIwMDBcbiAgICAvLyBUT0RPOiBtYXliZSBhZGQgUEFSVElDTEUuQkFUQ0hfU0laRTogMTUwMDBcblxuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IHNwcml0ZSBiYXRjaCBzaXplLlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgYWltcyB0byBiYWxhbmNlIGRlc2t0b3AgYW5kIG1vYmlsZSBkZXZpY2VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA0MDk2XG4gICAgICovXG4gICAgU1BSSVRFX0JBVENIX1NJWkU6IDQwOTYsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCByZW5kZXIgb3B0aW9ucyBpZiBub25lIGFyZSBzdXBwbGllZCB0byB7QGxpbmsgUElYSS5SZW5kZXJlcn1cbiAgICAgKiBvciB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGNvbnN0YW50XG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBwcm9wZXJ0eSB7SFRNTENhbnZhc0VsZW1lbnR9IHZpZXc9bnVsbFxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uPTFcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFudGlhbGlhcz1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZm9yY2VGWEFBPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSBhdXRvUmVzaXplPWZhbHNlXG4gICAgICogQHByb3BlcnR5IHtib29sZWFufSB0cmFuc3BhcmVudD1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiYWNrZ3JvdW5kQ29sb3I9MHgwMDAwMDBcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGNsZWFyQmVmb3JlUmVuZGVyPXRydWVcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHByZXNlcnZlRHJhd2luZ0J1ZmZlcj1mYWxzZVxuICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gcm91bmRQaXhlbHM9ZmFsc2VcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gd2lkdGg9ODAwXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodD02MDBcbiAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGxlZ2FjeT1mYWxzZVxuICAgICAqL1xuICAgIFJFTkRFUl9PUFRJT05TOiB7XG4gICAgICAgIHZpZXc6IG51bGwsXG4gICAgICAgIGFudGlhbGlhczogZmFsc2UsXG4gICAgICAgIGZvcmNlRlhBQTogZmFsc2UsXG4gICAgICAgIGF1dG9SZXNpemU6IGZhbHNlLFxuICAgICAgICB0cmFuc3BhcmVudDogZmFsc2UsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogMHgwMDAwMDAsXG4gICAgICAgIGNsZWFyQmVmb3JlUmVuZGVyOiB0cnVlLFxuICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxuICAgICAgICByb3VuZFBpeGVsczogZmFsc2UsXG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogNjAwLFxuICAgICAgICBsZWdhY3k6IGZhbHNlLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge1BJWEkuR0NfTU9ERVN9XG4gICAgICogQGRlZmF1bHQgUElYSS5HQ19NT0RFUy5BVVRPXG4gICAgICovXG4gICAgR0NfTU9ERTogMCxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgR2FyYmFnZSBDb2xsZWN0aW9uIG1heCBpZGxlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAzNjAwXG4gICAgICovXG4gICAgR0NfTUFYX0lETEU6IDYwICogNjAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IEdhcmJhZ2UgQ29sbGVjdGlvbiBtYXhpbXVtIGNoZWNrIGNvdW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBHQ19NQVhfQ0hFQ0tfQ09VTlQ6IDYwICogMTAsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHdyYXAgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5XUkFQX01PREVTfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuV1JBUF9NT0RFUy5DTEFNUFxuICAgICAqL1xuICAgIFdSQVBfTU9ERTogMzMwNzEsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5TQ0FMRV9NT0RFU31cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNDQUxFX01PREVTLkxJTkVBUlxuICAgICAqL1xuICAgIFNDQUxFX01PREU6IDEsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHZlcnRleCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgKiBAdHlwZSB7UElYSS5QUkVDSVNJT059XG4gICAgICogQGRlZmF1bHQgUElYSS5QUkVDSVNJT04uSElHSFxuICAgICAqL1xuICAgIFBSRUNJU0lPTl9WRVJURVg6ICdoaWdocCcsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtQSVhJLlBSRUNJU0lPTn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLlBSRUNJU0lPTi5NRURJVU1cbiAgICAgKi9cbiAgICBQUkVDSVNJT05fRlJBR01FTlQ6ICdtZWRpdW1wJyxcblxuICAgIC8qKlxuICAgICAqIENhbiB3ZSB1cGxvYWQgdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lP1xuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBjb25zdGFudFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUjogY2FuVXBsb2FkU2FtZUJ1ZmZlcigpLFxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBiaXRtYXAgY3JlYXRpb24gYmVmb3JlIGltYWdlIGxvYWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cbiAgICBDUkVBVEVfSU1BR0VfQklUTUFQOiB0cnVlLFxufTtcblxuZXhwb3J0IHsgc2V0dGluZ3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNldHRpbmdzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS91dGlscyAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL3V0aWxzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IGlzbW9iaWxlanMgZnJvbSAnaXNtb2JpbGVqcyc7XG5pbXBvcnQgcmVtb3ZlQXJyYXlJdGVtcyBmcm9tICdyZW1vdmUtYXJyYXktaXRlbXMnO1xuaW1wb3J0IGV2ZW50ZW1pdHRlcjMgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgZWFyY3V0IGZyb20gJ2VhcmN1dCc7XG5pbXBvcnQgeyBCTEVORF9NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBzZXR0aW5ncyQxIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IF91cmwgZnJvbSAndXJsJztcblxuLyoqXG4gKiBNaXhlcyBhbGwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGZyb20gYSBzb3VyY2Ugb2JqZWN0IHRvIGEgdGFyZ2V0IG9iamVjdC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlscy5taXhpbnNcbiAqIEBmdW5jdGlvbiBtaXhpblxuICogQHBhcmFtIHtvYmplY3R9IHRhcmdldCBUaGUgcHJvdG90eXBlIG9yIGluc3RhbmNlIHRoYXQgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBzaG91bGQgYmUgYWRkZWQgdG8uXG4gKiBAcGFyYW0ge29iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2YgcHJvcGVydGllcyBhbmQgbWV0aG9kcyB0byBtaXggaW4uXG4gKi9cbmZ1bmN0aW9uIG1peGluKHRhcmdldCwgc291cmNlKVxue1xuICAgIGlmICghdGFyZ2V0IHx8ICFzb3VyY2UpIHsgcmV0dXJuOyB9XG4gICAgLy8gaW4gRVM4L0VTMjAxNywgdGhpcyB3b3VsZCBiZSByZWFsbHkgZWFzeTpcbiAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuXG4gICAgLy8gZ2V0IGFsbCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBrZXlzXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuXG4gICAgLy8gbG9vcCB0aHJvdWdoIHByb3BlcnRpZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpXG4gICAge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0ga2V5c1tpXTtcblxuICAgICAgICAvLyBTZXQgdGhlIHByb3BlcnR5IHVzaW5nIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIC0gdGhpcyB3b3JrcyBmb3IgYWNjZXNzb3JzIGFuZCBub3JtYWwgdmFsdWUgcHJvcGVydGllc1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wZXJ0eU5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwcm9wZXJ0eU5hbWUpKTtcbiAgICB9XG59XG5cbnZhciBtaXhpbnMgPSBbXTtcblxuLyoqXG4gKiBRdWV1ZXMgYSBtaXhpbiB0byBiZSBoYW5kbGVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgaW5pdGlhbGl6YXRpb24gb2YgUElYSSwgc28gdGhhdCBkZXByZWNhdGlvblxuICogY2FuIHRha2UgZWZmZWN0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzLm1peGluc1xuICogQGZ1bmN0aW9uIGRlbGF5TWl4aW5cbiAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXQgVGhlIHByb3RvdHlwZSBvciBpbnN0YW5jZSB0aGF0IHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgc2hvdWxkIGJlIGFkZGVkIHRvLlxuICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9mIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdG8gbWl4IGluLlxuICovXG5mdW5jdGlvbiBkZWxheU1peGluKHRhcmdldCwgc291cmNlKVxue1xuICAgIG1peGlucy5wdXNoKHRhcmdldCwgc291cmNlKTtcbn1cblxuLyoqXG4gKiBIYW5kbGVzIGFsbCBtaXhpbnMgcXVldWVkIHZpYSBkZWxheU1peGluKCkuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHMubWl4aW5zXG4gKiBAZnVuY3Rpb24gcGVyZm9ybU1peGluc1xuICovXG5mdW5jdGlvbiBwZXJmb3JtTWl4aW5zKClcbntcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1peGlucy5sZW5ndGg7IGkgKz0gMilcbiAgICB7XG4gICAgICAgIG1peGluKG1peGluc1tpXSwgbWl4aW5zW2kgKyAxXSk7XG4gICAgfVxuICAgIG1peGlucy5sZW5ndGggPSAwO1xufVxuXG5cbnZhciBtaXhpbnMkMSA9ICh7XG5cdG1peGluOiBtaXhpbixcblx0ZGVsYXlNaXhpbjogZGVsYXlNaXhpbixcblx0cGVyZm9ybU1peGluczogcGVyZm9ybU1peGluc1xufSk7XG5cbnZhciBzYWlkSGVsbG8gPSBmYWxzZTtcbnZhciBWRVJTSU9OID0gJzUuMC4wLWFscGhhLjMnO1xuXG4vKipcbiAqIFNraXBzIHRoZSBoZWxsbyBtZXNzYWdlIG9mIHJlbmRlcmVycyB0aGF0IGFyZSBjcmVhdGVkIGFmdGVyIHRoaXMgaXMgcnVuLlxuICpcbiAqIEBmdW5jdGlvbiBza2lwSGVsbG9cbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKi9cbmZ1bmN0aW9uIHNraXBIZWxsbygpXG57XG4gICAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBMb2dzIG91dCB0aGUgdmVyc2lvbiBhbmQgcmVuZGVyZXIgaW5mb3JtYXRpb24gZm9yIHRoaXMgcnVubmluZyBpbnN0YW5jZSBvZiBQSVhJLlxuICogSWYgeW91IGRvbid0IHdhbnQgdG8gc2VlIHRoaXMgbWVzc2FnZSB5b3UgY2FuIHJ1biBgUElYSS51dGlscy5za2lwSGVsbG8oKWAgYmVmb3JlXG4gKiBjcmVhdGluZyB5b3VyIHJlbmRlcmVyLiBLZWVwIGluIG1pbmQgdGhhdCBkb2luZyB0aGF0IHdpbGwgZm9yZXZlciBtYWtlcyB5b3UgYSBqZXJrIGZhY2UuXG4gKlxuICogQHN0YXRpY1xuICogQGZ1bmN0aW9uIHNheUhlbGxvXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBUaGUgc3RyaW5nIHJlbmRlcmVyIHR5cGUgdG8gbG9nLlxuICovXG5mdW5jdGlvbiBzYXlIZWxsbyh0eXBlKVxue1xuICAgIGlmIChzYWlkSGVsbG8pXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdjaHJvbWUnKSA+IC0xKVxuICAgIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXG4gICAgICAgICAgICAoXCJcXG4gJWMgJWMgJWMgUGl4aUpTIFwiICsgVkVSU0lPTiArIFwiIC0g4pywIFwiICsgdHlwZSArIFwiIOKcsCAgJWMgICVjICBodHRwOi8vd3d3LnBpeGlqcy5jb20vICAlYyAlYyDimaUlY+KZpSVj4pmlIFxcblxcblwiKSxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmY2NmE1OyBiYWNrZ3JvdW5kOiAjMDMwMzA3OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnYmFja2dyb3VuZDogI2ZmNjZhNTsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2JhY2tncm91bmQ6ICNmZmMzZGM7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdiYWNrZ3JvdW5kOiAjZmY2NmE1OyBwYWRkaW5nOjVweCAwOycsXG4gICAgICAgICAgICAnY29sb3I6ICNmZjI0MjQ7IGJhY2tncm91bmQ6ICNmZmY7IHBhZGRpbmc6NXB4IDA7JyxcbiAgICAgICAgICAgICdjb2xvcjogI2ZmMjQyNDsgYmFja2dyb3VuZDogI2ZmZjsgcGFkZGluZzo1cHggMDsnLFxuICAgICAgICAgICAgJ2NvbG9yOiAjZmYyNDI0OyBiYWNrZ3JvdW5kOiAjZmZmOyBwYWRkaW5nOjVweCAwOycgXTtcblxuICAgICAgICB3aW5kb3cuY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJncyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHdpbmRvdy5jb25zb2xlKVxuICAgIHtcbiAgICAgICAgd2luZG93LmNvbnNvbGUubG9nKChcIlBpeGlKUyBcIiArIFZFUlNJT04gKyBcIiAtIFwiICsgdHlwZSArIFwiIC0gaHR0cDovL3d3dy5waXhpanMuY29tL1wiKSk7XG4gICAgfVxuXG4gICAgc2FpZEhlbGxvID0gdHJ1ZTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgZm9yIGNoZWNraW5nIGZvciBXZWJHTCBzdXBwb3J0LlxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaXNXZWJHTFN1cHBvcnRlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gSXMgV2ViR0wgc3VwcG9ydGVkLlxuICovXG5mdW5jdGlvbiBpc1dlYkdMU3VwcG9ydGVkKClcbntcbiAgICB2YXIgY29udGV4dE9wdGlvbnMgPSB7IHN0ZW5jaWw6IHRydWUsIGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6IHRydWUgfTtcblxuICAgIHRyeVxuICAgIHtcbiAgICAgICAgaWYgKCF3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHZhciBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIGNvbnRleHRPcHRpb25zKSB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgY29udGV4dE9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBzdWNjZXNzID0gISEoZ2wgJiYgZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKS5zdGVuY2lsKTtcblxuICAgICAgICBpZiAoZ2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBsb3NlQ29udGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0Jyk7XG5cbiAgICAgICAgICAgIGlmIChsb3NlQ29udGV4dClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsb3NlQ29udGV4dC5sb3NlQ29udGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZ2wgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiBzdWNjZXNzO1xuICAgIH1cbiAgICBjYXRjaCAoZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbi8qKlxuICogQ29udmVydHMgYSBoZXggY29sb3IgbnVtYmVyIHRvIGFuIFtSLCBHLCBCXSBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gaGV4MnJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGhleCAtIFRoZSBudW1iZXIgdG8gY29udmVydFxuICogQHBhcmFtICB7bnVtYmVyW119IFtvdXQ9W11dIElmIHN1cHBsaWVkLCB0aGlzIGFycmF5IHdpbGwgYmUgdXNlZCByYXRoZXIgdGhhbiByZXR1cm5pbmcgYSBuZXcgb25lXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gQW4gYXJyYXkgcmVwcmVzZW50aW5nIHRoZSBbUiwgRywgQl0gb2YgdGhlIGNvbG9yLlxuICovXG5mdW5jdGlvbiBoZXgycmdiKGhleCwgb3V0KVxue1xuICAgIG91dCA9IG91dCB8fCBbXTtcblxuICAgIG91dFswXSA9ICgoaGV4ID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgIG91dFsxXSA9ICgoaGV4ID4+IDgpICYgMHhGRikgLyAyNTU7XG4gICAgb3V0WzJdID0gKGhleCAmIDB4RkYpIC8gMjU1O1xuXG4gICAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGhleCBjb2xvciBudW1iZXIgdG8gYSBzdHJpbmcuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBoZXgyc3RyaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gaGV4IC0gTnVtYmVyIGluIGhleFxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5nIGNvbG9yLlxuICovXG5mdW5jdGlvbiBoZXgyc3RyaW5nKGhleClcbntcbiAgICBoZXggPSBoZXgudG9TdHJpbmcoMTYpO1xuICAgIGhleCA9ICcwMDAwMDAnLnN1YnN0cigwLCA2IC0gaGV4Lmxlbmd0aCkgKyBoZXg7XG5cbiAgICByZXR1cm4gKFwiI1wiICsgaGV4KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhIGNvbG9yIGFzIGFuIFtSLCBHLCBCXSBhcnJheSB0byBhIGhleCBudW1iZXJcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHJnYjJoZXhcbiAqIEBwYXJhbSB7bnVtYmVyW119IHJnYiAtIHJnYiBhcnJheVxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgY29sb3IgbnVtYmVyXG4gKi9cbmZ1bmN0aW9uIHJnYjJoZXgocmdiKVxue1xuICAgIHJldHVybiAoKChyZ2JbMF0gKiAyNTUpIDw8IDE2KSArICgocmdiWzFdICogMjU1KSA8PCA4KSArIChyZ2JbMl0gKiAyNTUgfCAwKSk7XG59XG5cbi8qKlxuICogQ29ycmVjdHMgUGl4aUpTIGJsZW5kLCB0YWtlcyBwcmVtdWx0aXBsaWVkIGFscGhhIGludG8gYWNjb3VudFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gbWFwUHJlbXVsdGlwbGllZEJsZW5kTW9kZXNcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5PG51bWJlcltdPn0gW2FycmF5XSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge0FycmF5PG51bWJlcltdPn0gTWFwcGVkIG1vZGVzLlxuICovXG5mdW5jdGlvbiBtYXBQcmVtdWx0aXBsaWVkQmxlbmRNb2RlcygpXG57XG4gICAgdmFyIHBtID0gW107XG4gICAgdmFyIG5wbSA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKVxuICAgIHtcbiAgICAgICAgcG1baV0gPSBpO1xuICAgICAgICBucG1baV0gPSBpO1xuICAgIH1cblxuICAgIHBtW0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuICAgIHBtW0JMRU5EX01PREVTLkFERF9OUE1dID0gQkxFTkRfTU9ERVMuQUREO1xuICAgIHBtW0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gQkxFTkRfTU9ERVMuU0NSRUVOO1xuXG4gICAgbnBtW0JMRU5EX01PREVTLk5PUk1BTF0gPSBCTEVORF9NT0RFUy5OT1JNQUxfTlBNO1xuICAgIG5wbVtCTEVORF9NT0RFUy5BRERdID0gQkxFTkRfTU9ERVMuQUREX05QTTtcbiAgICBucG1bQkxFTkRfTU9ERVMuU0NSRUVOXSA9IEJMRU5EX01PREVTLlNDUkVFTl9OUE07XG5cbiAgICB2YXIgYXJyYXkgPSBbXTtcblxuICAgIGFycmF5LnB1c2gobnBtKTtcbiAgICBhcnJheS5wdXNoKHBtKTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cblxuLyoqXG4gKiBtYXBzIHByZW11bHRpcGx5IGZsYWcgYW5kIGJsZW5kTW9kZSB0byBhZGp1c3RlZCBibGVuZE1vZGVcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAY29uc3QgcHJlbXVsdGlwbHlCbGVuZE1vZGVcbiAqIEB0eXBlIHtBcnJheTxudW1iZXJbXT59XG4gKi9cbnZhciBwcmVtdWx0aXBseUJsZW5kTW9kZSA9IG1hcFByZW11bHRpcGxpZWRCbGVuZE1vZGVzKCk7XG5cbi8qKlxuICogY2hhbmdlcyBibGVuZE1vZGUgYWNjb3JkaW5nIHRvIHRleHR1cmUgZm9ybWF0XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjb3JyZWN0QmxlbmRNb2RlXG4gKiBAcGFyYW0ge251bWJlcn0gYmxlbmRNb2RlIHN1cHBvc2VkIGJsZW5kIG1vZGVcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcHJlbXVsdGlwbGllZCAgd2hldGhlciBzb3VyY2UgaXMgcHJlbXVsdGlwbGllZFxuICogQHJldHVybnMge251bWJlcn0gdHJ1ZSBibGVuZCBtb2RlIGZvciB0aGlzIHRleHR1cmVcbiAqL1xuZnVuY3Rpb24gY29ycmVjdEJsZW5kTW9kZShibGVuZE1vZGUsIHByZW11bHRpcGxpZWQpXG57XG4gICAgcmV0dXJuIHByZW11bHRpcGx5QmxlbmRNb2RlW3ByZW11bHRpcGxpZWQgPyAxIDogMF1bYmxlbmRNb2RlXTtcbn1cblxuLyoqXG4gKiBjb21iaW5lcyByZ2IgYW5kIGFscGhhIHRvIG91dCBhcnJheVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxudW1iZXJbXX0gcmdiIGlucHV0IHJnYlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5UmdiYShyZ2IsIGFscGhhLCBvdXQsIHByZW11bHRpcGx5KVxue1xuICAgIG91dCA9IG91dCB8fCBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgIGlmIChwcmVtdWx0aXBseSB8fCBwcmVtdWx0aXBseSA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdICogYWxwaGE7XG4gICAgICAgIG91dFsxXSA9IHJnYlsxXSAqIGFscGhhO1xuICAgICAgICBvdXRbMl0gPSByZ2JbMl0gKiBhbHBoYTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgb3V0WzBdID0gcmdiWzBdO1xuICAgICAgICBvdXRbMV0gPSByZ2JbMV07XG4gICAgICAgIG91dFsyXSA9IHJnYlsyXTtcbiAgICB9XG4gICAgb3V0WzNdID0gYWxwaGE7XG5cbiAgICByZXR1cm4gb3V0O1xufVxuXG4vKipcbiAqIHByZW11bHRpcGxpZXMgdGludFxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcGFyYW0ge251bWJlcn0gdGludCBpbnRlZ2VyIFJHQlxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGZsb2F0aW5nIHBvaW50IGFscGhhICgwLjAtMS4wKVxuICogQHJldHVybnMge251bWJlcn0gdGludCBtdWx0aXBsaWVkIGJ5IGFscGhhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludCh0aW50LCBhbHBoYSlcbntcbiAgICBpZiAoYWxwaGEgPT09IDEuMClcbiAgICB7XG4gICAgICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgdGludDtcbiAgICB9XG4gICAgaWYgKGFscGhhID09PSAwLjApXG4gICAge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIFIgPSAoKHRpbnQgPj4gMTYpICYgMHhGRik7XG4gICAgdmFyIEcgPSAoKHRpbnQgPj4gOCkgJiAweEZGKTtcbiAgICB2YXIgQiA9ICh0aW50ICYgMHhGRik7XG5cbiAgICBSID0gKChSICogYWxwaGEpICsgMC41KSB8IDA7XG4gICAgRyA9ICgoRyAqIGFscGhhKSArIDAuNSkgfCAwO1xuICAgIEIgPSAoKEIgKiBhbHBoYSkgKyAwLjUpIHwgMDtcblxuICAgIHJldHVybiAoYWxwaGEgKiAyNTUgPDwgMjQpICsgKFIgPDwgMTYpICsgKEcgPDwgOCkgKyBCO1xufVxuXG4vKipcbiAqIGNvbnZlcnRzIGludGVnZXIgdGludCBhbmQgZmxvYXQgYWxwaGEgdG8gdmVjNCBmb3JtLCBwcmVtdWx0aXBsaWVzIGJ5IGRlZmF1bHRcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQHBhcmFtIHtudW1iZXJ9IHRpbnQgaW5wdXQgdGludFxuICogQHBhcmFtIHtudW1iZXJ9IGFscGhhIGFscGhhIHBhcmFtXG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dF0gb3V0cHV0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtwcmVtdWx0aXBseT10cnVlXSBkbyBwcmVtdWx0aXBseSBpdFxuICogQHJldHVybnMge0Zsb2F0MzJBcnJheX0gdmVjNCByZ2JhXG4gKi9cbmZ1bmN0aW9uIHByZW11bHRpcGx5VGludFRvUmdiYSh0aW50LCBhbHBoYSwgb3V0LCBwcmVtdWx0aXBseSlcbntcbiAgICBvdXQgPSBvdXQgfHwgbmV3IEZsb2F0MzJBcnJheSg0KTtcbiAgICBvdXRbMF0gPSAoKHRpbnQgPj4gMTYpICYgMHhGRikgLyAyNTUuMDtcbiAgICBvdXRbMV0gPSAoKHRpbnQgPj4gOCkgJiAweEZGKSAvIDI1NS4wO1xuICAgIG91dFsyXSA9ICh0aW50ICYgMHhGRikgLyAyNTUuMDtcbiAgICBpZiAocHJlbXVsdGlwbHkgfHwgcHJlbXVsdGlwbHkgPT09IHVuZGVmaW5lZClcbiAgICB7XG4gICAgICAgIG91dFswXSAqPSBhbHBoYTtcbiAgICAgICAgb3V0WzFdICo9IGFscGhhO1xuICAgICAgICBvdXRbMl0gKj0gYWxwaGE7XG4gICAgfVxuICAgIG91dFszXSA9IGFscGhhO1xuXG4gICAgcmV0dXJuIG91dDtcbn1cblxuLyoqXG4gKiBHZW5lcmljIE1hc2sgU3RhY2sgZGF0YSBzdHJ1Y3R1cmVcbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIGNyZWF0ZUluZGljZXNGb3JRdWFkc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBzaXplIC0gTnVtYmVyIG9mIHF1YWRzXG4gKiBAcmV0dXJuIHtVaW50MTZBcnJheX0gaW5kaWNlc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbmRpY2VzRm9yUXVhZHMoc2l6ZSlcbntcbiAgICAvLyB0aGUgdG90YWwgbnVtYmVyIG9mIGluZGljZXMgaW4gb3VyIGFycmF5LCB0aGVyZSBhcmUgNiBwb2ludHMgcGVyIHF1YWQuXG5cbiAgICB2YXIgdG90YWxJbmRpY2VzID0gc2l6ZSAqIDY7XG5cbiAgICB2YXIgaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheSh0b3RhbEluZGljZXMpO1xuXG4gICAgLy8gZmlsbCB0aGUgaW5kaWNlcyB3aXRoIHRoZSBxdWFkcyB0byBkcmF3XG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxJbmRpY2VzOyBpICs9IDYsIGogKz0gNClcbiAgICB7XG4gICAgICAgIGluZGljZXNbaSArIDBdID0gaiArIDA7XG4gICAgICAgIGluZGljZXNbaSArIDFdID0gaiArIDE7XG4gICAgICAgIGluZGljZXNbaSArIDJdID0gaiArIDI7XG4gICAgICAgIGluZGljZXNbaSArIDNdID0gaiArIDA7XG4gICAgICAgIGluZGljZXNbaSArIDRdID0gaiArIDI7XG4gICAgICAgIGluZGljZXNbaSArIDVdID0gaiArIDM7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZGljZXM7XG59XG5cbnZhciBuZXh0VWlkID0gMDtcblxuLyoqXG4gKiBHZXRzIHRoZSBuZXh0IHVuaXF1ZSBpZGVudGlmaWVyXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiB1aWRcbiAqIEByZXR1cm4ge251bWJlcn0gVGhlIG5leHQgdW5pcXVlIGlkZW50aWZpZXIgdG8gdXNlLlxuICovXG5mdW5jdGlvbiB1aWQoKVxue1xuICAgIHJldHVybiArK25leHRVaWQ7XG59XG5cbi8qKlxuICogUmV0dXJucyBzaWduIG9mIG51bWJlclxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAZnVuY3Rpb24gc2lnblxuICogQHBhcmFtIHtudW1iZXJ9IG4gLSB0aGUgbnVtYmVyIHRvIGNoZWNrIHRoZSBzaWduIG9mXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAwIGlmIGBuYCBpcyAwLCAtMSBpZiBgbmAgaXMgbmVnYXRpdmUsIDEgaWYgYG5gIGlzIHBvc2l0aXZlXG4gKi9cbmZ1bmN0aW9uIHNpZ24obilcbntcbiAgICBpZiAobiA9PT0gMCkgeyByZXR1cm4gMDsgfVxuXG4gICAgcmV0dXJuIG4gPCAwID8gLTEgOiAxO1xufVxuXG4vKipcbiAqIEB0b2RvIERlc2NyaWJlIHByb3BlcnR5IHVzYWdlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBQcm9ncmFtQ2FjaGUgPSB7fTtcblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLyoqXG4gKiBAdG9kbyBEZXNjcmliZSBwcm9wZXJ0eSB1c2FnZVxuICpcbiAqIEBtZW1iZXJvZiBQSVhJLnV0aWxzXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBCYXNlVGV4dHVyZUNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKlxuICogRGVzdHJveXMgYWxsIHRleHR1cmUgaW4gdGhlIGNhY2hlXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZUNhY2hlXG4gKi9cbmZ1bmN0aW9uIGRlc3Ryb3lUZXh0dXJlQ2FjaGUoKVxue1xuICAgIHZhciBrZXk7XG5cbiAgICBmb3IgKGtleSBpbiBUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBUZXh0dXJlQ2FjaGVba2V5XS5kZXN0cm95KCk7XG4gICAgfVxuICAgIGZvciAoa2V5IGluIEJhc2VUZXh0dXJlQ2FjaGUpXG4gICAge1xuICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2tleV0uZGVzdHJveSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCB0ZXh0dXJlcyBmcm9tIGNhY2hlLCBidXQgZG9lcyBub3QgZGVzdHJveSB0aGVtXG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZVxuICovXG5mdW5jdGlvbiBjbGVhclRleHR1cmVDYWNoZSgpXG57XG4gICAgdmFyIGtleTtcblxuICAgIGZvciAoa2V5IGluIFRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVba2V5XTtcbiAgICB9XG4gICAgZm9yIChrZXkgaW4gQmFzZVRleHR1cmVDYWNoZSlcbiAgICB7XG4gICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2tleV07XG4gICAgfVxufVxuXG4vKipcbiAqIFRyaW0gdHJhbnNwYXJlbnQgYm9yZGVycyBmcm9tIGEgY2FudmFzXG4gKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBmdW5jdGlvbiB0cmltQ2FudmFzXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gY2FudmFzIC0gdGhlIGNhbnZhcyB0byB0cmltXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUcmltIGRhdGFcbiAqL1xuZnVuY3Rpb24gdHJpbUNhbnZhcyhjYW52YXMpXG57XG4gICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vcmVteS83ODQ1MDhcblxuICAgIHZhciB3aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICB2YXIgaGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdmFyIGltYWdlRGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHZhciBwaXhlbHMgPSBpbWFnZURhdGEuZGF0YTtcbiAgICB2YXIgbGVuID0gcGl4ZWxzLmxlbmd0aDtcblxuICAgIHZhciBib3VuZCA9IHtcbiAgICAgICAgdG9wOiBudWxsLFxuICAgICAgICBsZWZ0OiBudWxsLFxuICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgYm90dG9tOiBudWxsLFxuICAgIH07XG4gICAgdmFyIGk7XG4gICAgdmFyIHg7XG4gICAgdmFyIHk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpXG4gICAge1xuICAgICAgICBpZiAocGl4ZWxzW2kgKyAzXSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgeCA9IChpIC8gNCkgJSB3aWR0aDtcbiAgICAgICAgICAgIHkgPSB+figoaSAvIDQpIC8gd2lkdGgpO1xuXG4gICAgICAgICAgICBpZiAoYm91bmQudG9wID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLnRvcCA9IHk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5sZWZ0ID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLmxlZnQgPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoeCA8IGJvdW5kLmxlZnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQubGVmdCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5yaWdodCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBib3VuZC5yaWdodCA9IHggKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYm91bmQucmlnaHQgPCB4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJvdW5kLnJpZ2h0ID0geCArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZC5ib3R0b20gPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJvdW5kLmJvdHRvbSA8IHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYm91bmQuYm90dG9tID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHdpZHRoID0gYm91bmQucmlnaHQgLSBib3VuZC5sZWZ0O1xuICAgIGhlaWdodCA9IGJvdW5kLmJvdHRvbSAtIGJvdW5kLnRvcCArIDE7XG5cbiAgICB2YXIgZGF0YSA9IGNvbnRleHQuZ2V0SW1hZ2VEYXRhKGJvdW5kLmxlZnQsIGJvdW5kLnRvcCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICBkYXRhOiBkYXRhLFxuICAgIH07XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIENhbnZhcyBlbGVtZW50IG9mIHRoZSBnaXZlbiBzaXplLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqL1xudmFyIENhbnZhc1JlbmRlclRhcmdldCA9IGZ1bmN0aW9uIENhbnZhc1JlbmRlclRhcmdldCh3aWR0aCwgaGVpZ2h0LCByZXNvbHV0aW9uKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBDYW52YXMgb2JqZWN0IHRoYXQgYmVsb25ncyB0byB0aGlzIENhbnZhc1JlbmRlclRhcmdldC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBBIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCBvYmplY3QgcmVwcmVzZW50aW5nIGEgdHdvLWRpbWVuc2lvbmFsIHJlbmRlcmluZyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIHRoaXMuY29udGV4dCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzJDEuUkVTT0xVVElPTjtcblxuICAgIHRoaXMucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQ2xlYXJzIHRoZSBjYW52YXMgdGhhdCB3YXMgY3JlYXRlZCBieSB0aGUgQ2FudmFzUmVuZGVyVGFyZ2V0IGNsYXNzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkNhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKVxue1xuICAgIHRoaXMuY29udGV4dC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbn07XG5cbi8qKlxuICogUmVzaXplcyB0aGUgY2FudmFzIHRvIHRoZSBzcGVjaWZpZWQgd2lkdGggYW5kIGhlaWdodC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gKi9cbkNhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3aWR0aCwgaGVpZ2h0KVxue1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGlzIGNhbnZhcy5cbiAqXG4gKi9cbkNhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbn07XG5cbi8qKlxuICogVGhlIHdpZHRoIG9mIHRoZSBjYW52YXMgYnVmZmVyIGluIHBpeGVscy5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHZhbDtcbn07XG5cbi8qKlxuICogVGhlIGhlaWdodCBvZiB0aGUgY2FudmFzIGJ1ZmZlciBpbiBwaXhlbHMuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuc2V0ID0gZnVuY3Rpb24gKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdmFsO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIENhbnZhc1JlbmRlclRhcmdldC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIFJlZ2V4cCBmb3IgZGF0YSBVUkkuXG4gKiBCYXNlZCBvbjoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9yYWdpbmd3aW5kL2RhdGEtdXJpLXJlZ2V4fVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgREFUQV9VUklcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7UmVnRXhwfHN0cmluZ31cbiAqIEBleGFtcGxlIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NFxuICovXG52YXIgREFUQV9VUkkgPSAvXlxccypkYXRhOig/OihbXFx3LV0rKVxcLyhbXFx3Ky4tXSspKT8oPzo7Y2hhcnNldD0oW1xcdy1dKykpPyg/OjsoYmFzZTY0KSk/LCguKikvaTtcblxuLyoqXG4gKiBUeXBlZGVmIGZvciBkZWNvbXBvc2VEYXRhVXJpIHJldHVybiBvYmplY3QuXG4gKlxuICogQHR5cGVkZWYge29iamVjdH0gUElYSS51dGlsc35EZWNvbXBvc2VkRGF0YVVyaVxuICogQHByb3BlcnR5IHttZWRpYVR5cGV9IE1lZGlhIHR5cGUsIGVnLiBgaW1hZ2VgXG4gKiBAcHJvcGVydHkge3N1YlR5cGV9IFN1YiB0eXBlLCBlZy4gYHBuZ2BcbiAqIEBwcm9wZXJ0eSB7ZW5jb2Rpbmd9IERhdGEgZW5jb2RpbmcsIGVnLiBgYmFzZTY0YFxuICogQHByb3BlcnR5IHtkYXRhfSBUaGUgYWN0dWFsIGRhdGFcbiAqL1xuXG4vKipcbiAqIFNwbGl0IGEgZGF0YSBVUkkgaW50byBjb21wb25lbnRzLiBSZXR1cm5zIHVuZGVmaW5lZCBpZlxuICogcGFyYW1ldGVyIGBkYXRhVXJpYCBpcyBub3QgYSB2YWxpZCBkYXRhIFVSSS5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmlcbiAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhVXJpIC0gdGhlIGRhdGEgVVJJIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtQSVhJLnV0aWxzfkRlY29tcG9zZWREYXRhVXJpfHVuZGVmaW5lZH0gVGhlIGRlY29tcG9zZWQgZGF0YSB1cmkgb3IgdW5kZWZpbmVkXG4gKi9cbmZ1bmN0aW9uIGRlY29tcG9zZURhdGFVcmkoZGF0YVVyaSlcbntcbiAgICB2YXIgZGF0YVVyaU1hdGNoID0gREFUQV9VUkkuZXhlYyhkYXRhVXJpKTtcblxuICAgIGlmIChkYXRhVXJpTWF0Y2gpXG4gICAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVkaWFUeXBlOiBkYXRhVXJpTWF0Y2hbMV0gPyBkYXRhVXJpTWF0Y2hbMV0udG9Mb3dlckNhc2UoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHN1YlR5cGU6IGRhdGFVcmlNYXRjaFsyXSA/IGRhdGFVcmlNYXRjaFsyXS50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY2hhcnNldDogZGF0YVVyaU1hdGNoWzNdID8gZGF0YVVyaU1hdGNoWzNdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBlbmNvZGluZzogZGF0YVVyaU1hdGNoWzRdID8gZGF0YVVyaU1hdGNoWzRdLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkYXRhOiBkYXRhVXJpTWF0Y2hbNV0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxudmFyIHRlbXBBbmNob3I7XG5cbi8qKlxuICogU2V0cyB0aGUgYGNyb3NzT3JpZ2luYCBwcm9wZXJ0eSBmb3IgdGhpcyByZXNvdXJjZSBiYXNlZCBvbiBpZiB0aGUgdXJsXG4gKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAqIE5pcHBlZCBmcm9tIHRoZSByZXNvdXJjZSBsb2FkZXIhXG4gKlxuICogQGlnbm9yZVxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbbG9jPXdpbmRvdy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4odXJsLCBsb2MpXG57XG4gICAgaWYgKCBsb2MgPT09IHZvaWQgMCApIGxvYyA9IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIC8vIGRhdGE6IGFuZCBqYXZhc2NyaXB0OiB1cmxzIGFyZSBjb25zaWRlcmVkIHNhbWUtb3JpZ2luXG4gICAgaWYgKHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgbG9jID0gbG9jIHx8IHdpbmRvdy5sb2NhdGlvbjtcblxuICAgIGlmICghdGVtcEFuY2hvcilcbiAgICB7XG4gICAgICAgIHRlbXBBbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgfVxuXG4gICAgLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAvLyBiZWNhdXNlIHRoZXkgZG9uJ3Qgd29yayBpbiBJRTkgOihcbiAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgdXJsID0gX3VybC5wYXJzZSh0ZW1wQW5jaG9yLmhyZWYpO1xuXG4gICAgdmFyIHNhbWVQb3J0ID0gKCF1cmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycpIHx8ICh1cmwucG9ydCA9PT0gbG9jLnBvcnQpO1xuXG4gICAgLy8gaWYgY3Jvc3Mgb3JpZ2luXG4gICAgaWYgKHVybC5ob3N0bmFtZSAhPT0gbG9jLmhvc3RuYW1lIHx8ICFzYW1lUG9ydCB8fCB1cmwucHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbClcbiAgICB7XG4gICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG59XG5cbi8qKlxuICogVGhlIHByZWZpeCB0aGF0IGRlbm90ZXMgYSBVUkwgaXMgZm9yIGEgcmV0aW5hIGFzc2V0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgUkVUSU5BX1BSRUZJWFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKiBAZXhhbXBsZSBgQDJ4YFxuICogQGRlZmF1bHQgL0AoWzAtOVxcLl0rKXgvXG4gKi9cbnNldHRpbmdzJDEuUkVUSU5BX1BSRUZJWCA9IC9AKFswLTlcXC5dKyl4LztcblxuLyoqXG4gKiBnZXQgdGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgYW4gYXNzZXQgYnkgbG9va2luZyBmb3IgdGhlIHByZWZpeFxuICogdXNlZCBieSBzcHJpdGVzaGVldHMgYW5kIGltYWdlIHVybHNcbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGdldFJlc29sdXRpb25PZlVybFxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIHRoZSBpbWFnZSBwYXRoXG4gKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZT0xXSAtIHRoZSBkZWZhdWx0VmFsdWUgaWYgbm8gZmlsZW5hbWUgcHJlZml4IGlzIHNldC5cbiAqIEByZXR1cm4ge251bWJlcn0gcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiBhbiBhc3NldFxuICovXG5mdW5jdGlvbiBnZXRSZXNvbHV0aW9uT2ZVcmwodXJsLCBkZWZhdWx0VmFsdWUpXG57XG4gICAgdmFyIHJlc29sdXRpb24gPSBzZXR0aW5ncyQxLlJFVElOQV9QUkVGSVguZXhlYyh1cmwpO1xuXG4gICAgaWYgKHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChyZXNvbHV0aW9uWzFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiAxO1xufVxuXG4vKipcbiAqIEdlbmVyYWxpemVkIGNvbnZlbmllbmNlIHV0aWxpdGllcyBmb3IgUElYSS5cbiAqIEBleGFtcGxlXG4gKiAvLyBFeHRlbmQgUElYSSdzIGludGVybmFsIEV2ZW50IEVtaXR0ZXIuXG4gKiBjbGFzcyBNeUVtaXR0ZXIgZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlciB7XG4gKiAgIGNvbnN0cnVjdG9yKCkge1xuICogICAgICBzdXBlcigpO1xuICogICAgICBjb25zb2xlLmxvZyhcIkVtaXR0ZXIgY3JlYXRlZCFcIik7XG4gKiAgIH1cbiAqIH1cbiAqXG4gKiAvLyBHZXQgaW5mbyBvbiBjdXJyZW50IGRldmljZVxuICogY29uc29sZS5sb2coUElYSS51dGlscy5pc01vYmlsZSk7XG4gKlxuICogLy8gQ29udmVydCBoZXggY29sb3IgdG8gc3RyaW5nXG4gKiBjb25zb2xlLmxvZyhQSVhJLnV0aWxzLmhleDJzdHJpbmcoMHhmZjAwZmYpKTsgLy8gcmV0dXJuczogXCIjZmYwMGZmXCJcbiAqIEBuYW1lc3BhY2UgUElYSS51dGlsc1xuICovXG5cbi8qKlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2thaW1hbGxlYS9pc01vYmlsZX1cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIGlzTW9iaWxlXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG4vKipcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9tcmVpbnN0ZWluL3JlbW92ZS1hcnJheS1pdGVtc31cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGZ1bmN0aW9uIHJlbW92ZUl0ZW1zXG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG4vKipcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9wcmltdXMvZXZlbnRlbWl0dGVyM31cbiAqXG4gKiBAbWVtYmVyb2YgUElYSS51dGlsc1xuICogQGNsYXNzIEV2ZW50RW1pdHRlclxuICogQHR5cGUge0V2ZW50RW1pdHRlcn1cbiAqL1xuLyoqXG4gKiBAbmFtZXNwYWNlIFBJWEkudXRpbHMubWl4aW5zXG4gKi9cbi8qKlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9lYXJjdXR9XG4gKlxuICogQG1lbWJlcm9mIFBJWEkudXRpbHNcbiAqIEBmdW5jdGlvbiBlYXJjdXRcbiAqIEBwYXJhbSB7bnVtYmVyW119IHZlcnRpY2VzIC0gQSBmbGF0IGFycmF5IG9mIHZlcnRleCBjb29yZGluYXRlc1xuICogQHBhcmFtIHtudW1iZXJbXX0gW2hvbGVzXSAtIEFuIGFycmF5IG9mIGhvbGUgaW5kaWNlc1xuICogQHBhcmFtIHtudW1iZXJ9IFtkaW1lbnNpb25zPTJdIFRoZSBudW1iZXIgb2YgY29vcmRpbmF0ZXMgcGVyIHZlcnRleCBpbiB0aGUgaW5wdXQgYXJyYXlcbiAqIEByZXR1cm4ge251bWJlcltdfSBUcmlhbmd1bGF0ZWQgcG9seWdvblxuICovXG5cbmV4cG9ydCB7IGlzbW9iaWxlanMgYXMgaXNNb2JpbGUsIHJlbW92ZUFycmF5SXRlbXMgYXMgcmVtb3ZlSXRlbXMsIGV2ZW50ZW1pdHRlcjMgYXMgRXZlbnRFbWl0dGVyLCBtaXhpbnMkMSBhcyBtaXhpbnMsIGVhcmN1dCwgc2tpcEhlbGxvLCBzYXlIZWxsbywgaXNXZWJHTFN1cHBvcnRlZCwgaGV4MnJnYiwgaGV4MnN0cmluZywgcmdiMmhleCwgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIGNvcnJlY3RCbGVuZE1vZGUsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50LCBwcmVtdWx0aXBseVRpbnRUb1JnYmEsIGNyZWF0ZUluZGljZXNGb3JRdWFkcywgdWlkLCBzaWduLCBDYW52YXNSZW5kZXJUYXJnZXQsIFByb2dyYW1DYWNoZSwgVGV4dHVyZUNhY2hlLCBCYXNlVGV4dHVyZUNhY2hlLCBkZXN0cm95VGV4dHVyZUNhY2hlLCBjbGVhclRleHR1cmVDYWNoZSwgdHJpbUNhbnZhcywgZGVjb21wb3NlRGF0YVVyaSwgZGV0ZXJtaW5lQ3Jvc3NPcmlnaW4sIGdldFJlc29sdXRpb25PZlVybCwgREFUQV9VUkkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tYXRoIC0gdjUuMC4wLWFscGhhLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDMgSnVsIDIwMTggMDQ6MDg6MjEgVVRDXG4gKlxuICogQHBpeGkvbWF0aCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvaW50ID0gZnVuY3Rpb24gUG9pbnQoeCwgeSlcbntcbiAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgIGlmICggeSA9PT0gdm9pZCAwICkgeSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIHBvaW50XG4gKlxuICogQHJldHVybiB7UElYSS5Qb2ludH0gYSBjb3B5IG9mIHRoZSBwb2ludFxuICovXG5Qb2ludC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHJldHVybiBuZXcgUG9pbnQodGhpcy54LCB0aGlzLnkpO1xufTtcblxuLyoqXG4gKiBDb3BpZXMgeCBhbmQgeSBmcm9tIHRoZSBnaXZlbiBwb2ludFxuICpcbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcCAtIFRoZSBwb2ludCB0byBjb3B5IGZyb21cbiAqIEByZXR1cm5zIFJldHVybnMgaXRzZWxmLlxuICovXG5Qb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiBjb3B5RnJvbSAocClcbntcbiAgICB0aGlzLnNldChwLngsIHAueSk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAqXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAqIEByZXR1cm5zIEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAqL1xuUG9pbnQucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIGNvcHlUbyAocClcbntcbiAgICBwLnNldCh0aGlzLngsIHRoaXMueSk7XG5cbiAgICByZXR1cm4gcDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwb2ludCBpcyBlcXVhbCB0byB0aGlzIHBvaW50XG4gKlxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBwIC0gVGhlIHBvaW50IHRvIGNoZWNrXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgZ2l2ZW4gcG9pbnQgZXF1YWwgdG8gdGhpcyBwb2ludFxuICovXG5Qb2ludC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChwKVxue1xuICAgIHJldHVybiAocC54ID09PSB0aGlzLngpICYmIChwLnkgPT09IHRoaXMueSk7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIHBvaW50IHRvIGEgbmV3IHggYW5kIHkgcG9zaXRpb24uXG4gKiBJZiB5IGlzIG9taXR0ZWQsIGJvdGggeCBhbmQgeSB3aWxsIGJlIHNldCB0byB4LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIHBvc2l0aW9uIG9mIHRoZSBwb2ludCBvbiB0aGUgeCBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gW3k9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHkgYXhpc1xuICovXG5Qb2ludC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0ICh4LCB5KVxue1xuICAgIHRoaXMueCA9IHggfHwgMDtcbiAgICB0aGlzLnkgPSB5IHx8ICgoeSAhPT0gMCkgPyB0aGlzLnggOiAwKTtcbn07XG5cbi8qKlxuICogVGhlIFBvaW50IG9iamVjdCByZXByZXNlbnRzIGEgbG9jYXRpb24gaW4gYSB0d28tZGltZW5zaW9uYWwgY29vcmRpbmF0ZSBzeXN0ZW0sIHdoZXJlIHggcmVwcmVzZW50c1xuICogdGhlIGhvcml6b250YWwgYXhpcyBhbmQgeSByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBheGlzLlxuICogQW4gb2JzZXJ2YWJsZSBwb2ludCBpcyBhIHBvaW50IHRoYXQgdHJpZ2dlcnMgYSBjYWxsYmFjayB3aGVuIHRoZSBwb2ludCdzIHBvc2l0aW9uIGlzIGNoYW5nZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgT2JzZXJ2YWJsZVBvaW50ID0gZnVuY3Rpb24gT2JzZXJ2YWJsZVBvaW50KGNiLCBzY29wZSwgeCwgeSlcbntcbiAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgIGlmICggeSA9PT0gdm9pZCAwICkgeSA9IDA7XG5cbiAgICB0aGlzLl94ID0geDtcbiAgICB0aGlzLl95ID0geTtcblxuICAgIHRoaXMuY2IgPSBjYjtcbiAgICB0aGlzLnNjb3BlID0gc2NvcGU7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB4OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHk6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBTZXRzIHRoZSBwb2ludCB0byBhIG5ldyB4IGFuZCB5IHBvc2l0aW9uLlxuICogSWYgeSBpcyBvbWl0dGVkLCBib3RoIHggYW5kIHkgd2lsbCBiZSBzZXQgdG8geC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW3g9MF0gLSBwb3NpdGlvbiBvZiB0aGUgcG9pbnQgb24gdGhlIHggYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gcG9zaXRpb24gb2YgdGhlIHBvaW50IG9uIHRoZSB5IGF4aXNcbiAqL1xuT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKHgsIHkpXG57XG4gICAgdmFyIF94ID0geCB8fCAwO1xuICAgIHZhciBfeSA9IHkgfHwgKCh5ICE9PSAwKSA/IF94IDogMCk7XG5cbiAgICBpZiAodGhpcy5feCAhPT0gX3ggfHwgdGhpcy5feSAhPT0gX3kpXG4gICAge1xuICAgICAgICB0aGlzLl94ID0gX3g7XG4gICAgICAgIHRoaXMuX3kgPSBfeTtcbiAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMuc2NvcGUpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ29waWVzIHggYW5kIHkgZnJvbSB0aGUgZ2l2ZW4gcG9pbnRcbiAqXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weSBmcm9tLlxuICogQHJldHVybnMgUmV0dXJucyBpdHNlbGYuXG4gKi9cbk9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiBjb3B5RnJvbSAocClcbntcbiAgICBpZiAodGhpcy5feCAhPT0gcC54IHx8IHRoaXMuX3kgIT09IHAueSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3ggPSBwLng7XG4gICAgICAgIHRoaXMuX3kgPSBwLnk7XG4gICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ29waWVzIHggYW5kIHkgaW50byB0aGUgZ2l2ZW4gcG9pbnRcbiAqXG4gKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHAgLSBUaGUgcG9pbnQgdG8gY29weS5cbiAqIEByZXR1cm5zIEdpdmVuIHBvaW50IHdpdGggdmFsdWVzIHVwZGF0ZWRcbiAqL1xuT2JzZXJ2YWJsZVBvaW50LnByb3RvdHlwZS5jb3B5VG8gPSBmdW5jdGlvbiBjb3B5VG8gKHApXG57XG4gICAgcC5zZXQodGhpcy5feCwgdGhpcy5feSk7XG5cbiAgICByZXR1cm4gcDtcbn07XG5cbi8qKlxuICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB4IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMueC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl94O1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzLnguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5feCAhPT0gdmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLl94ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnNjb3BlKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnkuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5feTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycy55LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3kgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5feSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmNiLmNhbGwodGhpcy5zY29wZSk7XG4gICAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIE9ic2VydmFibGVQb2ludC5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIFR3byBQaS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgUElfMiA9IE1hdGguUEkgKiAyO1xuXG4vKipcbiAqIENvbnZlcnNpb24gZmFjdG9yIGZvciBjb252ZXJ0aW5nIHJhZGlhbnMgdG8gZGVncmVlcy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG52YXIgUkFEX1RPX0RFRyA9IDE4MCAvIE1hdGguUEk7XG5cbi8qKlxuICogQ29udmVyc2lvbiBmYWN0b3IgZm9yIGNvbnZlcnRpbmcgZGVncmVlcyB0byByYWRpYW5zLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbnZhciBERUdfVE9fUkFEID0gTWF0aC5QSSAvIDE4MDtcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBpZGVudGlmeSBzaGFwZXMsIG1haW5seSB0byBwcmV2ZW50IGBpbnN0YW5jZW9mYCBjYWxscy5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNIQVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gUE9MWSBQb2x5Z29uXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVDVCBSZWN0YW5nbGVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDSVJDIENpcmNsZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVMSVAgRWxsaXBzZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFJSRUMgUm91bmRlZCBSZWN0YW5nbGVcbiAqL1xudmFyIFNIQVBFUyA9IHtcbiAgICBQT0xZOiAwLFxuICAgIFJFQ1Q6IDEsXG4gICAgQ0lSQzogMixcbiAgICBFTElQOiAzLFxuICAgIFJSRUM6IDQsXG59O1xuXG4vKipcbiAqIFRoZSBQaXhpSlMgTWF0cml4IGNsYXNzIGFzIGFuIG9iamVjdCwgd2hpY2ggbWFrZXMgaXQgYSBsb3QgZmFzdGVyLFxuICogaGVyZSBpcyBhIHJlcHJlc2VudGF0aW9uIG9mIGl0IDpcbiAqIHwgYSB8IGMgfCB0eHxcbiAqIHwgYiB8IGQgfCB0eXxcbiAqIHwgMCB8IDAgfCAxIHxcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNYXRyaXggPSBmdW5jdGlvbiBNYXRyaXgoYSwgYiwgYywgZCwgdHgsIHR5KVxue1xuICAgIGlmICggYSA9PT0gdm9pZCAwICkgYSA9IDE7XG4gICAgaWYgKCBiID09PSB2b2lkIDAgKSBiID0gMDtcbiAgICBpZiAoIGMgPT09IHZvaWQgMCApIGMgPSAwO1xuICAgIGlmICggZCA9PT0gdm9pZCAwICkgZCA9IDE7XG4gICAgaWYgKCB0eCA9PT0gdm9pZCAwICkgdHggPSAwO1xuICAgIGlmICggdHkgPT09IHZvaWQgMCApIHR5ID0gMDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgdGhpcy5hID0gYTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5iID0gYjtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5jID0gYztcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgdGhpcy5kID0gZDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy50eCA9IHR4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICB0aGlzLmFycmF5ID0gbnVsbDtcbn07XG5cbnZhciBzdGF0aWNBY2Nlc3NvcnMgPSB7IElERU5USVRZOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LFRFTVBfTUFUUklYOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQ3JlYXRlcyBhIE1hdHJpeCBvYmplY3QgYmFzZWQgb24gdGhlIGdpdmVuIGFycmF5LiBUaGUgRWxlbWVudCB0byBNYXRyaXggbWFwcGluZyBvcmRlciBpcyBhcyBmb2xsb3dzOlxuICpcbiAqIGEgPSBhcnJheVswXVxuICogYiA9IGFycmF5WzFdXG4gKiBjID0gYXJyYXlbM11cbiAqIGQgPSBhcnJheVs0XVxuICogdHggPSBhcnJheVsyXVxuICogdHkgPSBhcnJheVs1XVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyW119IGFycmF5IC0gVGhlIGFycmF5IHRoYXQgdGhlIG1hdHJpeCB3aWxsIGJlIHBvcHVsYXRlZCBmcm9tLlxuICovXG5NYXRyaXgucHJvdG90eXBlLmZyb21BcnJheSA9IGZ1bmN0aW9uIGZyb21BcnJheSAoYXJyYXkpXG57XG4gICAgdGhpcy5hID0gYXJyYXlbMF07XG4gICAgdGhpcy5iID0gYXJyYXlbMV07XG4gICAgdGhpcy5jID0gYXJyYXlbM107XG4gICAgdGhpcy5kID0gYXJyYXlbNF07XG4gICAgdGhpcy50eCA9IGFycmF5WzJdO1xuICAgIHRoaXMudHkgPSBhcnJheVs1XTtcbn07XG5cbi8qKlxuICogc2V0cyB0aGUgbWF0cml4IHByb3BlcnRpZXNcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gYSAtIE1hdHJpeCBjb21wb25lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSBiIC0gTWF0cml4IGNvbXBvbmVudFxuICogQHBhcmFtIHtudW1iZXJ9IGMgLSBNYXRyaXggY29tcG9uZW50XG4gKiBAcGFyYW0ge251bWJlcn0gZCAtIE1hdHJpeCBjb21wb25lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0eCAtIE1hdHJpeCBjb21wb25lbnRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIE1hdHJpeCBjb21wb25lbnRcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKGEsIGIsIGMsIGQsIHR4LCB0eSlcbntcbiAgICB0aGlzLmEgPSBhO1xuICAgIHRoaXMuYiA9IGI7XG4gICAgdGhpcy5jID0gYztcbiAgICB0aGlzLmQgPSBkO1xuICAgIHRoaXMudHggPSB0eDtcbiAgICB0aGlzLnR5ID0gdHk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBhcnJheSBmcm9tIHRoZSBjdXJyZW50IE1hdHJpeCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtib29sZWFufSB0cmFuc3Bvc2UgLSBXaGV0aGVyIHdlIG5lZWQgdG8gdHJhbnNwb3NlIHRoZSBtYXRyaXggb3Igbm90XG4gKiBAcGFyYW0ge0Zsb2F0MzJBcnJheX0gW291dD1uZXcgRmxvYXQzMkFycmF5KDkpXSAtIElmIHByb3ZpZGVkIHRoZSBhcnJheSB3aWxsIGJlIGFzc2lnbmVkIHRvIG91dFxuICogQHJldHVybiB7bnVtYmVyW119IHRoZSBuZXdseSBjcmVhdGVkIGFycmF5IHdoaWNoIGNvbnRhaW5zIHRoZSBtYXRyaXhcbiAqL1xuTWF0cml4LnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gdG9BcnJheSAodHJhbnNwb3NlLCBvdXQpXG57XG4gICAgaWYgKCF0aGlzLmFycmF5KVxuICAgIHtcbiAgICAgICAgdGhpcy5hcnJheSA9IG5ldyBGbG9hdDMyQXJyYXkoOSk7XG4gICAgfVxuXG4gICAgdmFyIGFycmF5ID0gb3V0IHx8IHRoaXMuYXJyYXk7XG5cbiAgICBpZiAodHJhbnNwb3NlKVxuICAgIHtcbiAgICAgICAgYXJyYXlbMF0gPSB0aGlzLmE7XG4gICAgICAgIGFycmF5WzFdID0gdGhpcy5iO1xuICAgICAgICBhcnJheVsyXSA9IDA7XG4gICAgICAgIGFycmF5WzNdID0gdGhpcy5jO1xuICAgICAgICBhcnJheVs0XSA9IHRoaXMuZDtcbiAgICAgICAgYXJyYXlbNV0gPSAwO1xuICAgICAgICBhcnJheVs2XSA9IHRoaXMudHg7XG4gICAgICAgIGFycmF5WzddID0gdGhpcy50eTtcbiAgICAgICAgYXJyYXlbOF0gPSAxO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBhcnJheVswXSA9IHRoaXMuYTtcbiAgICAgICAgYXJyYXlbMV0gPSB0aGlzLmM7XG4gICAgICAgIGFycmF5WzJdID0gdGhpcy50eDtcbiAgICAgICAgYXJyYXlbM10gPSB0aGlzLmI7XG4gICAgICAgIGFycmF5WzRdID0gdGhpcy5kO1xuICAgICAgICBhcnJheVs1XSA9IHRoaXMudHk7XG4gICAgICAgIGFycmF5WzZdID0gMDtcbiAgICAgICAgYXJyYXlbN10gPSAwO1xuICAgICAgICBhcnJheVs4XSA9IDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufTtcblxuLyoqXG4gKiBHZXQgYSBuZXcgcG9zaXRpb24gd2l0aCB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbiBhcHBsaWVkLlxuICogQ2FuIGJlIHVzZWQgdG8gZ28gZnJvbSBhIGNoaWxkJ3MgY29vcmRpbmF0ZSBzcGFjZSB0byB0aGUgd29ybGQgY29vcmRpbmF0ZSBzcGFjZS4gKGUuZy4gcmVuZGVyaW5nKVxuICpcbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zIC0gVGhlIG9yaWdpblxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIHRyYW5zZm9ybWVkIHRocm91Z2ggdGhpcyBtYXRyaXhcbiAqL1xuTWF0cml4LnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5IChwb3MsIG5ld1BvcylcbntcbiAgICBuZXdQb3MgPSBuZXdQb3MgfHwgbmV3IFBvaW50KCk7XG5cbiAgICB2YXIgeCA9IHBvcy54O1xuICAgIHZhciB5ID0gcG9zLnk7XG5cbiAgICBuZXdQb3MueCA9ICh0aGlzLmEgKiB4KSArICh0aGlzLmMgKiB5KSArIHRoaXMudHg7XG4gICAgbmV3UG9zLnkgPSAodGhpcy5iICogeCkgKyAodGhpcy5kICogeSkgKyB0aGlzLnR5O1xuXG4gICAgcmV0dXJuIG5ld1Bvcztcbn07XG5cbi8qKlxuICogR2V0IGEgbmV3IHBvc2l0aW9uIHdpdGggdGhlIGludmVyc2Ugb2YgdGhlIGN1cnJlbnQgdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAqIENhbiBiZSB1c2VkIHRvIGdvIGZyb20gdGhlIHdvcmxkIGNvb3JkaW5hdGUgc3BhY2UgdG8gYSBjaGlsZCdzIGNvb3JkaW5hdGUgc3BhY2UuIChlLmcuIGlucHV0KVxuICpcbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9zIC0gVGhlIG9yaWdpblxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbbmV3UG9zXSAtIFRoZSBwb2ludCB0aGF0IHRoZSBuZXcgcG9zaXRpb24gaXMgYXNzaWduZWQgdG8gKGFsbG93ZWQgdG8gYmUgc2FtZSBhcyBpbnB1dClcbiAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IFRoZSBuZXcgcG9pbnQsIGludmVyc2UtdHJhbnNmb3JtZWQgdGhyb3VnaCB0aGlzIG1hdHJpeFxuICovXG5NYXRyaXgucHJvdG90eXBlLmFwcGx5SW52ZXJzZSA9IGZ1bmN0aW9uIGFwcGx5SW52ZXJzZSAocG9zLCBuZXdQb3MpXG57XG4gICAgbmV3UG9zID0gbmV3UG9zIHx8IG5ldyBQb2ludCgpO1xuXG4gICAgdmFyIGlkID0gMSAvICgodGhpcy5hICogdGhpcy5kKSArICh0aGlzLmMgKiAtdGhpcy5iKSk7XG5cbiAgICB2YXIgeCA9IHBvcy54O1xuICAgIHZhciB5ID0gcG9zLnk7XG5cbiAgICBuZXdQb3MueCA9ICh0aGlzLmQgKiBpZCAqIHgpICsgKC10aGlzLmMgKiBpZCAqIHkpICsgKCgodGhpcy50eSAqIHRoaXMuYykgLSAodGhpcy50eCAqIHRoaXMuZCkpICogaWQpO1xuICAgIG5ld1Bvcy55ID0gKHRoaXMuYSAqIGlkICogeSkgKyAoLXRoaXMuYiAqIGlkICogeCkgKyAoKCgtdGhpcy50eSAqIHRoaXMuYSkgKyAodGhpcy50eCAqIHRoaXMuYikpICogaWQpO1xuXG4gICAgcmV0dXJuIG5ld1Bvcztcbn07XG5cbi8qKlxuICogVHJhbnNsYXRlcyB0aGUgbWF0cml4IG9uIHRoZSB4IGFuZCB5LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IEhvdyBtdWNoIHRvIHRyYW5zbGF0ZSB4IGJ5XG4gKiBAcGFyYW0ge251bWJlcn0geSBIb3cgbXVjaCB0byB0cmFuc2xhdGUgeSBieVxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gdHJhbnNsYXRlICh4LCB5KVxue1xuICAgIHRoaXMudHggKz0geDtcbiAgICB0aGlzLnR5ICs9IHk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQXBwbGllcyBhIHNjYWxlIHRyYW5zZm9ybWF0aW9uIHRvIHRoZSBtYXRyaXguXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggVGhlIGFtb3VudCB0byBzY2FsZSBob3Jpem9udGFsbHlcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IFRoZSBhbW91bnQgdG8gc2NhbGUgdmVydGljYWxseVxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbiBzY2FsZSAoeCwgeSlcbntcbiAgICB0aGlzLmEgKj0geDtcbiAgICB0aGlzLmQgKj0geTtcbiAgICB0aGlzLmMgKj0geDtcbiAgICB0aGlzLmIgKj0geTtcbiAgICB0aGlzLnR4ICo9IHg7XG4gICAgdGhpcy50eSAqPSB5O1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFwcGxpZXMgYSByb3RhdGlvbiB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgbWF0cml4LlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZSAtIFRoZSBhbmdsZSBpbiByYWRpYW5zLlxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUucm90YXRlID0gZnVuY3Rpb24gcm90YXRlIChhbmdsZSlcbntcbiAgICB2YXIgY29zID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgIHZhciBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG5cbiAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgdmFyIGMxID0gdGhpcy5jO1xuICAgIHZhciB0eDEgPSB0aGlzLnR4O1xuXG4gICAgdGhpcy5hID0gKGExICogY29zKSAtICh0aGlzLmIgKiBzaW4pO1xuICAgIHRoaXMuYiA9IChhMSAqIHNpbikgKyAodGhpcy5iICogY29zKTtcbiAgICB0aGlzLmMgPSAoYzEgKiBjb3MpIC0gKHRoaXMuZCAqIHNpbik7XG4gICAgdGhpcy5kID0gKGMxICogc2luKSArICh0aGlzLmQgKiBjb3MpO1xuICAgIHRoaXMudHggPSAodHgxICogY29zKSAtICh0aGlzLnR5ICogc2luKTtcbiAgICB0aGlzLnR5ID0gKHR4MSAqIHNpbikgKyAodGhpcy50eSAqIGNvcyk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQXBwZW5kcyB0aGUgZ2l2ZW4gTWF0cml4IHRvIHRoaXMgTWF0cml4LlxuICpcbiAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gYXBwZW5kLlxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kIChtYXRyaXgpXG57XG4gICAgdmFyIGExID0gdGhpcy5hO1xuICAgIHZhciBiMSA9IHRoaXMuYjtcbiAgICB2YXIgYzEgPSB0aGlzLmM7XG4gICAgdmFyIGQxID0gdGhpcy5kO1xuXG4gICAgdGhpcy5hID0gKG1hdHJpeC5hICogYTEpICsgKG1hdHJpeC5iICogYzEpO1xuICAgIHRoaXMuYiA9IChtYXRyaXguYSAqIGIxKSArIChtYXRyaXguYiAqIGQxKTtcbiAgICB0aGlzLmMgPSAobWF0cml4LmMgKiBhMSkgKyAobWF0cml4LmQgKiBjMSk7XG4gICAgdGhpcy5kID0gKG1hdHJpeC5jICogYjEpICsgKG1hdHJpeC5kICogZDEpO1xuXG4gICAgdGhpcy50eCA9IChtYXRyaXgudHggKiBhMSkgKyAobWF0cml4LnR5ICogYzEpICsgdGhpcy50eDtcbiAgICB0aGlzLnR5ID0gKG1hdHJpeC50eCAqIGIxKSArIChtYXRyaXgudHkgKiBkMSkgKyB0aGlzLnR5O1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldHMgdGhlIG1hdHJpeCBiYXNlZCBvbiBhbGwgdGhlIGF2YWlsYWJsZSBwcm9wZXJ0aWVzXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBQb3NpdGlvbiBvbiB0aGUgeCBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFBvc2l0aW9uIG9uIHRoZSB5IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBwaXZvdFggLSBQaXZvdCBvbiB0aGUgeCBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gcGl2b3RZIC0gUGl2b3Qgb24gdGhlIHkgYXhpc1xuICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWCAtIFNjYWxlIG9uIHRoZSB4IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVkgLSBTY2FsZSBvbiB0aGUgeSBheGlzXG4gKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBSb3RhdGlvbiBpbiByYWRpYW5zXG4gKiBAcGFyYW0ge251bWJlcn0gc2tld1ggLSBTa2V3IG9uIHRoZSB4IGF4aXNcbiAqIEBwYXJhbSB7bnVtYmVyfSBza2V3WSAtIFNrZXcgb24gdGhlIHkgYXhpc1xuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtICh4LCB5LCBwaXZvdFgsIHBpdm90WSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1kpXG57XG4gICAgdGhpcy5hID0gTWF0aC5jb3Mocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgdGhpcy5iID0gTWF0aC5zaW4ocm90YXRpb24gKyBza2V3WSkgKiBzY2FsZVg7XG4gICAgdGhpcy5jID0gLU1hdGguc2luKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuICAgIHRoaXMuZCA9IE1hdGguY29zKHJvdGF0aW9uIC0gc2tld1gpICogc2NhbGVZO1xuXG4gICAgdGhpcy50eCA9IHggLSAoKHBpdm90WCAqIHRoaXMuYSkgKyAocGl2b3RZICogdGhpcy5jKSk7XG4gICAgdGhpcy50eSA9IHkgLSAoKHBpdm90WCAqIHRoaXMuYikgKyAocGl2b3RZICogdGhpcy5kKSk7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUHJlcGVuZHMgdGhlIGdpdmVuIE1hdHJpeCB0byB0aGlzIE1hdHJpeC5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgbWF0cml4IHRvIHByZXBlbmRcbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICovXG5NYXRyaXgucHJvdG90eXBlLnByZXBlbmQgPSBmdW5jdGlvbiBwcmVwZW5kIChtYXRyaXgpXG57XG4gICAgdmFyIHR4MSA9IHRoaXMudHg7XG5cbiAgICBpZiAobWF0cml4LmEgIT09IDEgfHwgbWF0cml4LmIgIT09IDAgfHwgbWF0cml4LmMgIT09IDAgfHwgbWF0cml4LmQgIT09IDEpXG4gICAge1xuICAgICAgICB2YXIgYTEgPSB0aGlzLmE7XG4gICAgICAgIHZhciBjMSA9IHRoaXMuYztcblxuICAgICAgICB0aGlzLmEgPSAoYTEgKiBtYXRyaXguYSkgKyAodGhpcy5iICogbWF0cml4LmMpO1xuICAgICAgICB0aGlzLmIgPSAoYTEgKiBtYXRyaXguYikgKyAodGhpcy5iICogbWF0cml4LmQpO1xuICAgICAgICB0aGlzLmMgPSAoYzEgKiBtYXRyaXguYSkgKyAodGhpcy5kICogbWF0cml4LmMpO1xuICAgICAgICB0aGlzLmQgPSAoYzEgKiBtYXRyaXguYikgKyAodGhpcy5kICogbWF0cml4LmQpO1xuICAgIH1cblxuICAgIHRoaXMudHggPSAodHgxICogbWF0cml4LmEpICsgKHRoaXMudHkgKiBtYXRyaXguYykgKyBtYXRyaXgudHg7XG4gICAgdGhpcy50eSA9ICh0eDEgKiBtYXRyaXguYikgKyAodGhpcy50eSAqIG1hdHJpeC5kKSArIG1hdHJpeC50eTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZWNvbXBvc2VzIHRoZSBtYXRyaXggKHgsIHksIHNjYWxlWCwgc2NhbGVZLCBhbmQgcm90YXRpb24pIGFuZCBzZXRzIHRoZSBwcm9wZXJ0aWVzIG9uIHRvIGEgdHJhbnNmb3JtLlxuICpcbiAqIEBwYXJhbSB7UElYSS5UcmFuc2Zvcm19IHRyYW5zZm9ybSAtIFRoZSB0cmFuc2Zvcm0gdG8gYXBwbHkgdGhlIHByb3BlcnRpZXMgdG8uXG4gKiBAcmV0dXJuIHtQSVhJLlRyYW5zZm9ybX0gVGhlIHRyYW5zZm9ybSB3aXRoIHRoZSBuZXdseSBhcHBsaWVkIHByb3BlcnRpZXNcbiAqL1xuTWF0cml4LnByb3RvdHlwZS5kZWNvbXBvc2UgPSBmdW5jdGlvbiBkZWNvbXBvc2UgKHRyYW5zZm9ybSlcbntcbiAgICAvLyBzb3J0IG91dCByb3RhdGlvbiAvIHNrZXcuLlxuICAgIHZhciBhID0gdGhpcy5hO1xuICAgIHZhciBiID0gdGhpcy5iO1xuICAgIHZhciBjID0gdGhpcy5jO1xuICAgIHZhciBkID0gdGhpcy5kO1xuXG4gICAgdmFyIHNrZXdYID0gLU1hdGguYXRhbjIoLWMsIGQpO1xuICAgIHZhciBza2V3WSA9IE1hdGguYXRhbjIoYiwgYSk7XG5cbiAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhza2V3WCArIHNrZXdZKTtcblxuICAgIGlmIChkZWx0YSA8IDAuMDAwMDEgfHwgTWF0aC5hYnMoUElfMiAtIGRlbHRhKSA8IDAuMDAwMDEpXG4gICAge1xuICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gPSBza2V3WTtcblxuICAgICAgICBpZiAoYSA8IDAgJiYgZCA+PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFuc2Zvcm0ucm90YXRpb24gKz0gKHRyYW5zZm9ybS5yb3RhdGlvbiA8PSAwKSA/IE1hdGguUEkgOiAtTWF0aC5QSTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYW5zZm9ybS5za2V3LnggPSB0cmFuc2Zvcm0uc2tldy55ID0gMDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdHJhbnNmb3JtLnJvdGF0aW9uID0gMDtcbiAgICAgICAgdHJhbnNmb3JtLnNrZXcueCA9IHNrZXdYO1xuICAgICAgICB0cmFuc2Zvcm0uc2tldy55ID0gc2tld1k7XG4gICAgfVxuXG4gICAgLy8gbmV4dCBzZXQgc2NhbGVcbiAgICB0cmFuc2Zvcm0uc2NhbGUueCA9IE1hdGguc3FydCgoYSAqIGEpICsgKGIgKiBiKSk7XG4gICAgdHJhbnNmb3JtLnNjYWxlLnkgPSBNYXRoLnNxcnQoKGMgKiBjKSArIChkICogZCkpO1xuXG4gICAgLy8gbmV4dCBzZXQgcG9zaXRpb25cbiAgICB0cmFuc2Zvcm0ucG9zaXRpb24ueCA9IHRoaXMudHg7XG4gICAgdHJhbnNmb3JtLnBvc2l0aW9uLnkgPSB0aGlzLnR5O1xuXG4gICAgcmV0dXJuIHRyYW5zZm9ybTtcbn07XG5cbi8qKlxuICogSW52ZXJ0cyB0aGlzIG1hdHJpeFxuICpcbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGlzIG1hdHJpeC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICovXG5NYXRyaXgucHJvdG90eXBlLmludmVydCA9IGZ1bmN0aW9uIGludmVydCAoKVxue1xuICAgIHZhciBhMSA9IHRoaXMuYTtcbiAgICB2YXIgYjEgPSB0aGlzLmI7XG4gICAgdmFyIGMxID0gdGhpcy5jO1xuICAgIHZhciBkMSA9IHRoaXMuZDtcbiAgICB2YXIgdHgxID0gdGhpcy50eDtcbiAgICB2YXIgbiA9IChhMSAqIGQxKSAtIChiMSAqIGMxKTtcblxuICAgIHRoaXMuYSA9IGQxIC8gbjtcbiAgICB0aGlzLmIgPSAtYjEgLyBuO1xuICAgIHRoaXMuYyA9IC1jMSAvIG47XG4gICAgdGhpcy5kID0gYTEgLyBuO1xuICAgIHRoaXMudHggPSAoKGMxICogdGhpcy50eSkgLSAoZDEgKiB0eDEpKSAvIG47XG4gICAgdGhpcy50eSA9IC0oKGExICogdGhpcy50eSkgLSAoYjEgKiB0eDEpKSAvIG47XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoaXMgTWF0cml4IHRvIGFuIGlkZW50aXR5IChkZWZhdWx0KSBtYXRyaXguXG4gKlxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoaXMgbWF0cml4LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gKi9cbk1hdHJpeC5wcm90b3R5cGUuaWRlbnRpdHkgPSBmdW5jdGlvbiBpZGVudGl0eSAoKVxue1xuICAgIHRoaXMuYSA9IDE7XG4gICAgdGhpcy5iID0gMDtcbiAgICB0aGlzLmMgPSAwO1xuICAgIHRoaXMuZCA9IDE7XG4gICAgdGhpcy50eCA9IDA7XG4gICAgdGhpcy50eSA9IDA7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBNYXRyaXggb2JqZWN0IHdpdGggdGhlIHNhbWUgdmFsdWVzIGFzIHRoaXMgb25lLlxuICpcbiAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBBIGNvcHkgb2YgdGhpcyBtYXRyaXguIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAqL1xuTWF0cml4LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgdmFyIG1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgIHJldHVybiBtYXRyaXg7XG59O1xuXG4vKipcbiAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgZ2l2ZW4gbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIHRoaXMgbWF0cml4XG4gKlxuICogQHBhcmFtIHtQSVhJLk1hdHJpeH0gbWF0cml4IC0gVGhlIG1hdHJpeCB0byBjb3B5IHRvLlxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IFRoZSBtYXRyaXggZ2l2ZW4gaW4gcGFyYW1ldGVyIHdpdGggaXRzIHZhbHVlcyB1cGRhdGVkLlxuICovXG5NYXRyaXgucHJvdG90eXBlLmNvcHlUbyA9IGZ1bmN0aW9uIGNvcHlUbyAobWF0cml4KVxue1xuICAgIG1hdHJpeC5hID0gdGhpcy5hO1xuICAgIG1hdHJpeC5iID0gdGhpcy5iO1xuICAgIG1hdHJpeC5jID0gdGhpcy5jO1xuICAgIG1hdHJpeC5kID0gdGhpcy5kO1xuICAgIG1hdHJpeC50eCA9IHRoaXMudHg7XG4gICAgbWF0cml4LnR5ID0gdGhpcy50eTtcblxuICAgIHJldHVybiBtYXRyaXg7XG59O1xuXG4vKipcbiAqIENoYW5nZXMgdGhlIHZhbHVlcyBvZiB0aGUgbWF0cml4IHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBvbmVzIGluIGdpdmVuIG1hdHJpeFxuICpcbiAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gY29weSBmcm9tLlxuICogQHJldHVybiB7UElYSS5NYXRyaXh9IHRoaXNcbiAqL1xuTWF0cml4LnByb3RvdHlwZS5jb3B5RnJvbSA9IGZ1bmN0aW9uIGNvcHlGcm9tIChtYXRyaXgpXG57XG4gICAgdGhpcy5hID0gbWF0cml4LmE7XG4gICAgdGhpcy5iID0gbWF0cml4LmI7XG4gICAgdGhpcy5jID0gbWF0cml4LmM7XG4gICAgdGhpcy5kID0gbWF0cml4LmQ7XG4gICAgdGhpcy50eCA9IG1hdHJpeC50eDtcbiAgICB0aGlzLnR5ID0gbWF0cml4LnR5O1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEEgZGVmYXVsdCAoaWRlbnRpdHkpIG1hdHJpeFxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdFxuICovXG5zdGF0aWNBY2Nlc3NvcnMuSURFTlRJVFkuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gbmV3IE1hdHJpeCgpO1xufTtcblxuLyoqXG4gKiBBIHRlbXAgbWF0cml4XG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0XG4gKi9cbnN0YXRpY0FjY2Vzc29ycy5URU1QX01BVFJJWC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiBuZXcgTWF0cml4KCk7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggTWF0cml4LCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuLy8gWW91ciBmcmllbmRseSBuZWlnaGJvdXIgaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvRGloZWRyYWxfZ3JvdXAgb2Ygb3JkZXIgMTZcbnZhciB1eCA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxXTtcbnZhciB1eSA9IFswLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eCA9IFswLCAtMSwgLTEsIC0xLCAwLCAxLCAxLCAxLCAwLCAxLCAxLCAxLCAwLCAtMSwgLTEsIC0xXTtcbnZhciB2eSA9IFsxLCAxLCAwLCAtMSwgLTEsIC0xLCAwLCAxLCAtMSwgLTEsIDAsIDEsIDEsIDEsIDAsIC0xXTtcbnZhciB0ZW1wTWF0cmljZXMgPSBbXTtcblxudmFyIG11bCA9IFtdO1xuXG5mdW5jdGlvbiBzaWdudW0oeClcbntcbiAgICBpZiAoeCA8IDApXG4gICAge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGlmICh4ID4gMClcbiAgICB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBpbml0KClcbntcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspXG4gICAge1xuICAgICAgICB2YXIgcm93ID0gW107XG5cbiAgICAgICAgbXVsLnB1c2gocm93KTtcblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IDE2OyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBfdXggPSBzaWdudW0oKHV4W2ldICogdXhbal0pICsgKHZ4W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdXkgPSBzaWdudW0oKHV5W2ldICogdXhbal0pICsgKHZ5W2ldICogdXlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdnggPSBzaWdudW0oKHV4W2ldICogdnhbal0pICsgKHZ4W2ldICogdnlbal0pKTtcbiAgICAgICAgICAgIHZhciBfdnkgPSBzaWdudW0oKHV5W2ldICogdnhbal0pICsgKHZ5W2ldICogdnlbal0pKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCAxNjsgaysrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh1eFtrXSA9PT0gX3V4ICYmIHV5W2tdID09PSBfdXkgJiYgdnhba10gPT09IF92eCAmJiB2eVtrXSA9PT0gX3Z5KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcm93LnB1c2goayk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IDE2OyBpJDErKylcbiAgICB7XG4gICAgICAgIHZhciBtYXQgPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgbWF0LnNldCh1eFtpJDFdLCB1eVtpJDFdLCB2eFtpJDFdLCB2eVtpJDFdLCAwLCAwKTtcbiAgICAgICAgdGVtcE1hdHJpY2VzLnB1c2gobWF0KTtcbiAgICB9XG59XG5cbmluaXQoKTtcblxuLyoqXG4gKiBJbXBsZW1lbnRzIERpaGVkcmFsIEdyb3VwIERfOCwgc2VlIFtncm91cCBENF17QGxpbmsgaHR0cDovL21hdGh3b3JsZC53b2xmcmFtLmNvbS9EaWhlZHJhbEdyb3VwRDQuaHRtbH0sXG4gKiBEOCBpcyB0aGUgc2FtZSBidXQgd2l0aCBkaWFnb25hbHMuIFVzZWQgZm9yIHRleHR1cmUgcm90YXRpb25zLlxuICpcbiAqIFZlY3RvciB4WChpKSwgeFkoaSkgaXMgVS1heGlzIG9mIHNwcml0ZSB3aXRoIHJvdGF0aW9uIGlcbiAqIFZlY3RvciB5WShpKSwgeVkoaSkgaXMgVi1heGlzIG9mIHNwcml0ZSB3aXRoIHJvdGF0aW9uIGlcbiAqIFJvdGF0aW9uczogMCBncmFkICgwKSwgOTAgZ3JhZCAoMiksIDE4MCBncmFkICg0KSwgMjcwIGdyYWQgKDYpXG4gKiBNaXJyb3JzOiB2ZXJ0aWNhbCAoOCksIG1haW4gZGlhZ29uYWwgKDEwKSwgaG9yaXpvbnRhbCAoMTIpLCByZXZlcnNlIGRpYWdvbmFsICgxNClcbiAqIFRoaXMgaXMgdGhlIHNtYWxsIHBhcnQgb2YgZ2FtZW9mYm9tYnMuY29tIHBvcnRhbCBzeXN0ZW0uIEl0IHdvcmtzLlxuICpcbiAqIEBhdXRob3IgSXZhbiBAaXZhbnBvcGVseXNoZXZcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyb3VwRDggPSB7XG4gICAgRTogMCxcbiAgICBTRTogMSxcbiAgICBTOiAyLFxuICAgIFNXOiAzLFxuICAgIFc6IDQsXG4gICAgTlc6IDUsXG4gICAgTjogNixcbiAgICBORTogNyxcbiAgICBNSVJST1JfVkVSVElDQUw6IDgsXG4gICAgTUlSUk9SX0hPUklaT05UQUw6IDEyLFxuICAgIHVYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eFtpbmRdOyB9LFxuICAgIHVZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB1eVtpbmRdOyB9LFxuICAgIHZYOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eFtpbmRdOyB9LFxuICAgIHZZOiBmdW5jdGlvbiAoaW5kKSB7IHJldHVybiB2eVtpbmRdOyB9LFxuICAgIGludjogZnVuY3Rpb24gKHJvdGF0aW9uKSB7XG4gICAgICAgIGlmIChyb3RhdGlvbiAmIDgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiByb3RhdGlvbiAmIDE1O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgtcm90YXRpb24pICYgNztcbiAgICB9LFxuICAgIGFkZDogZnVuY3Rpb24gKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7IHJldHVybiBtdWxbcm90YXRpb25TZWNvbmRdW3JvdGF0aW9uRmlyc3RdOyB9LFxuICAgIHN1YjogZnVuY3Rpb24gKHJvdGF0aW9uU2Vjb25kLCByb3RhdGlvbkZpcnN0KSB7IHJldHVybiBtdWxbcm90YXRpb25TZWNvbmRdW0dyb3VwRDguaW52KHJvdGF0aW9uRmlyc3QpXTsgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgMTgwIGRlZ3JlZXMgdG8gcm90YXRpb24uIENvbW11dGF0aXZlIG9wZXJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb24gLSBUaGUgbnVtYmVyIHRvIHJvdGF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSByb3RhdGVkIG51bWJlclxuICAgICAqL1xuICAgIHJvdGF0ZTE4MDogZnVuY3Rpb24gKHJvdGF0aW9uKSB7IHJldHVybiByb3RhdGlvbiBeIDQ7IH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXJlY3Rpb24gb2YgbWFpbiB2ZWN0b3IgY2FuIGJlIGhvcml6b250YWwsIHZlcnRpY2FsIG9yIGRpYWdvbmFsLlxuICAgICAqIFNvbWUgb2JqZWN0cyB3b3JrIHdpdGggdmVydGljYWwgZGlyZWN0aW9ucyBkaWZmZXJlbnQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIG51bWJlciB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciBvciBub3QgdGhlIGRpcmVjdGlvbiBpcyB2ZXJ0aWNhbFxuICAgICAqL1xuICAgIGlzVmVydGljYWw6IGZ1bmN0aW9uIChyb3RhdGlvbikgeyByZXR1cm4gKHJvdGF0aW9uICYgMykgPT09IDI7IH0sXG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5Hcm91cEQ4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR4IC0gVE9ET1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkeSAtIFRPRE9cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVE9ET1xuICAgICAqL1xuICAgIGJ5RGlyZWN0aW9uOiBmdW5jdGlvbiAoZHgsIGR5KSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhkeCkgKiAyIDw9IE1hdGguYWJzKGR5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR5ID49IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguUztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguTjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhkeSkgKiAyIDw9IE1hdGguYWJzKGR4KSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR4ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5FO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5XO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGR4ID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5TRTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIEdyb3VwRDguU1c7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZHggPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gR3JvdXBEOC5ORTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBHcm91cEQ4Lk5XO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwcyBzcHJpdGUgdG8gY29tcGVuc2F0ZSB0ZXh0dXJlIHBhY2tlciByb3RhdGlvbi5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkdyb3VwRDhcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBzcHJpdGUgd29ybGQgbWF0cml4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0aW9uIC0gVGhlIHJvdGF0aW9uIGZhY3RvciB0byB1c2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHR4IC0gc3ByaXRlIGFuY2hvcmluZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0eSAtIHNwcml0ZSBhbmNob3JpbmdcbiAgICAgKi9cbiAgICBtYXRyaXhBcHBlbmRSb3RhdGlvbkludjogZnVuY3Rpb24gKG1hdHJpeCwgcm90YXRpb24sIHR4LCB0eSkge1xuICAgICAgICBpZiAoIHR4ID09PSB2b2lkIDAgKSB0eCA9IDA7XG4gICAgICAgIGlmICggdHkgPT09IHZvaWQgMCApIHR5ID0gMDtcblxuICAgICAgICAvLyBQYWNrZXIgdXNlZCBcInJvdGF0aW9uXCIsIHdlIHVzZSBcImludihyb3RhdGlvbilcIlxuICAgICAgICB2YXIgbWF0ID0gdGVtcE1hdHJpY2VzW0dyb3VwRDguaW52KHJvdGF0aW9uKV07XG5cbiAgICAgICAgbWF0LnR4ID0gdHg7XG4gICAgICAgIG1hdC50eSA9IHR5O1xuICAgICAgICBtYXRyaXguYXBwZW5kKG1hdCk7XG4gICAgfSxcbn07XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoYXQgdGFrZXMgY2FyZSBhYm91dCBpdHMgdmVyc2lvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUcmFuc2Zvcm0gPSBmdW5jdGlvbiBUcmFuc2Zvcm0oKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBnbG9iYWwgbWF0cml4IHRyYW5zZm9ybS4gSXQgY2FuIGJlIHN3YXBwZWQgdGVtcG9yYXJpbHkgYnkgc29tZSBmdW5jdGlvbnMgbGlrZSBnZXRMb2NhbEJvdW5kcygpXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKi9cbiAgICB0aGlzLndvcmxkVHJhbnNmb3JtID0gbmV3IE1hdHJpeCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxvY2FsIG1hdHJpeCB0cmFuc2Zvcm1cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAqL1xuICAgIHRoaXMubG9jYWxUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgY29vcmRpbmF0ZSBvZiB0aGUgb2JqZWN0IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy5vbkNoYW5nZSwgdGhpcywgMCwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGUgZmFjdG9yIG9mIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICB0aGlzLnNjYWxlID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAxLCAxKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwaXZvdCBwb2ludCBvZiB0aGUgZGlzcGxheU9iamVjdCB0aGF0IGl0IHJvdGF0ZXMgYXJvdW5kXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICB0aGlzLnBpdm90ID0gbmV3IE9ic2VydmFibGVQb2ludCh0aGlzLm9uQ2hhbmdlLCB0aGlzLCAwLCAwKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBza2V3IGFtb3VudCwgb24gdGhlIHggYW5kIHkgYXhpcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHRoaXMuc2tldyA9IG5ldyBPYnNlcnZhYmxlUG9pbnQodGhpcy51cGRhdGVTa2V3LCB0aGlzLCAwLCAwKTtcblxuICAgIHRoaXMuX3JvdGF0aW9uID0gMDtcblxuICAgIHRoaXMuX2N4ID0gMTsgLy8gY29zIHJvdGF0aW9uICsgc2tld1k7XG4gICAgdGhpcy5fc3ggPSAwOyAvLyBzaW4gcm90YXRpb24gKyBza2V3WTtcbiAgICB0aGlzLl9jeSA9IDA7IC8vIGNvcyByb3RhdGlvbiArIE1hdGguUEkvMiAtIHNrZXdYO1xuICAgIHRoaXMuX3N5ID0gMTsgLy8gc2luIHJvdGF0aW9uICsgTWF0aC5QSS8yIC0gc2tld1g7XG5cbiAgICB0aGlzLl9sb2NhbElEID0gMDtcbiAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IDA7XG5cbiAgICB0aGlzLl93b3JsZElEID0gMDtcbiAgICB0aGlzLl9wYXJlbnRJRCA9IDA7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDEgPSB7IHJvdGF0aW9uOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gYSB2YWx1ZSBjaGFuZ2VzLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblRyYW5zZm9ybS5wcm90b3R5cGUub25DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoYW5nZSAoKVxue1xuICAgIHRoaXMuX2xvY2FsSUQrKztcbn07XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gc2tldyBvciByb3RhdGlvbiBjaGFuZ2VzXG4gKlxuICogQHByaXZhdGVcbiAqL1xuVHJhbnNmb3JtLnByb3RvdHlwZS51cGRhdGVTa2V3ID0gZnVuY3Rpb24gdXBkYXRlU2tldyAoKVxue1xuICAgIHRoaXMuX2N4ID0gTWF0aC5jb3ModGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgIHRoaXMuX3N4ID0gTWF0aC5zaW4odGhpcy5fcm90YXRpb24gKyB0aGlzLnNrZXcuX3kpO1xuICAgIHRoaXMuX2N5ID0gLU1hdGguc2luKHRoaXMuX3JvdGF0aW9uIC0gdGhpcy5za2V3Ll94KTsgLy8gY29zLCBhZGRlZCBQSS8yXG4gICAgdGhpcy5fc3kgPSBNYXRoLmNvcyh0aGlzLl9yb3RhdGlvbiAtIHRoaXMuc2tldy5feCk7IC8vIHNpbiwgYWRkZWQgUEkvMlxuXG4gICAgdGhpcy5fbG9jYWxJRCsrO1xufTtcblxuLyoqXG4gKiBVcGRhdGVzIG9ubHkgbG9jYWwgbWF0cml4XG4gKi9cblRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlTG9jYWxUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVMb2NhbFRyYW5zZm9ybSAoKVxue1xuICAgIHZhciBsdCA9IHRoaXMubG9jYWxUcmFuc2Zvcm07XG5cbiAgICBpZiAodGhpcy5fbG9jYWxJRCAhPT0gdGhpcy5fY3VycmVudExvY2FsSUQpXG4gICAge1xuICAgICAgICAvLyBnZXQgdGhlIG1hdHJpeCB2YWx1ZXMgb2YgdGhlIGRpc3BsYXlvYmplY3QgYmFzZWQgb24gaXRzIHRyYW5zZm9ybSBwcm9wZXJ0aWVzLi5cbiAgICAgICAgbHQuYSA9IHRoaXMuX2N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgbHQuYiA9IHRoaXMuX3N4ICogdGhpcy5zY2FsZS5feDtcbiAgICAgICAgbHQuYyA9IHRoaXMuX2N5ICogdGhpcy5zY2FsZS5feTtcbiAgICAgICAgbHQuZCA9IHRoaXMuX3N5ICogdGhpcy5zY2FsZS5feTtcblxuICAgICAgICBsdC50eCA9IHRoaXMucG9zaXRpb24uX3ggLSAoKHRoaXMucGl2b3QuX3ggKiBsdC5hKSArICh0aGlzLnBpdm90Ll95ICogbHQuYykpO1xuICAgICAgICBsdC50eSA9IHRoaXMucG9zaXRpb24uX3kgLSAoKHRoaXMucGl2b3QuX3ggKiBsdC5iKSArICh0aGlzLnBpdm90Ll95ICogbHQuZCkpO1xuICAgICAgICB0aGlzLl9jdXJyZW50TG9jYWxJRCA9IHRoaXMuX2xvY2FsSUQ7XG5cbiAgICAgICAgLy8gZm9yY2UgYW4gdXBkYXRlLi5cbiAgICAgICAgdGhpcy5fcGFyZW50SUQgPSAtMTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlcyBvZiB0aGUgb2JqZWN0IGFuZCBhcHBsaWVzIHRoZSBwYXJlbnQncyB0cmFuc2Zvcm0uXG4gKlxuICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybX0gcGFyZW50VHJhbnNmb3JtIC0gVGhlIHRyYW5zZm9ybSBvZiB0aGUgcGFyZW50IG9mIHRoaXMgb2JqZWN0XG4gKi9cblRyYW5zZm9ybS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtIChwYXJlbnRUcmFuc2Zvcm0pXG57XG4gICAgdmFyIGx0ID0gdGhpcy5sb2NhbFRyYW5zZm9ybTtcblxuICAgIGlmICh0aGlzLl9sb2NhbElEICE9PSB0aGlzLl9jdXJyZW50TG9jYWxJRClcbiAgICB7XG4gICAgICAgIC8vIGdldCB0aGUgbWF0cml4IHZhbHVlcyBvZiB0aGUgZGlzcGxheW9iamVjdCBiYXNlZCBvbiBpdHMgdHJhbnNmb3JtIHByb3BlcnRpZXMuLlxuICAgICAgICBsdC5hID0gdGhpcy5fY3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICBsdC5iID0gdGhpcy5fc3ggKiB0aGlzLnNjYWxlLl94O1xuICAgICAgICBsdC5jID0gdGhpcy5fY3kgKiB0aGlzLnNjYWxlLl95O1xuICAgICAgICBsdC5kID0gdGhpcy5fc3kgKiB0aGlzLnNjYWxlLl95O1xuXG4gICAgICAgIGx0LnR4ID0gdGhpcy5wb3NpdGlvbi5feCAtICgodGhpcy5waXZvdC5feCAqIGx0LmEpICsgKHRoaXMucGl2b3QuX3kgKiBsdC5jKSk7XG4gICAgICAgIGx0LnR5ID0gdGhpcy5wb3NpdGlvbi5feSAtICgodGhpcy5waXZvdC5feCAqIGx0LmIpICsgKHRoaXMucGl2b3QuX3kgKiBsdC5kKSk7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRMb2NhbElEID0gdGhpcy5fbG9jYWxJRDtcblxuICAgICAgICAvLyBmb3JjZSBhbiB1cGRhdGUuLlxuICAgICAgICB0aGlzLl9wYXJlbnRJRCA9IC0xO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9wYXJlbnRJRCAhPT0gcGFyZW50VHJhbnNmb3JtLl93b3JsZElEKVxuICAgIHtcbiAgICAgICAgLy8gY29uY2F0IHRoZSBwYXJlbnQgbWF0cml4IHdpdGggdGhlIG9iamVjdHMgdHJhbnNmb3JtLlxuICAgICAgICB2YXIgcHQgPSBwYXJlbnRUcmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciB3dCA9IHRoaXMud29ybGRUcmFuc2Zvcm07XG5cbiAgICAgICAgd3QuYSA9IChsdC5hICogcHQuYSkgKyAobHQuYiAqIHB0LmMpO1xuICAgICAgICB3dC5iID0gKGx0LmEgKiBwdC5iKSArIChsdC5iICogcHQuZCk7XG4gICAgICAgIHd0LmMgPSAobHQuYyAqIHB0LmEpICsgKGx0LmQgKiBwdC5jKTtcbiAgICAgICAgd3QuZCA9IChsdC5jICogcHQuYikgKyAobHQuZCAqIHB0LmQpO1xuICAgICAgICB3dC50eCA9IChsdC50eCAqIHB0LmEpICsgKGx0LnR5ICogcHQuYykgKyBwdC50eDtcbiAgICAgICAgd3QudHkgPSAobHQudHggKiBwdC5iKSArIChsdC50eSAqIHB0LmQpICsgcHQudHk7XG5cbiAgICAgICAgdGhpcy5fcGFyZW50SUQgPSBwYXJlbnRUcmFuc2Zvcm0uX3dvcmxkSUQ7XG5cbiAgICAgICAgLy8gdXBkYXRlIHRoZSBpZCBvZiB0aGUgdHJhbnNmb3JtLi5cbiAgICAgICAgdGhpcy5fd29ybGRJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogRGVjb21wb3NlcyBhIG1hdHJpeCBhbmQgc2V0cyB0aGUgdHJhbnNmb3JtcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIGl0LlxuICpcbiAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG1hdHJpeCAtIFRoZSBtYXRyaXggdG8gZGVjb21wb3NlXG4gKi9cblRyYW5zZm9ybS5wcm90b3R5cGUuc2V0RnJvbU1hdHJpeCA9IGZ1bmN0aW9uIHNldEZyb21NYXRyaXggKG1hdHJpeClcbntcbiAgICBtYXRyaXguZGVjb21wb3NlKHRoaXMpO1xuICAgIHRoaXMuX2xvY2FsSUQrKztcbn07XG5cbi8qKlxuICogVGhlIHJvdGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gcmFkaWFucy5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLnJvdGF0aW9uLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDEucm90YXRpb24uc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB0aGlzLl9yb3RhdGlvbiA9IHZhbHVlO1xuICAgIHRoaXMudXBkYXRlU2tldygpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRyYW5zZm9ybS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQxICk7XG5cblRyYW5zZm9ybS5JREVOVElUWSA9IG5ldyBUcmFuc2Zvcm0oKTtcblxuLyoqXG4gKiBSZWN0YW5nbGUgb2JqZWN0IGlzIGFuIGFyZWEgZGVmaW5lZCBieSBpdHMgcG9zaXRpb24sIGFzIGluZGljYXRlZCBieSBpdHMgdG9wLWxlZnQgY29ybmVyXG4gKiBwb2ludCAoeCwgeSkgYW5kIGJ5IGl0cyB3aWR0aCBhbmQgaXRzIGhlaWdodC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBSZWN0YW5nbGUgPSBmdW5jdGlvbiBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodClcbntcbiAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgIGlmICggeSA9PT0gdm9pZCAwICkgeSA9IDA7XG4gICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAwO1xuICAgIGlmICggaGVpZ2h0ID09PSB2b2lkIDAgKSBoZWlnaHQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSBOdW1iZXIoeCk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IE51bWJlcih5KTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy53aWR0aCA9IE51bWJlcih3aWR0aCk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gTnVtYmVyKGhlaWdodCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUkVDVFxuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUkVDVDtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMiA9IHsgbGVmdDogeyBjb25maWd1cmFibGU6IHRydWUgfSxyaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0b3A6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYm90dG9tOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG52YXIgc3RhdGljQWNjZXNzb3JzJDEgPSB7IEVNUFRZOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgbGVmdCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQyLmxlZnQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy54O1xufTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSByaWdodCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQyLnJpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMueCArIHRoaXMud2lkdGg7XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIHRvcCBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQyLnRvcC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLnk7XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIGJvdHRvbSBlZGdlIG9mIHRoZSByZWN0YW5nbGVcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQyLmJvdHRvbS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLnkgKyB0aGlzLmhlaWdodDtcbn07XG5cbi8qKlxuICogQSBjb25zdGFudCBlbXB0eSByZWN0YW5nbGUuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKi9cbnN0YXRpY0FjY2Vzc29ycyQxLkVNUFRZLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjbG9uZSBvZiB0aGlzIFJlY3RhbmdsZVxuICpcbiAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBhIGNvcHkgb2YgdGhlIHJlY3RhbmdsZVxuICovXG5SZWN0YW5nbGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xufTtcblxuLyoqXG4gKiBDb3BpZXMgYW5vdGhlciByZWN0YW5nbGUgdG8gdGhpcyBvbmUuXG4gKlxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBjb3B5IGZyb20uXG4gKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBpdHNlbGYuXG4gKi9cblJlY3RhbmdsZS5wcm90b3R5cGUuY29weUZyb20gPSBmdW5jdGlvbiBjb3B5RnJvbSAocmVjdGFuZ2xlKVxue1xuICAgIHRoaXMueCA9IHJlY3RhbmdsZS54O1xuICAgIHRoaXMueSA9IHJlY3RhbmdsZS55O1xuICAgIHRoaXMud2lkdGggPSByZWN0YW5nbGUud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSByZWN0YW5nbGUuaGVpZ2h0O1xuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIENvcGllcyB0aGlzIHJlY3RhbmdsZSB0byBhbm90aGVyIG9uZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGNvcHkgdG8uXG4gKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gUmV0dXJucyBnaXZlbiBwYXJhbWV0ZXIuXG4gKi9cblJlY3RhbmdsZS5wcm90b3R5cGUuY29weVRvID0gZnVuY3Rpb24gY29weVRvIChyZWN0YW5nbGUpXG57XG4gICAgcmVjdGFuZ2xlLnggPSB0aGlzLng7XG4gICAgcmVjdGFuZ2xlLnkgPSB0aGlzLnk7XG4gICAgcmVjdGFuZ2xlLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICByZWN0YW5nbGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG5cbiAgICByZXR1cm4gcmVjdGFuZ2xlO1xufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBnaXZlbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJlY3RhbmdsZVxuICovXG5SZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMgKHgsIHkpXG57XG4gICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh4ID49IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aClcbiAgICB7XG4gICAgICAgIGlmICh5ID49IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBQYWRzIHRoZSByZWN0YW5nbGUgbWFraW5nIGl0IGdyb3cgaW4gYWxsIGRpcmVjdGlvbnMuXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHBhZGRpbmdYIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gKiBAcGFyYW0ge251bWJlcn0gcGFkZGluZ1kgLSBUaGUgdmVydGljYWwgcGFkZGluZyBhbW91bnQuXG4gKi9cblJlY3RhbmdsZS5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gcGFkIChwYWRkaW5nWCwgcGFkZGluZ1kpXG57XG4gICAgcGFkZGluZ1ggPSBwYWRkaW5nWCB8fCAwO1xuICAgIHBhZGRpbmdZID0gcGFkZGluZ1kgfHwgKChwYWRkaW5nWSAhPT0gMCkgPyBwYWRkaW5nWCA6IDApO1xuXG4gICAgdGhpcy54IC09IHBhZGRpbmdYO1xuICAgIHRoaXMueSAtPSBwYWRkaW5nWTtcblxuICAgIHRoaXMud2lkdGggKz0gcGFkZGluZ1ggKiAyO1xuICAgIHRoaXMuaGVpZ2h0ICs9IHBhZGRpbmdZICogMjtcbn07XG5cbi8qKlxuICogRml0cyB0aGlzIHJlY3RhbmdsZSBhcm91bmQgdGhlIHBhc3NlZCBvbmUuXG4gKlxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdGFuZ2xlIC0gVGhlIHJlY3RhbmdsZSB0byBmaXQuXG4gKi9cblJlY3RhbmdsZS5wcm90b3R5cGUuZml0ID0gZnVuY3Rpb24gZml0IChyZWN0YW5nbGUpXG57XG4gICAgaWYgKHRoaXMueCA8IHJlY3RhbmdsZS54KVxuICAgIHtcbiAgICAgICAgdGhpcy53aWR0aCArPSB0aGlzLng7XG4gICAgICAgIGlmICh0aGlzLndpZHRoIDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnggPSByZWN0YW5nbGUueDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy55IDwgcmVjdGFuZ2xlLnkpXG4gICAge1xuICAgICAgICB0aGlzLmhlaWdodCArPSB0aGlzLnk7XG4gICAgICAgIGlmICh0aGlzLmhlaWdodCA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnkgPSByZWN0YW5nbGUueTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy54ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoKVxuICAgIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHJlY3RhbmdsZS53aWR0aCAtIHRoaXMueDtcbiAgICAgICAgaWYgKHRoaXMud2lkdGggPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnkgKyB0aGlzLmhlaWdodCA+IHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcmVjdGFuZ2xlLmhlaWdodCAtIHRoaXMueTtcbiAgICAgICAgaWYgKHRoaXMuaGVpZ2h0IDwgMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSAwO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLyoqXG4gKiBFbmxhcmdlcyByZWN0YW5nbGUgdGhhdCB3YXkgaXRzIGNvcm5lcnMgbGllIG9uIGdyaWRcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gcmVzb2x1dGlvblxuICogQHBhcmFtIHtudW1iZXJ9IFtlcHM9MC4wMDFdIHByZWNpc2lvblxuICovXG5SZWN0YW5nbGUucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbiBjZWlsIChyZXNvbHV0aW9uLCBlcHMpXG57XG4gICAgICAgIGlmICggcmVzb2x1dGlvbiA9PT0gdm9pZCAwICkgcmVzb2x1dGlvbiA9IDE7XG4gICAgICAgIGlmICggZXBzID09PSB2b2lkIDAgKSBlcHMgPSAwLjAwMTtcblxuICAgIHZhciB4MiA9IE1hdGguY2VpbCgodGhpcy54ICsgdGhpcy53aWR0aCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG4gICAgdmFyIHkyID0gTWF0aC5jZWlsKCh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG5cbiAgICB0aGlzLnggPSBNYXRoLmZsb29yKCh0aGlzLnggKyBlcHMpICogcmVzb2x1dGlvbikgLyByZXNvbHV0aW9uO1xuICAgIHRoaXMueSA9IE1hdGguZmxvb3IoKHRoaXMueSArIGVwcykgKiByZXNvbHV0aW9uKSAvIHJlc29sdXRpb247XG5cbiAgICB0aGlzLndpZHRoID0geDIgLSB0aGlzLng7XG4gICAgdGhpcy5oZWlnaHQgPSB5MiAtIHRoaXMueTtcbn07XG5cbi8qKlxuICogRW5sYXJnZXMgdGhpcyByZWN0YW5nbGUgdG8gaW5jbHVkZSB0aGUgcGFzc2VkIHJlY3RhbmdsZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0YW5nbGUgLSBUaGUgcmVjdGFuZ2xlIHRvIGluY2x1ZGUuXG4gKi9cblJlY3RhbmdsZS5wcm90b3R5cGUuZW5sYXJnZSA9IGZ1bmN0aW9uIGVubGFyZ2UgKHJlY3RhbmdsZSlcbntcbiAgICB2YXIgeDEgPSBNYXRoLm1pbih0aGlzLngsIHJlY3RhbmdsZS54KTtcbiAgICB2YXIgeDIgPSBNYXRoLm1heCh0aGlzLnggKyB0aGlzLndpZHRoLCByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCk7XG4gICAgdmFyIHkxID0gTWF0aC5taW4odGhpcy55LCByZWN0YW5nbGUueSk7XG4gICAgdmFyIHkyID0gTWF0aC5tYXgodGhpcy55ICsgdGhpcy5oZWlnaHQsIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLmhlaWdodCk7XG5cbiAgICB0aGlzLnggPSB4MTtcbiAgICB0aGlzLndpZHRoID0geDIgLSB4MTtcbiAgICB0aGlzLnkgPSB5MTtcbiAgICB0aGlzLmhlaWdodCA9IHkyIC0geTE7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggUmVjdGFuZ2xlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDIgKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBSZWN0YW5nbGUsIHN0YXRpY0FjY2Vzc29ycyQxICk7XG5cbi8qKlxuICogVGhlIENpcmNsZSBvYmplY3QgY2FuIGJlIHVzZWQgdG8gc3BlY2lmeSBhIGhpdCBhcmVhIGZvciBkaXNwbGF5T2JqZWN0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENpcmNsZSA9IGZ1bmN0aW9uIENpcmNsZSh4LCB5LCByYWRpdXMpXG57XG4gICAgaWYgKCB4ID09PSB2b2lkIDAgKSB4ID0gMDtcbiAgICBpZiAoIHkgPT09IHZvaWQgMCApIHkgPSAwO1xuICAgIGlmICggcmFkaXVzID09PSB2b2lkIDAgKSByYWRpdXMgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcblxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBvYmplY3QsIG1haW5seSB1c2VkIHRvIGF2b2lkIGBpbnN0YW5jZW9mYCBjaGVja3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAZGVmYXVsdCBQSVhJLlNIQVBFUy5DSVJDXG4gICAgICogQHNlZSBQSVhJLlNIQVBFU1xuICAgICAqL1xuICAgIHRoaXMudHlwZSA9IFNIQVBFUy5DSVJDO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhpcyBDaXJjbGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLkNpcmNsZX0gYSBjb3B5IG9mIHRoZSBDaXJjbGVcbiAqL1xuQ2lyY2xlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgcmV0dXJuIG5ldyBDaXJjbGUodGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBjaXJjbGVcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBDaXJjbGVcbiAqL1xuQ2lyY2xlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIGNvbnRhaW5zICh4LCB5KVxue1xuICAgIGlmICh0aGlzLnJhZGl1cyA8PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciByMiA9IHRoaXMucmFkaXVzICogdGhpcy5yYWRpdXM7XG4gICAgdmFyIGR4ID0gKHRoaXMueCAtIHgpO1xuICAgIHZhciBkeSA9ICh0aGlzLnkgLSB5KTtcblxuICAgIGR4ICo9IGR4O1xuICAgIGR5ICo9IGR5O1xuXG4gICAgcmV0dXJuIChkeCArIGR5IDw9IHIyKTtcbn07XG5cbi8qKlxuKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgY2lyY2xlIGFzIGEgUmVjdGFuZ2xlIG9iamVjdFxuKlxuKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4qL1xuQ2lyY2xlLnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiBnZXRCb3VuZHMgKClcbntcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLnJhZGl1cywgdGhpcy55IC0gdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzICogMiwgdGhpcy5yYWRpdXMgKiAyKTtcbn07XG5cbi8qKlxuICogVGhlIEVsbGlwc2Ugb2JqZWN0IGNhbiBiZSB1c2VkIHRvIHNwZWNpZnkgYSBoaXQgYXJlYSBmb3IgZGlzcGxheU9iamVjdHNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBFbGxpcHNlID0gZnVuY3Rpb24gRWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxue1xuICAgIGlmICggeCA9PT0gdm9pZCAwICkgeCA9IDA7XG4gICAgaWYgKCB5ID09PSB2b2lkIDAgKSB5ID0gMDtcbiAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDA7XG4gICAgaWYgKCBoZWlnaHQgPT09IHZvaWQgMCApIGhlaWdodCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueCA9IHg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMueSA9IHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuRUxJUFxuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBTSEFQRVMuRUxJUDtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgRWxsaXBzZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge1BJWEkuRWxsaXBzZX0gYSBjb3B5IG9mIHRoZSBlbGxpcHNlXG4gKi9cbkVsbGlwc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICByZXR1cm4gbmV3IEVsbGlwc2UodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBlbGxpcHNlXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIHgveSBjb29yZHMgYXJlIHdpdGhpbiB0aGlzIGVsbGlwc2VcbiAqL1xuRWxsaXBzZS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiBjb250YWlucyAoeCwgeSlcbntcbiAgICBpZiAodGhpcy53aWR0aCA8PSAwIHx8IHRoaXMuaGVpZ2h0IDw9IDApXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gbm9ybWFsaXplIHRoZSBjb29yZHMgdG8gYW4gZWxsaXBzZSB3aXRoIGNlbnRlciAwLDBcbiAgICB2YXIgbm9ybXggPSAoKHggLSB0aGlzLngpIC8gdGhpcy53aWR0aCk7XG4gICAgdmFyIG5vcm15ID0gKCh5IC0gdGhpcy55KSAvIHRoaXMuaGVpZ2h0KTtcblxuICAgIG5vcm14ICo9IG5vcm14O1xuICAgIG5vcm15ICo9IG5vcm15O1xuXG4gICAgcmV0dXJuIChub3JteCArIG5vcm15IDw9IDEpO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmcmFtaW5nIHJlY3RhbmdsZSBvZiB0aGUgZWxsaXBzZSBhcyBhIFJlY3RhbmdsZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gdGhlIGZyYW1pbmcgcmVjdGFuZ2xlXG4gKi9cbkVsbGlwc2UucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIGdldEJvdW5kcyAoKVxue1xuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCAtIHRoaXMud2lkdGgsIHRoaXMueSAtIHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59O1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBvbHlnb24gPSBmdW5jdGlvbiBQb2x5Z29uKClcbntcbiAgICB2YXIgcG9pbnRzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIHBvaW50c1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkocG9pbnRzWzBdKSlcbiAgICB7XG4gICAgICAgIHBvaW50cyA9IHBvaW50c1swXTtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGlzIGlzIGFuIGFycmF5IG9mIHBvaW50cywgY29udmVydCBpdCB0byBhIGZsYXQgYXJyYXkgb2YgbnVtYmVyc1xuICAgIGlmIChwb2ludHNbMF0gaW5zdGFuY2VvZiBQb2ludClcbiAgICB7XG4gICAgICAgIHZhciBwID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlsID0gcG9pbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHAucHVzaChwb2ludHNbaV0ueCwgcG9pbnRzW2ldLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9pbnRzID0gcDtcbiAgICB9XG5cbiAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiB0aGUgcG9pbnRzIG9mIHRoaXMgcG9seWdvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5wb2ludHMgPSBwb2ludHM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUE9MWVxuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUE9MWTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgcG9seWdvblxuICpcbiAqIEByZXR1cm4ge1BJWEkuUG9seWdvbn0gYSBjb3B5IG9mIHRoZSBwb2x5Z29uXG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbntcbiAgICByZXR1cm4gbmV3IFBvbHlnb24odGhpcy5wb2ludHMuc2xpY2UoKSk7XG59O1xuXG4vKipcbiAqIENsb3NlcyB0aGUgcG9seWdvbiwgYWRkaW5nIHBvaW50cyBpZiBuZWNlc3NhcnkuXG4gKlxuICovXG5Qb2x5Z29uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIGNsb3NlICgpXG57XG4gICAgdmFyIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuXG4gICAgLy8gY2xvc2UgdGhlIHBvbHkgaWYgdGhlIHZhbHVlIGlzIHRydWUhXG4gICAgaWYgKHBvaW50c1swXSAhPT0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSB8fCBwb2ludHNbMV0gIT09IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0pXG4gICAge1xuICAgICAgICBwb2ludHMucHVzaChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBwYXNzZWQgdG8gdGhpcyBmdW5jdGlvbiBhcmUgY29udGFpbmVkIHdpdGhpbiB0aGlzIHBvbHlnb25cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB0aGUgeC95IGNvb3JkaW5hdGVzIGFyZSB3aXRoaW4gdGhpcyBwb2x5Z29uXG4gKi9cblBvbHlnb24ucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMgKHgsIHkpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGluc2lkZSA9IGZhbHNlO1xuXG4gICAgLy8gdXNlIHNvbWUgcmF5Y2FzdGluZyB0byB0ZXN0IGhpdHNcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvbi9ibG9iL21hc3Rlci9pbmRleC5qc1xuICAgIHZhciBsZW5ndGggPSB0aGlzLnBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSBsZW5ndGggLSAxOyBpIDwgbGVuZ3RoOyBqID0gaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHhpID0gdGhpcyQxLnBvaW50c1tpICogMl07XG4gICAgICAgIHZhciB5aSA9IHRoaXMkMS5wb2ludHNbKGkgKiAyKSArIDFdO1xuICAgICAgICB2YXIgeGogPSB0aGlzJDEucG9pbnRzW2ogKiAyXTtcbiAgICAgICAgdmFyIHlqID0gdGhpcyQxLnBvaW50c1soaiAqIDIpICsgMV07XG4gICAgICAgIHZhciBpbnRlcnNlY3QgPSAoKHlpID4geSkgIT09ICh5aiA+IHkpKSAmJiAoeCA8ICgoeGogLSB4aSkgKiAoKHkgLSB5aSkgLyAoeWogLSB5aSkpKSArIHhpKTtcblxuICAgICAgICBpZiAoaW50ZXJzZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpbnNpZGUgPSAhaW5zaWRlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluc2lkZTtcbn07XG5cbi8qKlxuICogVGhlIFJvdW5kZWQgUmVjdGFuZ2xlIG9iamVjdCBpcyBhbiBhcmVhIHRoYXQgaGFzIG5pY2Ugcm91bmRlZCBjb3JuZXJzLCBhcyBpbmRpY2F0ZWQgYnkgaXRzXG4gKiB0b3AtbGVmdCBjb3JuZXIgcG9pbnQgKHgsIHkpIGFuZCBieSBpdHMgd2lkdGggYW5kIGl0cyBoZWlnaHQgYW5kIGl0cyByYWRpdXMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgUm91bmRlZFJlY3RhbmdsZSA9IGZ1bmN0aW9uIFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKVxue1xuICAgIGlmICggeCA9PT0gdm9pZCAwICkgeCA9IDA7XG4gICAgaWYgKCB5ID09PSB2b2lkIDAgKSB5ID0gMDtcbiAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDA7XG4gICAgaWYgKCBoZWlnaHQgPT09IHZvaWQgMCApIGhlaWdodCA9IDA7XG4gICAgaWYgKCByYWRpdXMgPT09IHZvaWQgMCApIHJhZGl1cyA9IDIwO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnggPSB4O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLnkgPSB5O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDIwXG4gICAgICovXG4gICAgdGhpcy5yYWRpdXMgPSByYWRpdXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiB0aGUgb2JqZWN0LCBtYWlubHkgdXNlZCB0byBhdm9pZCBgaW5zdGFuY2VvZmAgY2hlY2tzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQGRlZmF1bHQgUElYSS5TSEFQRVMuUlJFQ1xuICAgICAqIEBzZWUgUElYSS5TSEFQRVNcbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBTSEFQRVMuUlJFQztcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoaXMgUm91bmRlZCBSZWN0YW5nbGVcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IGEgY29weSBvZiB0aGUgcm91bmRlZCByZWN0YW5nbGVcbiAqL1xuUm91bmRlZFJlY3RhbmdsZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHJldHVybiBuZXcgUm91bmRlZFJlY3RhbmdsZSh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIHRoaXMucmFkaXVzKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIHggYW5kIHkgY29vcmRpbmF0ZXMgZ2l2ZW4gYXJlIGNvbnRhaW5lZCB3aXRoaW4gdGhpcyBSb3VuZGVkIFJlY3RhbmdsZVxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBwb2ludCB0byB0ZXN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoZSB4L3kgY29vcmRpbmF0ZXMgYXJlIHdpdGhpbiB0aGlzIFJvdW5kZWQgUmVjdGFuZ2xlXG4gKi9cblJvdW5kZWRSZWN0YW5nbGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMgKHgsIHkpXG57XG4gICAgaWYgKHRoaXMud2lkdGggPD0gMCB8fCB0aGlzLmhlaWdodCA8PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoeCA+PSB0aGlzLnggJiYgeCA8PSB0aGlzLnggKyB0aGlzLndpZHRoKVxuICAgIHtcbiAgICAgICAgaWYgKHkgPj0gdGhpcy55ICYmIHkgPD0gdGhpcy55ICsgdGhpcy5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgoeSA+PSB0aGlzLnkgKyB0aGlzLnJhZGl1cyAmJiB5IDw9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC0gdGhpcy5yYWRpdXMpXG4gICAgICAgICAgICB8fCAoeCA+PSB0aGlzLnggKyB0aGlzLnJhZGl1cyAmJiB4IDw9IHRoaXMueCArIHRoaXMud2lkdGggLSB0aGlzLnJhZGl1cykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZHggPSB4IC0gKHRoaXMueCArIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgIHZhciBkeSA9IHkgLSAodGhpcy55ICsgdGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgdmFyIHJhZGl1czIgPSB0aGlzLnJhZGl1cyAqIHRoaXMucmFkaXVzO1xuXG4gICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkeCA9IHggLSAodGhpcy54ICsgdGhpcy53aWR0aCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGR5ID0geSAtICh0aGlzLnkgKyB0aGlzLmhlaWdodCAtIHRoaXMucmFkaXVzKTtcbiAgICAgICAgICAgIGlmICgoZHggKiBkeCkgKyAoZHkgKiBkeSkgPD0gcmFkaXVzMilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGR4ID0geCAtICh0aGlzLnggKyB0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICBpZiAoKGR4ICogZHgpICsgKGR5ICogZHkpIDw9IHJhZGl1czIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIE1hdGggY2xhc3NlcyBhbmQgdXRpbGl0aWVzIG1peGVkIGludG8gUElYSSBuYW1lc3BhY2UuXG4gKlxuICogQGxlbmRzIFBJWElcbiAqL1xuXG5leHBvcnQgeyBQb2ludCwgT2JzZXJ2YWJsZVBvaW50LCBNYXRyaXgsIEdyb3VwRDgsIFRyYW5zZm9ybSwgQ2lyY2xlLCBFbGxpcHNlLCBQb2x5Z29uLCBSZWN0YW5nbGUsIFJvdW5kZWRSZWN0YW5nbGUsIFBJXzIsIFJBRF9UT19ERUcsIERFR19UT19SQUQsIFNIQVBFUyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWF0aC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZGlzcGxheSAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL2Rpc3BsYXkgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZWN0YW5nbGUsIFRyYW5zZm9ybSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudGVtaXR0ZXIzJztcbmltcG9ydCByZW1vdmVJdGVtcyBmcm9tICdyZW1vdmUtYXJyYXktaXRlbXMnO1xuXG4vKipcbiAqICdCdWlsZGVyJyBwYXR0ZXJuIGZvciBib3VuZHMgcmVjdGFuZ2xlc1xuICogQXhpcy1BbGlnbmVkIEJvdW5kaW5nIEJveFxuICogSXQgaXMgbm90IGEgc2hhcGUhIEl0cyBtdXRhYmxlIHRoaW5nLCBubyAnRU1QVFknIG9yIHRoYXQga2luZCBvZiBwcm9ibGVtc1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJvdW5kcyA9IGZ1bmN0aW9uIEJvdW5kcygpXG57XG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuXG4gICAgdGhpcy5yZWN0ID0gbnVsbDtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGJvdW5kcyBhcmUgZW1wdHkuXG4gKlxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbXB0eS5cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gaXNFbXB0eSAoKVxue1xuICAgIHJldHVybiB0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZO1xufTtcblxuLyoqXG4gKiBDbGVhcnMgdGhlIGJvdW5kcyBhbmQgcmVzZXRzLlxuICpcbiAqL1xuQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpXG57XG4gICAgdGhpcy51cGRhdGVJRCsrO1xuXG4gICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgdGhpcy5tYXhYID0gLUluZmluaXR5O1xuICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbn07XG5cbi8qKlxuICogQ2FuIHJldHVybiBSZWN0YW5nbGUuRU1QVFkgY29uc3RhbnQsIGVpdGhlciBjb25zdHJ1Y3QgbmV3IHJlY3RhbmdsZSwgZWl0aGVyIHVzZSB5b3VyIHJlY3RhbmdsZVxuICogSXQgaXMgbm90IGd1YXJhbnRlZWQgdGhhdCBpdCB3aWxsIHJldHVybiB0ZW1wUmVjdFxuICpcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSB0ZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICogQHJldHVybnMge1BJWEkuUmVjdGFuZ2xlfSBBIHJlY3RhbmdsZSBvZiB0aGUgYm91bmRzXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlID0gZnVuY3Rpb24gZ2V0UmVjdGFuZ2xlIChyZWN0KVxue1xuICAgIGlmICh0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFJlY3RhbmdsZS5FTVBUWTtcbiAgICB9XG5cbiAgICByZWN0ID0gcmVjdCB8fCBuZXcgUmVjdGFuZ2xlKDAsIDAsIDEsIDEpO1xuXG4gICAgcmVjdC54ID0gdGhpcy5taW5YO1xuICAgIHJlY3QueSA9IHRoaXMubWluWTtcbiAgICByZWN0LndpZHRoID0gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xuICAgIHJlY3QuaGVpZ2h0ID0gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xuXG4gICAgcmV0dXJuIHJlY3Q7XG59O1xuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIGlubGluZWQgd2hlbiBpdHMgcG9zc2libGUuXG4gKlxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIFRoZSBwb2ludCB0byBhZGQuXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkUG9pbnQgPSBmdW5jdGlvbiBhZGRQb2ludCAocG9pbnQpXG57XG4gICAgdGhpcy5taW5YID0gTWF0aC5taW4odGhpcy5taW5YLCBwb2ludC54KTtcbiAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHBvaW50LngpO1xuICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgcG9pbnQueSk7XG4gICAgdGhpcy5tYXhZID0gTWF0aC5tYXgodGhpcy5tYXhZLCBwb2ludC55KTtcbn07XG5cbi8qKlxuICogQWRkcyBhIHF1YWQsIG5vdCB0cmFuc2Zvcm1lZFxuICpcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRoZSB2ZXJ0cyB0byBhZGQuXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkUXVhZCA9IGZ1bmN0aW9uIGFkZFF1YWQgKHZlcnRpY2VzKVxue1xuICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgdmFyIHggPSB2ZXJ0aWNlc1swXTtcbiAgICB2YXIgeSA9IHZlcnRpY2VzWzFdO1xuXG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB4ID0gdmVydGljZXNbMl07XG4gICAgeSA9IHZlcnRpY2VzWzNdO1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IHZlcnRpY2VzWzRdO1xuICAgIHkgPSB2ZXJ0aWNlc1s1XTtcbiAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcblxuICAgIHggPSB2ZXJ0aWNlc1s2XTtcbiAgICB5ID0gdmVydGljZXNbN107XG4gICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG5cbiAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgIHRoaXMubWluWSA9IG1pblk7XG4gICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICB0aGlzLm1heFkgPSBtYXhZO1xufTtcblxuLyoqXG4gKiBBZGRzIHNwcml0ZSBmcmFtZSwgdHJhbnNmb3JtZWQuXG4gKlxuICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybUJhc2V9IHRyYW5zZm9ybSAtIFRPRE9cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MCAtIFRPRE9cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MCAtIFRPRE9cbiAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIFRPRE9cbiAqIEBwYXJhbSB7bnVtYmVyfSB5MSAtIFRPRE9cbiAqL1xuQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZSA9IGZ1bmN0aW9uIGFkZEZyYW1lICh0cmFuc2Zvcm0sIHgwLCB5MCwgeDEsIHkxKVxue1xuICAgIHZhciBtYXRyaXggPSB0cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICB2YXIgYiA9IG1hdHJpeC5iO1xuICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICB2YXIgdHggPSBtYXRyaXgudHg7XG4gICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuXG4gICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICB2YXIgeCA9IChhICogeDApICsgKGMgKiB5MCkgKyB0eDtcbiAgICB2YXIgeSA9IChiICogeDApICsgKGQgKiB5MCkgKyB0eTtcblxuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IChhICogeDEpICsgKGMgKiB5MCkgKyB0eDtcbiAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkwKSArIHR5O1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IChhICogeDApICsgKGMgKiB5MSkgKyB0eDtcbiAgICB5ID0gKGIgKiB4MCkgKyAoZCAqIHkxKSArIHR5O1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgeCA9IChhICogeDEpICsgKGMgKiB5MSkgKyB0eDtcbiAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkxKSArIHR5O1xuICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuXG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgdGhpcy5tYXhZID0gbWF4WTtcbn07XG5cbi8qKlxuICogQWRkIGFuIGFycmF5IG9mIHZlcnRpY2VzXG4gKlxuICogQHBhcmFtIHtQSVhJLlRyYW5zZm9ybUJhc2V9IHRyYW5zZm9ybSAtIFRPRE9cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB2ZXJ0aWNlcyAtIFRPRE9cbiAqIEBwYXJhbSB7bnVtYmVyfSBiZWdpbk9mZnNldCAtIFRPRE9cbiAqIEBwYXJhbSB7bnVtYmVyfSBlbmRPZmZzZXQgLSBUT0RPXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGljZXMgPSBmdW5jdGlvbiBhZGRWZXJ0aWNlcyAodHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldClcbntcbiAgICB2YXIgbWF0cml4ID0gdHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgIHZhciBhID0gbWF0cml4LmE7XG4gICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICB2YXIgYyA9IG1hdHJpeC5jO1xuICAgIHZhciBkID0gbWF0cml4LmQ7XG4gICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgIHZhciB0eSA9IG1hdHJpeC50eTtcblxuICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgZm9yICh2YXIgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpXG4gICAge1xuICAgICAgICB2YXIgcmF3WCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICB2YXIgcmF3WSA9IHZlcnRpY2VzW2kgKyAxXTtcbiAgICAgICAgdmFyIHggPSAoYSAqIHJhd1gpICsgKGMgKiByYXdZKSArIHR4O1xuICAgICAgICB2YXIgeSA9IChkICogcmF3WSkgKyAoYiAqIHJhd1gpICsgdHk7XG5cbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgfVxuXG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IG1heFg7XG4gICAgdGhpcy5tYXhZID0gbWF4WTtcbn07XG5cbi8qKlxuICogQWRkcyBvdGhlciBCb3VuZHNcbiAqXG4gKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gKi9cbkJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzID0gZnVuY3Rpb24gYWRkQm91bmRzIChib3VuZHMpXG57XG4gICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG5cbiAgICB0aGlzLm1pblggPSBib3VuZHMubWluWCA8IG1pblggPyBib3VuZHMubWluWCA6IG1pblg7XG4gICAgdGhpcy5taW5ZID0gYm91bmRzLm1pblkgPCBtaW5ZID8gYm91bmRzLm1pblkgOiBtaW5ZO1xuICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICB0aGlzLm1heFkgPSBib3VuZHMubWF4WSA+IG1heFkgPyBib3VuZHMubWF4WSA6IG1heFk7XG59O1xuXG4vKipcbiAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBCb3VuZHNcbiAqXG4gKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBtYXNrIC0gVE9ET1xuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc01hc2sgPSBmdW5jdGlvbiBhZGRCb3VuZHNNYXNrIChib3VuZHMsIG1hc2spXG57XG4gICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBtYXNrLm1pblggPyBib3VuZHMubWluWCA6IG1hc2subWluWDtcbiAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IG1hc2subWluWSA/IGJvdW5kcy5taW5ZIDogbWFzay5taW5ZO1xuICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgbWFzay5tYXhYID8gYm91bmRzLm1heFggOiBtYXNrLm1heFg7XG4gICAgdmFyIF9tYXhZID0gYm91bmRzLm1heFkgPCBtYXNrLm1heFkgPyBib3VuZHMubWF4WSA6IG1hc2subWF4WTtcblxuICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSlcbiAgICB7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuXG4gICAgICAgIHRoaXMubWluWCA9IF9taW5YIDwgbWluWCA/IF9taW5YIDogbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gX21pblkgPCBtaW5ZID8gX21pblkgOiBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgIHRoaXMubWF4WSA9IF9tYXhZID4gbWF4WSA/IF9tYXhZIDogbWF4WTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZHMgb3RoZXIgQm91bmRzLCBtYXNrZWQgd2l0aCBSZWN0YW5nbGVcbiAqXG4gKiBAcGFyYW0ge1BJWEkuQm91bmRzfSBib3VuZHMgLSBUT0RPXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBhcmVhIC0gVE9ET1xuICovXG5Cb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc0FyZWEgPSBmdW5jdGlvbiBhZGRCb3VuZHNBcmVhIChib3VuZHMsIGFyZWEpXG57XG4gICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBhcmVhLnggPyBib3VuZHMubWluWCA6IGFyZWEueDtcbiAgICB2YXIgX21pblkgPSBib3VuZHMubWluWSA+IGFyZWEueSA/IGJvdW5kcy5taW5ZIDogYXJlYS55O1xuICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgYXJlYS54ICsgYXJlYS53aWR0aCA/IGJvdW5kcy5tYXhYIDogKGFyZWEueCArIGFyZWEud2lkdGgpO1xuICAgIHZhciBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgYXJlYS55ICsgYXJlYS5oZWlnaHQgPyBib3VuZHMubWF4WSA6IChhcmVhLnkgKyBhcmVhLmhlaWdodCk7XG5cbiAgICBpZiAoX21pblggPD0gX21heFggJiYgX21pblkgPD0gX21heFkpXG4gICAge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcblxuICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgIHRoaXMubWluWSA9IF9taW5ZIDwgbWluWSA/IF9taW5ZIDogbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gX21heFggPiBtYXhYID8gX21heFggOiBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgfVxufTtcblxuLy8gX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbmV3IERpc3BsYXlPYmplY3QoKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBjbGFzcyBmb3IgYWxsIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgb24gdGhlIHNjcmVlbi5cbiAqIFRoaXMgaXMgYW4gYWJzdHJhY3QgY2xhc3MgYW5kIHNob3VsZCBub3QgYmUgdXNlZCBvbiBpdHMgb3duIHJhdGhlciBpdCBzaG91bGQgYmUgZXh0ZW5kZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBFdmVudEVtaXR0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBEaXNwbGF5T2JqZWN0ID0gKGZ1bmN0aW9uIChFdmVudEVtaXR0ZXIkJDEpIHtcbiAgICBmdW5jdGlvbiBEaXNwbGF5T2JqZWN0KClcbiAgICB7XG4gICAgICAgIEV2ZW50RW1pdHRlciQkMS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuXG4gICAgICAgIC8vIFRPRE86IG5lZWQgdG8gY3JlYXRlIFRyYW5zZm9ybSBmcm9tIGZhY3RvcnlcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdvcmxkIHRyYW5zZm9ybSBhbmQgbG9jYWwgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0LlxuICAgICAgICAgKiBUaGlzIHdpbGwgYmVjb21lIHJlYWQtb25seSBsYXRlciwgcGxlYXNlIGRvIG5vdCBhc3NpZ24gYW55dGhpbmcgdGhlcmUgdW5sZXNzIHlvdSBrbm93IHdoYXQgYXJlIHlvdSBkb2luZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UcmFuc2Zvcm1CYXNlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBuZXcgVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcGFjaXR5IG9mIHRoZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmlzaWJpbGl0eSBvZiB0aGUgb2JqZWN0LiBJZiBmYWxzZSB0aGUgb2JqZWN0IHdpbGwgbm90IGJlIGRyYXduLCBhbmRcbiAgICAgICAgICogdGhlIHVwZGF0ZVRyYW5zZm9ybSBmdW5jdGlvbiB3aWxsIG5vdCBiZSBjYWxsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ubHkgYWZmZWN0cyByZWN1cnNpdmUgY2FsbHMgZnJvbSBwYXJlbnQuIFlvdSBjYW4gYXNrIGZvciBib3VuZHMgb3IgY2FsbCB1cGRhdGVUcmFuc2Zvcm0gbWFudWFsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW4gdGhpcyBvYmplY3QgYmUgcmVuZGVyZWQsIGlmIGZhbHNlIHRoZSBvYmplY3Qgd2lsbCBub3QgYmUgZHJhd24gYnV0IHRoZSB1cGRhdGVUcmFuc2Zvcm1cbiAgICAgICAgICogbWV0aG9kcyB3aWxsIHN0aWxsIGJlIGNhbGxlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT25seSBhZmZlY3RzIHJlY3Vyc2l2ZSBjYWxscyBmcm9tIHBhcmVudC4gWW91IGNhbiBhc2sgZm9yIGJvdW5kcyBtYW51YWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVuZGVyYWJsZSA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXIgdGhhdCBjb250YWlucyB0aGlzIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtdWx0aXBsaWVkIGFscGhhIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFyZWEgdGhlIGZpbHRlciBpcyBhcHBsaWVkIHRvLiBUaGlzIGlzIHVzZWQgYXMgbW9yZSBvZiBhbiBvcHRpbWl6YXRpb25cbiAgICAgICAgICogcmF0aGVyIHRoYW4gZmlndXJpbmcgb3V0IHRoZSBkaW1lbnNpb25zIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGVhY2ggZnJhbWUgeW91IGNhbiBzZXQgdGhpcyByZWN0YW5nbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFsc28gd29ya3MgYXMgYW4gaW50ZXJhY3Rpb24gbWFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBmaWx0ZXJzIGZvciB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgICAgICogKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSBXZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAgICAgKiBUbyByZW1vdmUgZmlsdGVycyBzaW1wbHkgc2V0IHRoaXMgcHJvcGVydHkgdG8gYCdudWxsJ2AuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuRmlsdGVyW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9lbmFibGVkRmlsdGVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBib3VuZHMgb2JqZWN0LCB0aGlzIGlzIHVzZWQgdG8gY2FsY3VsYXRlIGFuZCBzdG9yZSB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IG5ldyBCb3VuZHMoKTtcbiAgICAgICAgdGhpcy5fYm91bmRzSUQgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0Qm91bmRzSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzUmVjdCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBvcmlnaW5hbCwgY2FjaGVkIG1hc2sgb2YgdGhlIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc3xQSVhJLlNwcml0ZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21hc2sgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgb2JqZWN0IGhhcyBiZWVuIGRlc3Ryb3llZCB2aWEgZGVzdHJveSgpLiBJZiB0cnVlLCBpdCBzaG91bGQgbm90IGJlIHVzZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIGFkZGVkIHRvIGEgQ29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I2FkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgYWRkZWQgdG8uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyByZW1vdmVkIGZyb20gYSBDb250YWluZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmVtb3ZlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHJlbW92ZWQgZnJvbS5cbiAgICAgICAgICovXG4gICAgfVxuXG4gICAgaWYgKCBFdmVudEVtaXR0ZXIkJDEgKSBEaXNwbGF5T2JqZWN0Ll9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlciQkMTtcbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciQkMSAmJiBFdmVudEVtaXR0ZXIkJDEucHJvdG90eXBlICk7XG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBEaXNwbGF5T2JqZWN0O1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0seTogeyBjb25maWd1cmFibGU6IHRydWUgfSx3b3JsZFRyYW5zZm9ybTogeyBjb25maWd1cmFibGU6IHRydWUgfSxsb2NhbFRyYW5zZm9ybTogeyBjb25maWd1cmFibGU6IHRydWUgfSxwb3NpdGlvbjogeyBjb25maWd1cmFibGU6IHRydWUgfSxzY2FsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxwaXZvdDogeyBjb25maWd1cmFibGU6IHRydWUgfSxza2V3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJvdGF0aW9uOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmxkVmlzaWJsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxtYXNrOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZW1iZXIge1BJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogVE9ETyAtIE9wdGltaXphdGlvbiBwYXNzIVxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIHVwZGF0ZVRyYW5zZm9ybSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIG11bHRpcGx5IHRoZSBhbHBoYXMuLlxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZVxuICAgICAqIGludGVybmFsIGZ1bmN0aW9uIGZvciB0b0xvY2FsKClcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uIF9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50Ll9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS51cGRhdGVUcmFuc2Zvcm0odGhpcy5wYXJlbnQudHJhbnNmb3JtKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgYm91bmRzIG9mIHRoZSBkaXNwbGF5T2JqZWN0IGFzIGEgcmVjdGFuZ2xlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2tpcFVwZGF0ZSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICAgICAqICBiZWluZyB1cGRhdGVkLiBUaGlzIG1lYW5zIHRoZSBjYWxjdWxhdGlvbiByZXR1cm5lZCBNQVkgYmUgb3V0IG9mIGRhdGUgQlVUIHdpbGwgZ2l2ZSB5b3UgYVxuICAgICAqICBuaWNlIHBlcmZvcm1hbmNlIGJvb3N0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHJlY3QgLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYS5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5nZXRCb3VuZHMgPSBmdW5jdGlvbiBnZXRCb3VuZHMgKHNraXBVcGRhdGUsIHJlY3QpXG4gICAge1xuICAgICAgICBpZiAoIXNraXBVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ib3VuZHNJRCAhPT0gdGhpcy5fbGFzdEJvdW5kc0lEKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2JvdW5kc1JlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2JvdW5kc1JlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5fYm91bmRzLmdldFJlY3RhbmdsZShyZWN0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIGRpc3BsYXlPYmplY3QgYXMgYSByZWN0YW5nbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gW3JlY3RdIC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyAocmVjdClcbiAgICB7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1SZWYgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHBhcmVudFJlZiA9IHRoaXMucGFyZW50O1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudC50cmFuc2Zvcm07XG5cbiAgICAgICAgaWYgKCFyZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xvY2FsQm91bmRzUmVjdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLl9sb2NhbEJvdW5kc1JlY3Q7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRCb3VuZHMoZmFsc2UsIHJlY3QpO1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50UmVmO1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVJlZjtcblxuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBnbG9iYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb3NpdGlvbiAtIFRoZSB3b3JsZCBvcmlnaW4gdG8gY2FsY3VsYXRlIGZyb20uXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBbcG9pbnRdIC0gQSBQb2ludCBvYmplY3QgaW4gd2hpY2ggdG8gc3RvcmUgdGhlIHZhbHVlLCBvcHRpb25hbFxuICAgICAqICAob3RoZXJ3aXNlIHdpbGwgY3JlYXRlIGEgbmV3IFBvaW50KS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwVXBkYXRlPWZhbHNlXSAtIFNob3VsZCB3ZSBza2lwIHRoZSB1cGRhdGUgdHJhbnNmb3JtLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUG9pbnR9IEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9HbG9iYWwgPSBmdW5jdGlvbiB0b0dsb2JhbCAocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKVxuICAgIHtcbiAgICAgICAgaWYgKCBza2lwVXBkYXRlID09PSB2b2lkIDAgKSBza2lwVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgcGFyZW50IGNoZWNrIGlzIGZvciBqdXN0IGluIGNhc2UgdGhlIGl0ZW0gaXMgYSByb290IG9iamVjdC5cbiAgICAgICAgICAgIC8vIElmIGl0IGlzIHdlIG5lZWQgdG8gZ2l2ZSBpdCBhIHRlbXBvcmFyeSBwYXJlbnQgc28gdGhhdCBkaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtIHdvcmtzIGNvcnJlY3RseVxuICAgICAgICAgICAgLy8gdGhpcyBpcyBtYWlubHkgdG8gYXZvaWQgYSBwYXJlbnQgY2hlY2sgaW4gdGhlIG1haW4gbG9vcC4gRXZlcnkgbGl0dGxlIGhlbHBzIGZvciBwZXJmb3JtYW5jZSA6KVxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvbid0IG5lZWQgdG8gdXBkYXRlIHRoZSBsb3RcbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHkocG9zaXRpb24sIHBvaW50KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYWwgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHJlbGF0aXZlIHRvIGFub3RoZXIgcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHBvc2l0aW9uIC0gVGhlIHdvcmxkIG9yaWdpbiB0byBjYWxjdWxhdGUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW2Zyb21dIC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2FsY3VsYXRlIHRoZSBnbG9iYWwgcG9zaXRpb24gZnJvbS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IFtwb2ludF0gLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGU9ZmFsc2VdIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm1cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIG9mIHRoaXMgb2JqZWN0XG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9Mb2NhbCA9IGZ1bmN0aW9uIHRvTG9jYWwgKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSlcbiAgICB7XG4gICAgICAgIGlmIChmcm9tKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGZyb20udG9HbG9iYWwocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuXG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaW1wbHkgYXBwbHkgdGhlIG1hdHJpeC4uXG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb3NpdGlvbiwgcG9pbnQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlci5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICAvLyBPVkVSV1JJVEU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgcGFyZW50IENvbnRhaW5lciBvZiB0aGlzIERpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgQ29udGFpbmVyIHRvIGFkZCB0aGlzIERpc3BsYXlPYmplY3QgdG8uXG4gICAgICogQHJldHVybiB7UElYSS5Db250YWluZXJ9IFRoZSBDb250YWluZXIgdGhhdCB0aGlzIERpc3BsYXlPYmplY3Qgd2FzIGFkZGVkIHRvLlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLnNldFBhcmVudCA9IGZ1bmN0aW9uIHNldFBhcmVudCAoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCFjb250YWluZXIgfHwgIWNvbnRhaW5lci5hZGRDaGlsZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzZXRQYXJlbnQ6IEFyZ3VtZW50IG11c3QgYmUgYSBDb250YWluZXInKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZCh0aGlzKTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBzZXQgdGhlIHBvc2l0aW9uLCBzY2FsZSwgc2tldyBhbmQgcGl2b3QgYXQgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbeD0wXSAtIFRoZSBYIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt5PTBdIC0gVGhlIFkgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NjYWxlWD0xXSAtIFRoZSBYIHNjYWxlIHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzY2FsZVk9MV0gLSBUaGUgWSBzY2FsZSB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3NrZXdYPTBdIC0gVGhlIFggc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2tld1k9MF0gLSBUaGUgWSBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwaXZvdFg9MF0gLSBUaGUgWCBwaXZvdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcGl2b3RZPTBdIC0gVGhlIFkgcGl2b3QgdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtICh4LCB5LCBzY2FsZVgsIHNjYWxlWSwgcm90YXRpb24sIHNrZXdYLCBza2V3WSwgcGl2b3RYLCBwaXZvdFkpXG4gICAge1xuICAgICAgICBpZiAoIHggPT09IHZvaWQgMCApIHggPSAwO1xuICAgICAgICBpZiAoIHkgPT09IHZvaWQgMCApIHkgPSAwO1xuICAgICAgICBpZiAoIHNjYWxlWCA9PT0gdm9pZCAwICkgc2NhbGVYID0gMTtcbiAgICAgICAgaWYgKCBzY2FsZVkgPT09IHZvaWQgMCApIHNjYWxlWSA9IDE7XG4gICAgICAgIGlmICggcm90YXRpb24gPT09IHZvaWQgMCApIHJvdGF0aW9uID0gMDtcbiAgICAgICAgaWYgKCBza2V3WCA9PT0gdm9pZCAwICkgc2tld1ggPSAwO1xuICAgICAgICBpZiAoIHNrZXdZID09PSB2b2lkIDAgKSBza2V3WSA9IDA7XG4gICAgICAgIGlmICggcGl2b3RYID09PSB2b2lkIDAgKSBwaXZvdFggPSAwO1xuICAgICAgICBpZiAoIHBpdm90WSA9PT0gdm9pZCAwICkgcGl2b3RZID0gMDtcblxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgICAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gIXNjYWxlWSA/IDEgOiBzY2FsZVk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICAgICAgdGhpcy5za2V3LnkgPSBza2V3WTtcbiAgICAgICAgdGhpcy5waXZvdC54ID0gcGl2b3RYO1xuICAgICAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJhc2UgZGVzdHJveSBtZXRob2QgZm9yIGdlbmVyaWMgZGlzcGxheSBvYmplY3RzLiBUaGlzIHdpbGwgYXV0b21hdGljYWxseVxuICAgICAqIHJlbW92ZSB0aGUgZGlzcGxheSBvYmplY3QgZnJvbSBpdHMgcGFyZW50IENvbnRhaW5lciBhcyB3ZWxsIGFzIHJlbW92ZVxuICAgICAqIGFsbCBjdXJyZW50IGV2ZW50IGxpc3RlbmVycyBhbmQgaW50ZXJuYWwgcmVmZXJlbmNlcy4gRG8gbm90IHVzZSBhIERpc3BsYXlPYmplY3RcbiAgICAgKiBhZnRlciBjYWxsaW5nIGBkZXN0cm95KClgLlxuICAgICAqXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSBudWxsO1xuXG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9jdXJyZW50Qm91bmRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWFzayA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcblxuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmVDaGlsZHJlbiA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAqIEFuIGFsaWFzIHRvIHBvc2l0aW9uLnhcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMueC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb24ueDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLnggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0IG9uIHRoZSB5IGF4aXMgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy55LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMueS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIHdvcmxkIChwYXJlbnQpIGZhY3RvcnMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLk1hdHJpeH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud29ybGRUcmFuc2Zvcm0uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCB0cmFuc2Zvcm0gb2YgdGhlIG9iamVjdCBiYXNlZCBvbiBsb2NhbCBmYWN0b3JzOiBwb3NpdGlvbiwgc2NhbGUsIG90aGVyIHN0dWZmLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5NYXRyaXh9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmxvY2FsVHJhbnNmb3JtLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb29yZGluYXRlIG9mIHRoZSBvYmplY3QgcmVsYXRpdmUgdG8gdGhlIGxvY2FsIGNvb3JkaW5hdGVzIG9mIHRoZSBwYXJlbnQuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucG9zaXRpb24uZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnBvc2l0aW9uLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBzY2FsZSBmYWN0b3Igb2YgdGhlIG9iamVjdC5cbiAgICAgKiBBc3NpZ25tZW50IGJ5IHZhbHVlIHNpbmNlIHBpeGktdjQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlBvaW50fFBJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zY2FsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnNjYWxlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2NhbGUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHBpdm90IHBvaW50IG9mIHRoZSBkaXNwbGF5T2JqZWN0IHRoYXQgaXQgcm90YXRlcyBhcm91bmQuXG4gICAgICogQXNzaWdubWVudCBieSB2YWx1ZSBzaW5jZSBwaXhpLXY0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludHxQSVhJLk9ic2VydmFibGVQb2ludH1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucGl2b3QuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5waXZvdDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnBpdm90LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybS5waXZvdC5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBza2V3IGZhY3RvciBmb3IgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqIEFzc2lnbm1lbnQgYnkgdmFsdWUgc2luY2UgcGl4aS12NC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5za2V3LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2tldztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnNrZXcuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnNrZXcuY29weUZyb20odmFsdWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcm90YXRpb24gb2YgdGhlIG9iamVjdCBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yb3RhdGlvbi5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucm90YXRpb24uc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0IGlzIGdsb2JhbGx5IHZpc2libGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53b3JsZFZpc2libGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHZhciBpdGVtID0gdGhpcztcblxuICAgICAgICBkb1xuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWl0ZW0udmlzaWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0ZW0gPSBpdGVtLnBhcmVudDtcbiAgICAgICAgfSB3aGlsZSAoaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgYSBtYXNrIGZvciB0aGUgZGlzcGxheU9iamVjdC4gQSBtYXNrIGlzIGFuIG9iamVjdCB0aGF0IGxpbWl0cyB0aGUgdmlzaWJpbGl0eSBvZiBhblxuICAgICAqIG9iamVjdCB0byB0aGUgc2hhcGUgb2YgdGhlIG1hc2sgYXBwbGllZCB0byBpdC4gSW4gUElYSSBhIHJlZ3VsYXIgbWFzayBtdXN0IGJlIGFcbiAgICAgKiB7QGxpbmsgUElYSS5HcmFwaGljc30gb3IgYSB7QGxpbmsgUElYSS5TcHJpdGV9IG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICogdXRpbGl0aWVzIHNoYXBlIGNsaXBwaW5nLiBUbyByZW1vdmUgYSBtYXNrLCBzZXQgdGhpcyBwcm9wZXJ0eSB0byBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBGb3Igc3ByaXRlIG1hc2sgYm90aCBhbHBoYSBhbmQgcmVkIGNoYW5uZWwgYXJlIHVzZWQuIEJsYWNrIG1hc2sgaXMgdGhlIHNhbWUgYXMgdHJhbnNwYXJlbnQgbWFzay5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcbiAgICAgKiBncmFwaGljcy5iZWdpbkZpbGwoMHhGRjMzMDApO1xuICAgICAqIGdyYXBoaWNzLmRyYXdSZWN0KDUwLCAyNTAsIDEwMCwgMTAwKTtcbiAgICAgKiBncmFwaGljcy5lbmRGaWxsKCk7XG4gICAgICpcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLm1hc2sgPSBncmFwaGljcztcbiAgICAgKiBAdG9kbyBBdCB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc3xQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWFzay5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hc2s7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXNrLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbWFzay5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX21hc2suaXNNYXNrID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX21hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX21hc2sucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbWFzay5pc01hc2sgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gRGlzcGxheU9iamVjdDtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8vIHBlcmZvcm1hbmNlIGluY3JlYXNlIHRvIGF2b2lkIHVzaW5nIGNhbGwuLiAoMTB4IGZhc3RlcilcbkRpc3BsYXlPYmplY3QucHJvdG90eXBlLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gPSBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm07XG5cbi8qKlxuICogQSBDb250YWluZXIgcmVwcmVzZW50cyBhIGNvbGxlY3Rpb24gb2YgZGlzcGxheSBvYmplY3RzLlxuICogSXQgaXMgdGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGRpc3BsYXkgb2JqZWN0cyB0aGF0IGFjdCBhcyBhIGNvbnRhaW5lciBmb3Igb3RoZXIgb2JqZWN0cy5cbiAqXG4gKmBgYGpzXG4gKiBsZXQgY29udGFpbmVyID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBjb250YWluZXIuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5EaXNwbGF5T2JqZWN0XG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ29udGFpbmVyID0gKGZ1bmN0aW9uIChEaXNwbGF5T2JqZWN0JCQxKSB7XG4gICAgZnVuY3Rpb24gQ29udGFpbmVyKClcbiAgICB7XG4gICAgICAgIERpc3BsYXlPYmplY3QkJDEuY2FsbCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGFycmF5IG9mIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3RbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgfVxuXG4gICAgaWYgKCBEaXNwbGF5T2JqZWN0JCQxICkgQ29udGFpbmVyLl9fcHJvdG9fXyA9IERpc3BsYXlPYmplY3QkJDE7XG4gICAgQ29udGFpbmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIERpc3BsYXlPYmplY3QkJDEgJiYgRGlzcGxheU9iamVjdCQkMS5wcm90b3R5cGUgKTtcbiAgICBDb250YWluZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29udGFpbmVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBPdmVycmlkYWJsZSBtZXRob2QgdGhhdCBjYW4gYmUgdXNlZCBieSBDb250YWluZXIgc3ViY2xhc3NlcyB3aGVuZXZlciB0aGUgY2hpbGRyZW4gYXJyYXkgaXMgbW9kaWZpZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gb25DaGlsZHJlbkNoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBvbmUgb3IgbW9yZSBjaGlsZHJlbiB0byB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogTXVsdGlwbGUgaXRlbXMgY2FuIGJlIGFkZGVkIGxpa2Ugc286IGBteUNvbnRhaW5lci5hZGRDaGlsZCh0aGluZ09uZSwgdGhpbmdUd28sIHRoaW5nVGhyZWUpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gYWRkIHRvIHRoZSBjb250YWluZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gYWRkQ2hpbGQgKGNoaWxkKVxuICAgIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pemVkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5hZGRDaGlsZChhcmd1bWVudHMkMVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgY2hpbGQgaGFzIGEgcGFyZW50IHRoZW4gbGV0cyByZW1vdmUgaXQgYXMgUGl4aUpTIG9iamVjdHMgY2FuIG9ubHkgZXhpc3QgaW4gb25lIHBsYWNlXG4gICAgICAgICAgICBpZiAoY2hpbGQucGFyZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG5cbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZSh0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNoaWxkIHRvIHRoZSBjb250YWluZXIgYXQgYSBzcGVjaWZpZWQgaW5kZXguIElmIHRoZSBpbmRleCBpcyBvdXQgb2YgYm91bmRzIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIHBsYWNlIHRoZSBjaGlsZCBpblxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGRBdCA9IGZ1bmN0aW9uIGFkZENoaWxkQXQgKGNoaWxkLCBpbmRleClcbiAgICB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChjaGlsZCArIFwiYWRkQ2hpbGRBdDogVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGJvdW5kcyB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHRoZSBwb3NpdGlvbiBvZiAyIERpc3BsYXkgT2JqZWN0cyB3aXRoaW4gdGhpcyBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiBzd2FwQ2hpbGRyZW4gKGNoaWxkLCBjaGlsZDIpXG4gICAge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGluZGV4MSA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHZhciBpbmRleDIgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQyKTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4MV0gPSBjaGlsZDI7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgyXSA9IGNoaWxkO1xuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgxIDwgaW5kZXgyID8gaW5kZXgxIDogaW5kZXgyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgRGlzcGxheU9iamVjdCBpbnN0YW5jZSB0byBpZGVudGlmeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGluZGV4IHBvc2l0aW9uIG9mIHRoZSBjaGlsZCBkaXNwbGF5IG9iamVjdCB0byBpZGVudGlmeVxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRJbmRleCA9IGZ1bmN0aW9uIGdldENoaWxkSW5kZXggKGNoaWxkKVxuICAgIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcblxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzdXBwbGllZCBEaXNwbGF5T2JqZWN0IG11c3QgYmUgYSBjaGlsZCBvZiB0aGUgY2FsbGVyJyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5kZXg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHBvc2l0aW9uIG9mIGFuIGV4aXN0aW5nIGNoaWxkIGluIHRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlIGZvciB3aGljaCB5b3Ugd2FudCB0byBjaGFuZ2UgdGhlIGluZGV4IG51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSByZXN1bHRpbmcgaW5kZXggbnVtYmVyIGZvciB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnNldENoaWxkSW5kZXggPSBmdW5jdGlvbiBzZXRDaGlsZEluZGV4IChjaGlsZCwgaW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiVGhlIGluZGV4IFwiICsgaW5kZXggKyBcIiBzdXBwbGllZCBpcyBvdXQgb2YgYm91bmRzIFwiICsgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG5cbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgY3VycmVudEluZGV4LCAxKTsgLy8gcmVtb3ZlIGZyb20gb2xkIHBvc2l0aW9uXG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAwLCBjaGlsZCk7IC8vIGFkZCBhdCBuZXcgcG9zaXRpb25cblxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBhdFxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIGF0IHRoZSBnaXZlbiBpbmRleCwgaWYgYW55LlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuZ2V0Q2hpbGRBdCA9IGZ1bmN0aW9uIGdldENoaWxkQXQgKGluZGV4KVxuICAgIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcImdldENoaWxkQXQ6IEluZGV4IChcIiArIGluZGV4ICsgXCIpIGRvZXMgbm90IGV4aXN0LlwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jaGlsZHJlbltpbmRleF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgb25lIG9yIG1vcmUgY2hpbGRyZW4gZnJvbSB0aGUgY29udGFpbmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsuLi5QSVhJLkRpc3BsYXlPYmplY3R9IGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QocykgdG8gcmVtb3ZlXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgZmlyc3QgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gcmVtb3ZlQ2hpbGQgKGNoaWxkKVxuICAgIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgYXJndW1lbnRzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoYXJndW1lbnRzTGVuZ3RoID4gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIGFkZCBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIHVzZSBpdCB0aGUgcmlnaHQgd2F5ICgubGVuZ3RoIGFuZCBbaV0pIHNvIHRoYXQgdGhpcyBmdW5jdGlvbiBjYW4gc3RpbGwgYmUgb3B0aW1pemVkIGJ5IEpTIHJ1bnRpbWVzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50c0xlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5yZW1vdmVDaGlsZChhcmd1bWVudHMkMVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7IHJldHVybiBudWxsOyB9XG5cbiAgICAgICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgICAgICBjaGlsZC50cmFuc2Zvcm0uX3BhcmVudElEID0gLTE7XG4gICAgICAgICAgICByZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgaW5kZXggdG8gZ2V0IHRoZSBjaGlsZCBmcm9tXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgY2hpbGQgdGhhdCB3YXMgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkQXQgPSBmdW5jdGlvbiByZW1vdmVDaGlsZEF0IChpbmRleClcbiAgICB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGRBdChpbmRleCk7XG5cbiAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZC4uXG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5jaGlsZHJlbiwgaW5kZXgsIDEpO1xuXG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcblxuICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgICAgIGNoaWxkLmVtaXQoJ3JlbW92ZWQnLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gdGhpcyBjb250YWluZXIgdGhhdCBhcmUgd2l0aGluIHRoZSBiZWdpbiBhbmQgZW5kIGluZGV4ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luSW5kZXg9MF0gLSBUaGUgYmVnaW5uaW5nIHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kSW5kZXg9dGhpcy5jaGlsZHJlbi5sZW5ndGhdIC0gVGhlIGVuZGluZyBwb3NpdGlvbi4gRGVmYXVsdCB2YWx1ZSBpcyBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICogQHJldHVybnMge0Rpc3BsYXlPYmplY3RbXX0gTGlzdCBvZiByZW1vdmVkIGNoaWxkcmVuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW1vdmVDaGlsZHJlbiA9IGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuIChiZWdpbkluZGV4LCBlbmRJbmRleClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgICAgICBpZiAoIGJlZ2luSW5kZXggPT09IHZvaWQgMCApIGJlZ2luSW5kZXggPSAwO1xuXG4gICAgICAgIHZhciBiZWdpbiA9IGJlZ2luSW5kZXg7XG4gICAgICAgIHZhciBlbmQgPSB0eXBlb2YgZW5kSW5kZXggPT09ICdudW1iZXInID8gZW5kSW5kZXggOiB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgdmFyIHJhbmdlID0gZW5kIC0gYmVnaW47XG4gICAgICAgIHZhciByZW1vdmVkO1xuXG4gICAgICAgIGlmIChyYW5nZSA+IDAgJiYgcmFuZ2UgPD0gZW5kKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW1vdmVkID0gdGhpcy5jaGlsZHJlbi5zcGxpY2UoYmVnaW4sIHJhbmdlKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaV0ucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmVtb3ZlZFtpXS50cmFuc2Zvcm0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG5cbiAgICAgICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShiZWdpbkluZGV4KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcmVtb3ZlZC5sZW5ndGg7ICsraSQxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbW92ZWRbaSQxXS5lbWl0KCdyZW1vdmVkJywgdGhpcyQxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmFuZ2UgPT09IDAgJiYgdGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdyZW1vdmVDaGlsZHJlbjogbnVtZXJpYyB2YWx1ZXMgYXJlIG91dHNpZGUgdGhlIGFjY2VwdGFibGUgcmFuZ2UuJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHRyYW5zZm9ybSBvbiBhbGwgY2hpbGRyZW4gb2YgdGhpcyBjb250YWluZXIgZm9yIHJlbmRlcmluZ1xuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuXG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuXG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzJDEuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG5cbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzJDEuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmICghY2hpbGQudmlzaWJsZSB8fCAhY2hpbGQucmVuZGVyYWJsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2hpbGQuY2FsY3VsYXRlQm91bmRzKCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE86IGZpbHRlcittYXNrLCBuZWVkIHRvIG1hc2sgYm90aCBzb21laG93XG4gICAgICAgICAgICBpZiAoY2hpbGQuX21hc2spXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hpbGQuX21hc2suY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl9ib3VuZHMuYWRkQm91bmRzTWFzayhjaGlsZC5fYm91bmRzLCBjaGlsZC5fbWFzay5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEuX2JvdW5kcy5hZGRCb3VuZHMoY2hpbGQuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0Qm91bmRzSUQgPSB0aGlzLl9ib3VuZHNJRDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIHRoZSBib3VuZHMgb2YgdGhlIG9iamVjdC4gT3ZlcnJpZGUgdGhpcyB0b1xuICAgICAqIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBzcGVjaWZpYyBvYmplY3QgKG5vdCBpbmNsdWRpbmcgY2hpbGRyZW4pLlxuICAgICAqXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgLy8gRklMTCBJTi8vXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIG5vdCB2aXNpYmxlIG9yIHRoZSBhbHBoYSBpcyAwIHRoZW4gbm8gbmVlZCB0byByZW5kZXIgdGhpcyBlbGVtZW50XG4gICAgICAgIGlmICghdGhpcy52aXNpYmxlIHx8IHRoaXMud29ybGRBbHBoYSA8PSAwIHx8ICF0aGlzLnJlbmRlcmFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRvIGEgcXVpY2sgY2hlY2sgdG8gc2VlIGlmIHRoaXMgZWxlbWVudCBoYXMgYSBtYXNrIG9yIGEgZmlsdGVyLlxuICAgICAgICBpZiAodGhpcy5fbWFzayB8fCB0aGlzLmZpbHRlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcblxuICAgICAgICAgICAgLy8gc2ltcGxlIHJlbmRlciBjaGlsZHJlbiFcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBqOyArK2kpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLmNoaWxkcmVuW2ldLnJlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVyIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyIGFuZCBhZHZhbmNlZCBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWQgPSBmdW5jdGlvbiByZW5kZXJBZHZhbmNlZCAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuXG4gICAgICAgIHZhciBmaWx0ZXJzID0gdGhpcy5maWx0ZXJzO1xuICAgICAgICB2YXIgbWFzayA9IHRoaXMuX21hc2s7XG5cbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcyQxLl9lbmFibGVkRmlsdGVycy5wdXNoKGZpbHRlcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucHVzaCh0aGlzLCB0aGlzLl9lbmFibGVkRmlsdGVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wdXNoKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRoaXMgb2JqZWN0IHRvIHRoZSBiYXRjaCwgb25seSByZW5kZXJlZCBpZiBpdCBoYXMgYSB0ZXh0dXJlLlxuICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIG5vdyBsb29wIHRocm91Z2ggdGhlIGNoaWxkcmVuIGFuZCBtYWtlIHN1cmUgdGhleSBnZXQgcmVuZGVyZWRcbiAgICAgICAgZm9yICh2YXIgaSQxID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpJDEgPCBqOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLmNoaWxkcmVuW2kkMV0ucmVuZGVyKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG5cbiAgICAgICAgaWYgKG1hc2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlbmRlcmVyLm1hc2sucG9wKHRoaXMsIHRoaXMuX21hc2spO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVG8gYmUgb3ZlcnJpZGRlbiBieSB0aGUgc3ViY2xhc3Nlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICAvLyB0aGlzIGlzIHdoZXJlIGNvbnRlbnQgaXRzZWxmIGdldHMgcmVuZGVyZWQuLi5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgaW50ZXJuYWwgcmVmZXJlbmNlcyBhbmQgbGlzdGVuZXJzIGFzIHdlbGwgYXMgcmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBkaXNwbGF5IGxpc3QuXG4gICAgICogRG8gbm90IHVzZSBhIENvbnRhaW5lciBhZnRlciBjYWxsaW5nIGBkZXN0cm95YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXIgZGVzdHJveVxuICAgICAqICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIERpc3BsYXlPYmplY3QkJDEucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICB2YXIgZGVzdHJveUNoaWxkcmVuID0gdHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJyA/IG9wdGlvbnMgOiBvcHRpb25zICYmIG9wdGlvbnMuY2hpbGRyZW47XG5cbiAgICAgICAgdmFyIG9sZENoaWxkcmVuID0gdGhpcy5yZW1vdmVDaGlsZHJlbigwLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG5cbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbilcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvbGRDaGlsZHJlbltpXS5kZXN0cm95KG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueCAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS53aWR0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldExvY2FsQm91bmRzKCkud2lkdGg7XG5cbiAgICAgICAgaWYgKHdpZHRoICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnggPSB2YWx1ZSAvIHdpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS55ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKGhlaWdodCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gdmFsdWUgLyBoZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSAxO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBDb250YWluZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBDb250YWluZXI7XG59KERpc3BsYXlPYmplY3QpKTtcblxuLy8gcGVyZm9ybWFuY2UgaW5jcmVhc2UgdG8gYXZvaWQgdXNpbmcgY2FsbC4uICgxMHggZmFzdGVyKVxuQ29udGFpbmVyLnByb3RvdHlwZS5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0gPSBDb250YWluZXIucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybTtcblxuZXhwb3J0IHsgQm91bmRzLCBEaXNwbGF5T2JqZWN0LCBDb250YWluZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc3BsYXkuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2FjY2Vzc2liaWxpdHkgLSB2NS4wLjAtYWxwaGEuM1xuICogQ29tcGlsZWQgVHVlLCAwMyBKdWwgMjAxOCAwNDowODoyMSBVVENcbiAqXG4gKiBAcGl4aS9hY2Nlc3NpYmlsaXR5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IERldmljZSBmcm9tICdpc21vYmlsZWpzJztcbmltcG9ydCB7IG1peGlucywgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogRGVmYXVsdCBwcm9wZXJ0eSB2YWx1ZXMgb2YgYWNjZXNzaWJsZSBvYmplY3RzXG4gKiB1c2VkIGJ5IHtAbGluayBQSVhJLmFjY2Vzc2liaWxpdHkuQWNjZXNzaWJpbGl0eU1hbmFnZXJ9LlxuICpcbiAqIEBmdW5jdGlvbiBhY2Nlc3NpYmxlVGFyZ2V0XG4gKiBAbWVtYmVyb2YgUElYSS5hY2Nlc3NpYmlsaXR5XG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgTXlPYmplY3QucHJvdG90eXBlLFxuICogICAgICAgICAgUElYSS5hY2Nlc3NpYmlsaXR5LmFjY2Vzc2libGVUYXJnZXRcbiAqICAgICAgKTtcbiAqL1xudmFyIGFjY2Vzc2libGVUYXJnZXQgPSB7XG4gICAgLyoqXG4gICAgICogIEZsYWcgZm9yIGlmIHRoZSBvYmplY3QgaXMgYWNjZXNzaWJsZS4gSWYgdHJ1ZSBBY2Nlc3NpYmlsaXR5TWFuYWdlciB3aWxsIG92ZXJsYXkgYVxuICAgICAqICAgc2hhZG93IGRpdiB3aXRoIGF0dHJpYnV0ZXMgc2V0XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGFjY2Vzc2libGU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGl0bGUgYXR0cmlidXRlIG9mIHRoZSBzaGFkb3cgZGl2XG4gICAgICogSWYgYWNjZXNzaWJsZVRpdGxlIEFORCBhY2Nlc3NpYmxlSGludCBoYXMgbm90IGJlZW4gdGhpcyB3aWxsIGRlZmF1bHQgdG8gJ2Rpc3BsYXlPYmplY3QgW3RhYkluZGV4XSdcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlVGl0bGU6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhcmlhLWxhYmVsIGF0dHJpYnV0ZSBvZiB0aGUgc2hhZG93IGRpdlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqL1xuICAgIGFjY2Vzc2libGVIaW50OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICB0YWJJbmRleDogMCxcblxuICAgIC8qKlxuICAgICAqIEB0b2RvIE5lZWRzIGRvY3MuXG4gICAgICovXG4gICAgX2FjY2Vzc2libGVBY3RpdmU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQHRvZG8gTmVlZHMgZG9jcy5cbiAgICAgKi9cbiAgICBfYWNjZXNzaWJsZURpdjogZmFsc2UsXG59O1xuXG4vLyBhZGQgc29tZSBleHRyYSB2YXJpYWJsZXMgdG8gdGhlIGNvbnRhaW5lci4uXG5taXhpbnMuZGVsYXlNaXhpbihcbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSxcbiAgICBhY2Nlc3NpYmxlVGFyZ2V0XG4pO1xuXG52YXIgS0VZX0NPREVfVEFCID0gOTtcblxudmFyIERJVl9UT1VDSF9TSVpFID0gMTAwO1xudmFyIERJVl9UT1VDSF9QT1NfWCA9IDA7XG52YXIgRElWX1RPVUNIX1BPU19ZID0gMDtcbnZhciBESVZfVE9VQ0hfWklOREVYID0gMjtcblxudmFyIERJVl9IT09LX1NJWkUgPSAxO1xudmFyIERJVl9IT09LX1BPU19YID0gLTEwMDA7XG52YXIgRElWX0hPT0tfUE9TX1kgPSAtMTAwMDtcbnZhciBESVZfSE9PS19aSU5ERVggPSAyO1xuXG4vKipcbiAqIFRoZSBBY2Nlc3NpYmlsaXR5IG1hbmFnZXIgcmVjcmVhdGVzIHRoZSBhYmlsaXR5IHRvIHRhYiBhbmQgaGF2ZSBjb250ZW50IHJlYWQgYnkgc2NyZWVuXG4gKiByZWFkZXJzLiBUaGlzIGlzIHZlcnkgaW1wb3J0YW50IGFzIGl0IGNhbiBwb3NzaWJseSBoZWxwIHBlb3BsZSB3aXRoIGRpc2FiaWxpdGllcyBhY2Nlc3MgcGl4aVxuICogY29udGVudC5cbiAqXG4gKiBNdWNoIGxpa2UgaW50ZXJhY3Rpb24gYW55IERpc3BsYXlPYmplY3QgY2FuIGJlIG1hZGUgYWNjZXNzaWJsZS4gVGhpcyBtYW5hZ2VyIHdpbGwgbWFwIHRoZVxuICogZXZlbnRzIGFzIGlmIHRoZSBtb3VzZSB3YXMgYmVpbmcgdXNlZCwgbWluaW1pemluZyB0aGUgZWZmb3J0IHJlcXVpcmVkIHRvIGltcGxlbWVudC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuYWNjZXNzaWJpbGl0eVxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuYWNjZXNzaWJpbGl0eVxuICovXG52YXIgQWNjZXNzaWJpbGl0eU1hbmFnZXIgPSBmdW5jdGlvbiBBY2Nlc3NpYmlsaXR5TWFuYWdlcihyZW5kZXJlcilcbntcbiAgICBpZiAoKERldmljZS50YWJsZXQgfHwgRGV2aWNlLnBob25lKSAmJiAhbmF2aWdhdG9yLmlzQ29jb29uSlMpXG4gICAge1xuICAgICAgICB0aGlzLmNyZWF0ZVRvdWNoSG9vaygpO1xuICAgIH1cblxuICAgIC8vIGZpcnN0IHdlIGNyZWF0ZSBhIGRpdiB0aGF0IHdpbGwgc2l0IG92ZXIgdGhlIFBpeGlKUyBlbGVtZW50LiBUaGlzIGlzIHdoZXJlIHRoZSBkaXYgb3ZlcmxheXMgd2lsbCBnby5cbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gRElWX1RPVUNIX1NJWkUgKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBkaXYuc3R5bGUudG9wID0gRElWX1RPVUNIX1BPU19YICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS5sZWZ0ID0gRElWX1RPVUNIX1BPU19ZICsgXCJweFwiO1xuICAgIGRpdi5zdHlsZS56SW5kZXggPSBESVZfVE9VQ0hfWklOREVYO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBpcyB0aGUgZG9tIGVsZW1lbnQgdGhhdCB3aWxsIHNpdCBvdmVyIHRoZSBQaXhpSlMgZWxlbWVudC4gVGhpcyBpcyB3aGVyZSB0aGUgZGl2IG92ZXJsYXlzIHdpbGwgZ28uXG4gICAgICpcbiAgICAgKiBAdHlwZSB7SFRNTEVsZW1lbnR9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRpdiA9IGRpdjtcblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHBvb2wgZm9yIHN0b3JpbmcgZGl2cy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHsqfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5wb29sID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGEgdGljayB1c2VkIHRvIGNoZWNrIGlmIGFuIG9iamVjdCBpcyBubyBsb25nZXIgYmVpbmcgcmVuZGVyZWQuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJJZCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBTZXR0aW5nIHRoaXMgdG8gdHJ1ZSB3aWxsIHZpc3VhbGx5IHNob3cgdGhlIGRpdnMuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmRlYnVnID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVuZGVyZXIgdGhpcyBhY2Nlc3NpYmlsaXR5IG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5BYnN0cmFjdFJlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiBjdXJyZW50bHkgYWN0aXZlIGFjY2Vzc2libGUgaXRlbXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIHByZS1iaW5kIHRoZSBmdW5jdGlvbnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fb25LZXlEb3duID0gdGhpcy5fb25LZXlEb3duLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuXG4gICAgLyoqXG4gICAgICogc3RvcmVzIHRoZSBzdGF0ZSBvZiB0aGUgbWFuYWdlci4gSWYgdGhlcmUgYXJlIG5vIGFjY2Vzc2libGUgb2JqZWN0cyBvciB0aGUgbW91c2UgaXMgbW92aW5nLCB0aGlzIHdpbGwgYmUgZmFsc2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtBcnJheTwqPn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICB0aGlzLmlzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IGZhbHNlO1xuXG4gICAgLy8gbGV0IGxpc3RlbiBmb3IgdGFiLi4gb25jZSBwcmVzc2VkIHdlIGNhbiBmaXJlIHVwIGFuZCBzaG93IHRoZSBhY2Nlc3NpYmlsaXR5IGxheWVyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9vbktleURvd24sIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyB0aGUgdG91Y2ggaG9va3MuXG4gKlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuY3JlYXRlVG91Y2hIb29rID0gZnVuY3Rpb24gY3JlYXRlVG91Y2hIb29rICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGhvb2tEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgIGhvb2tEaXYuc3R5bGUud2lkdGggPSBESVZfSE9PS19TSVpFICsgXCJweFwiO1xuICAgIGhvb2tEaXYuc3R5bGUuaGVpZ2h0ID0gRElWX0hPT0tfU0laRSArIFwicHhcIjtcbiAgICBob29rRGl2LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBob29rRGl2LnN0eWxlLnRvcCA9IERJVl9IT09LX1BPU19YICsgXCJweFwiO1xuICAgIGhvb2tEaXYuc3R5bGUubGVmdCA9IERJVl9IT09LX1BPU19ZICsgXCJweFwiO1xuICAgIGhvb2tEaXYuc3R5bGUuekluZGV4ID0gRElWX0hPT0tfWklOREVYO1xuICAgIGhvb2tEaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNGRjAwMDAnO1xuICAgIGhvb2tEaXYudGl0bGUgPSAnSE9PSyBESVYnO1xuXG4gICAgaG9va0Rpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcyQxLmlzTW9iaWxlQWNjZXNzaWJpbGl0eSA9IHRydWU7XG4gICAgICAgIHRoaXMkMS5hY3RpdmF0ZSgpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGhvb2tEaXYpO1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChob29rRGl2KTtcbn07XG5cbi8qKlxuICogQWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIHNob3duLiBUaGlzIGlzIGNhbGxlZCB3aGVuIGEgdXNlclxuICogcHJlc3NlcyB0aGUgdGFiIGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiBhY3RpdmF0ZSAoKVxue1xuICAgIGlmICh0aGlzLmlzQWN0aXZlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuXG4gICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCB0cnVlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgdGhpcy5yZW5kZXJlci5vbigncG9zdHJlbmRlcicsIHRoaXMudXBkYXRlLCB0aGlzKTtcblxuICAgIGlmICh0aGlzLnJlbmRlcmVyLnZpZXcucGFyZW50Tm9kZSlcbiAgICB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIudmlldy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMuZGl2KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIERlYWN0aXZhdGluZyB3aWxsIGNhdXNlIHRoZSBBY2Nlc3NpYmlsaXR5IGxheWVyIHRvIGJlIGhpZGRlbi4gVGhpcyBpcyBjYWxsZWQgd2hlbiBhIHVzZXIgbW92ZXNcbiAqIHRoZSBtb3VzZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIGRlYWN0aXZhdGUgKClcbntcbiAgICBpZiAoIXRoaXMuaXNBY3RpdmUgfHwgdGhpcy5pc01vYmlsZUFjY2Vzc2liaWxpdHkpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93biwgZmFsc2UpO1xuXG4gICAgdGhpcy5yZW5kZXJlci5vZmYoJ3Bvc3RyZW5kZXInLCB0aGlzLnVwZGF0ZSk7XG5cbiAgICBpZiAodGhpcy5kaXYucGFyZW50Tm9kZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kaXYpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhpcyByZWN1cnNpdmUgZnVuY3Rpb24gd2lsbCBydW4gdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIGFkZCBhbnkgbmV3IGFjY2Vzc2libGUgb2JqZWN0cyB0byB0aGUgRE9NIGxheWVyLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2hlY2suXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS51cGRhdGVBY2Nlc3NpYmxlT2JqZWN0cyA9IGZ1bmN0aW9uIHVwZGF0ZUFjY2Vzc2libGVPYmplY3RzIChkaXNwbGF5T2JqZWN0KVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmICghZGlzcGxheU9iamVjdC52aXNpYmxlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGUgJiYgZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSlcbiAgICB7XG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdC5fYWNjZXNzaWJsZUFjdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpc3BsYXlPYmplY3QucmVuZGVySWQgPSB0aGlzLnJlbmRlcklkO1xuICAgIH1cblxuICAgIHZhciBjaGlsZHJlbiA9IGRpc3BsYXlPYmplY3QuY2hpbGRyZW47XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdGhpcyQxLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKGNoaWxkcmVuW2ldKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEJlZm9yZSBlYWNoIHJlbmRlciB0aGlzIGZ1bmN0aW9uIHdpbGwgZW5zdXJlIHRoYXQgYWxsIGRpdnMgYXJlIG1hcHBlZCBjb3JyZWN0bHkgdG8gdGhlaXIgRGlzcGxheU9iamVjdHMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmICghdGhpcy5yZW5kZXJlci5yZW5kZXJpbmdUb1NjcmVlbilcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgY2hpbGRyZW4uLi5cbiAgICB0aGlzLnVwZGF0ZUFjY2Vzc2libGVPYmplY3RzKHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCk7XG5cbiAgICB2YXIgcmVjdCA9IHRoaXMucmVuZGVyZXIudmlldy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB2YXIgc3ggPSByZWN0LndpZHRoIC8gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICB2YXIgc3kgPSByZWN0LmhlaWdodCAvIHRoaXMucmVuZGVyZXIuaGVpZ2h0O1xuXG4gICAgdmFyIGRpdiA9IHRoaXMuZGl2O1xuXG4gICAgZGl2LnN0eWxlLmxlZnQgPSAocmVjdC5sZWZ0KSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUudG9wID0gKHJlY3QudG9wKSArIFwicHhcIjtcbiAgICBkaXYuc3R5bGUud2lkdGggPSAodGhpcy5yZW5kZXJlci53aWR0aCkgKyBcInB4XCI7XG4gICAgZGl2LnN0eWxlLmhlaWdodCA9ICh0aGlzLnJlbmRlcmVyLmhlaWdodCkgKyBcInB4XCI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzJDEuY2hpbGRyZW5baV07XG5cbiAgICAgICAgaWYgKGNoaWxkLnJlbmRlcklkICE9PSB0aGlzJDEucmVuZGVySWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNoaWxkLl9hY2Nlc3NpYmxlQWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHJlbW92ZUl0ZW1zKHRoaXMkMS5jaGlsZHJlbiwgaSwgMSk7XG4gICAgICAgICAgICB0aGlzJDEuZGl2LnJlbW92ZUNoaWxkKGNoaWxkLl9hY2Nlc3NpYmxlRGl2KTtcbiAgICAgICAgICAgIHRoaXMkMS5wb29sLnB1c2goY2hpbGQuX2FjY2Vzc2libGVEaXYpO1xuICAgICAgICAgICAgY2hpbGQuX2FjY2Vzc2libGVEaXYgPSBudWxsO1xuXG4gICAgICAgICAgICBpLS07XG5cbiAgICAgICAgICAgIGlmICh0aGlzJDEuY2hpbGRyZW4ubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5kZWFjdGl2YXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBtYXAgZGl2IHRvIGRpc3BsYXkuLlxuICAgICAgICAgICAgZGl2ID0gY2hpbGQuX2FjY2Vzc2libGVEaXY7XG4gICAgICAgICAgICB2YXIgaGl0QXJlYSA9IGNoaWxkLmhpdEFyZWE7XG4gICAgICAgICAgICB2YXIgd3QgPSBjaGlsZC53b3JsZFRyYW5zZm9ybTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkLmhpdEFyZWEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmxlZnQgPSAoKHd0LnR4ICsgKGhpdEFyZWEueCAqIHd0LmEpKSAqIHN4KSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUudG9wID0gKCh3dC50eSArIChoaXRBcmVhLnkgKiB3dC5kKSkgKiBzeSkgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSAoaGl0QXJlYS53aWR0aCAqIHd0LmEgKiBzeCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IChoaXRBcmVhLmhlaWdodCAqIHd0LmQgKiBzeSkgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGl0QXJlYSA9IGNoaWxkLmdldEJvdW5kcygpO1xuXG4gICAgICAgICAgICAgICAgdGhpcyQxLmNhcEhpdEFyZWEoaGl0QXJlYSk7XG5cbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUubGVmdCA9IChoaXRBcmVhLnggKiBzeCkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgZGl2LnN0eWxlLnRvcCA9IChoaXRBcmVhLnkgKiBzeSkgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUud2lkdGggPSAoaGl0QXJlYS53aWR0aCAqIHN4KSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBkaXYuc3R5bGUuaGVpZ2h0ID0gKGhpdEFyZWEuaGVpZ2h0ICogc3kpICsgXCJweFwiO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJ1dHRvbiB0aXRsZXMgYW5kIGhpbnRzIGlmIHRoZXkgZXhpc3QgYW5kIHRoZXkndmUgY2hhbmdlZFxuICAgICAgICAgICAgICAgIGlmIChkaXYudGl0bGUgIT09IGNoaWxkLmFjY2Vzc2libGVUaXRsZSAmJiBjaGlsZC5hY2Nlc3NpYmxlVGl0bGUgIT09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXYudGl0bGUgPSBjaGlsZC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkaXYuZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykgIT09IGNoaWxkLmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAgICAgICAgICYmIGNoaWxkLmFjY2Vzc2libGVIaW50ICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGNoaWxkLmFjY2Vzc2libGVIaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBpbmNyZW1lbnQgdGhlIHJlbmRlciBpZC4uXG4gICAgdGhpcy5yZW5kZXJJZCsrO1xufTtcblxuLyoqXG4gKiBUT0RPOiBkb2NzLlxuICpcbiAqIEBwYXJhbSB7UmVjdGFuZ2xlfSBoaXRBcmVhIC0gVE9ETyBkb2NzXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5jYXBIaXRBcmVhID0gZnVuY3Rpb24gY2FwSGl0QXJlYSAoaGl0QXJlYSlcbntcbiAgICBpZiAoaGl0QXJlYS54IDwgMClcbiAgICB7XG4gICAgICAgIGhpdEFyZWEud2lkdGggKz0gaGl0QXJlYS54O1xuICAgICAgICBoaXRBcmVhLnggPSAwO1xuICAgIH1cblxuICAgIGlmIChoaXRBcmVhLnkgPCAwKVxuICAgIHtcbiAgICAgICAgaGl0QXJlYS5oZWlnaHQgKz0gaGl0QXJlYS55O1xuICAgICAgICBoaXRBcmVhLnkgPSAwO1xuICAgIH1cblxuICAgIGlmIChoaXRBcmVhLnggKyBoaXRBcmVhLndpZHRoID4gdGhpcy5yZW5kZXJlci53aWR0aClcbiAgICB7XG4gICAgICAgIGhpdEFyZWEud2lkdGggPSB0aGlzLnJlbmRlcmVyLndpZHRoIC0gaGl0QXJlYS54O1xuICAgIH1cblxuICAgIGlmIChoaXRBcmVhLnkgKyBoaXRBcmVhLmhlaWdodCA+IHRoaXMucmVuZGVyZXIuaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgaGl0QXJlYS5oZWlnaHQgPSB0aGlzLnJlbmRlcmVyLmhlaWdodCAtIGhpdEFyZWEueTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZHMgYSBEaXNwbGF5T2JqZWN0IHRvIHRoZSBhY2Nlc3NpYmlsaXR5IG1hbmFnZXJcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtEaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGNoaWxkIHRvIG1ha2UgYWNjZXNzaWJsZS5cbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmFkZENoaWxkID0gZnVuY3Rpb24gYWRkQ2hpbGQgKGRpc3BsYXlPYmplY3QpXG57XG4gICAgLy90aGlzLmFjdGl2YXRlKCk7XG5cbiAgICB2YXIgZGl2ID0gdGhpcy5wb29sLnBvcCgpO1xuXG4gICAgaWYgKCFkaXYpXG4gICAge1xuICAgICAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblxuICAgICAgICBkaXYuc3R5bGUud2lkdGggPSBESVZfVE9VQ0hfU0laRSArIFwicHhcIjtcbiAgICAgICAgZGl2LnN0eWxlLmhlaWdodCA9IERJVl9UT1VDSF9TSVpFICsgXCJweFwiO1xuICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5kZWJ1ZyA/ICdyZ2JhKDI1NSwwLDAsMC41KScgOiAndHJhbnNwYXJlbnQnO1xuICAgICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBkaXYuc3R5bGUuekluZGV4ID0gRElWX1RPVUNIX1pJTkRFWDtcbiAgICAgICAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ25vbmUnO1xuXG4gICAgICAgIC8vIEFSSUEgYXR0cmlidXRlcyBlbnN1cmUgdGhhdCBidXR0b24gdGl0bGUgYW5kIGhpbnQgdXBkYXRlcyBhcmUgYW5ub3VuY2VkIHByb3Blcmx5XG4gICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPiAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ2hyb21lIGRvZXNuJ3QgbmVlZCBhcmlhLWxpdmUgdG8gd29yayBhcyBpbnRlbmRlZDsgaW4gZmFjdCBpdCBqdXN0IGdldHMgbW9yZSBjb25mdXNlZC5cbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdvZmYnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9ydjouKkdlY2tvXFwvLykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEZpcmVGb3ggbmVlZHMgdGhpcyB0byBhbm5vdW5jZSBvbmx5IHRoZSBuZXcgYnV0dG9uIG5hbWVcbiAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtcmVsZXZhbnQnLCAnYWRkaXRpb25zJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBieSBJRSwgb3RoZXIgYnJvd3NlcnMgZG9uJ3QgbXVjaCBjYXJlXG4gICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCdhcmlhLXJlbGV2YW50JywgJ3RleHQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX29uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX29uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMuX29uRm9jdXNPdXQuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgaWYgKGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICYmIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZVRpdGxlICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgZGl2LnRpdGxlID0gZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlVGl0bGU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50XG4gICAgICAgICAgICAgfHwgZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludCA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGRpdi50aXRsZSA9IFwiZGlzcGxheU9iamVjdCBcIiArIChkaXNwbGF5T2JqZWN0LnRhYkluZGV4KTtcbiAgICB9XG5cbiAgICBpZiAoZGlzcGxheU9iamVjdC5hY2Nlc3NpYmxlSGludFxuICAgICAgICAmJiBkaXNwbGF5T2JqZWN0LmFjY2Vzc2libGVIaW50ICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgZGl2LnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsIGRpc3BsYXlPYmplY3QuYWNjZXNzaWJsZUhpbnQpO1xuICAgIH1cblxuICAgIC8vXG5cbiAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlQWN0aXZlID0gdHJ1ZTtcbiAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2ID0gZGl2O1xuICAgIGRpdi5kaXNwbGF5T2JqZWN0ID0gZGlzcGxheU9iamVjdDtcblxuICAgIHRoaXMuY2hpbGRyZW4ucHVzaChkaXNwbGF5T2JqZWN0KTtcbiAgICB0aGlzLmRpdi5hcHBlbmRDaGlsZChkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2KTtcbiAgICBkaXNwbGF5T2JqZWN0Ll9hY2Nlc3NpYmxlRGl2LnRhYkluZGV4ID0gZGlzcGxheU9iamVjdC50YWJJbmRleDtcbn07XG5cbi8qKlxuICogTWFwcyB0aGUgZGl2IGJ1dHRvbiBwcmVzcyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChjbGljaylcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIGNsaWNrIGV2ZW50LlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uQ2xpY2sgPSBmdW5jdGlvbiBfb25DbGljayAoZSlcbntcbiAgICB2YXIgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uO1xuXG4gICAgaW50ZXJhY3Rpb25NYW5hZ2VyLmRpc3BhdGNoRXZlbnQoZS50YXJnZXQuZGlzcGxheU9iamVjdCwgJ2NsaWNrJywgaW50ZXJhY3Rpb25NYW5hZ2VyLmV2ZW50RGF0YSk7XG59O1xuXG4vKipcbiAqIE1hcHMgdGhlIGRpdiBmb2N1cyBldmVudHMgdG8gcGl4aSdzIEludGVyYWN0aW9uTWFuYWdlciAobW91c2VvdmVyKVxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0ZvY3VzRXZlbnR9IGUgLSBUaGUgZm9jdXMgZXZlbnQuXG4gKi9cbkFjY2Vzc2liaWxpdHlNYW5hZ2VyLnByb3RvdHlwZS5fb25Gb2N1cyA9IGZ1bmN0aW9uIF9vbkZvY3VzIChlKVxue1xuICAgIGlmICghZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJykpXG4gICAge1xuICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdhc3NlcnRpdmUnKTtcbiAgICB9XG4gICAgdmFyIGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvbjtcblxuICAgIGludGVyYWN0aW9uTWFuYWdlci5kaXNwYXRjaEV2ZW50KGUudGFyZ2V0LmRpc3BsYXlPYmplY3QsICdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbn07XG5cbi8qKlxuICogTWFwcyB0aGUgZGl2IGZvY3VzIGV2ZW50cyB0byBwaXhpJ3MgSW50ZXJhY3Rpb25NYW5hZ2VyIChtb3VzZW91dClcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGb2N1c0V2ZW50fSBlIC0gVGhlIGZvY3Vzb3V0IGV2ZW50LlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uRm9jdXNPdXQgPSBmdW5jdGlvbiBfb25Gb2N1c091dCAoZSlcbntcbiAgICBpZiAoIWUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnYXJpYS1saXZlJywgJ29mZicpKVxuICAgIHtcbiAgICAgICAgZS50YXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XG4gICAgfVxuICAgIHZhciBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb247XG5cbiAgICBpbnRlcmFjdGlvbk1hbmFnZXIuZGlzcGF0Y2hFdmVudChlLnRhcmdldC5kaXNwbGF5T2JqZWN0LCAnbW91c2VvdXQnLCBpbnRlcmFjdGlvbk1hbmFnZXIuZXZlbnREYXRhKTtcbn07XG5cbi8qKlxuICogSXMgY2FsbGVkIHdoZW4gYSBrZXkgaXMgcHJlc3NlZFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGUgLSBUaGUga2V5ZG93biBldmVudC5cbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLl9vbktleURvd24gPSBmdW5jdGlvbiBfb25LZXlEb3duIChlKVxue1xuICAgIGlmIChlLmtleUNvZGUgIT09IEtFWV9DT0RFX1RBQilcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmFjdGl2YXRlKCk7XG59O1xuXG4vKipcbiAqIElzIGNhbGxlZCB3aGVuIHRoZSBtb3VzZSBtb3ZlcyBhY3Jvc3MgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtNb3VzZUV2ZW50fSBlIC0gVGhlIG1vdXNlIGV2ZW50LlxuICovXG5BY2Nlc3NpYmlsaXR5TWFuYWdlci5wcm90b3R5cGUuX29uTW91c2VNb3ZlID0gZnVuY3Rpb24gX29uTW91c2VNb3ZlIChlKVxue1xuICAgIGlmIChlLm1vdmVtZW50WCA9PT0gMCAmJiBlLm1vdmVtZW50WSA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRlYWN0aXZhdGUoKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGFjY2Vzc2liaWxpdHkgbWFuYWdlclxuICpcbiAqL1xuQWNjZXNzaWJpbGl0eU1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdGhpcy5kaXYgPSBudWxsO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdGhpcyQxLmNoaWxkcmVuW2ldLmRpdiA9IG51bGw7XG4gICAgfVxuXG4gICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlKTtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX29uS2V5RG93bik7XG5cbiAgICB0aGlzLnBvb2wgPSBudWxsO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBhIHJlbmRlcmVyIHBsdWdpbiBmb3IgaW50ZXJhY3Rpb24gYWNjZXNzaWJpbGl0eSBmb3IgZW5kLXVzZXJzXG4gKiB3aXRoIHBoeXNpY2FsIGltcGFpcm1lbnRzIHdoaWNoIHJlcXVpcmUgc2NyZWVuLXJlbmRlcnMsIGtleWJvYXJkIG5hdmlnYXRpb24sIGV0Yy5cbiAqXG4gKiBEbyBub3QgaW5zdGFudGlhdGUgdGhpcyBwbHVnaW4gZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAbmFtZXNwYWNlIFBJWEkuYWNjZXNzaWJpbGl0eVxuICovXG5cbmV4cG9ydCB7IGFjY2Vzc2libGVUYXJnZXQsIEFjY2Vzc2liaWxpdHlNYW5hZ2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hY2Nlc3NpYmlsaXR5LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS90aWNrZXIgLSB2NS4wLjAtYWxwaGEuM1xuICogQ29tcGlsZWQgVHVlLCAwMyBKdWwgMjAxOCAwNDowODoyMSBVVENcbiAqXG4gKiBAcGl4aS90aWNrZXIgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBzZXR0aW5ncyQxIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG4vKipcbiAqIFRhcmdldCBmcmFtZXMgcGVyIG1pbGxpc2Vjb25kLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMC4wNlxuICovXG5zZXR0aW5ncyQxLlRBUkdFVF9GUE1TID0gMC4wNjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRoZSB1cGRhdGUgcHJpb3JpdGllcyB1c2VkIGJ5IGludGVybmFsIFBJWEkgY2xhc3NlcyB3aGVuIHJlZ2lzdGVyZWQgd2l0aFxuICogdGhlIHtAbGluayBQSVhJLlRpY2tlcn0gb2JqZWN0LiBIaWdoZXIgcHJpb3JpdHkgaXRlbXMgYXJlIHVwZGF0ZWQgZmlyc3QgYW5kIGxvd2VyXG4gKiBwcmlvcml0eSBpdGVtcywgc3VjaCBhcyByZW5kZXIsIHNob3VsZCBnbyBsYXRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFVQREFURV9QUklPUklUWVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge251bWJlcn0gSU5URVJBQ1RJT049NTAgSGlnaGVzdCBwcmlvcml0eSwgdXNlZCBmb3Ige0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhJR0g9MjUgSGlnaCBwcmlvcml0eSB1cGRhdGluZywge0BsaW5rIFBJWEkuVmlkZW9CYXNlVGV4dHVyZX0gYW5kIHtAbGluayBQSVhJLkFuaW1hdGVkU3ByaXRlfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTD0wIERlZmF1bHQgcHJpb3JpdHkgZm9yIHRpY2tlciBldmVudHMsIHNlZSB7QGxpbmsgUElYSS5UaWNrZXIjYWRkfS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMT1c9LTI1IExvdyBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5BcHBsaWNhdGlvbn0gcmVuZGVyaW5nLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVUSUxJVFk9LTUwIExvd2VzdCBwcmlvcml0eSB1c2VkIGZvciB7QGxpbmsgUElYSS5wcmVwYXJlLkJhc2VQcmVwYXJlfSB1dGlsaXR5LlxuICovXG52YXIgVVBEQVRFX1BSSU9SSVRZID0ge1xuICAgIElOVEVSQUNUSU9OOiA1MCxcbiAgICBISUdIOiAyNSxcbiAgICBOT1JNQUw6IDAsXG4gICAgTE9XOiAtMjUsXG4gICAgVVRJTElUWTogLTUwLFxufTtcblxuLyoqXG4gKiBJbnRlcm5hbCBjbGFzcyBmb3IgaGFuZGxpbmcgdGhlIHByaW9yaXR5IHNvcnRpbmcgb2YgdGlja2VyIGhhbmRsZXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWNrZXJMaXN0ZW5lciA9IGZ1bmN0aW9uIFRpY2tlckxpc3RlbmVyKGZuLCBjb250ZXh0LCBwcmlvcml0eSwgb25jZSlcbntcbiAgICBpZiAoIGNvbnRleHQgPT09IHZvaWQgMCApIGNvbnRleHQgPSBudWxsO1xuICAgIGlmICggcHJpb3JpdHkgPT09IHZvaWQgMCApIHByaW9yaXR5ID0gMDtcbiAgICBpZiAoIG9uY2UgPT09IHZvaWQgMCApIG9uY2UgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoYW5kbGVyIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICovXG4gICAgdGhpcy5mbiA9IGZuO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNhbGxpbmcgdG8gZXhlY3V0ZS5cbiAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGN1cnJlbnQgcHJpb3JpdHkuXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgc2hvdWxkIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5vbmNlID0gb25jZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBuZXh0IGl0ZW0gaW4gY2hhaW4uXG4gICAgICogQG1lbWJlciB7VGlja2VyTGlzdGVuZXJ9XG4gICAgICovXG4gICAgdGhpcy5uZXh0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwcmV2aW91cyBpdGVtIGluIGNoYWluLlxuICAgICAqIEBtZW1iZXIge1RpY2tlckxpc3RlbmVyfVxuICAgICAqL1xuICAgIHRoaXMucHJldmlvdXMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogYHRydWVgIGlmIHRoaXMgbGlzdGVuZXIgaGFzIGJlZW4gZGVzdHJveWVkIGFscmVhZHkuXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBTaW1wbGUgY29tcGFyZSBmdW5jdGlvbiB0byBmaWd1cmUgb3V0IGlmIGEgZnVuY3Rpb24gYW5kIGNvbnRleHQgbWF0Y2guXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgbGlzdGVuZXIgZnVuY3Rpb24gdG8gYmUgYWRkZWQgZm9yIG9uZSB1cGRhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbnRleHQgLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIHRoZSBsaXN0ZW5lciBtYXRjaCB0aGUgYXJndW1lbnRzXG4gKi9cblRpY2tlckxpc3RlbmVyLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIG1hdGNoIChmbiwgY29udGV4dClcbntcbiAgICBjb250ZXh0ID0gY29udGV4dCB8fCBudWxsO1xuXG4gICAgcmV0dXJuIHRoaXMuZm4gPT09IGZuICYmIHRoaXMuY29udGV4dCA9PT0gY29udGV4dDtcbn07XG5cbi8qKlxuICogRW1pdCBieSBjYWxsaW5nIHRoZSBjdXJyZW50IGZ1bmN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgc2luY2UgdGhlIGxhc3QgZW1pdC5cbiAqIEByZXR1cm4ge1RpY2tlckxpc3RlbmVyfSBOZXh0IHRpY2tlclxuICovXG5UaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQgKGRlbHRhVGltZSlcbntcbiAgICBpZiAodGhpcy5mbilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZm4uY2FsbCh0aGlzLmNvbnRleHQsIGRlbHRhVGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZuKGRlbHRhVGltZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICBpZiAodGhpcy5vbmNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kZXN0cm95KHRydWUpO1xuICAgIH1cblxuICAgIC8vIFNvZnQtZGVzdHJveWluZyBzaG91bGQgcmVtb3ZlXG4gICAgLy8gdGhlIG5leHQgcmVmZXJlbmNlXG4gICAgaWYgKHRoaXMuX2Rlc3Ryb3llZClcbiAgICB7XG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZGlyZWN0O1xufTtcblxuLyoqXG4gKiBDb25uZWN0IHRvIHRoZSBsaXN0LlxuICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gcHJldmlvdXMgLSBJbnB1dCBub2RlLCBwcmV2aW91cyBsaXN0ZW5lclxuICovXG5UaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uIGNvbm5lY3QgKHByZXZpb3VzKVxue1xuICAgIHRoaXMucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICBpZiAocHJldmlvdXMubmV4dClcbiAgICB7XG4gICAgICAgIHByZXZpb3VzLm5leHQucHJldmlvdXMgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLm5leHQgPSBwcmV2aW91cy5uZXh0O1xuICAgIHByZXZpb3VzLm5leHQgPSB0aGlzO1xufTtcblxuLyoqXG4gKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hhcmQgPSBmYWxzZV0gYHRydWVgIHRvIHJlbW92ZSB0aGUgYG5leHRgIHJlZmVyZW5jZSwgdGhpc1xuICogICAgaXMgY29uc2lkZXJlZCBhIGhhcmQgZGVzdHJveS4gU29mdCBkZXN0cm95IG1haW50YWlucyB0aGUgbmV4dCByZWZlcmVuY2UuXG4gKiBAcmV0dXJuIHtUaWNrZXJMaXN0ZW5lcn0gVGhlIGxpc3RlbmVyIHRvIHJlZGlyZWN0IHdoaWxlIGVtaXR0aW5nIG9yIHJlbW92aW5nLlxuICovXG5UaWNrZXJMaXN0ZW5lci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKGhhcmQpXG57XG4gICAgICAgIGlmICggaGFyZCA9PT0gdm9pZCAwICkgaGFyZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICB0aGlzLmZuID0gbnVsbDtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuXG4gICAgLy8gRGlzY29ubmVjdCwgaG9vayB1cCBuZXh0IGFuZCBwcmV2aW91c1xuICAgIGlmICh0aGlzLnByZXZpb3VzKVxuICAgIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cy5uZXh0ID0gdGhpcy5uZXh0O1xuICAgIH1cblxuICAgIGlmICh0aGlzLm5leHQpXG4gICAge1xuICAgICAgICB0aGlzLm5leHQucHJldmlvdXMgPSB0aGlzLnByZXZpb3VzO1xuICAgIH1cblxuICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBuZXh0IGl0ZW1cbiAgICB2YXIgcmVkaXJlY3QgPSB0aGlzLm5leHQ7XG5cbiAgICAvLyBSZW1vdmUgcmVmZXJlbmNlc1xuICAgIHRoaXMubmV4dCA9IGhhcmQgPyBudWxsIDogcmVkaXJlY3Q7XG4gICAgdGhpcy5wcmV2aW91cyA9IG51bGw7XG5cbiAgICByZXR1cm4gcmVkaXJlY3Q7XG59O1xuXG4vKipcbiAqIEEgVGlja2VyIGNsYXNzIHRoYXQgcnVucyBhbiB1cGRhdGUgbG9vcCB0aGF0IG90aGVyIG9iamVjdHMgbGlzdGVuIHRvLlxuICogVGhpcyBjbGFzcyBpcyBjb21wb3NlZCBhcm91bmQgbGlzdGVuZXJzXG4gKiBtZWFudCBmb3IgZXhlY3V0aW9uIG9uIHRoZSBuZXh0IHJlcXVlc3RlZCBhbmltYXRpb24gZnJhbWUuXG4gKiBBbmltYXRpb24gZnJhbWVzIGFyZSByZXF1ZXN0ZWQgb25seSB3aGVuIG5lY2Vzc2FyeSxcbiAqIGUuZy4gV2hlbiB0aGUgdGlja2VyIGlzIHN0YXJ0ZWQgYW5kIHRoZSBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyID0gZnVuY3Rpb24gVGlja2VyKClcbntcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIFRoZSBmaXJzdCBsaXN0ZW5lci4gQWxsIG5ldyBsaXN0ZW5lcnMgYWRkZWQgYXJlIGNoYWluZWQgb24gdGhpcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtUaWNrZXJMaXN0ZW5lcn1cbiAgICAgKi9cbiAgICB0aGlzLl9oZWFkID0gbmV3IFRpY2tlckxpc3RlbmVyKG51bGwsIG51bGwsIEluZmluaXR5KTtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGN1cnJlbnQgZnJhbWUgcmVxdWVzdCBJRFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEludGVybmFsIHZhbHVlIG1hbmFnZWQgYnkgbWluRlBTIHByb3BlcnR5IHNldHRlciBhbmQgZ2V0dGVyLlxuICAgICAqIFRoaXMgaXMgdGhlIG1heGltdW0gYWxsb3dlZCBtaWxsaXNlY29uZHMgYmV0d2VlbiB1cGRhdGVzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fbWF4RWxhcHNlZE1TID0gMTAwO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBvciBub3QgdGhpcyB0aWNrZXIgc2hvdWxkIGludm9rZSB0aGUgbWV0aG9kXG4gICAgICoge0BsaW5rIFBJWEkuVGlja2VyI3N0YXJ0fSBhdXRvbWF0aWNhbGx5XG4gICAgICogd2hlbiBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMuYXV0b1N0YXJ0ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBTY2FsYXIgdGltZSB2YWx1ZSBmcm9tIGxhc3QgZnJhbWUgdG8gdGhpcyBmcmFtZS5cbiAgICAgKiBUaGlzIHZhbHVlIGlzIGNhcHBlZCBieSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNtaW5GUFN9XG4gICAgICogYW5kIGlzIHNjYWxlZCB3aXRoIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0uXG4gICAgICogKipOb3RlOioqIFRoZSBjYXAgbWF5IGJlIGV4Y2VlZGVkIGJ5IHNjYWxpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHRoaXMuZGVsdGFUaW1lID0gMTtcblxuICAgIC8qKlxuICAgICAqIFRpbWUgZWxhcHNlZCBpbiBtaWxsaXNlY29uZHMgZnJvbSBsYXN0IGZyYW1lIHRvIHRoaXMgZnJhbWUuXG4gICAgICogT3Bwb3NlZCB0byB3aGF0IHRoZSBzY2FsYXIge0BsaW5rIFBJWEkuVGlja2VyI2RlbHRhVGltZX1cbiAgICAgKiBpcyBiYXNlZCwgdGhpcyB2YWx1ZSBpcyBuZWl0aGVyIGNhcHBlZCBub3Igc2NhbGVkLlxuICAgICAqIElmIHRoZSBwbGF0Zm9ybSBzdXBwb3J0cyBET01IaWdoUmVzVGltZVN0YW1wLFxuICAgICAqIHRoaXMgdmFsdWUgd2lsbCBoYXZlIGEgcHJlY2lzaW9uIG9mIDEgwrVzLlxuICAgICAqIERlZmF1bHRzIHRvIHRhcmdldCBmcmFtZSB0aW1lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMTYuNjZcbiAgICAgKi9cbiAgICB0aGlzLmVsYXBzZWRNUyA9IDEgLyBzZXR0aW5ncyQxLlRBUkdFVF9GUE1TO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxhc3QgdGltZSB7QGxpbmsgUElYSS5UaWNrZXIjdXBkYXRlfSB3YXMgaW52b2tlZC5cbiAgICAgKiBUaGlzIHZhbHVlIGlzIGFsc28gcmVzZXQgaW50ZXJuYWxseSBvdXRzaWRlIG9mIGludm9raW5nXG4gICAgICogdXBkYXRlLCBidXQgb25seSB3aGVuIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQuXG4gICAgICogSWYgdGhlIHBsYXRmb3JtIHN1cHBvcnRzIERPTUhpZ2hSZXNUaW1lU3RhbXAsXG4gICAgICogdGhpcyB2YWx1ZSB3aWxsIGhhdmUgYSBwcmVjaXNpb24gb2YgMSDCtXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgLTFcbiAgICAgKi9cbiAgICB0aGlzLmxhc3RUaW1lID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBGYWN0b3Igb2YgY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNjYWxlcyB0aWNrZXIuZGVsdGFUaW1lIHRvIHdoYXQgd291bGQgYmVcbiAgICAgKiAvLyB0aGUgZXF1aXZhbGVudCBvZiBhcHByb3hpbWF0ZWx5IDEyMCBGUFNcbiAgICAgKiB0aWNrZXIuc3BlZWQgPSAyO1xuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICB0aGlzLnNwZWVkID0gMTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgdGlja2VyIGhhcyBiZWVuIHN0YXJ0ZWQuXG4gICAgICogYHRydWVgIGlmIHtAbGluayBQSVhJLlRpY2tlciNzdGFydH0gaGFzIGJlZW4gY2FsbGVkLlxuICAgICAqIGBmYWxzZWAgaWYge0BsaW5rIFBJWEkuVGlja2VyI3N0b3B9IGhhcyBiZWVuIGNhbGxlZC5cbiAgICAgKiBXaGlsZSBgZmFsc2VgLCB0aGlzIHZhbHVlIG1heSBjaGFuZ2UgdG8gYHRydWVgIGluIHRoZVxuICAgICAqIGV2ZW50IG9mIHtAbGluayBQSVhJLlRpY2tlciNhdXRvU3RhcnR9IGJlaW5nIGB0cnVlYFxuICAgICAqIGFuZCBhIGxpc3RlbmVyIGlzIGFkZGVkLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSWYgZW5hYmxlZCwgZGVsZXRpbmcgaXMgZGlzYWJsZWQuXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCB0aWNrIG1ldGhvZCBib3VuZCB0byB0aWNrZXIgaW5zdGFuY2UuXG4gICAgICogVGhpcyBpcyBiZWNhdXNlIGluIGVhcmx5IDIwMTUsIEZ1bmN0aW9uLmJpbmRcbiAgICAgKiBpcyBzdGlsbCA2MCUgc2xvd2VyIGluIGhpZ2ggcGVyZm9ybWFuY2Ugc2NlbmFyaW9zLlxuICAgICAqIEFsc28gc2VwYXJhdGluZyBmcmFtZSByZXF1ZXN0cyBmcm9tIHVwZGF0ZSBtZXRob2RcbiAgICAgKiBzbyBsaXN0ZW5lcnMgbWF5IGJlIGNhbGxlZCBhdCBhbnkgdGltZSBhbmQgd2l0aFxuICAgICAqIGFueSBhbmltYXRpb24gQVBJLCBqdXN0IGludm9rZSB0aWNrZXIudXBkYXRlKHRpbWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAqL1xuICAgIHRoaXMuX3RpY2sgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICB0aGlzJDEuX3JlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMkMS5zdGFydGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJbnZva2UgbGlzdGVuZXJzIG5vd1xuICAgICAgICAgICAgdGhpcyQxLnVwZGF0ZSh0aW1lKTtcbiAgICAgICAgICAgIC8vIExpc3RlbmVyIHNpZGUgZWZmZWN0cyBtYXkgaGF2ZSBtb2RpZmllZCB0aWNrZXIgc3RhdGUuXG4gICAgICAgICAgICBpZiAodGhpcyQxLnN0YXJ0ZWQgJiYgdGhpcyQxLl9yZXF1ZXN0SWQgPT09IG51bGwgJiYgdGhpcyQxLl9oZWFkLm5leHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl9yZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcyQxLl90aWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBGUFM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbWluRlBTOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG52YXIgc3RhdGljQWNjZXNzb3JzID0geyBzaGFyZWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBDb25kaXRpb25hbGx5IHJlcXVlc3RzIGEgbmV3IGFuaW1hdGlvbiBmcmFtZS5cbiAqIElmIGEgZnJhbWUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkLCBhbmQgaWYgdGhlIGludGVybmFsXG4gKiBlbWl0dGVyIGhhcyBsaXN0ZW5lcnMsIGEgbmV3IGZyYW1lIGlzIHJlcXVlc3RlZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5UaWNrZXIucHJvdG90eXBlLl9yZXF1ZXN0SWZOZWVkZWQgPSBmdW5jdGlvbiBfcmVxdWVzdElmTmVlZGVkICgpXG57XG4gICAgaWYgKHRoaXMuX3JlcXVlc3RJZCA9PT0gbnVsbCAmJiB0aGlzLl9oZWFkLm5leHQpXG4gICAge1xuICAgICAgICAvLyBlbnN1cmUgY2FsbGJhY2tzIGdldCBjb3JyZWN0IGRlbHRhXG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3RpY2spO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ29uZGl0aW9uYWxseSBjYW5jZWxzIGEgcGVuZGluZyBhbmltYXRpb24gZnJhbWUuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuVGlja2VyLnByb3RvdHlwZS5fY2FuY2VsSWZOZWVkZWQgPSBmdW5jdGlvbiBfY2FuY2VsSWZOZWVkZWQgKClcbntcbiAgICBpZiAodGhpcy5fcmVxdWVzdElkICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fcmVxdWVzdElkKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdElkID0gbnVsbDtcbiAgICB9XG59O1xuXG4vKipcbiAqIENvbmRpdGlvbmFsbHkgcmVxdWVzdHMgYSBuZXcgYW5pbWF0aW9uIGZyYW1lLlxuICogSWYgdGhlIHRpY2tlciBoYXMgYmVlbiBzdGFydGVkIGl0IGNoZWNrcyBpZiBhIGZyYW1lIGhhcyBub3QgYWxyZWFkeVxuICogYmVlbiByZXF1ZXN0ZWQsIGFuZCBpZiB0aGUgaW50ZXJuYWwgZW1pdHRlciBoYXMgbGlzdGVuZXJzLiBJZiB0aGVzZVxuICogY29uZGl0aW9ucyBhcmUgbWV0LCBhIG5ldyBmcmFtZSBpcyByZXF1ZXN0ZWQuIElmIHRoZSB0aWNrZXIgaGFzIG5vdFxuICogYmVlbiBzdGFydGVkLCBidXQgYXV0b1N0YXJ0IGlzIGB0cnVlYCwgdGhlbiB0aGUgdGlja2VyIHN0YXJ0cyBub3csXG4gKiBhbmQgY29udGludWVzIHdpdGggdGhlIHByZXZpb3VzIGNvbmRpdGlvbnMgdG8gcmVxdWVzdCBhIG5ldyBmcmFtZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5UaWNrZXIucHJvdG90eXBlLl9zdGFydElmUG9zc2libGUgPSBmdW5jdGlvbiBfc3RhcnRJZlBvc3NpYmxlICgpXG57XG4gICAgaWYgKHRoaXMuc3RhcnRlZClcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RJZk5lZWRlZCgpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmF1dG9TdGFydClcbiAgICB7XG4gICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFJlZ2lzdGVyIGEgaGFuZGxlciBmb3IgdGljayBldmVudHMuIENhbGxzIGNvbnRpbnVvdXNseSB1bmxlc3NcbiAqIGl0IGlzIHJlbW92ZWQgb3IgdGhlIHRpY2tlciBpcyBzdG9wcGVkLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciB1cGRhdGVzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gKi9cblRpY2tlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChmbiwgY29udGV4dCwgcHJpb3JpdHkpXG57XG4gICAgICAgIGlmICggcHJpb3JpdHkgPT09IHZvaWQgMCApIHByaW9yaXR5ID0gVVBEQVRFX1BSSU9SSVRZLk5PUk1BTDtcblxuICAgIHJldHVybiB0aGlzLl9hZGRMaXN0ZW5lcihuZXcgVGlja2VyTGlzdGVuZXIoZm4sIGNvbnRleHQsIHByaW9yaXR5KSk7XG59O1xuXG4vKipcbiAqIEFkZCBhIGhhbmRsZXIgZm9yIHRoZSB0aWNrIGV2ZW50IHdoaWNoIGlzIG9ubHkgZXhlY3V0ZSBvbmNlLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGFkZGVkIGZvciBvbmUgdXBkYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dFxuICogQHBhcmFtIHtudW1iZXJ9IFtwcmlvcml0eT1QSVhJLlVQREFURV9QUklPUklUWS5OT1JNQUxdIC0gVGhlIHByaW9yaXR5IGZvciBlbWl0dGluZ1xuICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gKi9cblRpY2tlci5wcm90b3R5cGUuYWRkT25jZSA9IGZ1bmN0aW9uIGFkZE9uY2UgKGZuLCBjb250ZXh0LCBwcmlvcml0eSlcbntcbiAgICAgICAgaWYgKCBwcmlvcml0eSA9PT0gdm9pZCAwICkgcHJpb3JpdHkgPSBVUERBVEVfUFJJT1JJVFkuTk9STUFMO1xuXG4gICAgcmV0dXJuIHRoaXMuX2FkZExpc3RlbmVyKG5ldyBUaWNrZXJMaXN0ZW5lcihmbiwgY29udGV4dCwgcHJpb3JpdHksIHRydWUpKTtcbn07XG5cbi8qKlxuICogSW50ZXJuYWxseSBhZGRzIHRoZSBldmVudCBoYW5kbGVyIHNvIHRoYXQgaXQgY2FuIGJlIHNvcnRlZCBieSBwcmlvcml0eS5cbiAqIFByaW9yaXR5IGFsbG93cyBjZXJ0YWluIGhhbmRsZXIgKHVzZXIsIEFuaW1hdGVkU3ByaXRlLCBJbnRlcmFjdGlvbikgdG8gYmUgcnVuXG4gKiBiZWZvcmUgdGhlIHJlbmRlcmluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtUaWNrZXJMaXN0ZW5lcn0gbGlzdGVuZXIgLSBDdXJyZW50IGxpc3RlbmVyIGJlaW5nIGFkZGVkLlxuICogQHJldHVybnMge1BJWEkuVGlja2VyfSBUaGlzIGluc3RhbmNlIG9mIGEgdGlja2VyXG4gKi9cblRpY2tlci5wcm90b3R5cGUuX2FkZExpc3RlbmVyID0gZnVuY3Rpb24gX2FkZExpc3RlbmVyIChsaXN0ZW5lcilcbntcbiAgICAvLyBGb3IgYXR0YWNoaW5nIHRvIGhlYWRcbiAgICB2YXIgY3VycmVudCA9IHRoaXMuX2hlYWQubmV4dDtcbiAgICB2YXIgcHJldmlvdXMgPSB0aGlzLl9oZWFkO1xuXG4gICAgLy8gQWRkIHRoZSBmaXJzdCBpdGVtXG4gICAgaWYgKCFjdXJyZW50KVxuICAgIHtcbiAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIEdvIGZyb20gaGlnaGVzdCB0byBsb3dlc3QgcHJpb3JpdHlcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5wcmlvcml0eSA+IGN1cnJlbnQucHJpb3JpdHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aW91cyA9IGN1cnJlbnQ7XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHlldCBjb25uZWN0ZWRcbiAgICAgICAgaWYgKCFsaXN0ZW5lci5wcmV2aW91cylcbiAgICAgICAge1xuICAgICAgICAgICAgbGlzdGVuZXIuY29ubmVjdChwcmV2aW91cyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9zdGFydElmUG9zc2libGUoKTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmVzIGFueSBoYW5kbGVycyBtYXRjaGluZyB0aGUgZnVuY3Rpb24gYW5kIGNvbnRleHQgcGFyYW1ldGVycy5cbiAqIElmIG5vIGhhbmRsZXJzIGFyZSBsZWZ0IGFmdGVyIHJlbW92aW5nLCB0aGVuIGl0IGNhbmNlbHMgdGhlIGFuaW1hdGlvbiBmcmFtZS5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBsaXN0ZW5lciBmdW5jdGlvbiB0byBiZSByZW1vdmVkXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29udGV4dF0gLSBUaGUgbGlzdGVuZXIgY29udGV4dCB0byBiZSByZW1vdmVkXG4gKiBAcmV0dXJucyB7UElYSS5UaWNrZXJ9IFRoaXMgaW5zdGFuY2Ugb2YgYSB0aWNrZXJcbiAqL1xuVGlja2VyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGZuLCBjb250ZXh0KVxue1xuICAgIHZhciBsaXN0ZW5lciA9IHRoaXMuX2hlYWQubmV4dDtcblxuICAgIHdoaWxlIChsaXN0ZW5lcilcbiAgICB7XG4gICAgICAgIC8vIFdlIGZvdW5kIGEgbWF0Y2gsIGxldHMgcmVtb3ZlIGl0XG4gICAgICAgIC8vIG5vIGJyZWFrIHRvIGRlbGV0ZSBhbGwgcG9zc2libGUgbWF0Y2hlc1xuICAgICAgICAvLyBpbmNhc2UgYSBsaXN0ZW5lciB3YXMgYWRkZWQgMisgdGltZXNcbiAgICAgICAgaWYgKGxpc3RlbmVyLm1hdGNoKGZuLCBjb250ZXh0KSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLm5leHQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2hlYWQubmV4dClcbiAgICB7XG4gICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFN0YXJ0cyB0aGUgdGlja2VyLiBJZiB0aGUgdGlja2VyIGhhcyBsaXN0ZW5lcnNcbiAqIGEgbmV3IGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWQgYXQgdGhpcyBwb2ludC5cbiAqL1xuVGlja2VyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0ICgpXG57XG4gICAgaWYgKCF0aGlzLnN0YXJ0ZWQpXG4gICAge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SWZOZWVkZWQoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFN0b3BzIHRoZSB0aWNrZXIuIElmIHRoZSB0aWNrZXIgaGFzIHJlcXVlc3RlZFxuICogYW4gYW5pbWF0aW9uIGZyYW1lIGl0IGlzIGNhbmNlbGVkIGF0IHRoaXMgcG9pbnQuXG4gKi9cblRpY2tlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AgKClcbntcbiAgICBpZiAodGhpcy5zdGFydGVkKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NhbmNlbElmTmVlZGVkKCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBEZXN0cm95IHRoZSB0aWNrZXIgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLiBDYWxsaW5nXG4gKiB0aGlzIG1ldGhvZCByZW1vdmVzIGFsbCByZWZlcmVuY2VzIHRvIGludGVybmFsIGV2ZW50cy5cbiAqL1xuVGlja2VyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIGlmICghdGhpcy5fcHJvdGVjdGVkKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG5cbiAgICAgICAgdmFyIGxpc3RlbmVyID0gdGhpcy5faGVhZC5uZXh0O1xuXG4gICAgICAgIHdoaWxlIChsaXN0ZW5lcilcbiAgICAgICAge1xuICAgICAgICAgICAgbGlzdGVuZXIgPSBsaXN0ZW5lci5kZXN0cm95KHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGVhZC5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2hlYWQgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogVHJpZ2dlcnMgYW4gdXBkYXRlLiBBbiB1cGRhdGUgZW50YWlscyBzZXR0aW5nIHRoZVxuICogY3VycmVudCB7QGxpbmsgUElYSS5UaWNrZXIjZWxhcHNlZE1TfSxcbiAqIHRoZSBjdXJyZW50IHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LFxuICogaW52b2tpbmcgYWxsIGxpc3RlbmVycyB3aXRoIGN1cnJlbnQgZGVsdGFUaW1lLFxuICogYW5kIHRoZW4gZmluYWxseSBzZXR0aW5nIHtAbGluayBQSVhJLlRpY2tlciNsYXN0VGltZX1cbiAqIHdpdGggdGhlIHZhbHVlIG9mIGN1cnJlbnRUaW1lIHRoYXQgd2FzIHByb3ZpZGVkLlxuICogVGhpcyBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBieSBhbmltYXRpb25cbiAqIGZyYW1lIGNhbGxiYWNrcyBpZiB0aGUgdGlja2VyIGluc3RhbmNlIGhhcyBiZWVuIHN0YXJ0ZWRcbiAqIGFuZCBsaXN0ZW5lcnMgYXJlIGFkZGVkLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbY3VycmVudFRpbWU9cGVyZm9ybWFuY2Uubm93KCldIC0gdGhlIGN1cnJlbnQgdGltZSBvZiBleGVjdXRpb25cbiAqL1xuVGlja2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGN1cnJlbnRUaW1lKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcbiAgICAgICAgaWYgKCBjdXJyZW50VGltZSA9PT0gdm9pZCAwICkgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcblxuICAgIHZhciBlbGFwc2VkTVM7XG5cbiAgICAvLyBJZiB0aGUgZGlmZmVyZW5jZSBpbiB0aW1lIGlzIHplcm8gb3IgbmVnYXRpdmUsIHdlIGlnbm9yZSBtb3N0IG9mIHRoZSB3b3JrIGRvbmUgaGVyZS5cbiAgICAvLyBJZiB0aGVyZSBpcyBubyB2YWxpZCBkaWZmZXJlbmNlLCB0aGVuIHNob3VsZCBiZSBubyByZWFzb24gdG8gbGV0IGFueW9uZSBrbm93IGFib3V0IGl0LlxuICAgIC8vIEEgemVybyBkZWx0YSwgaXMgZXhhY3RseSB0aGF0LCBub3RoaW5nIHNob3VsZCB1cGRhdGUuXG4gICAgLy9cbiAgICAvLyBUaGUgZGlmZmVyZW5jZSBpbiB0aW1lIGNhbiBiZSBuZWdhdGl2ZSwgYW5kIG5vIHRoaXMgZG9lcyBub3QgbWVhbiB0aW1lIHRyYXZlbGluZy5cbiAgICAvLyBUaGlzIGNhbiBiZSB0aGUgcmVzdWx0IG9mIGEgcmFjZSBjb25kaXRpb24gYmV0d2VlbiB3aGVuIGFuIGFuaW1hdGlvbiBmcmFtZSBpcyByZXF1ZXN0ZWRcbiAgICAvLyBvbiB0aGUgY3VycmVudCBKYXZhU2NyaXB0IGVuZ2luZSBldmVudCBsb29wLCBhbmQgd2hlbiB0aGUgdGlja2VyJ3Mgc3RhcnQgbWV0aG9kIGlzIGludm9rZWRcbiAgICAvLyAod2hpY2ggaW52b2tlcyB0aGUgaW50ZXJuYWwgX3JlcXVlc3RJZk5lZWRlZCBtZXRob2QpLiBJZiBhIGZyYW1lIGlzIHJlcXVlc3RlZCBiZWZvcmVcbiAgICAvLyBfcmVxdWVzdElmTmVlZGVkIGlzIGludm9rZWQsIHRoZW4gdGhlIGNhbGxiYWNrIGZvciB0aGUgYW5pbWF0aW9uIGZyYW1lIHRoZSB0aWNrZXIgcmVxdWVzdHMsXG4gICAgLy8gY2FuIHJlY2VpdmUgYSB0aW1lIGFyZ3VtZW50IHRoYXQgY2FuIGJlIGxlc3MgdGhhbiB0aGUgbGFzdFRpbWUgdmFsdWUgdGhhdCB3YXMgc2V0IHdpdGhpblxuICAgIC8vIF9yZXF1ZXN0SWZOZWVkZWQuIFRoaXMgZGlmZmVyZW5jZSBpcyBpbiBtaWNyb3NlY29uZHMsIGJ1dCB0aGlzIGlzIGVub3VnaCB0byBjYXVzZSBwcm9ibGVtcy5cbiAgICAvL1xuICAgIC8vIFRoaXMgY2hlY2sgY292ZXJzIHRoaXMgYnJvd3NlciBlbmdpbmUgdGltaW5nIGlzc3VlLCBhcyB3ZWxsIGFzIGlmIGNvbnN1bWVycyBwYXNzIGFuIGludmFsaWRcbiAgICAvLyBjdXJyZW50VGltZSB2YWx1ZS4gVGhpcyBtYXkgaGFwcGVuIGlmIGNvbnN1bWVycyBvcHQtb3V0IG9mIHRoZSBhdXRvU3RhcnQsIGFuZCB1cGRhdGUgdGhlbXNlbHZlcy5cblxuICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdFRpbWUpXG4gICAge1xuICAgICAgICAvLyBTYXZlIHVuY2FwcGVkIGVsYXBzZWRNUyBmb3IgbWVhc3VyZW1lbnRcbiAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5lbGFwc2VkTVMgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWU7XG5cbiAgICAgICAgLy8gY2FwIHRoZSBtaWxsaXNlY29uZHMgZWxhcHNlZCB1c2VkIGZvciBkZWx0YVRpbWVcbiAgICAgICAgaWYgKGVsYXBzZWRNUyA+IHRoaXMuX21heEVsYXBzZWRNUylcbiAgICAgICAge1xuICAgICAgICAgICAgZWxhcHNlZE1TID0gdGhpcy5fbWF4RWxhcHNlZE1TO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZWx0YVRpbWUgPSBlbGFwc2VkTVMgKiBzZXR0aW5ncyQxLlRBUkdFVF9GUE1TICogdGhpcy5zcGVlZDtcblxuICAgICAgICAvLyBDYWNoZSBhIGxvY2FsIHJlZmVyZW5jZSwgaW4tY2FzZSB0aWNrZXIgaXMgZGVzdHJveWVkXG4gICAgICAgIC8vIGR1cmluZyB0aGUgZW1pdCwgd2UgY2FuIHN0aWxsIGNoZWNrIGZvciBoZWFkLm5leHRcbiAgICAgICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuXG4gICAgICAgIC8vIEludm9rZSBsaXN0ZW5lcnMgYWRkZWQgdG8gaW50ZXJuYWwgZW1pdHRlclxuICAgICAgICB2YXIgbGlzdGVuZXIgPSBoZWFkLm5leHQ7XG5cbiAgICAgICAgd2hpbGUgKGxpc3RlbmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBsaXN0ZW5lciA9IGxpc3RlbmVyLmVtaXQodGhpcyQxLmRlbHRhVGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhlYWQubmV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2FuY2VsSWZOZWVkZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLmRlbHRhVGltZSA9IHRoaXMuZWxhcHNlZE1TID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XG59O1xuXG4vKipcbiAqIFRoZSBmcmFtZXMgcGVyIHNlY29uZCBhdCB3aGljaCB0aGlzIHRpY2tlciBpcyBydW5uaW5nLlxuICogVGhlIGRlZmF1bHQgaXMgYXBwcm94aW1hdGVseSA2MCBpbiBtb3N0IG1vZGVybiBicm93c2Vycy5cbiAqICoqTm90ZToqKiBUaGlzIGRvZXMgbm90IGZhY3RvciBpbiB0aGUgdmFsdWUgb2ZcbiAqIHtAbGluayBQSVhJLlRpY2tlciNzcGVlZH0sIHdoaWNoIGlzIHNwZWNpZmljXG4gKiB0byBzY2FsaW5nIHtAbGluayBQSVhJLlRpY2tlciNkZWx0YVRpbWV9LlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuRlBTLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIDEwMDAgLyB0aGlzLmVsYXBzZWRNUztcbn07XG5cbi8qKlxuICogTWFuYWdlcyB0aGUgbWF4aW11bSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIGFsbG93ZWQgdG9cbiAqIGVsYXBzZSBiZXR3ZWVuIGludm9raW5nIHtAbGluayBQSVhJLlRpY2tlciN1cGRhdGV9LlxuICogVGhpcyB2YWx1ZSBpcyB1c2VkIHRvIGNhcCB7QGxpbmsgUElYSS5UaWNrZXIjZGVsdGFUaW1lfSxcbiAqIGJ1dCBkb2VzIG5vdCBlZmZlY3QgdGhlIG1lYXN1cmVkIHZhbHVlIG9mIHtAbGluayBQSVhJLlRpY2tlciNGUFN9LlxuICogV2hlbiBzZXR0aW5nIHRoaXMgcHJvcGVydHkgaXQgaXMgY2xhbXBlZCB0byBhIHZhbHVlIGJldHdlZW5cbiAqIGAwYCBhbmQgYFBJWEkuc2V0dGluZ3MuVEFSR0VUX0ZQTVMgKiAxMDAwYC5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCAxMFxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubWluRlBTLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIDEwMDAgLyB0aGlzLl9tYXhFbGFwc2VkTVM7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMubWluRlBTLnNldCA9IGZ1bmN0aW9uIChmcHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIC8vIENsYW1wOiAwIHRvIFRBUkdFVF9GUE1TXG4gICAgdmFyIG1pbkZQTVMgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBmcHMpIC8gMTAwMCwgc2V0dGluZ3MkMS5UQVJHRVRfRlBNUyk7XG5cbiAgICB0aGlzLl9tYXhFbGFwc2VkTVMgPSAxIC8gbWluRlBNUztcbn07XG5cbi8qKlxuICogVGhlIHNoYXJlZCB0aWNrZXIgaW5zdGFuY2UgdXNlZCBieSB7QGxpbmsgUElYSS5BbmltYXRlZFNwcml0ZX0uXG4gKiBhbmQgYnkge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfS5cbiAqIFRoZSBwcm9wZXJ0eSB7QGxpbmsgUElYSS5UaWNrZXIjYXV0b1N0YXJ0fSBpcyBzZXQgdG8gYHRydWVgXG4gKiBmb3IgdGhpcyBpbnN0YW5jZS4gUGxlYXNlIGZvbGxvdyB0aGUgZXhhbXBsZXMgZm9yIHVzYWdlLCBpbmNsdWRpbmdcbiAqIGhvdyB0byBvcHQtb3V0IG9mIGF1dG8tc3RhcnRpbmcgdGhlIHNoYXJlZCB0aWNrZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGxldCB0aWNrZXIgPSBQSVhJLlRpY2tlci5zaGFyZWQ7XG4gKiAvLyBTZXQgdGhpcyB0byBwcmV2ZW50IHN0YXJ0aW5nIHRoaXMgdGlja2VyIHdoZW4gbGlzdGVuZXJzIGFyZSBhZGRlZC5cbiAqIC8vIEJ5IGRlZmF1bHQgdGhpcyBpcyB0cnVlIG9ubHkgZm9yIHRoZSBQSVhJLlRpY2tlci5zaGFyZWQgaW5zdGFuY2UuXG4gKiB0aWNrZXIuYXV0b1N0YXJ0ID0gZmFsc2U7XG4gKiAvLyBGWUksIGNhbGwgdGhpcyB0byBlbnN1cmUgdGhlIHRpY2tlciBpcyBzdG9wcGVkLiBJdCBzaG91bGQgYmUgc3RvcHBlZFxuICogLy8gaWYgeW91IGhhdmUgbm90IGF0dGVtcHRlZCB0byByZW5kZXIgYW55dGhpbmcgeWV0LlxuICogdGlja2VyLnN0b3AoKTtcbiAqIC8vIENhbGwgdGhpcyB3aGVuIHlvdSBhcmUgcmVhZHkgZm9yIGEgcnVubmluZyBzaGFyZWQgdGlja2VyLlxuICogdGlja2VyLnN0YXJ0KCk7XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFlvdSBtYXkgdXNlIHRoZSBzaGFyZWQgdGlja2VyIHRvIHJlbmRlci4uLlxuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoODAwLCA2MDApO1xuICogbGV0IHN0YWdlID0gbmV3IFBJWEkuQ29udGFpbmVyKCk7XG4gKiBsZXQgaW50ZXJhY3Rpb25NYW5hZ2VyID0gUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIocmVuZGVyZXIpO1xuICogZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChyZW5kZXJlci52aWV3KTtcbiAqIHRpY2tlci5hZGQoZnVuY3Rpb24gKHRpbWUpIHtcbiAqIHJlbmRlcmVyLnJlbmRlcihzdGFnZSk7XG4gKiB9KTtcbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gT3IgeW91IGNhbiBqdXN0IHVwZGF0ZSBpdCBtYW51YWxseS5cbiAqIHRpY2tlci5hdXRvU3RhcnQgPSBmYWxzZTtcbiAqIHRpY2tlci5zdG9wKCk7XG4gKiBmdW5jdGlvbiBhbmltYXRlKHRpbWUpIHtcbiAqIHRpY2tlci51cGRhdGUodGltZSk7XG4gKiByZW5kZXJlci5yZW5kZXIoc3RhZ2UpO1xuICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xuICogfVxuICogYW5pbWF0ZShwZXJmb3JtYW5jZS5ub3coKSk7XG4gKlxuICogQG1lbWJlciB7UElYSS5UaWNrZXJ9XG4gKiBAc3RhdGljXG4gKi9cbnN0YXRpY0FjY2Vzc29ycy5zaGFyZWQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICBpZiAoIVRpY2tlci5fc2hhcmVkKVxuICAgIHtcbiAgICAgICAgdmFyIHNoYXJlZCA9IFRpY2tlci5fc2hhcmVkID0gbmV3IFRpY2tlcigpO1xuXG4gICAgICAgIHNoYXJlZC5hdXRvU3RhcnQgPSB0cnVlO1xuICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIFRpY2tlci5fc2hhcmVkO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRpY2tlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRpY2tlciwgc3RhdGljQWNjZXNzb3JzICk7XG5cbi8qKlxuICogTWlkZGxld2FyZSBmb3IgZm9yIEFwcGxpY2F0aW9uIFRpY2tlci5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge1RpY2tlclBsdWdpbn0gZnJvbSAnQHBpeGkvdGlja2VyJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihUaWNrZXJQbHVnaW4pO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGlja2VyUGx1Z2luID0gZnVuY3Rpb24gVGlja2VyUGx1Z2luICgpIHt9O1xuXG5UaWNrZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIGluaXQgKG9wdGlvbnMpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLy8gU2V0IGRlZmF1bHRcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgIGF1dG9TdGFydDogdHJ1ZSxcbiAgICAgICAgc2hhcmVkVGlja2VyOiBmYWxzZSxcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIC8vIENyZWF0ZSB0aWNrZXIgc2V0dGVyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0aWNrZXInLFxuICAgICAgICB7XG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh0aWNrZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RpY2tlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RpY2tlci5yZW1vdmUodGhpcy5yZW5kZXIsIHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl90aWNrZXIgPSB0aWNrZXI7XG4gICAgICAgICAgICAgICAgaWYgKHRpY2tlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2tlci5hZGQodGhpcy5yZW5kZXIsIHRoaXMsIFVQREFURV9QUklPUklUWS5MT1cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RpY2tlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgbWV0aG9kIGZvciBzdG9wcGluZyB0aGUgcmVuZGVyLlxuICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNzdG9wXG4gICAgICovXG4gICAgdGhpcy5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzJDEuX3RpY2tlci5zdG9wKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlbmllbmNlIG1ldGhvZCBmb3Igc3RhcnRpbmcgdGhlIHJlbmRlci5cbiAgICAgKiBAbWV0aG9kIFBJWEkuQXBwbGljYXRpb24jc3RhcnRcbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzJDEuX3RpY2tlci5zdGFydCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCByZWZlcmVuY2UgdG8gdGhlIHRpY2tlclxuICAgICAqIEB0eXBlIHtQSVhJLlRpY2tlcn1cbiAgICAgKiBAbmFtZSBfdGlja2VyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl90aWNrZXIgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGlja2VyIGZvciBkb2luZyByZW5kZXIgdXBkYXRlcy5cbiAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICogQG5hbWUgdGlja2VyXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICogQGRlZmF1bHQgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICovXG4gICAgdGhpcy50aWNrZXIgPSBvcHRpb25zLnNoYXJlZFRpY2tlciA/IFRpY2tlci5zaGFyZWQgOiBuZXcgVGlja2VyKCk7XG5cbiAgICAvLyBTdGFydCB0aGUgcmVuZGVyaW5nXG4gICAgaWYgKG9wdGlvbnMuYXV0b1N0YXJ0KVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQ2xlYW4gdXAgdGhlIHRpY2tlciwgc2NvcGVkIHRvIGFwcGxpY2F0aW9uXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICovXG5UaWNrZXJQbHVnaW4uZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICBpZiAodGhpcy5fdGlja2VyKVxuICAgIHtcbiAgICAgICAgdmFyIG9sZFRpY2tlciA9IHRoaXMuX3RpY2tlcjtcblxuICAgICAgICB0aGlzLnRpY2tlciA9IG51bGw7XG4gICAgICAgIG9sZFRpY2tlci5kZXN0cm95KCk7XG4gICAgfVxufTtcblxuZXhwb3J0IHsgVGlja2VyLCBUaWNrZXJQbHVnaW4sIFVQREFURV9QUklPUklUWSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGlja2VyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9jb3JlIC0gdjUuMC4wLWFscGhhLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDMgSnVsIDIwMTggMDQ6MDg6MjEgVVRDXG4gKlxuICogQHBpeGkvY29yZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCBSdW5uZXIgZnJvbSAnbWluaS1ydW5uZXInO1xuaW1wb3J0IHsgQmFzZVRleHR1cmVDYWNoZSwgUHJvZ3JhbUNhY2hlLCBUZXh0dXJlQ2FjaGUsIGRlY29tcG9zZURhdGFVcmksIGRldGVybWluZUNyb3NzT3JpZ2luLCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGhleDJyZ2IsIGhleDJzdHJpbmcsIHJlbW92ZUl0ZW1zLCBzYXlIZWxsbywgdWlkIH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgc2V0dGluZ3MkMSB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFRpY2tlciB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBCTEVORF9NT0RFUywgRFJBV19NT0RFUywgRU5WLCBGT1JNQVRTLCBHQ19NT0RFUywgUkVOREVSRVJfVFlQRSwgU0NBTEVfTU9ERVMsIFRBUkdFVFMsIFRZUEVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgYml0VHdpZGRsZSBmcm9tICdiaXQtdHdpZGRsZSc7XG5pbXBvcnQgeyBHcm91cEQ4LCBNYXRyaXgsIFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5cbi8qKlxuICogQmFzZSBUZXh0dXJlIHJlc291cmNlIGNsYXNzLCBtYW5hZ2VzIHZhbGlkYXRpb24gYW5kIHVwbG9hZCBkZXBlbmRzIG9uIGl0cyB0eXBlLlxuICogdXBsb2FkIGlzIHJlcXVpcmVkLlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqL1xudmFyIFJlc291cmNlID0gZnVuY3Rpb24gUmVzb3VyY2Uod2lkdGgsIGhlaWdodClcbntcbiAgICBpZiAoIHdpZHRoID09PSB2b2lkIDAgKSB3aWR0aCA9IDA7XG4gICAgaWYgKCBoZWlnaHQgPT09IHZvaWQgMCApIGhlaWdodCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCB3aWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBoZWlnaHQgb2YgdGhlIHJlc291cmNlXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAvKipcbiAgICAgKiBJZiByZXNvdXJjZSBoYXMgYmVlbiBkZXN0cm95ZWRcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIGB0cnVlYCBpZiByZXNvdXJjZSBpcyBjcmVhdGVkIGJ5IEJhc2VUZXh0dXJlXG4gICAgICogdXNlZnVsIGZvciBkb2luZyBjbGVhbnVwIHdpdGggQmFzZVRleHR1cmUgZGVzdHJveVxuICAgICAqIGFuZCBub3QgY2xlYW5pbmcgdXAgcmVzb3VyY2VzIHRoYXQgd2VyZSBjcmVhdGVkXG4gICAgICogZXh0ZXJuYWxseS5cbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pbnRlcm5hbCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogTWluaS1ydW5uZXIgZm9yIGhhbmRsaW5nIHJlc2l6ZSBldmVudHNcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1J1bm5lcn1cbiAgICAgKi9cbiAgICB0aGlzLm9uUmVzaXplID0gbmV3IFJ1bm5lcignc2V0UmVhbFNpemUnLCAyKTtcblxuICAgIC8qKlxuICAgICAqIE1pbmktcnVubmVyIGZvciBoYW5kbGluZyB1cGRhdGUgZXZlbnRzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtSdW5uZXJ9XG4gICAgICovXG4gICAgdGhpcy5vblVwZGF0ZSA9IG5ldyBSdW5uZXIoJ3VwZGF0ZScpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdmFsaWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQmluZCB0byBhIHBhcmVudCBCYXNlVGV4dHVyZVxuICpcbiAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBQYXJlbnQgdGV4dHVyZVxuICovXG5SZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKGJhc2VUZXh0dXJlKVxue1xuICAgIHRoaXMub25SZXNpemUuYWRkKGJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLm9uVXBkYXRlLmFkZChiYXNlVGV4dHVyZSk7XG5cbiAgICAvLyBDYWxsIGEgcmVzaXplIGltbWVkaWF0ZSBpZiB3ZSBhbHJlYWR5XG4gICAgLy8gaGF2ZSB0aGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAgICBpZiAodGhpcy5fd2lkdGggfHwgdGhpcy5faGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5vblJlc2l6ZS5ydW4odGhpcy5fd2lkdGgsIHRoaXMuX2hlaWdodCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBVbmJpbmQgdG8gYSBwYXJlbnQgQmFzZVRleHR1cmVcbiAqXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUGFyZW50IHRleHR1cmVcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIHVuYmluZCAoYmFzZVRleHR1cmUpXG57XG4gICAgdGhpcy5vblJlc2l6ZS5yZW1vdmUoYmFzZVRleHR1cmUpO1xuICAgIHRoaXMub25VcGRhdGUucmVtb3ZlKGJhc2VUZXh0dXJlKTtcbn07XG5cbi8qKlxuICogVHJpZ2dlciBhIHJlc2l6ZSBldmVudFxuICovXG5SZXNvdXJjZS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICh3aWR0aCwgaGVpZ2h0KVxue1xuICAgIGlmICh3aWR0aCAhPT0gdGhpcy5fd2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLl9oZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLl93aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHRoaXMub25SZXNpemUucnVuKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogSGFzIGJlZW4gdmFsaWRhdGVkXG4gKiBAcmVhZG9ubHlcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy52YWxpZC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhIXRoaXMuX3dpZHRoICYmICEhdGhpcy5faGVpZ2h0O1xufTtcblxuLyoqXG4gKiBIYXMgYmVlbiB1cGRhdGVkIHRyaWdnZXIgZXZlbnRcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxue1xuICAgIGlmICghdGhpcy5kZXN0cm95ZWQpXG4gICAge1xuICAgICAgICB0aGlzLm9uVXBkYXRlLnJ1bigpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhpcyBjYW4gYmUgb3ZlcnJpZGRlbiB0byBzdGFydCBwcmVsb2FkaW5nIGEgcmVzb3VyY2VcbiAqIG9yIGRvIGFueSBvdGhlciBwcmVwYXJlIHN0ZXAuXG4gKiBAcHJvdGVjdGVkXG4gKiBAcmV0dXJuIHtQcm9taXNlfSBIYW5kbGUgdGhlIHZhbGlkYXRlIGV2ZW50XG4gKi9cblJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKVxue1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbn07XG5cbi8qKlxuICogVGhlIHdpZHRoIG9mIHRoZSByZXNvdXJjZS5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAcmVhZG9ubHlcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xufTtcblxuLyoqXG4gKiBUaGUgaGVpZ2h0IG9mIHRoZSByZXNvdXJjZS5cbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAcmVhZG9ubHlcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9oZWlnaHQ7XG59O1xuXG4vKipcbiAqIFVwbG9hZHMgdGhlIHRleHR1cmUgb3IgcmV0dXJucyBmYWxzZSBpZiBpdCBjYW50IGZvciBzb21lIHJlYXNvbi4gT3ZlcnJpZGUgdGhpcy5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0geWVhaCwgcmVuZGVyZXIhXG4gKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7UElYSS5nbENvcmUuVGV4dHVyZX0gZ2xUZXh0dXJlIC0gdGV4dHVyZSBpbnN0YW5jZSBmb3IgdGhpcyB3ZWJnbCBjb250ZXh0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpcyBzdWNjZXNzXG4gKi9cblJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG57XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIHN0eWxlLCBvcHRpb25hbCB0byBvdmVycmlkZVxuICpcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB5ZWFoLCByZW5kZXJlciFcbiAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtQSVhJLmdsQ29yZS5UZXh0dXJlfSBnbFRleHR1cmUgLSB0ZXh0dXJlIGluc3RhbmNlIGZvciB0aGlzIHdlYmdsIGNvbnRleHRcbiAqIEByZXR1cm5zIHtib29sZWFufSBgdHJ1ZWAgaXMgc3VjY2Vzc1xuICovXG5SZXNvdXJjZS5wcm90b3R5cGUuc3R5bGUgPSBmdW5jdGlvbiBzdHlsZSAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbntcbiAgICByZXR1cm4gZmFsc2U7XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIGFueXRoaW5nLCB0aGlzIGhhcHBlbnMgd2hlbiBkZXN0cm95aW5nIGlzIHJlYWR5LlxuICpcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG57XG4gICAgLy8gb3ZlcnJpZGVcbn07XG5cbi8qKlxuICogQ2FsbCB3aGVuIGRlc3Ryb3lpbmcgcmVzb3VyY2UsIHVuYmluZCBhbnkgQmFzZVRleHR1cmUgb2JqZWN0XG4gKiBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZCwgYXMgcmVmZXJlbmNlIGNvdW50cyBhcmUgbWFpbnRhaW5lZFxuICogaW50ZXJuYWxseS5cbiAqL1xuUmVzb3VyY2UucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgaWYgKCF0aGlzLmRlc3Ryb3llZClcbiAgICB7XG4gICAgICAgIHRoaXMub25SZXNpemUucmVtb3ZlQWxsKCk7XG4gICAgICAgIHRoaXMub25SZXNpemUgPSBudWxsO1xuICAgICAgICB0aGlzLm9uVXBkYXRlLnJlbW92ZUFsbCgpO1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICB9XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggUmVzb3VyY2UucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBCYXNlIGZvciBhbGwgdGhlIGltYWdlL2NhbnZhcyByZXNvdXJjZXNcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgQmFzZUltYWdlUmVzb3VyY2UgPSAoZnVuY3Rpb24gKFJlc291cmNlJCQxKSB7XG4gICAgZnVuY3Rpb24gQmFzZUltYWdlUmVzb3VyY2Uoc291cmNlKVxuICAgIHtcbiAgICAgICAgUmVzb3VyY2UkJDEuY2FsbCh0aGlzLCBzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIGVsZW1lbnRcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fFNWR0VsZW1lbnR9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuXG4gICAgaWYgKCBSZXNvdXJjZSQkMSApIEJhc2VJbWFnZVJlc291cmNlLl9fcHJvdG9fXyA9IFJlc291cmNlJCQxO1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFJlc291cmNlJCQxICYmIFJlc291cmNlJCQxLnByb3RvdHlwZSApO1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhc2VJbWFnZVJlc291cmNlO1xuXG4gICAgLyoqXG4gICAgICogU2V0IGNyb3NzIG9yaWdpbiBiYXNlZCBkZXRlY3RpbmcgdGhlIHVybCBhbmQgdGhlIGNyb3Nzb3JpZ2luXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBFbGVtZW50IHRvIGFwcGx5IGNyb3NzT3JpZ2luXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFVSTCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbnxzdHJpbmd9IFtjcm9zc29yaWdpbj10cnVlXSAtIENyb3NzIG9yaWdpbiB2YWx1ZSB0byB1c2VcbiAgICAgKi9cbiAgICBCYXNlSW1hZ2VSZXNvdXJjZS5jcm9zc09yaWdpbiA9IGZ1bmN0aW9uIGNyb3NzT3JpZ2luIChlbGVtZW50LCB1cmwsIGNyb3Nzb3JpZ2luKVxuICAgIHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luID09PSB1bmRlZmluZWQgJiYgdXJsLmluZGV4T2YoJ2RhdGE6JykgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3Jvc3NPcmlnaW4gPSBkZXRlcm1pbmVDcm9zc09yaWdpbih1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNyb3Nzb3JpZ2luICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgZWxlbWVudC5jcm9zc09yaWdpbiA9IHR5cGVvZiBjcm9zc29yaWdpbiA9PT0gJ3N0cmluZycgPyBjcm9zc29yaWdpbiA6ICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgdGV4dHVyZSB0byB0aGUgR1BVLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgVXBsb2FkIHRvIHRoZSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgUmVmZXJlbmNlIHRvIHBhcmVudCB0ZXh0dXJlXG4gICAgICogQHBhcmFtIHtQSVhJLmdsQ29yZS5HTFRleHR1cmV9IGdsVGV4dHVyZSBSZWZlcmVuY2VcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudHxTVkdFbGVtZW50fSBzb3VyY2UgKG9wdGlvbmFsKVxuICAgICAqL1xuICAgIEJhc2VJbWFnZVJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlLCBzb3VyY2UpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcbiAgICAgICAgdmFyIHdpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gYmFzZVRleHR1cmUucmVhbEhlaWdodDtcblxuICAgICAgICBzb3VyY2UgPSBzb3VyY2UgfHwgdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSB3aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBoZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMCwgMCwgMCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICBnbFRleHR1cmUuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGJhc2VUZXh0dXJlLmZvcm1hdCwgYmFzZVRleHR1cmUuZm9ybWF0LCBiYXNlVGV4dHVyZS50eXBlLCBzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gW2Zyb21UZXh0dXJlXSBPcHRpb25hbCBiYXNlIHRleHR1cmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBEZXN0cm95IHdhcyBzdWNjZXNzZnVsXG4gICAgICovXG4gICAgQmFzZUltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB0aGlzLnNvdXJjZSA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXNlSW1hZ2VSZXNvdXJjZTtcbn0oUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MSW1hZ2VFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKi9cbnZhciBJbWFnZVJlc291cmNlID0gKGZ1bmN0aW9uIChCYXNlSW1hZ2VSZXNvdXJjZSQkMSkge1xuICAgIGZ1bmN0aW9uIEltYWdlUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgSFRNTEltYWdlRWxlbWVudCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UkJDEuY3Jvc3NPcmlnaW4oaW1hZ2VFbGVtZW50LCBzb3VyY2UsIG9wdGlvbnMuY3Jvc3NvcmlnaW4pO1xuXG4gICAgICAgICAgICBpbWFnZUVsZW1lbnQuc3JjID0gc291cmNlO1xuICAgICAgICAgICAgc291cmNlID0gaW1hZ2VFbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UkJDEuY2FsbCh0aGlzLCBzb3VyY2UpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVUkwgb2YgdGhlIGltYWdlIHNvdXJjZVxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHNvdXJjZS5zcmM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gcHJvY2VzcyBpcyBjb21wbGV0ZWRcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0aGUgaW1hZ2Ugc2hvdWxkIGJlIGRpc3Bvc2VkIGFmdGVyIHVwbG9hZFxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wcmVzZXJ2ZUJpdG1hcCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBjYXBhYmxlLCBjb252ZXJ0IHRoZSBpbWFnZSB1c2luZyBjcmVhdGVJbWFnZUJpdG1hcCBBUElcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5DUkVBVEVfSU1BR0VfQklUTUFQXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyZWF0ZUJpdG1hcCA9IG9wdGlvbnMuY3JlYXRlQml0bWFwICE9PSBmYWxzZSAmJiBzZXR0aW5ncyQxLkNSRUFURV9JTUFHRV9CSVRNQVAgJiYgISF3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnRyb2xzIHRleHR1cmUgcHJlbXVsdGlwbHlBbHBoYSBmaWVsZFxuICAgICAgICAgKiBDb3BpZXMgZnJvbSBvcHRpb25zXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW58bnVsbH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGx5QWxwaGEgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgSW1hZ2VCaXRtYXAgZWxlbWVudCBjcmVhdGVkIGZvciBIVE1MSW1hZ2VFbGVtZW50XG4gICAgICAgICAqIEBtZW1iZXIge0ltYWdlQml0bWFwfVxuICAgICAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlJCQxICkgSW1hZ2VSZXNvdXJjZS5fX3Byb3RvX18gPSBCYXNlSW1hZ2VSZXNvdXJjZSQkMTtcbiAgICBJbWFnZVJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VJbWFnZVJlc291cmNlJCQxICYmIEJhc2VJbWFnZVJlc291cmNlJCQxLnByb3RvdHlwZSApO1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW1hZ2VSZXNvdXJjZTtcblxuICAgIC8qKlxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHdoZW4gaW1hZ2Ugd2lsbCBiZSBsb2FkZWQgYW5kIHByb2Nlc3NlZFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY3JlYXRlQml0bWFwPXRydWVdIHdoZXRoZXIgcHJvY2VzcyBpbWFnZSBpbnRvIGJpdG1hcFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkIChjcmVhdGVCaXRtYXApXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAoY3JlYXRlQml0bWFwICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQml0bWFwID0gY3JlYXRlQml0bWFwO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICB0aGlzJDEudXJsID0gdGhpcyQxLnNvdXJjZS5zcmM7XG4gICAgICAgICAgICB2YXIgcmVmID0gdGhpcyQxO1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IHJlZi5zb3VyY2U7XG5cbiAgICAgICAgICAgIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMkMS5kZXN0cm95ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmVycm9yID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIHRoaXMkMS5yZXNpemUoc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICB0aGlzJDEuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMkMS5jcmVhdGVCaXRtYXApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMkMS5wcm9jZXNzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHNvdXJjZS5jb21wbGV0ZSAmJiBzb3VyY2Uuc3JjKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5vbmxvYWQgPSBjb21wbGV0ZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB3ZSBuZWVkIHRvIGNvbnZlcnQgaW1hZ2UgaW50byBCaXRtYXBJbWFnZS5cbiAgICAgKiBDYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCByZWFsIHByb21pc2UgaXMgY2FjaGVkIGluc2lkZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBjYWNoZWQgcHJvbWlzZSB0byBmaWxsIHRoYXQgYml0bWFwXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUucHJvY2VzcyA9IGZ1bmN0aW9uIHByb2Nlc3MgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9wcm9jZXNzICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iaXRtYXAgIT09IG51bGwgfHwgIXdpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3Byb2Nlc3MgPSB3aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXAodGhpcy5zb3VyY2UsXG4gICAgICAgICAgICAwLCAwLCB0aGlzLnNvdXJjZS53aWR0aCwgdGhpcy5zb3VyY2UuaGVpZ2h0LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByZW11bHRpcGx5QWxwaGE6IHRoaXMucHJlbXVsdGlwbHlBbHBoYSA/ICdwcmVtdWx0aXBseScgOiAnbm9uZScsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGJpdG1hcCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzJDEuZGVzdHJveWVkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMkMS5iaXRtYXAgPSBiaXRtYXA7XG4gICAgICAgICAgICAgICAgdGhpcyQxLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fcHJvY2VzcyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvY2VzcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBsb2FkIHRoZSBpbWFnZSByZXNvdXJjZSB0byBHUFUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gUmVuZGVyZXIgdG8gdXBsb2FkIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEJhc2VUZXh0dXJlIGZvciB0aGlzIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtQSVhJLmdsQ29yZS5UZXh0dXJlfSBnbFRleHR1cmUgLSBHTFRleHR1cmUgdG8gdXNlXG4gICAgICovXG4gICAgSW1hZ2VSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPSB0aGlzLnByZW11bHRpcGx5QWxwaGE7XG5cbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlQml0bWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYml0bWFwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHllYWgsIGlnbm9yZSB0aGUgb3V0cHV0XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJpdG1hcClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEJhc2VJbWFnZVJlc291cmNlJCQxLnByb3RvdHlwZS51cGxvYWQuY2FsbCh0aGlzLCByZW5kZXJlciwgYmFzZVRleHR1cmUsIGdsVGV4dHVyZSwgdGhpcy5iaXRtYXApO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVCaXRtYXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0bWFwLmNsb3NlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJpdG1hcCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZSQkMS5wcm90b3R5cGUudXBsb2FkLmNhbGwodGhpcywgcmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgdGV4dHVyZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEltYWdlUmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZSQkMS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIGlmICh0aGlzLmJpdG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5iaXRtYXAuY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuYml0bWFwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm9jZXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBJbWFnZVJlc291cmNlO1xufShCYXNlSW1hZ2VSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIEhUTUxDYW52YXNFbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBzb3VyY2UgLSBDYW52YXMgZWxlbWVudCB0byB1c2VcbiAqL1xudmFyIENhbnZhc1Jlc291cmNlID0gKGZ1bmN0aW9uIChCYXNlSW1hZ2VSZXNvdXJjZSQkMSkge1xuICAgIGZ1bmN0aW9uIENhbnZhc1Jlc291cmNlICgpIHtcbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UkJDEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlJCQxICkgQ2FudmFzUmVzb3VyY2UuX19wcm90b19fID0gQmFzZUltYWdlUmVzb3VyY2UkJDE7XG4gICAgQ2FudmFzUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZUltYWdlUmVzb3VyY2UkJDEgJiYgQmFzZUltYWdlUmVzb3VyY2UkJDEucHJvdG90eXBlICk7XG4gICAgQ2FudmFzUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ2FudmFzUmVzb3VyY2U7XG5cbiAgICBDYW52YXNSZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gdGVzdCAoc291cmNlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIChzb3VyY2UgaW5zdGFuY2VvZiBIVE1MQ2FudmFzRWxlbWVudCk7XG4gICAgfTtcblxuICAgIHJldHVybiBDYW52YXNSZXNvdXJjZTtcbn0oQmFzZUltYWdlUmVzb3VyY2UpKTtcblxuLyoqXG4gKiBSZXNvdXJjZSB0eXBlIGZvciBIVE1MVmlkZW9FbGVtZW50LlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5CYXNlSW1hZ2VSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge0hUTUxWaWRlb0VsZW1lbnR8b2JqZWN0fHN0cmluZ3xBcnJheTxzdHJpbmd8b2JqZWN0Pn0gc291cmNlIC0gVmlkZW8gZWxlbWVudCB0byB1c2UuXG4gKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gT3B0aW9ucyB0byB1c2VcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gLSBTdGFydCBsb2FkaW5nIHRoZSB2aWRlbyBpbW1lZGlhdGVseVxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5hdXRvUGxheT10cnVlXSAtIFN0YXJ0IHBsYXlpbmcgdmlkZW8gaW1tZWRpYXRlbHlcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY3Jvc3NvcmlnaW49dHJ1ZV0gLSBMb2FkIGltYWdlIHVzaW5nIGNyb3NzIG9yaWdpblxuICovXG52YXIgVmlkZW9SZXNvdXJjZSA9IChmdW5jdGlvbiAoQmFzZUltYWdlUmVzb3VyY2UkJDEpIHtcbiAgICBmdW5jdGlvbiBWaWRlb1Jlc291cmNlKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmICghKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTtcblxuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgnd2Via2l0LXBsYXlzaW5saW5lJywgJycpO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UgPSBbc291cmNlXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UkJDEuY3Jvc3NPcmlnaW4odmlkZW9FbGVtZW50LCAoc291cmNlWzBdLnNyYyB8fCBzb3VyY2VbMF0pLCBvcHRpb25zLmNyb3Nzb3JpZ2luKTtcblxuICAgICAgICAgICAgLy8gYXJyYXkgb2Ygb2JqZWN0cyBvciBzdHJpbmdzXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlZiA9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgc3JjID0gcmVmLnNyYztcbiAgICAgICAgICAgICAgICB2YXIgbWltZSA9IHJlZi5taW1lO1xuXG4gICAgICAgICAgICAgICAgc3JjID0gc3JjIHx8IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICBtaW1lID0gbWltZSB8fCAoXCJ2aWRlby9cIiArIChzcmMuc3Vic3RyKHNyYy5sYXN0SW5kZXhPZignLicpICsgMSkpKTtcbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnNyYyA9IHNyYztcbiAgICAgICAgICAgICAgICBzb3VyY2VFbGVtZW50LnR5cGUgPSBtaW1lO1xuXG4gICAgICAgICAgICAgICAgdmlkZW9FbGVtZW50LmFwcGVuZENoaWxkKHNvdXJjZUVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgc291cmNlXG4gICAgICAgICAgICBzb3VyY2UgPSB2aWRlb0VsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZSQkMS5jYWxsKHRoaXMsIHNvdXJjZSk7XG5cbiAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2lzQXV0b1VwZGF0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUgd2lsbCBhdXRvbWF0aWNhbGx5IHBsYXkgdmlkZW9zIHVzZWQgYnkgdGhpcyB0ZXh0dXJlIG9uY2VcbiAgICAgICAgICogdGhleSBhcmUgbG9hZGVkLiBJZiBmYWxzZSwgaXQgd2lsbCBub3QgbW9kaWZ5IHRoZSBwbGF5aW5nIHN0YXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9QbGF5ID0gb3B0aW9ucy5hdXRvUGxheSAhPT0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsYmFjayB3aGVuIGNvbXBsZXRlZCB3aXRoIGxvYWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG5cbiAgICAgICAgLy8gQmluZCBmb3IgbGlzdGVuZXJzXG4gICAgICAgIHRoaXMuX29uQ2FuUGxheSA9IHRoaXMuX29uQ2FuUGxheS5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlJCQxICkgVmlkZW9SZXNvdXJjZS5fX3Byb3RvX18gPSBCYXNlSW1hZ2VSZXNvdXJjZSQkMTtcbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEJhc2VJbWFnZVJlc291cmNlJCQxICYmIEJhc2VJbWFnZVJlc291cmNlJCQxLnByb3RvdHlwZSApO1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVmlkZW9SZXNvdXJjZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGF1dG9VcGRhdGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiBsb2FkICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5fbG9hZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc291cmNlID0gdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgaWYgKChzb3VyY2UucmVhZHlTdGF0ZSA9PT0gc291cmNlLkhBVkVfRU5PVUdIX0RBVEEgfHwgc291cmNlLnJlYWR5U3RhdGUgPT09IHNvdXJjZS5IQVZFX0ZVVFVSRV9EQVRBKVxuICAgICAgICAgICAgJiYgc291cmNlLndpZHRoICYmIHNvdXJjZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNvdXJjZS5jb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIHRoaXMuX29uUGxheVN0YXJ0LmJpbmQodGhpcykpO1xuICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcigncGF1c2UnLCB0aGlzLl9vblBsYXlTdG9wLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGlmICghdGhpcy5faXNTb3VyY2VSZWFkeSgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgICAgICBzb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9vbkNhblBsYXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fb25DYW5QbGF5KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sb2FkID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzJDEudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzJDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fcmVzb2x2ZSA9IHJlc29sdmU7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2UubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIHNvdXJjZSBpcyBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHBsYXlpbmcuXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX2lzU291cmNlUGxheWluZyA9IGZ1bmN0aW9uIF9pc1NvdXJjZVBsYXlpbmcgKClcbiAgICB7XG4gICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcblxuICAgICAgICByZXR1cm4gKHNvdXJjZS5jdXJyZW50VGltZSA+IDAgJiYgc291cmNlLnBhdXNlZCA9PT0gZmFsc2UgJiYgc291cmNlLmVuZGVkID09PSBmYWxzZSAmJiBzb3VyY2UucmVhZHlTdGF0ZSA+IDIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgc291cmNlIGlzIHJlYWR5IGZvciBwbGF5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlYWR5LlxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9pc1NvdXJjZVJlYWR5ID0gZnVuY3Rpb24gX2lzU291cmNlUmVhZHkgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZS5yZWFkeVN0YXRlID09PSAzIHx8IHRoaXMuc291cmNlLnJlYWR5U3RhdGUgPT09IDQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJ1bnMgdGhlIHVwZGF0ZSBsb29wIHdoZW4gdGhlIHZpZGVvIGlzIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uUGxheVN0YXJ0ID0gZnVuY3Rpb24gX29uUGxheVN0YXJ0ICgpXG4gICAge1xuICAgICAgICAvLyBKdXN0IGluIGNhc2UgdGhlIHZpZGVvIGhhcyBub3QgcmVjZWl2ZWQgaXRzIGNhbiBwbGF5IGV2ZW4geWV0Li5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9vbkNhblBsYXkoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5faXNBdXRvVXBkYXRpbmcgJiYgdGhpcy5hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlyZWQgd2hlbiBhIHBhdXNlIGV2ZW50IGlzIHRyaWdnZXJlZCwgc3RvcHMgdGhlIHVwZGF0ZSBsb29wXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZpZGVvUmVzb3VyY2UucHJvdG90eXBlLl9vblBsYXlTdG9wID0gZnVuY3Rpb24gX29uUGxheVN0b3AgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9pc0F1dG9VcGRhdGluZylcbiAgICAgICAge1xuICAgICAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlZCB3aGVuIHRoZSB2aWRlbyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIHBsYXlcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUuX29uQ2FuUGxheSA9IGZ1bmN0aW9uIF9vbkNhblBsYXkgKClcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgc291cmNlID0gcmVmLnNvdXJjZTtcblxuICAgICAgICBzb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuX29uQ2FuUGxheSk7XG4gICAgICAgIHNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX29uQ2FuUGxheSk7XG5cbiAgICAgICAgdmFyIHZhbGlkID0gdGhpcy52YWxpZDtcblxuICAgICAgICB0aGlzLnJlc2l6ZShzb3VyY2UudmlkZW9XaWR0aCwgc291cmNlLnZpZGVvSGVpZ2h0KTtcblxuICAgICAgICAvLyBwcmV2ZW50IG11bHRpcGxlIGxvYWRlZCBkaXNwYXRjaGVzLi5cbiAgICAgICAgaWYgKCF2YWxpZCAmJiB0aGlzLl9yZXNvbHZlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faXNTb3VyY2VQbGF5aW5nKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX29uUGxheVN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hdXRvUGxheSlcbiAgICAgICAge1xuICAgICAgICAgICAgc291cmNlLnBsYXkoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBWaWRlb1Jlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zb3VyY2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnBhdXNlKCk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5zcmMgPSAnJztcbiAgICAgICAgICAgIHRoaXMuc291cmNlLmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBCYXNlSW1hZ2VSZXNvdXJjZSQkMS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGhlIGJhc2UgdGV4dHVyZSBhdXRvbWF0aWNhbGx5IHVwZGF0ZSBpdHNlbGYsIHNldCB0byB0cnVlIGJ5IGRlZmF1bHRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmF1dG9VcGRhdGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRvVXBkYXRlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYXV0b1VwZGF0ZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9hdXRvVXBkYXRlID0gdmFsdWU7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fYXV0b1VwZGF0ZSAmJiB0aGlzLl9pc0F1dG9VcGRhdGluZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnVwZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNBdXRvVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2F1dG9VcGRhdGUgJiYgIXRoaXMuX2lzQXV0b1VwZGF0aW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFRpY2tlci5zaGFyZWQuYWRkKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9pc0F1dG9VcGRhdGluZyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dGVuc2lvbiAtIFRoZSBleHRlbnNpb24gb2Ygc291cmNlLCBpZiBzZXRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBgdHJ1ZWAgaWYgdmlkZW8gc291cmNlXG4gICAgICovXG4gICAgVmlkZW9SZXNvdXJjZS50ZXN0ID0gZnVuY3Rpb24gdGVzdCAoc291cmNlLCBleHRlbnNpb24pXG4gICAge1xuICAgICAgICByZXR1cm4gKHNvdXJjZSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpXG4gICAgICAgICAgICB8fCBWaWRlb1Jlc291cmNlLlRZUEVTLmluZGV4T2YoZXh0ZW5zaW9uKSA+IC0xO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggVmlkZW9SZXNvdXJjZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFZpZGVvUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogTGlzdCBvZiBjb21tb24gdmlkZW8gZmlsZSBleHRlbnNpb25zIHN1cHBvcnRlZCBieSBWaWRlb1Jlc291cmNlLlxuICogQGNvbnN0YW50XG4gKiBAbWVtYmVyIHtBcnJheTxzdHJpbmc+fVxuICogQHN0YXRpY1xuICogQHJlYWRvbmx5XG4gKi9cblZpZGVvUmVzb3VyY2UuVFlQRVMgPSBbJ21wNCcsICdtNHYnLCAnd2VibScsICdvZ2cnLCAnb2d2JywgJ2gyNjQnLCAnYXZpJywgJ21vdiddO1xuXG4vKipcbiAqIFJlc291cmNlIHR5cGUgZm9yIFNWRyBlbGVtZW50cyBhbmQgZ3JhcGhpY3MuXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucmVzb3VyY2VzLlRleHR1cmVSZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIC0gQmFzZTY0IGVuY29kZWQgU1ZHIGVsZW1lbnQgb3IgVVJMIGZvciBTVkcgZmlsZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBPcHRpb25zIHRvIHVzZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnNjYWxlPTFdIFNjYWxlIHRvIGFwcGx5IHRvIFNWRy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYXV0b0xvYWQ9dHJ1ZV0gU3RhcnQgbG9hZGluZyByaWdodCBhd2F5LlxuICovXG52YXIgU1ZHUmVzb3VyY2UgPSAoZnVuY3Rpb24gKEJhc2VJbWFnZVJlc291cmNlJCQxKSB7XG4gICAgZnVuY3Rpb24gU1ZHUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgQmFzZUltYWdlUmVzb3VyY2UkJDEuY2FsbCh0aGlzLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhc2U2NCBlbmNvZGVkIFNWRyBlbGVtZW50IG9yIFVSTCBmb3IgU1ZHIGZpbGVcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3ZnID0gc291cmNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc291cmNlIHNjYWxlIHRvIGFwcGx5IHRvIHJlbmRlclxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZSA9IG9wdGlvbnMuc2NhbGUgfHwgMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbCB3aGVuIGNvbXBsZXRlbHkgbG9hZGVkXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21pc2Ugd2hlbiBsb2FkaW5nXG4gICAgICAgICAqIEBtZW1iZXIge1Byb21pc2V9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xvYWQgPSBudWxsO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9Mb2FkICE9PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIEJhc2VJbWFnZVJlc291cmNlJCQxICkgU1ZHUmVzb3VyY2UuX19wcm90b19fID0gQmFzZUltYWdlUmVzb3VyY2UkJDE7XG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZUltYWdlUmVzb3VyY2UkJDEgJiYgQmFzZUltYWdlUmVzb3VyY2UkJDEucHJvdG90eXBlICk7XG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU1ZHUmVzb3VyY2U7XG5cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIGxvYWQgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLl9sb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWQgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGlzIHVudGlsIGFmdGVyIGxvYWQgaXMgZmluaXNoZWRcbiAgICAgICAgICAgIHRoaXMkMS5fcmVzb2x2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEucmVzaXplKHRoaXMkMS5zb3VyY2Uud2lkdGgsIHRoaXMkMS5zb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMkMSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBDb252ZXJ0IFNWRyBpbmxpbmUgc3RyaW5nIHRvIGRhdGEtdXJpXG4gICAgICAgICAgICBpZiAoL15cXDxzdmcvLnRlc3QodGhpcyQxLnN2Zy50cmltKCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5zdmcgPSBcImRhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LFwiICsgKHRoaXMkMS5zdmcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVja3MgaWYgYHNvdXJjZWAgaXMgYW4gU1ZHIGltYWdlIGFuZCB3aGV0aGVyIGl0J3NcbiAgICAgICAgICAgIC8vIGxvYWRlZCB2aWEgYSBVUkwgb3IgYSBkYXRhIFVSSS4gVGhlbiBjYWxsc1xuICAgICAgICAgICAgLy8gYF9sb2FkRGF0YVVyaWAgb3IgYF9sb2FkWGhyYC5cbiAgICAgICAgICAgIHZhciBkYXRhVXJpID0gZGVjb21wb3NlRGF0YVVyaSh0aGlzJDEuc3ZnKTtcblxuICAgICAgICAgICAgaWYgKGRhdGFVcmkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl9sb2FkRGF0YVVyaShkYXRhVXJpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBnb3QgYW4gVVJMLCBzbyB3ZSBuZWVkIHRvIGRvIGFuIFhIUiB0byBjaGVjayB0aGUgc3ZnIHNpemVcbiAgICAgICAgICAgICAgICB0aGlzJDEuX2xvYWRYaHIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlYWRzIGFuIFNWRyBzdHJpbmcgZnJvbSBkYXRhIFVSSSBhbmQgdGhlbiBjYWxscyBgX2xvYWRTdHJpbmdgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGFVcmkgLSBUaGUgZGF0YSB1cmkgdG8gbG9hZCBmcm9tLlxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5fbG9hZERhdGFVcmkgPSBmdW5jdGlvbiBfbG9hZERhdGFVcmkgKGRhdGFVcmkpXG4gICAge1xuICAgICAgICB2YXIgc3ZnU3RyaW5nO1xuXG4gICAgICAgIGlmIChkYXRhVXJpLmVuY29kaW5nID09PSAnYmFzZTY0JylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFhdG9iKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91ciBicm93c2VyIGRvZXNuXFwndCBzdXBwb3J0IGJhc2U2NCBjb252ZXJzaW9ucy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN2Z1N0cmluZyA9IGF0b2IoZGF0YVVyaS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN2Z1N0cmluZyA9IGRhdGFVcmkuZGF0YTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRTdHJpbmcoc3ZnU3RyaW5nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgYW4gU1ZHIHN0cmluZyBmcm9tIGBpbWFnZVVybGAgdXNpbmcgWEhSIGFuZCB0aGVuIGNhbGxzIGBfbG9hZFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnByb3RvdHlwZS5fbG9hZFhociA9IGZ1bmN0aW9uIF9sb2FkWGhyICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgc3ZnWGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gVGhpcyB0aHJvd3MgZXJyb3Igb24gSUUsIHNvIFNWRyBEb2N1bWVudCBjYW4ndCBiZSB1c2VkXG4gICAgICAgIC8vIHN2Z1hoci5yZXNwb25zZVR5cGUgPSAnZG9jdW1lbnQnO1xuXG4gICAgICAgIC8vIFRoaXMgaXMgbm90IG5lZWRlZCBzaW5jZSB3ZSBsb2FkIHRoZSBzdmcgYXMgc3RyaW5nIChicmVha3MgSUUgdG9vKVxuICAgICAgICAvLyBidXQgb3ZlcnJpZGVNaW1lVHlwZSgpIGNhbiBiZSB1c2VkIHRvIGZvcmNlIHRoZSByZXNwb25zZSB0byBiZSBwYXJzZWQgYXMgWE1MXG4gICAgICAgIC8vIHN2Z1hoci5vdmVycmlkZU1pbWVUeXBlKCdpbWFnZS9zdmcreG1sJyk7XG5cbiAgICAgICAgc3ZnWGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChzdmdYaHIucmVhZHlTdGF0ZSAhPT0gc3ZnWGhyLkRPTkUgfHwgc3ZnWGhyLnN0YXR1cyAhPT0gMjAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgU1ZHIHVzaW5nIFhIUi4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcyQxLl9sb2FkU3RyaW5nKHN2Z1hoci5yZXNwb25zZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc3ZnWGhyLm9uZXJyb3IgPSAoKSA9PiB0aGlzLmVtaXQoJ2Vycm9yJywgdGhpcyk7XG5cbiAgICAgICAgc3ZnWGhyLm9wZW4oJ0dFVCcsIHRoaXMuc3ZnLCB0cnVlKTtcbiAgICAgICAgc3ZnWGhyLnNlbmQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGV4dHVyZSB1c2luZyBhbiBTVkcgc3RyaW5nLiBUaGUgb3JpZ2luYWwgU1ZHIEltYWdlIGlzIHN0b3JlZCBhcyBgb3JpZ1NvdXJjZWAgYW5kIHRoZVxuICAgICAqIGNyZWF0ZWQgY2FudmFzIGlzIHRoZSBuZXcgYHNvdXJjZWAuIFRoZSBTVkcgaXMgc2NhbGVkIHVzaW5nIGBzb3VyY2VTY2FsZWAuIENhbGxlZCBieVxuICAgICAqIGBfbG9hZFhocmAgb3IgYF9sb2FkRGF0YVVyaWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge3N0cmluZ30gc3ZnU3RyaW5nIFNWRyBzb3VyY2UgYXMgc3RyaW5nXG4gICAgICpcbiAgICAgKiBAZmlyZXMgbG9hZGVkXG4gICAgICovXG4gICAgU1ZHUmVzb3VyY2UucHJvdG90eXBlLl9sb2FkU3RyaW5nID0gZnVuY3Rpb24gX2xvYWRTdHJpbmcgKHN2Z1N0cmluZylcbiAgICB7XG4gICAgICAgIHZhciBzdmdTaXplID0gU1ZHUmVzb3VyY2UuZ2V0U2l6ZShzdmdTdHJpbmcpO1xuXG4gICAgICAgIC8vIFRPRE8gZG8gd2UgbmVlZCB0byB3YWl0IGZvciB0aGlzIHRvIGxvYWQ/XG4gICAgICAgIC8vIHNlZW1zIGluc3RhbnQhXG4gICAgICAgIC8vXG4gICAgICAgIHZhciB0ZW1wSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICB0ZW1wSW1hZ2Uuc3JjID0gXCJkYXRhOmltYWdlL3N2Zyt4bWwsXCIgKyBzdmdTdHJpbmc7XG5cbiAgICAgICAgdmFyIHN2Z1dpZHRoID0gc3ZnU2l6ZS53aWR0aDtcbiAgICAgICAgdmFyIHN2Z0hlaWdodCA9IHN2Z1NpemUuaGVpZ2h0O1xuXG4gICAgICAgIGlmICghc3ZnV2lkdGggfHwgIXN2Z0hlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgU1ZHIGltYWdlIG11c3QgaGF2ZSB3aWR0aCBhbmQgaGVpZ2h0IGRlZmluZWQgKGluIHBpeGVscyksIGNhbnZhcyBBUEkgbmVlZHMgdGhlbS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNjYWxlIHJlYWxXaWR0aCBhbmQgcmVhbEhlaWdodFxuICAgICAgICB0aGlzLl93aWR0aCA9IE1hdGgucm91bmQoc3ZnV2lkdGggKiB0aGlzLnNjYWxlKTtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gTWF0aC5yb3VuZChzdmdIZWlnaHQgKiB0aGlzLnNjYWxlKTtcblxuICAgICAgICAvLyBDcmVhdGUgYSBjYW52YXMgZWxlbWVudFxuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5zb3VyY2U7XG5cbiAgICAgICAgY2FudmFzLndpZHRoID0gdGhpcy5fd2lkdGg7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIGNhbnZhcy5fcGl4aUlkID0gXCJjYW52YXNfXCIgKyAodWlkKCkpO1xuXG4gICAgICAgIC8vIERyYXcgdGhlIFN2ZyB0byB0aGUgY2FudmFzXG4gICAgICAgIGNhbnZhc1xuICAgICAgICAgICAgLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgICAgIC5kcmF3SW1hZ2UodGVtcEltYWdlLCAwLCAwLCBzdmdXaWR0aCwgc3ZnSGVpZ2h0LCAwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5fcmVzb2x2ZSgpO1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHlwZWRlZiBmb3IgU2l6ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBQSVhJLnJlc291cmNlcy5TVkdSZXNvdXJjZX5TaXplXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoIC0gV2lkdGggY29tcG9uZW50XG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGhlaWdodCAtIEhlaWdodCBjb21wb25lbnRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEdldCBzaXplIGZyb20gYW4gc3ZnIHN0cmluZyB1c2luZyByZWdleHAuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN2Z1N0cmluZyAtIGEgc2VyaWFsaXplZCBzdmcgZWxlbWVudFxuICAgICAqIEByZXR1cm4ge1BJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlflNpemV9IGltYWdlIGV4dGVuc2lvblxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLmdldFNpemUgPSBmdW5jdGlvbiBnZXRTaXplIChzdmdTdHJpbmcpXG4gICAge1xuICAgICAgICB2YXIgc2l6ZU1hdGNoID0gU1ZHUmVzb3VyY2UuU1ZHX1NJWkUuZXhlYyhzdmdTdHJpbmcpO1xuICAgICAgICB2YXIgc2l6ZSA9IHt9O1xuXG4gICAgICAgIGlmIChzaXplTWF0Y2gpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzFdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbM10pKTtcbiAgICAgICAgICAgIHNpemVbc2l6ZU1hdGNoWzVdXSA9IE1hdGgucm91bmQocGFyc2VGbG9hdChzaXplTWF0Y2hbN10pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaXplO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIHRleHR1cmVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBTVkdSZXNvdXJjZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIEJhc2VJbWFnZVJlc291cmNlJCQxLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIHRvIGF1dG8tZGV0ZWN0IHRoZSB0eXBlIG9mIHJlc291cmNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7Kn0gc291cmNlIC0gVGhlIHNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXh0ZW5zaW9uIC0gVGhlIGV4dGVuc2lvbiBvZiBzb3VyY2UsIGlmIHNldFxuICAgICAqL1xuICAgIFNWR1Jlc291cmNlLnRlc3QgPSBmdW5jdGlvbiB0ZXN0IChzb3VyY2UsIGV4dGVuc2lvbilcbiAgICB7XG4gICAgICAgIC8vIHVybCBmaWxlIGV4dGVuc2lvbiBpcyBTVkdcbiAgICAgICAgcmV0dXJuIGV4dGVuc2lvbiA9PT0gJ3N2ZydcbiAgICAgICAgICAgIC8vIHNvdXJjZSBpcyBTVkcgZGF0YS11cmlcbiAgICAgICAgICAgIHx8ICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyAmJiBzb3VyY2UuaW5kZXhPZignZGF0YTppbWFnZS9zdmcreG1sJykgPT09IDApO1xuICAgIH07XG5cbiAgICByZXR1cm4gU1ZHUmVzb3VyY2U7XG59KEJhc2VJbWFnZVJlc291cmNlKSk7XG5cbi8qKlxuICogUmVnRXhwIGZvciBTVkcgc2l6ZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFNWR19TSVpFXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXMuU1ZHUmVzb3VyY2VcbiAqIEB0eXBlIHtSZWdFeHB8c3RyaW5nfVxuICogQGV4YW1wbGUgJmx0O3N2ZyB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiJmd0OyZsdDsvc3ZnJmd0O1xuICovXG5TVkdSZXNvdXJjZS5TVkdfU0laRSA9IC88c3ZnW14+XSooPzpcXHMod2lkdGh8aGVpZ2h0KT0oJ3xcIikoXFxkKig/OlxcLlxcZCspPykoPzpweCk/KCd8XCIpKVtePl0qKD86XFxzKHdpZHRofGhlaWdodCk9KCd8XCIpKFxcZCooPzpcXC5cXGQrKT8pKD86cHgpPygnfFwiKSlbXj5dKj4vaTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBtYXgtbGVuXG5cbi8qKlxuICogQnVmZmVyIHJlc291cmNlIHdpdGggZGF0YSBvZiB0eXBlZCBhcnJheS5cbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJLnJlc291cmNlc1xuICovXG52YXIgQnVmZmVyUmVzb3VyY2UgPSAoZnVuY3Rpb24gKFJlc291cmNlJCQxKSB7XG4gICAgZnVuY3Rpb24gQnVmZmVyUmVzb3VyY2Uoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIHZhciB3aWR0aCA9IHJlZi53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IHJlZi5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKCF3aWR0aCB8fCAhaGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0J1ZmZlclJlc291cmNlIHdpZHRoIG9yIGhlaWdodCBpbnZhbGlkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBSZXNvdXJjZSQkMS5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTb3VyY2UgYXJyYXlcbiAgICAgICAgICogQ2Fubm90IGJlIENsYW1wZWRVaW50OEFycmF5IGJlY2F1c2UgaXQgY2FudCBiZSB1cGxvYWRlZCB0byBXZWJHTFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl8VWludDhBcnJheXxVaW50MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IHNvdXJjZTtcbiAgICB9XG5cbiAgICBpZiAoIFJlc291cmNlJCQxICkgQnVmZmVyUmVzb3VyY2UuX19wcm90b19fID0gUmVzb3VyY2UkJDE7XG4gICAgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggUmVzb3VyY2UkJDEgJiYgUmVzb3VyY2UkJDEucHJvdG90eXBlICk7XG4gICAgQnVmZmVyUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQnVmZmVyUmVzb3VyY2U7XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgdGhlIHRleHR1cmUgdG8gdGhlIEdQVS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIFVwbG9hZCB0byB0aGUgcmVuZGVyZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIFJlZmVyZW5jZSB0byBwYXJlbnQgdGV4dHVyZVxuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS51cGxvYWQgPSBmdW5jdGlvbiB1cGxvYWQgKHJlbmRlcmVyLCBiYXNlVGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLndpZHRoID09PSBiYXNlVGV4dHVyZS53aWR0aCAmJiBnbFRleHR1cmUuaGVpZ2h0ID09PSBiYXNlVGV4dHVyZS5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLnRleFN1YkltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbFRleHR1cmUud2lkdGggPSBiYXNlVGV4dHVyZS53aWR0aDtcbiAgICAgICAgICAgIGdsVGV4dHVyZS5oZWlnaHQgPSBiYXNlVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIGdsLnRleEltYWdlMkQoXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUudGFyZ2V0LFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLndpZHRoLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmhlaWdodCxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpc1xuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEJ1ZmZlclJlc291cmNlLnByb3RvdHlwZS5kaXNwb3NlID0gZnVuY3Rpb24gZGlzcG9zZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byBhdXRvLWRldGVjdCB0aGUgdHlwZSBvZiByZXNvdXJjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZSAtIFRoZSBzb3VyY2Ugb2JqZWN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gYHRydWVgIGlmIDxjYW52YXM+XG4gICAgICovXG4gICAgQnVmZmVyUmVzb3VyY2UudGVzdCA9IGZ1bmN0aW9uIHRlc3QgKHNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiBzb3VyY2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXlcbiAgICAgICAgICAgIHx8IHNvdXJjZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5O1xuICAgIH07XG5cbiAgICByZXR1cm4gQnVmZmVyUmVzb3VyY2U7XG59KFJlc291cmNlKSk7XG5cbnZhciBkZWZhdWx0QnVmZmVyT3B0aW9ucyA9IHtcbiAgICBzY2FsZU1vZGU6IFNDQUxFX01PREVTLk5FQVJFU1QsXG4gICAgZm9ybWF0OiBGT1JNQVRTLlJHQkEsXG4gICAgcHJlbXVsdGlwbHlBbHBoYTogZmFsc2UsXG59O1xuXG4vKipcbiAqIEEgdGV4dHVyZSBzdG9yZXMgdGhlIGluZm9ybWF0aW9uIHRoYXQgcmVwcmVzZW50cyBhbiBpbWFnZS4gQWxsIHRleHR1cmVzIGhhdmUgYSBiYXNlIHRleHR1cmUuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnV0aWxzLkV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V8c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW3Jlc291cmNlPW51bGxdXG4gKiAgICAgICAgVGhlIGN1cnJlbnQgcmVzb3VyY2UgdG8gdXNlLCBmb3IgdGhpbmdzIHRoYXQgYXJlbid0IFJlc291cmNlIG9iamVjdHMsIHdpbGwgYmUgY29udmVydGVkXG4gKiAgICAgICAgaW50byBhIFJlc291cmNlLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIENvbGxlY3Rpb24gb2Ygb3B0aW9uc1xuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5taXBtYXA9UElYSS5zZXR0aW5ncy5NSVBNQVBfVEVYVFVSRVNdIC0gSWYgbWlwbWFwcGluZyBpcyBlbmFibGVkIGZvciB0ZXh0dXJlXG4gKiBAcGFyYW0ge1BJWEkuV1JBUF9NT0RFU30gW29wdGlvbnMud3JhcE1vZGU9UElYSS5zZXR0aW5ncy5XUkFQX01PREVdIC0gV3JhcCBtb2RlIGZvciB0ZXh0dXJlc1xuICogQHBhcmFtIHtQSVhJLlNDQUxFX01PREVTfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIERlZmF1bHQgc2NhbGUgbW9kZSwgbGluZWFyLCBuZWFyZXN0XG4gKiBAcGFyYW0ge1BJWEkuRk9STUFUU30gW29wdGlvbnMuZm9ybWF0PVBJWEkuRk9STUFUUy5SR0JBXSAtIEdMIGZvcm1hdCB0eXBlXG4gKiBAcGFyYW0ge1BJWEkuVFlQRVN9IFtvcHRpb25zLnR5cGU9UElYSS5UWVBFUy5VTlNJR05FRF9CWVRFXSAtIEdMIGRhdGEgdHlwZVxuICogQHBhcmFtIHtQSVhJLlRBUkdFVFN9IFtvcHRpb25zLnRhcmdldD1QSVhJLlRBUkdFVFMuVEVYVFVSRV8yRF0gLSBHTCB0ZXh0dXJlIHRhcmdldFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5wcmVtdWx0aXBseUFscGhhPXRydWVdIC0gUHJlIG11bHRpcGx5IHRoZSBpbWFnZSBhbHBoYVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLndpZHRoPTBdIC0gV2lkdGggb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5oZWlnaHQ9MF0gLSBIZWlnaHQgb2YgdGhlIHRleHR1cmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9ucy5yZXNvdXJjZU9wdGlvbnNdIC0gT3B0aW9uYWwgcmVzb3VyY2Ugb3B0aW9ucyxcbiAqICAgICAgICBzZWUge0BsaW5rIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZSBhdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKi9cbnZhciBCYXNlVGV4dHVyZSA9IChmdW5jdGlvbiAoRXZlbnRFbWl0dGVyJCQxKSB7XG4gICAgZnVuY3Rpb24gQmFzZVRleHR1cmUocmVzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAoIHJlc291cmNlID09PSB2b2lkIDAgKSByZXNvdXJjZSA9IG51bGw7XG4gICAgICAgIGlmICggb3B0aW9ucyA9PT0gdm9pZCAwICkgb3B0aW9ucyA9IG51bGw7XG5cbiAgICAgICAgRXZlbnRFbWl0dGVyJCQxLmNhbGwodGhpcyk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgdmFyIHByZW11bHRpcGx5QWxwaGEgPSBvcHRpb25zLnByZW11bHRpcGx5QWxwaGE7XG4gICAgICAgIHZhciBtaXBtYXAgPSBvcHRpb25zLm1pcG1hcDtcbiAgICAgICAgdmFyIHNjYWxlTW9kZSA9IG9wdGlvbnMuc2NhbGVNb2RlO1xuICAgICAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIHZhciB3cmFwTW9kZSA9IG9wdGlvbnMud3JhcE1vZGU7XG4gICAgICAgIHZhciBmb3JtYXQgPSBvcHRpb25zLmZvcm1hdDtcbiAgICAgICAgdmFyIHR5cGUgPSBvcHRpb25zLnR5cGU7XG4gICAgICAgIHZhciB0YXJnZXQgPSBvcHRpb25zLnRhcmdldDtcbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBvcHRpb25zLnJlc29sdXRpb247XG4gICAgICAgIHZhciByZXNvdXJjZU9wdGlvbnMgPSBvcHRpb25zLnJlc291cmNlT3B0aW9ucztcblxuICAgICAgICAvLyBDb252ZXJ0IHRoZSByZXNvdXJjZSB0byBhIFJlc291cmNlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UgJiYgIShyZXNvdXJjZSBpbnN0YW5jZW9mIFJlc291cmNlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb3VyY2UgPSBhdXRvRGV0ZWN0UmVzb3VyY2UocmVzb3VyY2UsIHJlc291cmNlT3B0aW9ucyk7XG4gICAgICAgICAgICByZXNvdXJjZS5pbnRlcm5hbCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBiYXNlIHRleHR1cmUgc2V0IHdoZW4gdGhlIGltYWdlIGhhcyBsb2FkZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvIG9mIHRoZSB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5SRVNPTFVUSU9OXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzJDEuUkVTT0xVVElPTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgbWlwbWFwcGluZyB3YXMgdXNlZCBmb3IgdGhpcyB0ZXh0dXJlLCBlbmFibGUgYW5kIGRpc2FibGUgd2l0aCBlbmFibGVNaXBtYXAoKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5taXBtYXAgPSBtaXBtYXAgIT09IHVuZGVmaW5lZCA/IG1pcG1hcCA6IHNldHRpbmdzJDEuTUlQTUFQX1RFWFRVUkVTO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIb3cgdGhlIHRleHR1cmUgd3JhcHNcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53cmFwTW9kZSA9IHdyYXBNb2RlIHx8IHNldHRpbmdzJDEuV1JBUF9NT0RFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgbW9kZSB0byBhcHBseSB3aGVuIHNjYWxpbmcgdGhpcyB0ZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXG4gICAgICAgICAqIEBzZWUgUElYSS5TQ0FMRV9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zY2FsZU1vZGUgPSBzY2FsZU1vZGUgIT09IHVuZGVmaW5lZCA/IHNjYWxlTW9kZSA6IHNldHRpbmdzJDEuU0NBTEVfTU9ERTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHBpeGVsIGZvcm1hdCBvZiB0aGUgdGV4dHVyZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkZPUk1BVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuRk9STUFUUy5SR0JBXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdCB8fCBGT1JNQVRTLlJHQkE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHJlc291cmNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UWVBFU31cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5UWVBFUy5VTlNJR05FRF9CWVRFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlIHx8IFRZUEVTLlVOU0lHTkVEX0JZVEU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0YXJnZXQgdHlwZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRBUkdFVFN9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVEFSR0VUUy5URVhUVVJFXzJEXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldCB8fCBUQVJHRVRTLlRFWFRVUkVfMkQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byB0cnVlIHRvIGVuYWJsZSBwcmUtbXVsdGlwbGllZCBhbHBoYVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZW11bHRpcGx5QWxwaGEgPSBwcmVtdWx0aXBseUFscGhhICE9PSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2xvYmFsIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIEJhc2VUZXh0dXJlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudWlkID0gdWlkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRPRE86IGZpbGwgaW4gZGVzY3JpcHRpb25cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50b3VjaGVkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBvciBub3QgdGhlIHRleHR1cmUgaXMgYSBwb3dlciBvZiB0d28sIHRyeSB0byB1c2UgcG93ZXIgb2YgdHdvIHRleHR1cmVzIGFzIG11Y2hcbiAgICAgICAgICogYXMgeW91IGNhblxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXNQb3dlck9mVHdvID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hcCBvZiByZW5kZXIgY29udGV4dCB0ZXh0dXJlcyB3aGVyZSB0aGlzIGlzIGJvdW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dsVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgdG8gdGhlIEdQVSB3aGVuIG5lZWRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBieSBUZXh0dXJlU3lzdGVtIHRvIG9ubHkgdXBkYXRlIHRleHR1cmUgc3R5bGUgd2hlbiBuZWVkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGlydHlTdHlsZUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudGx5IGRlZmF1bHQgY2FjaGUgSUQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdlbmVyYWxseSBzcGVha2luZyBtZWFucyB3aGVuIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhbGlkID0gd2lkdGggPiAwICYmIGhlaWdodCA+IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xsZWN0aW9uIG9mIGFsdGVybmF0aXZlIGNhY2hlIGlkcywgc2luY2Ugc29tZSBCYXNlVGV4dHVyZXNcbiAgICAgICAgICogY2FuIGhhdmUgbW9yZSB0aGFuIG9uZSBJRCwgc2hvcnQgbmFtZSBhbmQgbG9uZ2VyIGZ1bGwgVVJMXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5PHN0cmluZz59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlQ2FjaGVJZHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiBCYXNlVGV4dHVyZSBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc291cmNlIHVzZWQgYnkgdGhpcyBCYXNlVGV4dHVyZSwgdGhlcmUgY2FuIG9ubHlcbiAgICAgICAgICogYmUgb25lIHJlc291cmNlIHBlciBCYXNlVGV4dHVyZSwgYnV0IHRleHR1cmVzIGNhbiBzaGFyZVxuICAgICAgICAgKiByZXNvdXJjZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuXG4gICAgICAgIC8vIFNldCB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5zZXRSZXNvdXJjZShyZXNvdXJjZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBub3QtaW1tZWRpYXRlbHktYXZhaWxhYmxlIHNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2xvYWRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgbG9hZGVkLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIG5vdC1pbW1lZGlhdGVseS1hdmFpbGFibGUgc291cmNlIGZhaWxzIHRvIGxvYWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjZXJyb3JcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFJlc291cmNlIGVycm9yZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgICAgICogQGV2ZW50IFBJWEkuQmFzZVRleHR1cmUjbG9hZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBSZXNvdXJjZSBsb2FkZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIEJhc2VUZXh0dXJlIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSNlcnJvclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gUmVzb3VyY2UgZXJyb3JlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgdXBkYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAZXZlbnQgUElYSS5CYXNlVGV4dHVyZSN1cGRhdGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgdXBkYXRlZC5cbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gQmFzZVRleHR1cmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJvdGVjdGVkXG4gICAgICAgICAqIEBldmVudCBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIEluc3RhbmNlIG9mIHRleHR1cmUgYmVpbmcgZGVzdHJveWVkLlxuICAgICAgICAgKi9cbiAgICB9XG5cbiAgICBpZiAoIEV2ZW50RW1pdHRlciQkMSApIEJhc2VUZXh0dXJlLl9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlciQkMTtcbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdmVudEVtaXR0ZXIkJDEgJiYgRXZlbnRFbWl0dGVyJCQxLnByb3RvdHlwZSApO1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJhc2VUZXh0dXJlO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgcmVhbFdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHJlYWxIZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFBpeGVsIHdpZHRoIG9mIHRoZSBzb3VyY2Ugb2YgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlYWxXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2lkdGggKiB0aGlzLnJlc29sdXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBpeGVsIGhlaWdodCBvZiB0aGUgc291cmNlIG9mIHRoaXMgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZWFsSGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQgKiB0aGlzLnJlc29sdXRpb247XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgc3R5bGUgb3B0aW9ucyBvZiBCYXNlVGV4dHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1BJWEkuU0NBTEVfTU9ERVN9IFtzY2FsZU1vZGVdIC0gcGl4aSBzY2FsZW1vZGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFttaXBtYXBdIC0gZW5hYmxlIG1pcG1hcHNcbiAgICAgKiBAcmV0dXJucyB7QmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0U3R5bGUgPSBmdW5jdGlvbiBzZXRTdHlsZSAoc2NhbGVNb2RlLCBtaXBtYXApXG4gICAge1xuICAgICAgICB2YXIgZGlydHk7XG5cbiAgICAgICAgaWYgKHNjYWxlTW9kZSAhPT0gdW5kZWZpbmVkICYmIHNjYWxlTW9kZSAhPT0gdGhpcy5zY2FsZU1vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVNb2RlID0gc2NhbGVNb2RlO1xuICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1pcG1hcCAhPT0gdW5kZWZpbmVkICYmIG1pcG1hcCAhPT0gdGhpcy5taXBtYXApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubWlwbWFwID0gbWlwbWFwO1xuICAgICAgICAgICAgZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdy9oL3Jlc29sdXRpb24uIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBWaXN1YWwgd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IFZpc3VhbCBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIE9wdGlvbmFsbHkgc2V0IHJlc29sdXRpb25cbiAgICAgKiBAcmV0dXJucyB7QmFzZVRleHR1cmV9IHRoaXNcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uIHNldFNpemUgKHdpZHRoLCBoZWlnaHQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHJlYWwgc2l6ZSBvZiBiYXNlVGV4dHVyZSwgcHJlc2VydmVzIGN1cnJlbnQgcmVzb2x1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsV2lkdGggRnVsbCByZW5kZXJlZCB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZWFsSGVpZ2h0IEZ1bGwgcmVuZGVyZWQgaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyZXNvbHV0aW9uXSBPcHRpb25hbGx5IHNldCByZXNvbHV0aW9uXG4gICAgICogQHJldHVybnMge0Jhc2VUZXh0dXJlfSB0aGlzXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLnNldFJlYWxTaXplID0gZnVuY3Rpb24gc2V0UmVhbFNpemUgKHJlYWxXaWR0aCwgcmVhbEhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLndpZHRoID0gcmVhbFdpZHRoIC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLmhlaWdodCA9IHJlYWxIZWlnaHQgLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRoaXMuX3JlZnJlc2hQT1QoKTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaCBjaGVjayBmb3IgaXNQb3dlck9mVHdvIHRleHR1cmUgYmFzZWQgb24gc2l6ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuX3JlZnJlc2hQT1QgPSBmdW5jdGlvbiBfcmVmcmVzaFBPVCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5pc1Bvd2VyT2ZUd28gPSBiaXRUd2lkZGxlLmlzUG93Mih0aGlzLnJlYWxXaWR0aCkgJiYgYml0VHdpZGRsZS5pc1BvdzIodGhpcy5yZWFsSGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyByZXNvbHV0aW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb25dIHJlc1xuICAgICAqIEByZXR1cm5zIHtCYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvbHV0aW9uID0gZnVuY3Rpb24gc2V0UmVzb2x1dGlvbiAocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHZhciBvbGRSZXNvbHV0aW9uID0gdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChvbGRSZXNvbHV0aW9uID09PSByZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgaWYgKHRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB0aGlzLndpZHRoICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVpZ2h0ICogb2xkUmVzb2x1dGlvbiAvIHJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcmVmcmVzaFBPVCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSByZXNvdXJjZSBpZiBpdCB3YXNuJ3Qgc2V0LiBUaHJvd3MgZXJyb3IgaWYgcmVzb3VyY2UgYWxyZWFkeSBwcmVzZW50XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkucmVzb3VyY2VzLlJlc291cmNlfSByZXNvdXJjZSAtIHRoYXQgaXMgbWFuYWdpbmcgdGhpcyBCYXNlVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtCYXNlVGV4dHVyZX0gdGhpc1xuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnByb3RvdHlwZS5zZXRSZXNvdXJjZSA9IGZ1bmN0aW9uIHNldFJlc291cmNlIChyZXNvdXJjZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlID09PSByZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5yZXNvdXJjZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW4gYmUgc2V0IG9ubHkgb25jZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb3VyY2UuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnJlc291cmNlID0gcmVzb3VyY2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEludmFsaWRhdGVzIHRoZSBvYmplY3QuIFRleHR1cmUgYmVjb21lcyB2YWxpZCBpZiB3aWR0aCBhbmQgaGVpZ2h0IGFyZSBncmVhdGVyIHRoYW4gemVyby5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoID4gMCAmJiB0aGlzLmhlaWdodCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdsb2FkZWQnLCB0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXQoJ3VwZGF0ZScsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eUlkKys7XG4gICAgICAgICAgICB0aGlzLmRpcnR5U3R5bGVJZCsrO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGlzIGJhc2UgdGV4dHVyZS5cbiAgICAgKiBUaGUgbWV0aG9kIHN0b3BzIGlmIHJlc291cmNlIGRvZXNuJ3Qgd2FudCB0aGlzIHRleHR1cmUgdG8gYmUgZGVzdHJveWVkLlxuICAgICAqIFJlbW92ZXMgdGV4dHVyZSBmcm9tIGFsbCBjYWNoZXMuXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICAvLyByZW1vdmUgYW5kIGRlc3Ryb3kgdGhlIHJlc291cmNlXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlLnVuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIC8vIG9ubHkgZGVzdHJveSByZXNvdXJjZWQgY3JlYXRlZCBpbnRlcm5hbGx5XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNvdXJjZS5pbnRlcm5hbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc291cmNlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVzb3VyY2UgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2FjaGVJZClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIEJhc2VUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcbiAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGhpcy5jYWNoZUlkXTtcblxuICAgICAgICAgICAgdGhpcy5jYWNoZUlkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmFsbHkgbGV0IHRoZSB3ZWJHTCByZW5kZXJlciBrbm93Li5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgQmFzZVRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGcmVlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMIG1lbW9yeSB3aXRob3V0IGRlc3Ryb3lpbmcgdGhpcyB0ZXh0dXJlIG9iamVjdC5cbiAgICAgKiBUaGlzIG1lYW5zIHlvdSBjYW4gc3RpbGwgdXNlIHRoZSB0ZXh0dXJlIGxhdGVyIHdoaWNoIHdpbGwgdXBsb2FkIGl0IHRvIEdQVVxuICAgICAqIG1lbW9yeSBhZ2Fpbi5cbiAgICAgKlxuICAgICAqIEBmaXJlcyBQSVhJLkJhc2VUZXh0dXJlI2Rpc3Bvc2VcbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5wcm90b3R5cGUuZGlzcG9zZSA9IGZ1bmN0aW9uIGRpc3Bvc2UgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZW1pdCgnZGlzcG9zZScsIHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgYmFzZSB0ZXh0dXJlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBpbWFnZSB1cmwsIGltYWdlIGVsZW1lbnQsIGNhbnZhcyBlbGVtZW50LiBJZiB0aGVcbiAgICAgKiBzb3VyY2UgaXMgYW4gaW1hZ2UgdXJsIG9yIGFuIGltYWdlIGVsZW1lbnQgYW5kIG5vdCBpbiB0aGUgYmFzZSB0ZXh0dXJlXG4gICAgICogY2FjaGUsIGl0IHdpbGwgYmUgY3JlYXRlZCBhbmQgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfEhUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR8U1ZHRWxlbWVudHxIVE1MVmlkZW9FbGVtZW50fSBzb3VyY2UgLSBUaGVcbiAgICAgKiAgICAgICAgc291cmNlIHRvIGNyZWF0ZSBiYXNlIHRleHR1cmUgZnJvbS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfSBUaGUgbmV3IGJhc2UgdGV4dHVyZS5cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAoc291cmNlLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIGNhY2hlSWQgPSBudWxsO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgY2FjaGVJZCA9IHNvdXJjZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBcInBpeGlpZF9cIiArICh1aWQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuX3BpeGlJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IEJhc2VUZXh0dXJlQ2FjaGVbY2FjaGVJZF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgQmFzZVRleHR1cmUoc291cmNlLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLmNhY2hlSWQgPSBjYWNoZUlkO1xuICAgICAgICAgICAgQmFzZVRleHR1cmUuYWRkVG9DYWNoZShiYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBCYXNlVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50QXJyYXl9IGJ1ZmZlciBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuQmFzZVRleHR1cmV9IFRoZSByZXN1bHRpbmcgbmV3IEJhc2VUZXh0dXJlXG4gICAgICovXG4gICAgQmFzZVRleHR1cmUuZnJvbUJ1ZmZlciA9IGZ1bmN0aW9uIGZyb21CdWZmZXIgKGJ1ZmZlciwgd2lkdGgsIGhlaWdodCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGJ1ZmZlciA9IGJ1ZmZlciB8fCBuZXcgRmxvYXQzMkFycmF5KHdpZHRoICogaGVpZ2h0ICogNCk7XG5cbiAgICAgICAgdmFyIHJlc291cmNlID0gbmV3IEJ1ZmZlclJlc291cmNlKGJ1ZmZlciwgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pO1xuICAgICAgICB2YXIgdHlwZSA9IGJ1ZmZlciBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSA/IFRZUEVTLkZMT0FUIDogVFlQRVMuVU5TSUdORURfQllURTtcblxuICAgICAgICByZXR1cm4gbmV3IEJhc2VUZXh0dXJlKHJlc291cmNlLCBPYmplY3QuYXNzaWduKGRlZmF1bHRCdWZmZXJPcHRpb25zLCBvcHRpb25zIHx8IHsgd2lkdGg6IHdpZHRoLCBoZWlnaHQ6IGhlaWdodCwgdHlwZTogdHlwZSB9KSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBCYXNlVGV4dHVyZSB0byB0aGUgZ2xvYmFsIEJhc2VUZXh0dXJlQ2FjaGUuIFRoaXMgY2FjaGUgaXMgc2hhcmVkIGFjcm9zcyB0aGUgd2hvbGUgUElYSSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtQSVhJLkJhc2VUZXh0dXJlfSBiYXNlVGV4dHVyZSAtIFRoZSBCYXNlVGV4dHVyZSB0byBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIFRoZSBpZCB0aGF0IHRoZSBCYXNlVGV4dHVyZSB3aWxsIGJlIHN0b3JlZCBhZ2FpbnN0LlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlIChiYXNlVGV4dHVyZSwgaWQpXG4gICAge1xuICAgICAgICBpZiAoaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihpZCkgPT09IC0xKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEJhc2VUZXh0dXJlQ2FjaGVbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKChcIkJhc2VUZXh0dXJlIGFkZGVkIHRvIHRoZSBjYWNoZSB3aXRoIGFuIGlkIFtcIiArIGlkICsgXCJdIHRoYXQgYWxyZWFkeSBoYWQgYW4gZW50cnlcIikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCYXNlVGV4dHVyZUNhY2hlW2lkXSA9IGJhc2VUZXh0dXJlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIEJhc2VUZXh0dXJlIGZyb20gdGhlIGdsb2JhbCBCYXNlVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gaWQgb2YgYSBCYXNlVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIEJhc2VUZXh0dXJlIGluc3RhbmNlIGl0c2VsZi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJhc2VUZXh0dXJlfG51bGx9IFRoZSBCYXNlVGV4dHVyZSB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZUZyb21DYWNoZSAoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIGJhc2VUZXh0dXJlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlRnJvbUNhY2hlID0gQmFzZVRleHR1cmVDYWNoZVtiYXNlVGV4dHVyZV07XG5cbiAgICAgICAgICAgIGlmIChiYXNlVGV4dHVyZUZyb21DYWNoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBiYXNlVGV4dHVyZUZyb21DYWNoZS50ZXh0dXJlQ2FjaGVJZHMuaW5kZXhPZihiYXNlVGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJhc2VUZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlXTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlVGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYXNlVGV4dHVyZSAmJiBiYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFzZVRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBCYXNlVGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkc1tpXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJhc2VUZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5sZW5ndGggPSAwO1xuXG4gICAgICAgICAgICByZXR1cm4gYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJhc2VUZXh0dXJlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQmFzZVRleHR1cmU7XG59KEV2ZW50RW1pdHRlcikpO1xuXG4vKipcbiAqIFJlc291cmNlIGZvciBhIEN1YmVUZXh0dXJlIHdoaWNoIGNvbnRhaW5zIHNpeCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5SZXNvdXJjZVxuICogQG1lbWJlcm9mIFBJWEkucmVzb3VyY2VzXG4gKiBAcGFyYW0ge251bWJlcnxBcnJheTwqPn0gc291cmNlIC0gTnVtYmVyIG9mIGl0ZW1zIGluIGFycmF5IG9yIHRoZSBjb2xsZWN0aW9uXG4gKiAgICAgICAgb2YgaW1hZ2UgVVJMcyB0byB1c2UuIENhbiBhbHNvIGJlIHJlc291cmNlcywgaW1hZ2UgZWxlbWVudHMsIGNhbnZhcywgZXRjLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIHRvIGFwcGx5IHRvIHtAbGluayBQSVhJLnJlc291cmNlcy5hdXRvRGV0ZWN0UmVzb3VyY2V9XG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGhdIC0gV2lkdGggb2YgdGhlIHJlc291cmNlXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEhlaWdodCBvZiB0aGUgcmVzb3VyY2VcbiAqL1xudmFyIEFycmF5UmVzb3VyY2UgPSAoZnVuY3Rpb24gKFJlc291cmNlJCQxKSB7XG4gICAgZnVuY3Rpb24gQXJyYXlSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICB2YXIgdXJscztcbiAgICAgICAgdmFyIGxlbmd0aCA9IHNvdXJjZTtcblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2UpKVxuICAgICAgICB7XG4gICAgICAgICAgICB1cmxzID0gc291cmNlO1xuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIFJlc291cmNlJCQxLmNhbGwodGhpcywgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIHJlc291cmNlcy5cbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CYXNlVGV4dHVyZT59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pdGVtcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXJ0eSBJRHMgZm9yIGVhY2ggcGFydFxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheTxudW1iZXI+fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaXRlbURpcnR5SWRzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHBhcnRUZXh0dXJlID0gbmV3IEJhc2VUZXh0dXJlKCk7XG5cbiAgICAgICAgICAgIHRoaXMkMS5pdGVtcy5wdXNoKHBhcnRUZXh0dXJlKTtcbiAgICAgICAgICAgIHRoaXMkMS5pdGVtRGlydHlJZHMucHVzaCgtMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogTnVtYmVyIG9mIGVsZW1lbnRzIGluIGFycmF5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbWlzZSB3aGVuIGxvYWRpbmdcbiAgICAgICAgICogQG1lbWJlciB7UHJvbWlzZX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9hZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHVybHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGxlbmd0aDsgaSQxKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLmFkZFJlc291cmNlQXQoYXV0b0RldGVjdFJlc291cmNlKHVybHNbaSQxXSwgb3B0aW9ucyksIGkkMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIFJlc291cmNlJCQxICkgQXJyYXlSZXNvdXJjZS5fX3Byb3RvX18gPSBSZXNvdXJjZSQkMTtcbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFJlc291cmNlJCQxICYmIFJlc291cmNlJCQxLnByb3RvdHlwZSApO1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQXJyYXlSZXNvdXJjZTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3kgdGhpcyBCYXNlSW1hZ2VSZXNvdXJjZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIEFycmF5UmVzb3VyY2UucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLml0ZW1zW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLml0ZW1zID0gbnVsbDtcbiAgICAgICAgdGhpcy5pdGVtRGlydHlJZHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9sb2FkID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IGEgcmVzb3VyY2UgYnkgSURcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9IHJlc291cmNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gWmVyby1iYXNlZCBpbmRleCBvZiByZXNvdXJjZSB0byBzZXRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlfSBJbnN0YW5jZSBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5hZGRSZXNvdXJjZUF0ID0gZnVuY3Rpb24gYWRkUmVzb3VyY2VBdCAocmVzb3VyY2UsIGluZGV4KVxuICAgIHtcbiAgICAgICAgdmFyIGJhc2VUZXh0dXJlID0gdGhpcy5pdGVtc1tpbmRleF07XG5cbiAgICAgICAgaWYgKCFiYXNlVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIkluZGV4IFwiICsgaW5kZXggKyBcIiBpcyBvdXQgb2YgYm91bmRzXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaGVyaXQgdGhlIGZpcnN0IHJlc291cmNlIGRpbWVuc2lvbnNcbiAgICAgICAgaWYgKHJlc291cmNlLnZhbGlkICYmICF0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZShyZXNvdXJjZS53aWR0aCwgcmVzb3VyY2UuaGVpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXRlbXNbaW5kZXhdLnNldFJlc291cmNlKHJlc291cmNlKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCAoYmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBSZXNvdXJjZSQkMS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfMkRfQVJSQVk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzJDEuaXRlbXNbaV0ub24oJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVuc2V0IHRoZSBwYXJlbnQgYmFzZSB0ZXh0dXJlXG4gICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgUmVzb3VyY2UkJDEucHJvdG90eXBlLnVuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMkMS5pdGVtc1tpXS5vZmYoJ3VwZGF0ZScsIGJhc2VUZXh0dXJlLnVwZGF0ZSwgYmFzZVRleHR1cmUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWQgYWxsIHRoZSByZXNvdXJjZXMgc2ltdWx0YW5lb3VzbHlcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBXaGVuIGxvYWQgaXMgcmVzb2x2ZWRcbiAgICAgKi9cbiAgICBBcnJheVJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX2xvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc291cmNlcyA9IHRoaXMuaXRlbXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnJlc291cmNlOyB9KTtcblxuICAgICAgICAvLyBUT0RPOiBhbHNvIGltcGxlbWVudCBsb2FkIHBhcnQtYnktcGFydCBzdHJhdGVneVxuICAgICAgICB2YXIgcHJvbWlzZXMgPSByZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLmxvYWQoKTsgfSk7XG5cbiAgICAgICAgdGhpcy5fbG9hZCA9IFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZWYgPSByZXNvdXJjZXNbMF07XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gcmVmLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSByZWYuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgdGhpcyQxLnJlc2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcyQxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VzIHRvIHRoZSBHUFUuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlclxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7UElYSS5nbENvcmUuVGV4dHVyZX0gZ2xUZXh0dXJlXG4gICAgICovXG4gICAgQXJyYXlSZXNvdXJjZS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkIChyZW5kZXJlciwgdGV4dHVyZSwgZ2xUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBsZW5ndGggPSByZWYubGVuZ3RoO1xuICAgICAgICB2YXIgaXRlbURpcnR5SWRzID0gcmVmLml0ZW1EaXJ0eUlkcztcbiAgICAgICAgdmFyIGl0ZW1zID0gcmVmLml0ZW1zO1xuICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhJbWFnZTNEKFxuICAgICAgICAgICAgICAgIGdsLlRFWFRVUkVfMkRfQVJSQVksXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICB0aGlzLl93aWR0aCxcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWlnaHQsXG4gICAgICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgdGV4dHVyZS5mb3JtYXQsXG4gICAgICAgICAgICAgICAgdGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuXG4gICAgICAgICAgICBpZiAoaXRlbURpcnR5SWRzW2ldIDwgaXRlbS5kaXJ0eUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGl0ZW1EaXJ0eUlkc1tpXSA9IGl0ZW0uZGlydHlJZDtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS52YWxpZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLnRleFN1YkltYWdlM0QoXG4gICAgICAgICAgICAgICAgICAgICAgICBnbC5URVhUVVJFXzJEX0FSUkFZLFxuICAgICAgICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIC8vIHhvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIDAsIC8vIHlvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGksIC8vIHpvZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2Uud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlc291cmNlLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVzb3VyY2Uuc291cmNlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHJldHVybiBBcnJheVJlc291cmNlO1xufShSZXNvdXJjZSkpO1xuXG4vKipcbiAqIFJlc291cmNlIGZvciBhIEN1YmVUZXh0dXJlIHdoaWNoIGNvbnRhaW5zIHNpeCByZXNvdXJjZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLnJlc291cmNlcy5BcnJheVJlc291cmNlXG4gKiBAbWVtYmVyb2YgUElYSS5yZXNvdXJjZXNcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nfFBJWEkucmVzb3VyY2UuUmVzb3VyY2U+fSBbc291cmNlXSBDb2xsZWN0aW9uIG9mIFVSTHMgb3IgcmVzb3VyY2VzXG4gKiAgICAgICAgdG8gdXNlIGFzIHRoZSBzaWRlcyBvZiB0aGUgY3ViZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gLSBJbWFnZVJlc291cmNlIG9wdGlvbnNcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBXaWR0aCBvZiByZXNvdXJjZVxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gLSBIZWlnaHQgb2YgcmVzb3VyY2VcbiAqL1xudmFyIEN1YmVSZXNvdXJjZSA9IChmdW5jdGlvbiAoQXJyYXlSZXNvdXJjZSQkMSkge1xuICAgIGZ1bmN0aW9uIEN1YmVSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBBcnJheVJlc291cmNlJCQxLmNhbGwodGhpcywgc291cmNlLCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodGhpcy5sZW5ndGggIT09IEN1YmVSZXNvdXJjZS5TSURFUylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIkludmFsaWQgbGVuZ3RoLiBHb3QgXCIgKyAodGhpcy5sZW5ndGgpICsgXCIsIGV4cGVjdGVkIDZcIikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCBBcnJheVJlc291cmNlJCQxICkgQ3ViZVJlc291cmNlLl9fcHJvdG9fXyA9IEFycmF5UmVzb3VyY2UkJDE7XG4gICAgQ3ViZVJlc291cmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEFycmF5UmVzb3VyY2UkJDEgJiYgQXJyYXlSZXNvdXJjZSQkMS5wcm90b3R5cGUgKTtcbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3ViZVJlc291cmNlO1xuXG4gICAgLyoqXG4gICAgICogQWRkIGJpbmRpbmdcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IGJhc2VUZXh0dXJlIC0gcGFyZW50IGJhc2UgdGV4dHVyZVxuICAgICAqL1xuICAgIEN1YmVSZXNvdXJjZS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgQXJyYXlSZXNvdXJjZSQkMS5wcm90b3R5cGUuYmluZC5jYWxsKHRoaXMsIGJhc2VUZXh0dXJlKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS50YXJnZXQgPSBUQVJHRVRTLlRFWFRVUkVfQ1VCRV9NQVA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwbG9hZCB0aGUgcmVzb3VyY2VcbiAgICAgKi9cbiAgICBDdWJlUmVzb3VyY2UucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgZGlydHkgPSB0aGlzLml0ZW1EaXJ0eUlkcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IEN1YmVSZXNvdXJjZS5TSURFUzsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc2lkZSA9IHRoaXMkMS5pdGVtc1tpXTtcblxuICAgICAgICAgICAgaWYgKGRpcnR5W2ldIDwgc2lkZS5kaXJ0eUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpcnR5W2ldID0gc2lkZS5kaXJ0eUlkO1xuICAgICAgICAgICAgICAgIGlmIChzaWRlLnZhbGlkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2lkZS5yZXNvdXJjZS51cGxvYWQocmVuZGVyZXIsIHNpZGUsIGdsVGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IHVwbG9hZCB6ZXJvIGJ1ZmZlclxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ3ViZVJlc291cmNlO1xufShBcnJheVJlc291cmNlKSk7XG5cbi8qKlxuICogTnVtYmVyIG9mIHRleHR1cmUgc2lkZXMgdG8gc3RvcmUgZm9yIEN1YmVSZXNvdXJjZXNcbiAqIEBuYW1lIFBJWEkucmVzb3VyY2VzLkN1YmVSZXNvdXJjZS5TSURFU1xuICogQHN0YXRpY1xuICogQG1lbWJlciB7bnVtYmVyfVxuICogQGRlZmF1bHQgNlxuICovXG5DdWJlUmVzb3VyY2UuU0lERVMgPSA2O1xuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHJlc291cmNlIHR5cGVzLCBjbGFzcyBtdXN0IGV4dGVuZCB7QGxpbmsgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2V9LlxuICogQGV4YW1wbGVcbiAqIGNsYXNzIEN1c3RvbVJlc291cmNlIGV4dGVuZHMgUElYSS5yZXNvdXJjZXMuUmVzb3VyY2Uge1xuICogICAvLyBNVVNUIGhhdmUgc291cmNlLCBvcHRpb25zIGNvbnN0cnVjdG9yIHNpZ25hdHVyZVxuICogICAvLyBmb3IgYXV0by1kZXRlY3RlZCByZXNvdXJjZXMgdG8gYmUgY3JlYXRlZC5cbiAqICAgY29uc3RydWN0b3Ioc291cmNlLCBvcHRpb25zKSB7XG4gKiAgICAgc3VwZXIoKTtcbiAqICAgfVxuICogICB1cGxvYWQocmVuZGVyZXIsIGJhc2VUZXh0dXJlLCBnbFRleHR1cmUpIHtcbiAqICAgICAvLyB1cGxvYWQgd2l0aCBHTFxuICogICB9XG4gKiAgIC8vIHVzZWQgdG8gYXV0by1kZXRlY3QgcmVzb3VyY2VcbiAqICAgc3RhdGljIHRlc3Qoc291cmNlLCBleHRlbnNpb24pIHtcbiAqICAgICByZXR1cm4gZXh0ZW5zaW9uID09PSAneHl6J3x8IHNvdXJjZSBpbnN0YW5jZW9mIFNvbWVDbGFzcztcbiAqICAgfVxuICogfVxuICogLy8gSW5zdGFsbCB0aGUgbmV3IHJlc291cmNlIHR5cGVcbiAqIFBJWEkucmVzb3VyY2VzLklOU1RBTExFRC5wdXNoKEN1c3RvbVJlc291cmNlKTtcbiAqXG4gKiBAbmFtZSBQSVhJLnJlc291cmNlcy5JTlNUQUxMRURcbiAqIEB0eXBlIHtBcnJheTwqPn1cbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICovXG52YXIgSU5TVEFMTEVEID0gW1xuICAgIEltYWdlUmVzb3VyY2UsXG4gICAgQ2FudmFzUmVzb3VyY2UsXG4gICAgVmlkZW9SZXNvdXJjZSxcbiAgICBTVkdSZXNvdXJjZSxcbiAgICBCdWZmZXJSZXNvdXJjZSxcbiAgICBDdWJlUmVzb3VyY2UsXG4gICAgQXJyYXlSZXNvdXJjZSBdO1xuXG4vKipcbiAqIENyZWF0ZSBhIHJlc291cmNlIGVsZW1lbnQgZnJvbSBhIHNpbmdsZSBzb3VyY2UgZWxlbWVudC4gVGhpc1xuICogYXV0by1kZXRlY3RzIHdoaWNoIHR5cGUgb2YgcmVzb3VyY2UgdG8gY3JlYXRlLiBBbGwgcmVzb3VyY2VzIHRoYXRcbiAqIGFyZSBhdXRvLWRldGVjdGFibGUgbXVzdCBoYXZlIGEgc3RhdGljIGB0ZXN0YCBtZXRob2QgYW5kIGEgY29uc3RydWN0b3JcbiAqIHdpdGggdGhlIGFyZ3VtZW50cyBgKHNvdXJjZSwgb3B0aW9ucz8pYC4gQ3VycmVudGx5LCB0aGUgc3VwcG9ydGVkXG4gKiByZXNvdXJjZXMgZm9yIGF1dG8tZGV0ZWN0aW9uIGluY2x1ZGU6XG4gKiAgLSB7QGxpbmsgUElYSS5yZXNvdXJjZXMuSW1hZ2VSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5DYW52YXNSZXNvdXJjZX1cbiAqICAtIHtAbGluayBQSVhJLnJlc291cmNlcy5WaWRlb1Jlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLlNWR1Jlc291cmNlfVxuICogIC0ge0BsaW5rIFBJWEkucmVzb3VyY2VzLkJ1ZmZlclJlc291cmNlfVxuICogQHN0YXRpY1xuICogQGZ1bmN0aW9uIFBJWEkucmVzb3VyY2VzLmF1dG9EZXRlY3RSZXNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd8Kn0gc291cmNlIC0gUmVzb3VyY2Ugc291cmNlLCB0aGlzIGNhbiBiZSB0aGUgVVJMIHRvIHRoZSByZXNvdXJjZSxcbiAqICAgICAgICBhIHR5cGVkLWFycmF5IChmb3IgQnVmZmVyUmVzb3VyY2UpLCBIVE1MVmlkZW9FbGVtZW50LCBTVkcgZGF0YS11cmlcbiAqICAgICAgICBvciBhbnkgb3RoZXIgcmVzb3VyY2UgdGhhdCBjYW4gYmUgYXV0by1kZXRlY3RlZC4gSWYgbm90IHJlc291cmNlIGlzXG4gKiAgICAgICAgZGV0ZWN0ZWQsIGl0J3MgYXNzdW1lZCB0byBiZSBhbiBJbWFnZVJlc291cmNlLlxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIFBhc3MtdGhyb3VnaCBvcHRpb25zIHRvIHVzZSBmb3IgUmVzb3VyY2VcbiAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gLSBCdWZmZXJSZXNvdXJjZSdzIHdpZHRoXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSAtIEJ1ZmZlclJlc291cmNlJ3MgaGVpZ2h0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmF1dG9Mb2FkPXRydWVdIC0gSW1hZ2UsIFNWRyBhbmQgVmlkZW8gZmxhZyB0byBzdGFydCBsb2FkaW5nXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuc2NhbGU9MV0gLSBTVkcgc291cmNlIHNjYWxlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNyZWF0ZUJpdG1hcD10cnVlXSAtIEltYWdlIG9wdGlvbiB0byBjcmVhdGUgQml0bWFwIG9iamVjdFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jcm9zc29yaWdpbj10cnVlXSAtIEltYWdlIGFuZCBWaWRlbyBvcHRpb24gdG8gc2V0IGNyb3NzT3JpZ2luXG4gKiBAcmV0dXJuIHtQSVhJLnJlc291cmNlcy5SZXNvdXJjZX0gVGhlIGNyZWF0ZWQgcmVzb3VyY2UuXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpXG57XG4gICAgaWYgKCFzb3VyY2UpXG4gICAge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZXh0ZW5zaW9uID0gJyc7XG5cbiAgICBpZiAodHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICAvLyBzZWFyY2ggZm9yIGZpbGUgZXh0ZW5zaW9uOiBwZXJpb2QsIDMtNCBjaGFycywgdGhlbiA/LCAjIG9yIEVPTFxuICAgICAgICB2YXIgcmVzdWx0ID0gKC9cXC4oXFx3ezMsNH0pKD86JHxcXD98IykvaSkuZXhlYyhzb3VyY2UpO1xuXG4gICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IHJlc3VsdFsxXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IElOU1RBTExFRC5sZW5ndGggLSAxOyBpID49IDA7IC0taSlcbiAgICB7XG4gICAgICAgIHZhciBSZXNvdXJjZVBsdWdpbiA9IElOU1RBTExFRFtpXTtcblxuICAgICAgICBpZiAoUmVzb3VyY2VQbHVnaW4udGVzdCAmJiBSZXNvdXJjZVBsdWdpbi50ZXN0KHNvdXJjZSwgZXh0ZW5zaW9uKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBsdWdpbihzb3VyY2UsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2hlbiBpbiBkb3VidDogcHJvYmFibHkgYW4gaW1hZ2VcbiAgICAvLyBtaWdodCBiZSBhcHByb3ByaWF0ZSB0byB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gbnVsbFxuICAgIHJldHVybiBuZXcgSW1hZ2VSZXNvdXJjZShzb3VyY2UsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIENvbGxlY3Rpb24gb2YgYmFzZSByZXNvdXJjZSB0eXBlcyBzdXBwb3J0ZWQgYnkgUGl4aUpTLlxuICogUmVzb3VyY2VzIGFyZSB1c2VkIGJ5IHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSB0byBoYW5kbGUgZGlmZmVyZW50IG1lZGlhIHR5cGVzXG4gKiBzdWNoIGFzIGltYWdlcywgdmlkZW8sIFNWRyBncmFwaGljcywgZXRjLiBJbiBtb3N0IHVzZS1jYXNlcywgeW91IHNob3VsZCBub3RcbiAqIGluc3RhbnRpYXRlIHRoZSByZXNvdXJjZXMgZGlyZWN0bHkuIFRoZSBlYXN5IHRoaW5nIGlzIHRvIHVzZVxuICoge0BsaW5rIFBJWEkuQmFzZVRleHR1cmUuZnJvbX0uXG4gKiBAZXhhbXBsZVxuICogY29uc3QgYmFzZVRleHR1cmUgPSBQSVhJLkJhc2VUZXh0dXJlLmZyb20oJ3BhdGgvdG8vaW1hZ2UuanBnJyk7XG4gKiBAbmFtZXNwYWNlIFBJWEkucmVzb3VyY2VzXG4gKi9cblxuXG5cbnZhciBpbmRleCA9ICh7XG5cdFJlc291cmNlOiBSZXNvdXJjZSxcblx0QXJyYXlSZXNvdXJjZTogQXJyYXlSZXNvdXJjZSxcblx0QmFzZUltYWdlUmVzb3VyY2U6IEJhc2VJbWFnZVJlc291cmNlLFxuXHRCdWZmZXJSZXNvdXJjZTogQnVmZmVyUmVzb3VyY2UsXG5cdENhbnZhc1Jlc291cmNlOiBDYW52YXNSZXNvdXJjZSxcblx0Q3ViZVJlc291cmNlOiBDdWJlUmVzb3VyY2UsXG5cdEltYWdlUmVzb3VyY2U6IEltYWdlUmVzb3VyY2UsXG5cdFNWR1Jlc291cmNlOiBTVkdSZXNvdXJjZSxcblx0VmlkZW9SZXNvdXJjZTogVmlkZW9SZXNvdXJjZSxcblx0SU5TVEFMTEVEOiBJTlNUQUxMRUQsXG5cdGF1dG9EZXRlY3RSZXNvdXJjZTogYXV0b0RldGVjdFJlc291cmNlXG59KTtcblxuLyoqXG4gKiBTeXN0ZW0gaXMgYSBiYXNlIGNsYXNzIHVzZWQgZm9yIGV4dGVuZGluZyBzeXN0ZW1zIHVzZWQgYnkgdGhlIHtAbGluayBQSVhJLlJlbmRlcmVyfVxuICogQHNlZSBQSVhJLlJlbmRlcmVyI2FkZFN5c3RlbVxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgU3lzdGVtID0gZnVuY3Rpb24gU3lzdGVtKHJlbmRlcmVyKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSByZW5kZXJlciB0aGlzIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICB0aGlzLnJlbmRlcmVyLnJ1bm5lcnMuY29udGV4dENoYW5nZS5hZGQodGhpcyk7XG59O1xuXG4vKipcbiAqIEdlbmVyaWMgbWV0aG9kIGNhbGxlZCB3aGVuIHRoZXJlIGlzIGEgV2ViR0wgY29udGV4dCBjaGFuZ2UuXG4gKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBXZWJHTCBjb250ZXh0XG4gKi9cblN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKClcbntcbiAgICAvLyBkbyBzb21lIGNvZGVzIGluaXQhXG59O1xuXG4vKipcbiAqIEdlbmVyaWMgZGVzdHJveSBtZXRob2RzIHRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzXG4gKlxuICovXG5TeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UucmVtb3ZlKHRoaXMpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBGcmFtZSBidWZmZXJcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEZyYW1lQnVmZmVyID0gZnVuY3Rpb24gRnJhbWVCdWZmZXIod2lkdGgsIGhlaWdodClcbntcbiAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoIHx8IDEwMCk7XG4gICAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IHx8IDEwMCk7XG5cbiAgICB0aGlzLnN0ZW5jaWwgPSBmYWxzZTtcbiAgICB0aGlzLmRlcHRoID0gZmFsc2U7XG5cbiAgICB0aGlzLmRpcnR5SWQgPSAwO1xuICAgIHRoaXMuZGlydHlGb3JtYXQgPSAwO1xuICAgIHRoaXMuZGlydHlTaXplID0gMDtcblxuICAgIHRoaXMuZGVwdGhUZXh0dXJlID0gbnVsbDtcbiAgICB0aGlzLmNvbG9yVGV4dHVyZXMgPSBbXTtcblxuICAgIHRoaXMuZ2xGcmFtZUJ1ZmZlcnMgPSB7fTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMSA9IHsgY29sb3JUZXh0dXJlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmNvbG9yVGV4dHVyZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLmNvbG9yVGV4dHVyZXNbMF07XG59O1xuXG5GcmFtZUJ1ZmZlci5wcm90b3R5cGUuYWRkQ29sb3JUZXh0dXJlID0gZnVuY3Rpb24gYWRkQ29sb3JUZXh0dXJlIChpbmRleCwgdGV4dHVyZSlcbntcbiAgICAvLyBUT0RPIGFkZCBzb21lIHZhbGlkYXRpb24gdG8gdGhlIHRleHR1cmUgLSBzYW1lIHdpZHRoIC8gaGVpZ2h0IGV0Yz9cbiAgICB0aGlzLmNvbG9yVGV4dHVyZXNbaW5kZXggfHwgMF0gPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShudWxsLCB7IHNjYWxlTW9kZTogMCxcbiAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgbWlwbWFwOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQgfSk7Ly8gfHwgbmV3IFRleHR1cmUoKTtcblxuICAgIHRoaXMuZGlydHlJZCsrO1xuICAgIHRoaXMuZGlydHlGb3JtYXQrKztcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuRnJhbWVCdWZmZXIucHJvdG90eXBlLmFkZERlcHRoVGV4dHVyZSA9IGZ1bmN0aW9uIGFkZERlcHRoVGV4dHVyZSAodGV4dHVyZSlcbntcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgdGhpcy5kZXB0aFRleHR1cmUgPSB0ZXh0dXJlIHx8IG5ldyBCYXNlVGV4dHVyZShudWxsLCB7IHNjYWxlTW9kZTogMCxcbiAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgIG1pcG1hcDogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogRk9STUFUUy5ERVBUSF9DT01QT05FTlQsXG4gICAgICAgIHR5cGU6IFRZUEVTLlVOU0lHTkVEX1NIT1JUIH0pOy8vIFVOU0lHTkVEX1NIT1JUO1xuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkZyYW1lQnVmZmVyLnByb3RvdHlwZS5lbmFibGVEZXB0aCA9IGZ1bmN0aW9uIGVuYWJsZURlcHRoICgpXG57XG4gICAgdGhpcy5kZXB0aCA9IHRydWU7XG5cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkZyYW1lQnVmZmVyLnByb3RvdHlwZS5lbmFibGVTdGVuY2lsID0gZnVuY3Rpb24gZW5hYmxlU3RlbmNpbCAoKVxue1xuICAgIHRoaXMuc3RlbmNpbCA9IHRydWU7XG5cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5Rm9ybWF0Kys7XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbkZyYW1lQnVmZmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHdpZHRoLCBoZWlnaHQpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuXG4gICAgaWYgKHdpZHRoID09PSB0aGlzLndpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5oZWlnaHQpIHsgcmV0dXJuOyB9XG5cbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLmRpcnR5SWQrKztcbiAgICB0aGlzLmRpcnR5U2l6ZSsrO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbG9yVGV4dHVyZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB0aGlzJDEuY29sb3JUZXh0dXJlc1tpXS5zZXRTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRlcHRoVGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGVwdGhUZXh0dXJlLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEZyYW1lQnVmZmVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDEgKTtcblxuLyoqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIGlzIGEgc3BlY2lhbCB0ZXh0dXJlIHRoYXQgYWxsb3dzIGFueSBQaXhpSlMgZGlzcGxheSBvYmplY3QgdG8gYmUgcmVuZGVyZWQgdG8gaXQuXG4gKlxuICogX19IaW50X186IEFsbCBEaXNwbGF5T2JqZWN0cyAoaS5lLiBTcHJpdGVzKSB0aGF0IHJlbmRlciB0byBhIEJhc2VSZW5kZXJUZXh0dXJlIHNob3VsZCBiZSBwcmVsb2FkZWRcbiAqIG90aGVyd2lzZSBibGFjayByZWN0YW5nbGVzIHdpbGwgYmUgZHJhd24gaW5zdGVhZC5cbiAqXG4gKiBBIEJhc2VSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBUaGUgcG9zaXRpb25cbiAqIGFuZCByb3RhdGlvbiBvZiB0aGUgZ2l2ZW4gRGlzcGxheSBPYmplY3RzIGFyZSBpZ25vcmVkLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoMTAyNCwgMTAyNCwgeyB2aWV3OiBjYW52YXMsIHJhdGlvOiAxIH0pO1xuICogbGV0IGJhc2VSZW5kZXJUZXh0dXJlID0gbmV3IFBJWEkuQmFzZVJlbmRlclRleHR1cmUocmVuZGVyZXIsIDgwMCwgNjAwKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogYmFzZVJlbmRlclRleHR1cmUucmVuZGVyKHNwcml0ZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlLCBpbiB0aGlzIGNhc2UsIHdpbGwgYmUgcmVuZGVyZWQgdXNpbmcgaXRzIGxvY2FsIHRyYW5zZm9ybS4gVG8gcmVuZGVyIHRoaXMgc3ByaXRlIGF0ICgwLDApXG4gKiB5b3UgY2FuIGNsZWFyIHRoZSB0cmFuc2Zvcm0uXG4gKlxuICogYGBganNcbiAqXG4gKiBzcHJpdGUuc2V0VHJhbnNmb3JtKClcbiAqXG4gKiBsZXQgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5CYXNlUmVuZGVyVGV4dHVyZSgxMDAsIDEwMCk7XG4gKiBsZXQgcmVuZGVyVGV4dHVyZSA9IG5ldyBQSVhJLlJlbmRlclRleHR1cmUoYmFzZVJlbmRlclRleHR1cmUpO1xuICpcbiAqIHJlbmRlcmVyLnJlbmRlcihzcHJpdGUsIHJlbmRlclRleHR1cmUpOyAgLy8gUmVuZGVycyB0byBjZW50ZXIgb2YgUmVuZGVyVGV4dHVyZVxuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkJhc2VUZXh0dXJlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQmFzZVJlbmRlclRleHR1cmUgPSAoZnVuY3Rpb24gKEJhc2VUZXh0dXJlJCQxKSB7XG4gICAgZnVuY3Rpb24gQmFzZVJlbmRlclRleHR1cmUob3B0aW9ucylcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgICAgICAgICAgLy8gQmFja3dhcmQgY29tcGF0aWJpbGl0eSBvZiBzaWduYXR1cmVcbiAgICAgICAgICAgIHZhciB3aWR0aCQxID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgdmFyIGhlaWdodCQxID0gYXJndW1lbnRzWzFdO1xuICAgICAgICAgICAgdmFyIHNjYWxlTW9kZSA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXJndW1lbnRzWzNdO1xuXG4gICAgICAgICAgICBvcHRpb25zID0geyB3aWR0aDogd2lkdGgkMSwgaGVpZ2h0OiBoZWlnaHQkMSwgc2NhbGVNb2RlOiBzY2FsZU1vZGUsIHJlc29sdXRpb246IHJlc29sdXRpb24gfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cblxuICAgICAgICBCYXNlVGV4dHVyZSQkMS5jYWxsKHRoaXMsIG51bGwsIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciByZWYgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgd2lkdGggPSByZWYud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSByZWYuaGVpZ2h0O1xuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0c1xuICAgICAgICB0aGlzLm1pcG1hcCA9IGZhbHNlO1xuICAgICAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoKSB8fCAxMDA7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCkgfHwgMTAwO1xuICAgICAgICB0aGlzLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIHJlbmRlclRhcmdldHNcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgV2ViR0xUZXh0dXJlPn1cbiAgICAgICAgICovXG4gICAgICAgIC8vICAgICAgICB0aGlzLl9nbFJlbmRlclRhcmdldHMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGNhbnZhcyByZW5kZXIgdGFyZ2V0ICh3ZSBvbmx5IG5lZWQgb25lIGFzIHRoaXMgY2FuIGJlIHNoYXJlZCBhY3Jvc3MgcmVuZGVyZXJzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBXZWJHTFRleHR1cmU+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY2FudmFzUmVuZGVyVGFyZ2V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmNsZWFyQ29sb3IgPSBbMCwgMCwgMCwgMF07XG5cbiAgICAgICAgdGhpcy5mcmFtZUJ1ZmZlciA9IG5ldyBGcmFtZUJ1ZmZlcih0aGlzLndpZHRoICogdGhpcy5yZXNvbHV0aW9uLCB0aGlzLmhlaWdodCAqIHRoaXMucmVzb2x1dGlvbilcbiAgICAgICAgICAgIC5hZGRDb2xvclRleHR1cmUoMCwgdGhpcylcbiAgICAgICAgICAgIC5lbmFibGVTdGVuY2lsKCk7XG5cbiAgICAgICAgLy8gVE9ETyAtIGNvdWxkIHRoaXMgYmUgYWRkZWQgdGhlIHN5c3RlbXM/XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHN0cnVjdHVyZSBmb3IgdGhlIHN0ZW5jaWwgbWFza3MuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuR3JhcGhpY3NbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGF0YSBzdHJ1Y3R1cmUgZm9yIHRoZSBmaWx0ZXJzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlclN0YWNrID0gW3t9XTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VUZXh0dXJlJCQxICkgQmFzZVJlbmRlclRleHR1cmUuX19wcm90b19fID0gQmFzZVRleHR1cmUkJDE7XG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZVRleHR1cmUkJDEgJiYgQmFzZVRleHR1cmUkJDEucHJvdG90eXBlICk7XG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmFzZVJlbmRlclRleHR1cmU7XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSBCYXNlUmVuZGVyVGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCB0byByZXNpemUgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgdG8gcmVzaXplIHRvLlxuICAgICAqL1xuICAgIEJhc2VSZW5kZXJUZXh0dXJlLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB3aWR0aCA9IE1hdGguY2VpbCh3aWR0aCk7XG4gICAgICAgIGhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgICB0aGlzLmZyYW1lQnVmZmVyLnJlc2l6ZSh3aWR0aCAqIHRoaXMucmVzb2x1dGlvbiwgaGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlLlxuICAgICAqXG4gICAgICovXG4gICAgQmFzZVJlbmRlclRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBCYXNlVGV4dHVyZSQkMS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHRydWUpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJhc2VSZW5kZXJUZXh0dXJlO1xufShCYXNlVGV4dHVyZSkpO1xuXG4vKipcbiAqIEEgc3RhbmRhcmQgb2JqZWN0IHRvIHN0b3JlIHRoZSBVdnMgb2YgYSB0ZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVVdnMgPSBmdW5jdGlvbiBUZXh0dXJlVXZzKClcbntcbiAgICB0aGlzLngwID0gMDtcbiAgICB0aGlzLnkwID0gMDtcblxuICAgIHRoaXMueDEgPSAxO1xuICAgIHRoaXMueTEgPSAwO1xuXG4gICAgdGhpcy54MiA9IDE7XG4gICAgdGhpcy55MiA9IDE7XG5cbiAgICB0aGlzLngzID0gMDtcbiAgICB0aGlzLnkzID0gMTtcblxuICAgIHRoaXMudXZzVWludDMyID0gbmV3IFVpbnQzMkFycmF5KDQpO1xufTtcblxuLyoqXG4gKiBTZXRzIHRoZSB0ZXh0dXJlIFV2cyBiYXNlZCBvbiB0aGUgZ2l2ZW4gZnJhbWUgaW5mb3JtYXRpb24uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGZyYW1lIC0gVGhlIGZyYW1lIG9mIHRoZSB0ZXh0dXJlXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBiYXNlRnJhbWUgLSBUaGUgYmFzZSBmcmFtZSBvZiB0aGUgdGV4dHVyZVxuICogQHBhcmFtIHtudW1iZXJ9IHJvdGF0ZSAtIFJvdGF0aW9uIG9mIGZyYW1lLCBzZWUge0BsaW5rIFBJWEkuR3JvdXBEOH1cbiAqL1xuVGV4dHVyZVV2cy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChmcmFtZSwgYmFzZUZyYW1lLCByb3RhdGUpXG57XG4gICAgdmFyIHR3ID0gYmFzZUZyYW1lLndpZHRoO1xuICAgIHZhciB0aCA9IGJhc2VGcmFtZS5oZWlnaHQ7XG5cbiAgICBpZiAocm90YXRlKVxuICAgIHtcbiAgICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBkaXYgMiBkaXYgYmFzZUZyYW1lIHNpemVcbiAgICAgICAgdmFyIHcyID0gZnJhbWUud2lkdGggLyAyIC8gdHc7XG4gICAgICAgIHZhciBoMiA9IGZyYW1lLmhlaWdodCAvIDIgLyB0aDtcblxuICAgICAgICAvLyBjb29yZGluYXRlcyBvZiBjZW50ZXJcbiAgICAgICAgdmFyIGNYID0gKGZyYW1lLnggLyB0dykgKyB3MjtcbiAgICAgICAgdmFyIGNZID0gKGZyYW1lLnkgLyB0aCkgKyBoMjtcblxuICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIEdyb3VwRDguTlcpOyAvLyBOVyBpcyB0b3AtbGVmdCBjb3JuZXJcbiAgICAgICAgdGhpcy54MCA9IGNYICsgKHcyICogR3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgdGhpcy55MCA9IGNZICsgKGgyICogR3JvdXBEOC51WShyb3RhdGUpKTtcblxuICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIDIpOyAvLyByb3RhdGUgOTAgZGVncmVlcyBjbG9ja3dpc2VcbiAgICAgICAgdGhpcy54MSA9IGNYICsgKHcyICogR3JvdXBEOC51WChyb3RhdGUpKTtcbiAgICAgICAgdGhpcy55MSA9IGNZICsgKGgyICogR3JvdXBEOC51WShyb3RhdGUpKTtcblxuICAgICAgICByb3RhdGUgPSBHcm91cEQ4LmFkZChyb3RhdGUsIDIpO1xuICAgICAgICB0aGlzLngyID0gY1ggKyAodzIgKiBHcm91cEQ4LnVYKHJvdGF0ZSkpO1xuICAgICAgICB0aGlzLnkyID0gY1kgKyAoaDIgKiBHcm91cEQ4LnVZKHJvdGF0ZSkpO1xuXG4gICAgICAgIHJvdGF0ZSA9IEdyb3VwRDguYWRkKHJvdGF0ZSwgMik7XG4gICAgICAgIHRoaXMueDMgPSBjWCArICh3MiAqIEdyb3VwRDgudVgocm90YXRlKSk7XG4gICAgICAgIHRoaXMueTMgPSBjWSArIChoMiAqIEdyb3VwRDgudVkocm90YXRlKSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHRoaXMueDAgPSBmcmFtZS54IC8gdHc7XG4gICAgICAgIHRoaXMueTAgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgdGhpcy54MSA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgIHRoaXMueTEgPSBmcmFtZS55IC8gdGg7XG5cbiAgICAgICAgdGhpcy54MiA9IChmcmFtZS54ICsgZnJhbWUud2lkdGgpIC8gdHc7XG4gICAgICAgIHRoaXMueTIgPSAoZnJhbWUueSArIGZyYW1lLmhlaWdodCkgLyB0aDtcblxuICAgICAgICB0aGlzLngzID0gZnJhbWUueCAvIHR3O1xuICAgICAgICB0aGlzLnkzID0gKGZyYW1lLnkgKyBmcmFtZS5oZWlnaHQpIC8gdGg7XG4gICAgfVxuXG4gICAgdGhpcy51dnNVaW50MzJbMF0gPSAoKCh0aGlzLnkwICogNjU1MzUpICYgMHhGRkZGKSA8PCAxNikgfCAoKHRoaXMueDAgKiA2NTUzNSkgJiAweEZGRkYpO1xuICAgIHRoaXMudXZzVWludDMyWzFdID0gKCgodGhpcy55MSAqIDY1NTM1KSAmIDB4RkZGRikgPDwgMTYpIHwgKCh0aGlzLngxICogNjU1MzUpICYgMHhGRkZGKTtcbiAgICB0aGlzLnV2c1VpbnQzMlsyXSA9ICgoKHRoaXMueTIgKiA2NTUzNSkgJiAweEZGRkYpIDw8IDE2KSB8ICgodGhpcy54MiAqIDY1NTM1KSAmIDB4RkZGRik7XG4gICAgdGhpcy51dnNVaW50MzJbM10gPSAoKCh0aGlzLnkzICogNjU1MzUpICYgMHhGRkZGKSA8PCAxNikgfCAoKHRoaXMueDMgKiA2NTUzNSkgJiAweEZGRkYpO1xufTtcblxuLyoqXG4gKiBBIHRleHR1cmUgc3RvcmVzIHRoZSBpbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgYW4gaW1hZ2Ugb3IgcGFydCBvZiBhbiBpbWFnZS4gSXQgY2Fubm90IGJlIGFkZGVkXG4gKiB0byB0aGUgZGlzcGxheSBsaXN0IGRpcmVjdGx5LiBJbnN0ZWFkIHVzZSBpdCBhcyB0aGUgdGV4dHVyZSBmb3IgYSBTcHJpdGUuIElmIG5vIGZyYW1lIGlzIHByb3ZpZGVkXG4gKiB0aGVuIHRoZSB3aG9sZSBpbWFnZSBpcyB1c2VkLlxuICpcbiAqIFlvdSBjYW4gZGlyZWN0bHkgY3JlYXRlIGEgdGV4dHVyZSBmcm9tIGFuIGltYWdlIGFuZCB0aGVuIHJldXNlIGl0IG11bHRpcGxlIHRpbWVzIGxpa2UgdGhpcyA6XG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGxldCBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogbGV0IHNwcml0ZTIgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUZXh0dXJlcyBtYWRlIGZyb20gU1ZHcywgbG9hZGVkIG9yIG5vdCwgY2Fubm90IGJlIHVzZWQgYmVmb3JlIHRoZSBmaWxlIGZpbmlzaGVzIHByb2Nlc3NpbmcuXG4gKiBZb3UgY2FuIGNoZWNrIGZvciB0aGlzIGJ5IGNoZWNraW5nIHRoZSBzcHJpdGUncyBfdGV4dHVyZUlEIHByb3BlcnR5LlxuICogYGBganNcbiAqIHZhciB0ZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb20oJ2Fzc2V0cy9pbWFnZS5zdmcnKTtcbiAqIHZhciBzcHJpdGUxID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICogLy9zcHJpdGUxLl90ZXh0dXJlSUQgc2hvdWxkIG5vdCBiZSB1bmRlZmluZWQgaWYgdGhlIHRleHR1cmUgaGFzIGZpbmlzaGVkIHByb2Nlc3NpbmcgdGhlIFNWRyBmaWxlXG4gKiBgYGBcbiAqIFlvdSBjYW4gdXNlIGEgdGlja2VyIG9yIHJBRiB0byBlbnN1cmUgeW91ciBzcHJpdGVzIGxvYWQgdGhlIGZpbmlzaGVkIHRleHR1cmVzIGFmdGVyIHByb2Nlc3NpbmcuIFNlZSBpc3N1ZSAjMzA2OC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkudXRpbHMuRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZSA9IChmdW5jdGlvbiAoRXZlbnRFbWl0dGVyJCQxKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZShiYXNlVGV4dHVyZSwgZnJhbWUsIG9yaWcsIHRyaW0sIHJvdGF0ZSlcbiAgICB7XG4gICAgICAgIEV2ZW50RW1pdHRlciQkMS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoaXMgVGV4dHVyZSBoYXZlIGFueSBmcmFtZSBkYXRhIGFzc2lnbmVkIHRvIGl0P1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFmcmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ub0ZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZyYW1lID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSB0aGF0IHRoaXMgdGV4dHVyZSB1c2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IGJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIGlzIHRoZSBhcmVhIG9mIHRoZSBCYXNlVGV4dHVyZSBpbWFnZSB0byBhY3R1YWxseSBjb3B5IHRvIHRoZSBDYW52YXMgLyBXZWJHTCB3aGVuIHJlbmRlcmluZyxcbiAgICAgICAgICogaXJyZXNwZWN0aXZlIG9mIHRoZSBhY3R1YWwgZnJhbWUgc2l6ZSBvciBwbGFjZW1lbnQgKHdoaWNoIGNhbiBiZSBpbmZsdWVuY2VkIGJ5IHRyaW1tZWQgdGV4dHVyZSBhdGxhc2VzKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgaXMgdGhlIHRyaW1tZWQgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYHRyaW1gIG1hbnVhbGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHJpbSA9IHRyaW07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHdpbGwgbGV0IGEgcmVuZGVyZXIga25vdyB0aGF0IGEgdGV4dHVyZSBoYXMgYmVlbiB1cGRhdGVkICh1c2VkIG1haW5seSBmb3Igd2ViR0wgdXYgdXBkYXRlcylcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVxdWlyZXNVcGRhdGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFdlYkdMIFVWIGRhdGEgY2FjaGUuIENhbiBiZSB1c2VkIGFzIHF1YWQgVVZcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlVXZzfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdXZzID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBUZXh0dXJlTWF0cml4IGluc3RhbmNlIGZvciB0aGlzIHRleHR1cmVcbiAgICAgICAgICogQnkgZGVmYXVsdCB0aGF0IG9iamVjdCBpcyBub3QgY3JlYXRlZCBiZWNhdXNlIGl0cyBoZWF2eVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2TWF0cml4ID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB0aGUgYXJlYSBvZiBvcmlnaW5hbCB0ZXh0dXJlLCBiZWZvcmUgaXQgd2FzIHB1dCBpbiBhdGxhc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub3JpZyA9IG9yaWcgfHwgZnJhbWU7Ly8gbmV3IFJlY3RhbmdsZSgwLCAwLCAxLCAxKTtcblxuICAgICAgICB0aGlzLl9yb3RhdGUgPSBOdW1iZXIocm90YXRlIHx8IDApO1xuXG4gICAgICAgIGlmIChyb3RhdGUgPT09IHRydWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgb2xkIHRleHR1cmVwYWNrZXIgbGVnYWN5LCBzb21lIGdhbWVzL2xpYnJhcmllcyBhcmUgcGFzc2luZyBcInRydWVcIiBmb3Igcm90YXRlZCB0ZXh0dXJlc1xuICAgICAgICAgICAgdGhpcy5fcm90YXRlID0gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9yb3RhdGUgJSAyICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2F0dGVtcHQgdG8gdXNlIGRpYW1vbmQtc2hhcGVkIFVWcy4gSWYgeW91IGFyZSBzdXJlLCBzZXQgcm90YXRpb24gbWFudWFsbHknKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChiYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMubm9GcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgYmFzZVRleHR1cmUud2lkdGgsIGJhc2VUZXh0dXJlLmhlaWdodCk7XG5cbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBmcmFtZSB3ZSBzaG91bGQgbW9uaXRvciBmb3IgYW55IGJhc2UgdGV4dHVyZSBjaGFuZ2VzLi5cbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZS5vbigndXBkYXRlJywgdGhpcy5vbkJhc2VUZXh0dXJlVXBkYXRlZCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gZnJhbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBiYXNlVGV4dHVyZS5vbmNlKCdsb2FkZWQnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVcGRhdGUgSUQgaXMgb2JzZXJ2ZWQgYnkgc3ByaXRlcyBhbmQgVGV4dHVyZU1hdHJpeCBpbnN0YW5jZXMuXG4gICAgICAgICAqIENhbGwgdXBkYXRlVXZzKCkgdG8gaW5jcmVtZW50IGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuXG4gICAgICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlkcyB1bmRlciB3aGljaCB0aGlzIFRleHR1cmUgaGFzIGJlZW4gYWRkZWQgdG8gdGhlIHRleHR1cmUgY2FjaGUuIFRoaXMgaXNcbiAgICAgICAgICogYXV0b21hdGljYWxseSBzZXQgYXMgbG9uZyBhcyBUZXh0dXJlLmFkZFRvQ2FjaGUgaXMgdXNlZCwgYnV0IG1heSBub3QgYmUgc2V0IGlmIGFcbiAgICAgICAgICogVGV4dHVyZSBpcyBhZGRlZCBkaXJlY3RseSB0byB0aGUgVGV4dHVyZUNhY2hlIGFycmF5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGV4dHVyZUNhY2hlSWRzID0gW107XG4gICAgfVxuXG4gICAgaWYgKCBFdmVudEVtaXR0ZXIkJDEgKSBUZXh0dXJlLl9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlciQkMTtcbiAgICBUZXh0dXJlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciQkMSAmJiBFdmVudEVtaXR0ZXIkJDEucHJvdG90eXBlICk7XG4gICAgVGV4dHVyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXh0dXJlO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgZnJhbWU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0scm90YXRlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGlzIHRleHR1cmUgb24gdGhlIGdwdS5cbiAgICAgKlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS51cGRhdGUoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIGJhc2UgdGV4dHVyZSBpcyB1cGRhdGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gYmFzZVRleHR1cmUgLSBUaGUgYmFzZSB0ZXh0dXJlLlxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLm9uQmFzZVRleHR1cmVVcGRhdGVkID0gZnVuY3Rpb24gb25CYXNlVGV4dHVyZVVwZGF0ZWQgKGJhc2VUZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlSUQrKztcblxuICAgICAgICAvLyBUT0RPIHRoaXMgY29kZSBsb29rcyBjb25mdXNpbmcuLiBib28gdG8gYWJ1c2luZyBnZXR0ZXJzIGFuZCBzZXR0ZXJzIVxuICAgICAgICBpZiAodGhpcy5ub0ZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lID0gbmV3IFJlY3RhbmdsZSgwLCAwLCBiYXNlVGV4dHVyZS53aWR0aCwgYmFzZVRleHR1cmUuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSB0aGlzLl9mcmFtZTtcbiAgICAgICAgICAgIC8vIFRPRE8gbWF5YmUgd2F0Y2ggb3V0IGZvciB0aGUgbm8gZnJhbWUgb3B0aW9uXG4gICAgICAgICAgICAvLyB1cGRhdGluZyB0aGUgdGV4dHVyZSB3aWxsIHNob3VsZCB1cGRhdGUgdGhlIGZyYW1lIGlmIGl0IHdhcyBzZXQgdG8gbm8gZnJhbWUuLlxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lbWl0KCd1cGRhdGUnLCB0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZXN0cm95QmFzZT1mYWxzZV0gV2hldGhlciB0byBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgYXMgd2VsbFxuICAgICAqL1xuICAgIFRleHR1cmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChkZXN0cm95QmFzZSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZGVzdHJveUJhc2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSB0ZXh0dXJlIGlmIGl0IGV4aXN0cyBpbiB0aGUgdGV4dHVyZSBjYWNoZS4uXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBvbmx5IG5lZWRzIHRvIGJlIHJlbW92ZWQgaWYgdGhlIGJhc2UgdGV4dHVyZSBpcyBhY3R1YWxseSBkZXN0cm95ZWQgdG9vLi5cbiAgICAgICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW3RoaXMuYmFzZVRleHR1cmUuaW1hZ2VVcmxdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgVGV4dHVyZS5yZW1vdmVGcm9tQ2FjaGUodGhpcy5iYXNlVGV4dHVyZS5pbWFnZVVybCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUub2ZmKCd1cGRhdGUnLCB0aGlzLm9uQmFzZVRleHR1cmVVcGRhdGVkLCB0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mcmFtZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3V2cyA9IG51bGw7XG4gICAgICAgIHRoaXMudHJpbSA9IG51bGw7XG4gICAgICAgIHRoaXMub3JpZyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy52YWxpZCA9IGZhbHNlO1xuXG4gICAgICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZUlkcyA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGV4dHVyZSBvYmplY3QgdGhhdCBhY3RzIHRoZSBzYW1lIGFzIHRoaXMgb25lLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfSBUaGUgbmV3IHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUodGhpcy5iYXNlVGV4dHVyZSwgdGhpcy5mcmFtZSwgdGhpcy5vcmlnLCB0aGlzLnRyaW0sIHRoaXMucm90YXRlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaW50ZXJuYWwgV2ViR0wgVVYgY2FjaGUuIFVzZSBpdCBhZnRlciB5b3UgY2hhbmdlIGBmcmFtZWAgb3IgYHRyaW1gIG9mIHRoZSB0ZXh0dXJlLlxuICAgICAqIENhbGwgaXQgYWZ0ZXIgY2hhbmdpbmcgdGhlIGZyYW1lXG4gICAgICovXG4gICAgVGV4dHVyZS5wcm90b3R5cGUudXBkYXRlVXZzID0gZnVuY3Rpb24gdXBkYXRlVXZzICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3V2cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdXZzID0gbmV3IFRleHR1cmVVdnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3V2cy5zZXQodGhpcy5fZnJhbWUsIHRoaXMuYmFzZVRleHR1cmUsIHRoaXMucm90YXRlKTtcblxuICAgICAgICB0aGlzLl91cGRhdGVJRCsrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IFRleHR1cmUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50fEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR8UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKiAgICAgICAgc291cmNlIC0gU291cmNlIHRvIGNyZWF0ZSB0ZXh0dXJlIGZyb21cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIFNlZSB7QGxpbmsgUElYSS5CYXNlVGV4dHVyZX0ncyBjb25zdHJ1Y3RvciBmb3Igb3B0aW9ucy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb20gPSBmdW5jdGlvbiBmcm9tIChzb3VyY2UsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcblxuICAgICAgICB2YXIgY2FjaGVJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdzdHJpbmcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYWNoZUlkID0gc291cmNlO1xuXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMucmVzb2x1dGlvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwoc291cmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghc291cmNlLl9waXhpSWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlLl9waXhpSWQgPSBcInBpeGlpZF9cIiArICh1aWQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhY2hlSWQgPSBzb3VyY2UuX3BpeGlJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZUNhY2hlW2NhY2hlSWRdO1xuXG4gICAgICAgIGlmICghdGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKG5ldyBCYXNlVGV4dHVyZShzb3VyY2UsIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIHRleHR1cmUuYmFzZVRleHR1cmUuY2FjaGVJZCA9IGNhY2hlSWQ7XG5cbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgY2FjaGVJZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBsZXRzIGFzc3VtZSBpdHMgYSBiYXNlIHRleHR1cmUhXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgVGV4dHVyZSB3aXRoIGEgQnVmZmVyUmVzb3VyY2UgZnJvbSBhIEZsb2F0MzJBcnJheS5cbiAgICAgKiBSR0JBIHZhbHVlcyBhcmUgZmxvYXRzIGZyb20gMCB0byAxLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge0Zsb2F0MzJBcnJheXxVaW50QXJyYXl9IGJ1ZmZlciBUaGUgb3B0aW9uYWwgYXJyYXkgdG8gdXNlLCBpZiBubyBkYXRhXG4gICAgICogICAgICAgIGlzIHByb3ZpZGVkLCBhIG5ldyBGbG9hdDMyQXJyYXkgaXMgY3JlYXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB0aGUgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gSGVpZ2h0IG9mIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX0gVGhlIHJlc3VsdGluZyBuZXcgQmFzZVRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21CdWZmZXIgPSBmdW5jdGlvbiBmcm9tQnVmZmVyIChidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICByZXR1cm4gbmV3IFRleHR1cmUoQmFzZVRleHR1cmUuZnJvbUJ1ZmZlcihidWZmZXIsIHdpZHRoLCBoZWlnaHQsIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdGV4dHVyZSBmcm9tIGEgc291cmNlIGFuZCBhZGQgdG8gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIC0gVGhlIGlucHV0IHNvdXJjZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaW1hZ2VVcmwgLSBGaWxlIG5hbWUgb2YgdGV4dHVyZSwgZm9yIGNhY2hlIGFuZCByZXNvbHZpbmcgcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW25hbWVdIC0gSHVtYW4gcmVhZGFibGUgbmFtZSBmb3IgdGhlIHRleHR1cmUgY2FjaGUuIElmIG5vIG5hbWUgaXNcbiAgICAgKiAgICAgICAgc3BlY2lmaWVkLCBvbmx5IGBpbWFnZVVybGAgd2lsbCBiZSB1c2VkIGFzIHRoZSBjYWNoZSBJRC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IE91dHB1dCB0ZXh0dXJlXG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tTG9hZGVyID0gZnVuY3Rpb24gZnJvbUxvYWRlciAoc291cmNlLCBpbWFnZVVybCwgbmFtZSlcbiAgICB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhZGRlZCBmcm9tIGxvYWRlci4uLicpXG4gICAgICAgIHZhciByZXNvdXJjZSA9IG5ldyBJbWFnZVJlc291cmNlKHNvdXJjZSk7XG5cbiAgICAgICAgcmVzb3VyY2UudXJsID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgLy8gIGNvbnNvbGUubG9nKCdiYXNlIHJlc291cmNlICcgKyByZXNvdXJjZS53aWR0aCk7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShyZXNvdXJjZSwge1xuICAgICAgICAgICAgc2NhbGVNb2RlOiBzZXR0aW5ncyQxLlNDQUxFX01PREUsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiBnZXRSZXNvbHV0aW9uT2ZVcmwoaW1hZ2VVcmwpLFxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKTtcblxuICAgICAgICAvLyBObyBuYW1lLCB1c2UgaW1hZ2VVcmwgaW5zdGVhZFxuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBpbWFnZVVybDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgYWxzbyBhZGQgdGhlIGZyYW1lIHRvIHBpeGkncyBnbG9iYWwgY2FjaGUgZm9yIGZyb21GcmFtZSBhbmQgZnJvbUltYWdlIGZ1bmN0aW9uc1xuICAgICAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUuYmFzZVRleHR1cmUsIG5hbWUpO1xuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZSwgbmFtZSk7XG5cbiAgICAgICAgLy8gYWxzbyBhZGQgcmVmZXJlbmNlcyBieSB1cmwgaWYgdGhleSBhcmUgZGlmZmVyZW50LlxuICAgICAgICBpZiAobmFtZSAhPT0gaW1hZ2VVcmwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUodGV4dHVyZS5iYXNlVGV4dHVyZSwgaW1hZ2VVcmwpO1xuICAgICAgICAgICAgVGV4dHVyZS5hZGRUb0NhY2hlKHRleHR1cmUsIGltYWdlVXJsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgVGV4dHVyZSB0byB0aGUgZ2xvYmFsIFRleHR1cmVDYWNoZS4gVGhpcyBjYWNoZSBpcyBzaGFyZWQgYWNyb3NzIHRoZSB3aG9sZSBQSVhJIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSBUZXh0dXJlIHRvIGFkZCB0byB0aGUgY2FjaGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gVGhlIGlkIHRoYXQgdGhlIFRleHR1cmUgd2lsbCBiZSBzdG9yZWQgYWdhaW5zdC5cbiAgICAgKi9cbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUgPSBmdW5jdGlvbiBhZGRUb0NhY2hlICh0ZXh0dXJlLCBpZClcbiAgICB7XG4gICAgICAgIGlmIChpZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmluZGV4T2YoaWQpID09PSAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmVDYWNoZUlkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFRleHR1cmVDYWNoZVtpZF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oKFwiVGV4dHVyZSBhZGRlZCB0byB0aGUgY2FjaGUgd2l0aCBhbiBpZCBbXCIgKyBpZCArIFwiXSB0aGF0IGFscmVhZHkgaGFkIGFuIGVudHJ5XCIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVGV4dHVyZUNhY2hlW2lkXSA9IHRleHR1cmU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgVGV4dHVyZSBmcm9tIHRoZSBnbG9iYWwgVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfFBJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIGlkIG9mIGEgVGV4dHVyZSB0byBiZSByZW1vdmVkLCBvciBhIFRleHR1cmUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICogQHJldHVybiB7UElYSS5UZXh0dXJlfG51bGx9IFRoZSBUZXh0dXJlIHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSA9IGZ1bmN0aW9uIHJlbW92ZUZyb21DYWNoZSAodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIGlmICh0eXBlb2YgdGV4dHVyZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlRnJvbUNhY2hlID0gVGV4dHVyZUNhY2hlW3RleHR1cmVdO1xuXG4gICAgICAgICAgICBpZiAodGV4dHVyZUZyb21DYWNoZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlRnJvbUNhY2hlLnRleHR1cmVDYWNoZUlkcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZV07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dHVyZUZyb21DYWNoZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0ZXh0dXJlICYmIHRleHR1cmUudGV4dHVyZUNhY2hlSWRzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHR1cmUudGV4dHVyZUNhY2hlSWRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGV4dHVyZSBtYXRjaGVzIHRoZSBvbmUgYmVpbmcgcGFzc2VkIGluIGJlZm9yZSBkZWxldGluZyBpdCBmcm9tIHRoZSBjYWNoZS5cbiAgICAgICAgICAgICAgICBpZiAoVGV4dHVyZUNhY2hlW3RleHR1cmUudGV4dHVyZUNhY2hlSWRzW2ldXSA9PT0gdGV4dHVyZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBUZXh0dXJlQ2FjaGVbdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbaV1dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgcmV0dXJuIHRleHR1cmU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYW1lIHNwZWNpZmllcyB0aGUgcmVnaW9uIG9mIHRoZSBiYXNlIHRleHR1cmUgdGhhdCB0aGlzIHRleHR1cmUgdXNlcy5cbiAgICAgKiBQbGVhc2UgY2FsbCBgdXBkYXRlVXZzKClgIGFmdGVyIHlvdSBjaGFuZ2UgY29vcmRpbmF0ZXMgb2YgYGZyYW1lYCBtYW51YWxseS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5mcmFtZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuZnJhbWUuc2V0ID0gZnVuY3Rpb24gKGZyYW1lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZyYW1lID0gZnJhbWU7XG5cbiAgICAgICAgdGhpcy5ub0ZyYW1lID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIHggPSBmcmFtZS54O1xuICAgICAgICB2YXIgeSA9IGZyYW1lLnk7XG4gICAgICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0O1xuICAgICAgICB2YXIgeE5vdEZpdCA9IHggKyB3aWR0aCA+IHRoaXMuYmFzZVRleHR1cmUud2lkdGg7XG4gICAgICAgIHZhciB5Tm90Rml0ID0geSArIGhlaWdodCA+IHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0O1xuXG4gICAgICAgIGlmICh4Tm90Rml0IHx8IHlOb3RGaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciByZWxhdGlvbnNoaXAgPSB4Tm90Rml0ICYmIHlOb3RGaXQgPyAnYW5kJyA6ICdvcic7XG4gICAgICAgICAgICB2YXIgZXJyb3JYID0gXCJYOiBcIiArIHggKyBcIiArIFwiICsgd2lkdGggKyBcIiA9IFwiICsgKHggKyB3aWR0aCkgKyBcIiA+IFwiICsgKHRoaXMuYmFzZVRleHR1cmUud2lkdGgpO1xuICAgICAgICAgICAgdmFyIGVycm9yWSA9IFwiWTogXCIgKyB5ICsgXCIgKyBcIiArIGhlaWdodCArIFwiID0gXCIgKyAoeSArIGhlaWdodCkgKyBcIiA+IFwiICsgKHRoaXMuYmFzZVRleHR1cmUuaGVpZ2h0KTtcblxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUZXh0dXJlIEVycm9yOiBmcmFtZSBkb2VzIG5vdCBmaXQgaW5zaWRlIHRoZSBiYXNlIFRleHR1cmUgZGltZW5zaW9uczogJ1xuICAgICAgICAgICAgICAgICsgZXJyb3JYICsgXCIgXCIgKyByZWxhdGlvbnNoaXAgKyBcIiBcIiArIGVycm9yWSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZhbGlkID0gd2lkdGggJiYgaGVpZ2h0ICYmIHRoaXMuYmFzZVRleHR1cmUudmFsaWQ7XG5cbiAgICAgICAgaWYgKCF0aGlzLnRyaW0gJiYgIXRoaXMucm90YXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm9yaWcgPSBmcmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0ZXh0dXJlIGlzIHJvdGF0ZWQgaW5zaWRlIHRoZSBhdGxhc1xuICAgICAqIHNldCB0byAyIHRvIGNvbXBlbnNhdGUgZm9yIHRleHR1cmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICogc2V0IHRvIDYgdG8gY29tcGVuc2F0ZSBmb3Igc3BpbmUgcGFja2VyIHJvdGF0aW9uXG4gICAgICogY2FuIGJlIHVzZWQgdG8gcm90YXRlIG9yIG1pcnJvciBzcHJpdGVzXG4gICAgICogU2VlIHtAbGluayBQSVhJLkdyb3VwRDh9IGZvciBleHBsYW5hdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yb3RhdGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3RhdGU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yb3RhdGUuc2V0ID0gZnVuY3Rpb24gKHJvdGF0ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9yb3RhdGUgPSByb3RhdGU7XG4gICAgICAgIGlmICh0aGlzLnZhbGlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVV2cygpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgVGV4dHVyZSBpbiBwaXhlbHMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnLndpZHRoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBUZXh0dXJlIGluIHBpeGVscy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5vcmlnLmhlaWdodDtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRleHR1cmUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBUZXh0dXJlO1xufShFdmVudEVtaXR0ZXIpKTtcblxuZnVuY3Rpb24gY3JlYXRlV2hpdGVUZXh0dXJlKClcbntcbiAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cbiAgICBjYW52YXMud2lkdGggPSAxMDtcbiAgICBjYW52YXMuaGVpZ2h0ID0gMTA7XG5cbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgMTAsIDEwKTtcblxuICAgIHJldHVybiBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUobmV3IENhbnZhc1Jlc291cmNlKGNhbnZhcykpKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQWxsSGFuZGxlcnModGV4KVxue1xuICAgIHRleC5kZXN0cm95ID0gZnVuY3Rpb24gX2VtcHR5RGVzdHJveSgpIHsgLyogZW1wdHkgKi8gfTtcbiAgICB0ZXgub24gPSBmdW5jdGlvbiBfZW1wdHlPbigpIHsgLyogZW1wdHkgKi8gfTtcbiAgICB0ZXgub25jZSA9IGZ1bmN0aW9uIF9lbXB0eU9uY2UoKSB7IC8qIGVtcHR5ICovIH07XG4gICAgdGV4LmVtaXQgPSBmdW5jdGlvbiBfZW1wdHlFbWl0KCkgeyAvKiBlbXB0eSAqLyB9O1xufVxuXG4vKipcbiAqIEFuIGVtcHR5IHRleHR1cmUsIHVzZWQgb2Z0ZW4gdG8gbm90IGhhdmUgdG8gY3JlYXRlIG11bHRpcGxlIGVtcHR5IHRleHR1cmVzLlxuICogQ2FuIG5vdCBiZSBkZXN0cm95ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQGNvbnN0YW50XG4gKi9cblRleHR1cmUuRU1QVFkgPSBuZXcgVGV4dHVyZShuZXcgQmFzZVRleHR1cmUoKSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLkVNUFRZKTtcbnJlbW92ZUFsbEhhbmRsZXJzKFRleHR1cmUuRU1QVFkuYmFzZVRleHR1cmUpO1xuXG4vKipcbiAqIEEgd2hpdGUgdGV4dHVyZSBvZiAxMHgxMCBzaXplLCB1c2VkIGZvciBncmFwaGljcyBhbmQgb3RoZXIgdGhpbmdzXG4gKiBDYW4gbm90IGJlIGRlc3Ryb3llZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqL1xuVGV4dHVyZS5XSElURSA9IGNyZWF0ZVdoaXRlVGV4dHVyZSgpO1xucmVtb3ZlQWxsSGFuZGxlcnMoVGV4dHVyZS5XSElURSk7XG5yZW1vdmVBbGxIYW5kbGVycyhUZXh0dXJlLldISVRFLmJhc2VUZXh0dXJlKTtcblxuLyoqXG4gKiBBIFJlbmRlclRleHR1cmUgaXMgYSBzcGVjaWFsIHRleHR1cmUgdGhhdCBhbGxvd3MgYW55IFBpeGlKUyBkaXNwbGF5IG9iamVjdCB0byBiZSByZW5kZXJlZCB0byBpdC5cbiAqXG4gKiBfX0hpbnRfXzogQWxsIERpc3BsYXlPYmplY3RzIChpLmUuIFNwcml0ZXMpIHRoYXQgcmVuZGVyIHRvIGEgUmVuZGVyVGV4dHVyZSBzaG91bGQgYmUgcHJlbG9hZGVkXG4gKiBvdGhlcndpc2UgYmxhY2sgcmVjdGFuZ2xlcyB3aWxsIGJlIGRyYXduIGluc3RlYWQuXG4gKlxuICogQSBSZW5kZXJUZXh0dXJlIHRha2VzIGEgc25hcHNob3Qgb2YgYW55IERpc3BsYXkgT2JqZWN0IGdpdmVuIHRvIGl0cyByZW5kZXIgbWV0aG9kLiBGb3IgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogbGV0IHJlbmRlcmVyID0gUElYSS5hdXRvRGV0ZWN0UmVuZGVyZXIoMTAyNCwgMTAyNCwgeyB2aWV3OiBjYW52YXMsIHJhdGlvOiAxIH0pO1xuICogbGV0IHJlbmRlclRleHR1cmUgPSBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKDgwMCwgNjAwKTtcbiAqIGxldCBzcHJpdGUgPSBQSVhJLlNwcml0ZS5mcm9tKFwic3Bpbk9ial8wMS5wbmdcIik7XG4gKlxuICogc3ByaXRlLnBvc2l0aW9uLnggPSA4MDAvMjtcbiAqIHNwcml0ZS5wb3NpdGlvbi55ID0gNjAwLzI7XG4gKiBzcHJpdGUuYW5jaG9yLnggPSAwLjU7XG4gKiBzcHJpdGUuYW5jaG9yLnkgPSAwLjU7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7XG4gKiBgYGBcbiAqXG4gKiBUaGUgU3ByaXRlIGluIHRoaXMgY2FzZSB3aWxsIGJlIHJlbmRlcmVkIHVzaW5nIGl0cyBsb2NhbCB0cmFuc2Zvcm0uIFRvIHJlbmRlciB0aGlzIHNwcml0ZSBhdCAwLDBcbiAqIHlvdSBjYW4gY2xlYXIgdGhlIHRyYW5zZm9ybVxuICpcbiAqIGBgYGpzXG4gKlxuICogc3ByaXRlLnNldFRyYW5zZm9ybSgpXG4gKlxuICogbGV0IHJlbmRlclRleHR1cmUgPSBuZXcgUElYSS5SZW5kZXJUZXh0dXJlLmNyZWF0ZSgxMDAsIDEwMCk7XG4gKlxuICogcmVuZGVyZXIucmVuZGVyKHNwcml0ZSwgcmVuZGVyVGV4dHVyZSk7ICAvLyBSZW5kZXJzIHRvIGNlbnRlciBvZiBSZW5kZXJUZXh0dXJlXG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFJlbmRlclRleHR1cmUgPSAoZnVuY3Rpb24gKFRleHR1cmUkJDEpIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlKGJhc2VSZW5kZXJUZXh0dXJlLCBmcmFtZSlcbiAgICB7XG4gICAgICAgIC8vIHN1cHBvcnQgZm9yIGxlZ2FjeS4uXG4gICAgICAgIHZhciBfbGVnYWN5UmVuZGVyZXIgPSBudWxsO1xuXG4gICAgICAgIGlmICghKGJhc2VSZW5kZXJUZXh0dXJlIGluc3RhbmNlb2YgQmFzZVJlbmRlclRleHR1cmUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMsIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIHZhciB3aWR0aCA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBhcmd1bWVudHNbMl07XG4gICAgICAgICAgICB2YXIgc2NhbGVNb2RlID0gYXJndW1lbnRzWzNdO1xuICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSBhcmd1bWVudHNbNF07XG5cbiAgICAgICAgICAgIC8vIHdlIGhhdmUgYW4gb2xkIHJlbmRlciB0ZXh0dXJlLi5cbiAgICAgICAgICAgIGNvbnNvbGUud2FybigoXCJQbGVhc2UgdXNlIFJlbmRlclRleHR1cmUuY3JlYXRlKFwiICsgd2lkdGggKyBcIiwgXCIgKyBoZWlnaHQgKyBcIikgaW5zdGVhZCBvZiB0aGUgY3RvciBkaXJlY3RseS5cIikpO1xuICAgICAgICAgICAgX2xlZ2FjeVJlbmRlcmVyID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMsIG5vLWNvbnNvbGUgKi9cblxuICAgICAgICAgICAgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgYmFzZVJlbmRlclRleHR1cmUgPSBuZXcgQmFzZVJlbmRlclRleHR1cmUoe1xuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhc2UgdGV4dHVyZSBvYmplY3QgdGhhdCB0aGlzIHRleHR1cmUgdXNlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtCYXNlVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIFRleHR1cmUkJDEuY2FsbCh0aGlzLCBiYXNlUmVuZGVyVGV4dHVyZSwgZnJhbWUpO1xuXG4gICAgICAgIHRoaXMubGVnYWN5UmVuZGVyZXIgPSBfbGVnYWN5UmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgd2lsbCBsZXQgdGhlIHJlbmRlcmVyIGtub3cgaWYgdGhlIHRleHR1cmUgaXMgdmFsaWQuIElmIGl0J3Mgbm90IHRoZW4gaXQgY2Fubm90IGJlIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YWxpZCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbHRlclN5c3RlbSB0ZW1wb3Jhcnkgc3RvcmFnZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsdGVyRnJhbWUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAqIFRoZSBrZXkgZm9yIHBvb2xlZCB0ZXh0dXJlIG9mIEZpbHRlclN5c3RlbVxuICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpbHRlclBvb2xLZXkgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVXZzKCk7XG4gICAgfVxuXG4gICAgaWYgKCBUZXh0dXJlJCQxICkgUmVuZGVyVGV4dHVyZS5fX3Byb3RvX18gPSBUZXh0dXJlJCQxO1xuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggVGV4dHVyZSQkMSAmJiBUZXh0dXJlJCQxLnByb3RvdHlwZSApO1xuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVuZGVyVGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFJlbmRlclRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgd2lkdGggdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGVpZ2h0IHRvIHJlc2l6ZSB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXNpemVCYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCB0aGUgYmFzZVRleHR1cmUud2lkdGggYW5kIGhlaWdodCB2YWx1ZXMgYmUgcmVzaXplZCBhcyB3ZWxsP1xuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmUucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAod2lkdGgsIGhlaWdodCwgcmVzaXplQmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAoIHJlc2l6ZUJhc2VUZXh0dXJlID09PSB2b2lkIDAgKSByZXNpemVCYXNlVGV4dHVyZSA9IHRydWU7XG5cbiAgICAgICAgd2lkdGggPSBNYXRoLmNlaWwod2lkdGgpO1xuICAgICAgICBoZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0KTtcblxuICAgICAgICAvLyBUT0RPIC0gY291bGQgYmUgbm90IHJlcXVpcmVkLi5cbiAgICAgICAgdGhpcy52YWxpZCA9ICh3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCk7XG5cbiAgICAgICAgdGhpcy5fZnJhbWUud2lkdGggPSB0aGlzLm9yaWcud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5fZnJhbWUuaGVpZ2h0ID0gdGhpcy5vcmlnLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICBpZiAocmVzaXplQmFzZVRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmFzZVRleHR1cmUucmVzaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVVdnMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIHJlbmRlciB0ZXh0dXJlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIE9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMud2lkdGg9MTAwXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMuaGVpZ2h0PTEwMF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5zY2FsZU1vZGU9UElYSS5zZXR0aW5ncy5TQ0FMRV9NT0RFXSAtIFNlZSB7QGxpbmsgUElYSS5TQ0FMRV9NT0RFU30gZm9yIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy5yZXNvbHV0aW9uPTFdIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlXG4gICAgICovXG4gICAgUmVuZGVyVGV4dHVyZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvLyBmYWxsYmFjaywgb2xkLXN0eWxlOiBjcmVhdGUod2lkdGgsIGhlaWdodCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKVxuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBwcmVmZXItcmVzdC1wYXJhbXMgKi9cbiAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBhcmd1bWVudHNbMV0sXG4gICAgICAgICAgICAgICAgc2NhbGVNb2RlOiBhcmd1bWVudHNbMl0sXG4gICAgICAgICAgICAgICAgcmVzb2x1dGlvbjogYXJndW1lbnRzWzNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFJlbmRlclRleHR1cmUobmV3IEJhc2VSZW5kZXJUZXh0dXJlKG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFJlbmRlclRleHR1cmU7XG59KFRleHR1cmUpKTtcblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4vKipcbiAqIGhvbGRzIHRoZSBpbmZvcm1hdGlvbiBmb3IgYSBzaW5nbGUgYXR0cmlidXRlIHN0cnVjdHVyZSByZXF1aXJlZCB0byByZW5kZXIgZ2VvbWV0cnkuXG4gKiB0aGlzIGRvZXMgbm90IGNvbnRhaW4gdGhlIGFjdHVhbCBkYXRhLCBidXQgaW5zdGVhZCBoYXMgYSBidWZmZXIgaWQgdGhhdCBtYXBzIHRvIGEge0BsaW5rIFBJWEkuQnVmZmVyfVxuICogVGhpcyBjYW4gaW5jbHVkZSBhbnl0aGluZyBmcm9tIHBvc2l0aW9ucywgdXZzLCBub3JtYWxzLCBjb2xvcnMgZXRjLi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBdHRyaWJ1dGUgPSBmdW5jdGlvbiBBdHRyaWJ1dGUoYnVmZmVyLCBzaXplLCBub3JtYWxpemVkLCB0eXBlLCBzdHJpZGUsIHN0YXJ0LCBpbnN0YW5jZSlcbntcbiAgICBpZiAoIG5vcm1hbGl6ZWQgPT09IHZvaWQgMCApIG5vcm1hbGl6ZWQgPSBmYWxzZTtcbiAgICBpZiAoIHR5cGUgPT09IHZvaWQgMCApIHR5cGUgPSA1MTI2O1xuXG4gICAgdGhpcy5idWZmZXIgPSBidWZmZXI7XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLm5vcm1hbGl6ZWQgPSBub3JtYWxpemVkO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5zdHJpZGUgPSBzdHJpZGU7XG4gICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIEF0dHJpYnV0ZS5cbiAqL1xuQXR0cmlidXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbiBBdHRyaWJ1dGUgYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtzdHJpbmd9IGJ1ZmZlciAgdGhlIGlkIG9mIHRoZSBidWZmZXIgdGhhdCB0aGlzIGF0dHJpYnV0ZSB3aWxsIGxvb2sgZm9yXG4gKiBAcGFyYW0ge051bWJlcn0gW3NpemU9Ml0gdGhlIHNpemUgb2YgdGhlIGF0dHJpYnV0ZS4gSWYgeW91IGhhdmUgMiBmbG9hdHMgcGVyIHZlcnRleCAoZWcgcG9zaXRpb24geCBhbmQgeSkgdGhpcyB3b3VsZCBiZSAyXG4gKiBAcGFyYW0ge051bWJlcn0gW3N0cmlkZT0wXSBIb3cgZmFyIGFwYXJ0IChpbiBmbG9hdHMpIHRoZSBzdGFydCBvZiBlYWNoIHZhbHVlIGlzLiAodXNlZCBmb3IgaW50ZXJsZWF2aW5nIGRhdGEpXG4gKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0PTBdIEhvdyBmYXIgaW50byB0aGUgYXJyYXkgdG8gc3RhcnQgcmVhZGluZyB2YWx1ZXMgKHVzZWQgZm9yIGludGVybGVhdmluZyBkYXRhKVxuICogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4gKlxuICogQHJldHVybnMge1BJWEkuQXR0cmlidXRlfSBBIG5ldyB7QGxpbmsgUElYSS5BdHRyaWJ1dGV9IGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZFxuICovXG5BdHRyaWJ1dGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKGJ1ZmZlciwgc2l6ZSwgc3RyaWRlLCBzdGFydCwgbm9ybWFsaXplZClcbntcbiAgICByZXR1cm4gbmV3IEF0dHJpYnV0ZShidWZmZXIsIHNpemUsIHN0cmlkZSwgc3RhcnQsIG5vcm1hbGl6ZWQpO1xufTtcblxudmFyIEF0dHJpYnV0ZV8xID0gQXR0cmlidXRlO1xuXG52YXIgVUlEJDEgPSAwO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuXG4vKipcbiAqIEEgd3JhcHBlciBmb3IgZGF0YSBzbyB0aGF0IGl0IGNhbiBiZSB1c2VkIGFuZCB1cGxvYWRlZCBieSB3ZWJHTFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJ1ZmZlciA9IGZ1bmN0aW9uIEJ1ZmZlcihkYXRhLCBfc3RhdGljLCBpbmRleClcbntcbiAgICBpZiAoIF9zdGF0aWMgPT09IHZvaWQgMCApIF9zdGF0aWMgPSB0cnVlO1xuICAgIGlmICggaW5kZXggPT09IHZvaWQgMCApIGluZGV4ID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGF0YSBpbiB0aGUgYnVmZmVyLCBhcyBhIHR5cGVkIGFycmF5XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtBcnJheUJ1ZmZlcnwgU2hhcmVkQXJyYXlCdWZmZXJ8QXJyYXlCdWZmZXJWaWV3fVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IGRhdGEgfHwgbmV3IEZsb2F0MzJBcnJheSgxKTtcblxuICAgIC8qKlxuICAgICAqIEEgbWFwIG9mIHJlbmRlcmVyIElEcyB0byB3ZWJnbCBidWZmZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgR0xCdWZmZXI+fVxuICAgICAqL1xuICAgIHRoaXMuX2dsQnVmZmVycyA9IHt9O1xuXG4gICAgdGhpcy5fdXBkYXRlSUQgPSAwO1xuXG4gICAgdGhpcy5pbmRleCA9IGluZGV4O1xuXG4gICAgdGhpcy5zdGF0aWMgPSBfc3RhdGljO1xuXG4gICAgdGhpcy5pZCA9IFVJRCQxKys7XG59O1xuXG4vLyBUT0RPIGNvdWxkIGV4cGxvcmUgZmxhZ2dpbmcgb25seSBhIHBhcnRpYWwgdXBsb2FkP1xuLyoqXG4gKiBmbGFncyB0aGlzIGJ1ZmZlciBhcyByZXF1aXJpbmcgYW4gdXBsb2FkIHRvIHRoZSBHUFVcbiAqL1xuQnVmZmVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGRhdGEpXG57XG4gICAgdGhpcy5kYXRhID0gZGF0YSB8fCB0aGlzLmRhdGE7XG4gICAgdGhpcy5fdXBkYXRlSUQrKztcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIGJ1ZmZlclxuICovXG5CdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9nbEJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB0aGlzJDEuX2dsQnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbn07XG5cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGJ1ZmZlciBiYXNlZCBvbiBhbiBhcnJheSBvciBUeXBlZEFycmF5XG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtUeXBlZEFycmF5fCBBcnJheX0gZGF0YSB0aGUgVHlwZWRBcnJheSB0aGF0IHRoZSBidWZmZXIgd2lsbCBzdG9yZS4gSWYgdGhpcyBpcyBhIHJlZ3VsYXIgQXJyYXkgaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBGbG9hdDMyQXJyYXkuXG4gKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gQSBuZXcgQnVmZmVyIGJhc2VkIG9uIHRoZSBkYXRhIHByb3ZpZGVkLlxuICovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKGRhdGEpXG57XG4gICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSlcbiAgICB7XG4gICAgICAgIGRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgQnVmZmVyKGRhdGEpO1xufTtcblxuZnVuY3Rpb24gZ2V0QnVmZmVyVHlwZShhcnJheSlcbntcbiAgICBpZiAoYXJyYXkuQllURVNfUEVSX0VMRU1FTlQgPT09IDQpXG4gICAge1xuICAgICAgICBpZiAoYXJyYXkgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnRmxvYXQzMkFycmF5JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcnJheSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gJ1VpbnQzMkFycmF5JztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnSW50MzJBcnJheSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAyKVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDE2QXJyYXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAnVWludDE2QXJyYXknO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGFycmF5LkJZVEVTX1BFUl9FTEVNRU5UID09PSAxKVxuICAgIHtcbiAgICAgICAgaWYgKGFycmF5IGluc3RhbmNlb2YgVWludDhBcnJheSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuICdVaW50OEFycmF5JztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gbWFwIG91dCB0aGUgcmVzdCBvZiB0aGUgYXJyYXkgZWxlbWVudHMhXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG9iamVjdC1zaG9ydGhhbmQgKi9cbnZhciBtYXAkMSA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxufTtcblxuZnVuY3Rpb24gaW50ZXJsZWF2ZVR5cGVkQXJyYXlzKGFycmF5cywgc2l6ZXMpXG57XG4gICAgdmFyIG91dFNpemUgPSAwO1xuICAgIHZhciBzdHJpZGUgPSAwO1xuICAgIHZhciB2aWV3cyA9IHt9O1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBzdHJpZGUgKz0gc2l6ZXNbaV07XG4gICAgICAgIG91dFNpemUgKz0gYXJyYXlzW2ldLmxlbmd0aDtcbiAgICB9XG5cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKG91dFNpemUgKiA0KTtcblxuICAgIHZhciBvdXQgPSBudWxsO1xuICAgIHZhciBsaXR0bGVPZmZzZXQgPSAwO1xuXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgYXJyYXlzLmxlbmd0aDsgaSQxKyspXG4gICAge1xuICAgICAgICB2YXIgc2l6ZSA9IHNpemVzW2kkMV07XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tpJDFdO1xuXG4gICAgICAgIHZhciB0eXBlID0gZ2V0QnVmZmVyVHlwZShhcnJheSk7XG5cbiAgICAgICAgaWYgKCF2aWV3c1t0eXBlXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmlld3NbdHlwZV0gPSBuZXcgbWFwJDFbdHlwZV0oYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG91dCA9IHZpZXdzW3R5cGVdO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXJyYXkubGVuZ3RoOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpbmRleFN0YXJ0ID0gKChqIC8gc2l6ZSB8IDApICogc3RyaWRlKSArIGxpdHRsZU9mZnNldDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGogJSBzaXplO1xuXG4gICAgICAgICAgICBvdXRbaW5kZXhTdGFydCArIGluZGV4XSA9IGFycmF5W2pdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGl0dGxlT2Zmc2V0ICs9IHNpemU7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoYnVmZmVyKTtcbn1cblxudmFyIGJ5dGVTaXplTWFwID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG52YXIgVUlEID0gMDtcblxuLyogZXNsaW50LWRpc2FibGUgb2JqZWN0LXNob3J0aGFuZCAqL1xudmFyIG1hcCA9IHtcbiAgICBGbG9hdDMyQXJyYXk6IEZsb2F0MzJBcnJheSxcbiAgICBVaW50MzJBcnJheTogVWludDMyQXJyYXksXG4gICAgSW50MzJBcnJheTogSW50MzJBcnJheSxcbiAgICBVaW50OEFycmF5OiBVaW50OEFycmF5LFxuICAgIFVpbnQxNkFycmF5OiBVaW50MTZBcnJheSxcbn07XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuLyoqXG4gKiBUaGUgR2VvbWV0cnkgcmVwcmVzZW50cyBhIG1vZGVsLiBJdCBjb25zaXN0cyBvZiB0d28gY29tcG9uZW50czpcbiAqIEdlb21ldHJ5U3R5bGUgLSBUaGUgc3RydWN0dXJlIG9mIHRoZSBtb2RlbCBzdWNoIGFzIHRoZSBhdHRyaWJ1dGVzIGxheW91dFxuICogR2VvbWV0cnlEYXRhIC0gdGhlIGRhdGEgb2YgdGhlIG1vZGVsIC0gdGhpcyBjb25zaXN0cyBvZiBidWZmZXJzLlxuICpcbiAqIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy4uXG4gKlxuICogR2VvbWV0cnkgY2FuIGJlIGRlZmluZWQgd2l0aG91dCBwYXNzaW5nIGluIGEgc3R5bGUgb3IgZGF0YSBpZiByZXF1aXJlZCAodGhhdHMgaG93IEkgcHJlZmVyISlcbiAqXG4gKiBgYGBqc1xuICogbGV0IGdlb21ldHJ5ID0gbmV3IFBJWEkuR2VvbWV0cnkoKTtcbiAqXG4gKiBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ3Bvc2l0aW9ucycsIFswLCAwLCAxMDAsIDAsIDEwMCwgMTAwLCAwLCAxMDBdLCAyKTtcbiAqIGdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgndXZzJywgWzAsMCwxLDAsMSwxLDAsMV0sMilcbiAqIGdlb21ldHJ5LmFkZEluZGV4KFswLDEsMiwxLDMsMl0pXG4gKlxuICogYGBgXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHZW9tZXRyeSA9IGZ1bmN0aW9uIEdlb21ldHJ5KGJ1ZmZlcnMsIGF0dHJpYnV0ZXMpXG57XG4gICAgaWYgKCBidWZmZXJzID09PSB2b2lkIDAgKSBidWZmZXJzID0gW107XG4gICAgaWYgKCBhdHRyaWJ1dGVzID09PSB2b2lkIDAgKSBhdHRyaWJ1dGVzID0ge307XG5cbiAgICB0aGlzLmJ1ZmZlcnMgPSBidWZmZXJzO1xuXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzO1xuXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgcmVuZGVyZXIgSURzIHRvIHdlYmdsIFZBT3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0FycmF5PFZlcnRleEFycmF5T2JqZWN0Pn1cbiAgICAgKi9cbiAgICB0aGlzLmdsVmVydGV4QXJyYXlPYmplY3RzID0ge307XG5cbiAgICB0aGlzLmlkID0gVUlEKys7XG5cbiAgICB0aGlzLmluc3RhbmNlZCA9IGZhbHNlO1xuXG4gICAgdGhpcy5pbnN0YW5jZUNvdW50ID0gMTtcblxuICAgIHRoaXMuX3NpemUgPSBudWxsO1xufTtcblxuLyoqXG4qXG4qIEFkZHMgYW4gYXR0cmlidXRlIHRvIHRoZSBnZW9tZXRyeVxuKlxuKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIChtYXRjaGluZyB1cCB0byBhIHNoYWRlcilcbiogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gW2J1ZmZlcl0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBhdHRyaWJ1dGUgLiBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBBcnJheSBhbmQgYSBidWZmZXIgd2lsbCBiZSBjcmVhdGVkIGZyb20gaXQuXG4qIEBwYXJhbSB7TnVtYmVyfSBbc2l6ZT0wXSB0aGUgc2l6ZSBvZiB0aGUgYXR0cmlidXRlLiBJZiB5b3UgaGF2ZSAyIGZsb2F0cyBwZXIgdmVydGV4IChlZyBwb3NpdGlvbiB4IGFuZCB5KSB0aGlzIHdvdWxkIGJlIDJcbiogQHBhcmFtIHtCb29sZWFufSBbbm9ybWFsaXplZD1mYWxzZV0gc2hvdWxkIHRoZSBkYXRhIGJlIG5vcm1hbGl6ZWQuXG4qIEBwYXJhbSB7TnVtYmVyfSBbdHlwZT1QSVhJLlRZUEVTLkZMT0FUXSB3aGF0IHR5cGUgb2YgbnVtYmVyIGlzIHRoZSBhdHRyaWJ1dGUuIENoZWNrIHtQSVhJLlRZUEVTfSB0byBzZWUgdGhlIG9uZXMgYXZhaWxhYmxlXG4qIEBwYXJhbSB7TnVtYmVyfSBbc3RyaWRlPTBdIEhvdyBmYXIgYXBhcnQgKGluIGZsb2F0cykgdGhlIHN0YXJ0IG9mIGVhY2ggdmFsdWUgaXMuICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbiogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydD0wXSBIb3cgZmFyIGludG8gdGhlIGFycmF5IHRvIHN0YXJ0IHJlYWRpbmcgdmFsdWVzICh1c2VkIGZvciBpbnRlcmxlYXZpbmcgZGF0YSlcbipcbiogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5hZGRBdHRyaWJ1dGUgPSBmdW5jdGlvbiBhZGRBdHRyaWJ1dGUgKGlkLCBidWZmZXIsIHNpemUsIG5vcm1hbGl6ZWQsIHR5cGUsIHN0cmlkZSwgc3RhcnQsIGluc3RhbmNlKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcbiAgICAgICAgaWYgKCBub3JtYWxpemVkID09PSB2b2lkIDAgKSBub3JtYWxpemVkID0gZmFsc2U7XG4gICAgICAgIGlmICggaW5zdGFuY2UgPT09IHZvaWQgMCApIGluc3RhbmNlID0gZmFsc2U7XG5cbiAgICBpZiAoIWJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG11c3QgcGFzcyBhIGJ1ZmZlciB3aGVuIGNyZWF0aW5nIGFuIGF0dHJpYnV0ZScpO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIHRoaXMgaXMgYSBidWZmZXIhXG4gICAgaWYgKCFidWZmZXIuZGF0YSlcbiAgICB7XG4gICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgRmxvYXQzMkFycmF5KGJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICBidWZmZXIgPSBuZXcgQnVmZmVyKGJ1ZmZlcik7XG4gICAgfVxuXG4gICAgdmFyIGlkcyA9IGlkLnNwbGl0KCd8Jyk7XG5cbiAgICBpZiAoaWRzLmxlbmd0aCA+IDEpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLmFkZEF0dHJpYnV0ZShpZHNbaV0sIGJ1ZmZlciwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICB2YXIgYnVmZmVySW5kZXggPSB0aGlzLmJ1ZmZlcnMuaW5kZXhPZihidWZmZXIpO1xuXG4gICAgaWYgKGJ1ZmZlckluZGV4ID09PSAtMSlcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIGJ1ZmZlckluZGV4ID0gdGhpcy5idWZmZXJzLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgdGhpcy5hdHRyaWJ1dGVzW2lkXSA9IG5ldyBBdHRyaWJ1dGVfMShidWZmZXJJbmRleCwgc2l6ZSwgbm9ybWFsaXplZCwgdHlwZSwgc3RyaWRlLCBzdGFydCwgaW5zdGFuY2UpO1xuXG4gICAgLy8gYXNzdW1pbmcgdGhhdCBpZiB0aGVyZSBpcyBpbnN0YW5jZWQgZGF0YSB0aGVuIHRoaXMgd2lsbCBiZSBkcmF3biB3aXRoIGluc3RhbmNpbmchXG4gICAgdGhpcy5pbnN0YW5jZWQgPSB0aGlzLmluc3RhbmNlZCB8fCBpbnN0YW5jZTtcblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSByZXF1ZXN0ZWQgYXR0cmlidXRlXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGlkICB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlIHJlcXVpcmVkXG4gKiBAcmV0dXJuIHtQSVhJLkF0dHJpYnV0ZX0gdGhlIGF0dHJpYnV0ZSByZXF1ZXN0ZWQuXG4gKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5nZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGUgKGlkKVxue1xuICAgIHJldHVybiB0aGlzLmJ1ZmZlcnNbdGhpcy5hdHRyaWJ1dGVzW2lkXS5idWZmZXJdO1xufTtcblxuLyoqXG4qXG4qIEFkZHMgYW4gaW5kZXggYnVmZmVyIHRvIHRoZSBnZW9tZXRyeVxuKiBUaGUgaW5kZXggYnVmZmVyIGNvbnRhaW5zIGludGVnZXJzLCB0aHJlZSBmb3IgZWFjaCB0cmlhbmdsZSBpbiB0aGUgZ2VvbWV0cnksIHdoaWNoIHJlZmVyZW5jZSB0aGUgdmFyaW91cyBhdHRyaWJ1dGUgYnVmZmVycyAocG9zaXRpb24sIGNvbG91ciwgVVYgY29vcmRpbmF0ZXMsIG90aGVyIFVWIGNvb3JkaW5hdGVzLCBub3JtYWwsIOKApikuIFRoZXJlIGlzIG9ubHkgT05FIGluZGV4IGJ1ZmZlci5cbipcbiogQHBhcmFtIHtQSVhJLkJ1ZmZlcn0gW2J1ZmZlcl0gdGhlIGJ1ZmZlciB0aGF0IGhvbGRzIHRoZSBkYXRhIG9mIHRoZSBpbmRleCBidWZmZXIuIFlvdSBjYW4gYWxzbyBwcm92aWRlIGFuIEFycmF5IGFuZCBhIGJ1ZmZlciB3aWxsIGJlIGNyZWF0ZWQgZnJvbSBpdC5cbiogQHJldHVybiB7UElYSS5HZW9tZXRyeX0gcmV0dXJucyBzZWxmLCB1c2VmdWwgZm9yIGNoYWluaW5nLlxuKi9cbkdlb21ldHJ5LnByb3RvdHlwZS5hZGRJbmRleCA9IGZ1bmN0aW9uIGFkZEluZGV4IChidWZmZXIpXG57XG4gICAgaWYgKCFidWZmZXIuZGF0YSlcbiAgICB7XG4gICAgICAgIC8vIGl0cyBhbiBhcnJheSFcbiAgICAgICAgaWYgKGJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXIgPSBuZXcgVWludDE2QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoYnVmZmVyKTtcbiAgICB9XG5cbiAgICBidWZmZXIuaW5kZXggPSB0cnVlO1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBidWZmZXI7XG5cbiAgICBpZiAodGhpcy5idWZmZXJzLmluZGV4T2YoYnVmZmVyKSA9PT0gLTEpXG4gICAge1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucHVzaChidWZmZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSBpbmRleCBidWZmZXJcbiAqXG4gKiBAcmV0dXJuIHtQSVhJLkJ1ZmZlcn0gdGhlIGluZGV4IGJ1ZmZlci5cbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmdldEluZGV4ID0gZnVuY3Rpb24gZ2V0SW5kZXggKClcbntcbiAgICByZXR1cm4gdGhpcy5pbmRleEJ1ZmZlcjtcbn07XG5cbi8qKlxuICogdGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgc3RydWN0dXJlIHNvIHRoYXQgYWxsIGN1cnJlbnQgYXR0cmlidXRlcyBiZWNvbWUgaW50ZXJsZWF2ZWQgaW50byBhIHNpbmdsZSBidWZmZXJcbiAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBpZiB5b3VyIG1vZGVsIHJlbWFpbnMgc3RhdGljIGFzIGl0IG9mZmVycyBhIGxpdHRsZSBwZXJmb3JtYW5jZSBib29zdFxuICpcbiAqIEByZXR1cm4ge1BJWEkuR2VvbWV0cnl9IHJldHVybnMgc2VsZiwgdXNlZnVsIGZvciBjaGFpbmluZy5cbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmludGVybGVhdmUgPSBmdW5jdGlvbiBpbnRlcmxlYXZlICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLy8gYSBzaW1wbGUgY2hlY2sgdG8gc2VlIGlmIGJ1ZmZlcnMgYXJlIGFscmVhZHkgaW50ZXJsZWF2ZWQuLlxuICAgIGlmICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAxIHx8ICh0aGlzLmJ1ZmZlcnMubGVuZ3RoID09PSAyICYmIHRoaXMuaW5kZXhCdWZmZXIpKSB7IHJldHVybiB0aGlzOyB9XG5cbiAgICAvLyBhc3N1bWUgYWxyZWFkeSB0aGF0IG5vIGJ1ZmZlcnMgYXJlIGludGVybGVhdmVkXG4gICAgdmFyIGFycmF5cyA9IFtdO1xuICAgIHZhciBzaXplcyA9IFtdO1xuICAgIHZhciBpbnRlcmxlYXZlZEJ1ZmZlciA9IG5ldyBCdWZmZXIoKTtcbiAgICB2YXIgaTtcblxuICAgIGZvciAoaSBpbiB0aGlzJDEuYXR0cmlidXRlcylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSB0aGlzJDEuYXR0cmlidXRlc1tpXTtcblxuICAgICAgICB2YXIgYnVmZmVyID0gdGhpcyQxLmJ1ZmZlcnNbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgYXJyYXlzLnB1c2goYnVmZmVyLmRhdGEpO1xuXG4gICAgICAgIHNpemVzLnB1c2goKGF0dHJpYnV0ZS5zaXplICogYnl0ZVNpemVNYXBbYXR0cmlidXRlLnR5cGVdKSAvIDQpO1xuXG4gICAgICAgIGF0dHJpYnV0ZS5idWZmZXIgPSAwO1xuICAgIH1cblxuICAgIGludGVybGVhdmVkQnVmZmVyLmRhdGEgPSBpbnRlcmxlYXZlVHlwZWRBcnJheXMoYXJyYXlzLCBzaXplcyk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5idWZmZXJzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMkMS5idWZmZXJzW2ldICE9PSB0aGlzJDEuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMkMS5idWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYnVmZmVycyA9IFtpbnRlcmxlYXZlZEJ1ZmZlcl07XG5cbiAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICB7XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKHRoaXMuaW5kZXhCdWZmZXIpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuR2VvbWV0cnkucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiBnZXRTaXplICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgZm9yICh2YXIgaSBpbiB0aGlzJDEuYXR0cmlidXRlcylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWJ1dGUgPSB0aGlzJDEuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMkMS5idWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuXG4gICAgICAgIHJldHVybiBidWZmZXIuZGF0YS5sZW5ndGggLyAoKGF0dHJpYnV0ZS5zdHJpZGUgLyA0KSB8fCBhdHRyaWJ1dGUuc2l6ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBnZW9tZXRyeS5cbiAqL1xuR2VvbWV0cnkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdsVmVydGV4QXJyYXlPYmplY3RzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdGhpcyQxLmdsVmVydGV4QXJyYXlPYmplY3RzW2ldLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICB0aGlzLmdsVmVydGV4QXJyYXlPYmplY3RzID0gbnVsbDtcblxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7IGkkMSsrKVxuICAgIHtcbiAgICAgICAgdGhpcyQxLmJ1ZmZlcnNbaSQxXS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgdGhpcy5idWZmZXJzID0gbnVsbDtcbiAgICB0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcblxuICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG59O1xuXG4vKipcbiAqIHJldHVybnMgYSBjbG9uZSBvZiB0aGUgZ2VvbWV0cnlcbiAqXG4gKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gYSBuZXcgY2xvbmUgb2YgdGhpcyBnZW9tZXRyeVxuICovXG5HZW9tZXRyeS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBnZW9tZXRyeS5idWZmZXJzW2ldID0gbmV3IEJ1ZmZlcih0aGlzJDEuYnVmZmVyc1tpXS5kYXRhLnNsaWNlKCkpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkkMSBpbiB0aGlzJDEuYXR0cmlidXRlcylcbiAgICB7XG4gICAgICAgIHZhciBhdHRyaWIgPSB0aGlzJDEuYXR0cmlidXRlc1tpJDFdO1xuXG4gICAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXNbaSQxXSA9IG5ldyBBdHRyaWJ1dGVfMShcbiAgICAgICAgICAgIGF0dHJpYi5idWZmZXIsXG4gICAgICAgICAgICBhdHRyaWIuc2l6ZSxcbiAgICAgICAgICAgIGF0dHJpYi5ub3JtYWxpemVkLFxuICAgICAgICAgICAgYXR0cmliLnR5cGUsXG4gICAgICAgICAgICBhdHRyaWIuc3RyaWRlLFxuICAgICAgICAgICAgYXR0cmliLnN0YXJ0LFxuICAgICAgICAgICAgYXR0cmliLmluc3RhbmNlXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5LmJ1ZmZlcnNbdGhpcy5idWZmZXJzLmluZGV4T2YodGhpcy5pbmRleEJ1ZmZlcildO1xuICAgICAgICBnZW9tZXRyeS5pbmRleEJ1ZmZlci5pbmRleCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdlb21ldHJ5O1xufTtcblxuLyoqXG4gKiBtZXJnZXMgYW4gYXJyYXkgb2YgZ2VvbWV0cmllcyBpbnRvIGEgbmV3IHNpbmdsZSBvbmVcbiAqIGdlb21ldHJ5IGF0dHJpYnV0ZSBzdHlsZXMgbXVzdCBtYXRjaCBmb3IgdGhpcyBvcGVyYXRpb24gdG8gd29ya1xuICpcbiAqIEBwYXJhbSB7YXJyYXl8UElYSS5HZW9tZXRyeX0gZ2VvbWV0cmllcyBhcnJheSBvZiBnZW9tZXRyaWVzIHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7UElYSS5HZW9tZXRyeX0gc2hpbnkgbmV3IGdlb21ldHJ5IVxuICovXG5HZW9tZXRyeS5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlIChnZW9tZXRyaWVzKVxue1xuICAgIC8vIHRvZG8gYWRkIGEgZ2VvbWV0cnkgY2hlY2shXG4gICAgLy8gYWxzbyBhIHNpemUgY2hlY2suLiBjYW50IGJlIHRvbyBiaWchXVxuXG4gICAgdmFyIGdlb21ldHJ5T3V0ID0gbmV3IEdlb21ldHJ5KCk7XG5cbiAgICB2YXIgYXJyYXlzID0gW107XG4gICAgdmFyIHNpemVzID0gW107XG4gICAgdmFyIG9mZnNldHMgPSBbXTtcblxuICAgIHZhciBnZW9tZXRyeTtcblxuICAgIC8vIHBhc3Mgb25lLi4gZ2V0IHNpemVzLi5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XG5cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBnZW9tZXRyeS5idWZmZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaXplc1tqXSA9IHNpemVzW2pdIHx8IDA7XG4gICAgICAgICAgICBzaXplc1tqXSArPSBnZW9tZXRyeS5idWZmZXJzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgb2Zmc2V0c1tqXSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBidWlsZCB0aGUgY29ycmVjdCBzaXplIGFycmF5cy4uXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGkkMSsrKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyB0eXBlcyFcbiAgICAgICAgYXJyYXlzW2kkMV0gPSBuZXcgbWFwW2dldEJ1ZmZlclR5cGUoZ2VvbWV0cnkuYnVmZmVyc1tpJDFdLmRhdGEpXShzaXplc1tpJDFdKTtcbiAgICAgICAgZ2VvbWV0cnlPdXQuYnVmZmVyc1tpJDFdID0gbmV3IEJ1ZmZlcihhcnJheXNbaSQxXSk7XG4gICAgfVxuXG4gICAgLy8gcGFzcyB0byBzZXQgZGF0YS4uXG4gICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgZ2VvbWV0cmllcy5sZW5ndGg7IGkkMisrKVxuICAgIHtcbiAgICAgICAgZ2VvbWV0cnkgPSBnZW9tZXRyaWVzW2kkMl07XG5cbiAgICAgICAgZm9yICh2YXIgaiQxID0gMDsgaiQxIDwgZ2VvbWV0cnkuYnVmZmVycy5sZW5ndGg7IGokMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBhcnJheXNbaiQxXS5zZXQoZ2VvbWV0cnkuYnVmZmVyc1tqJDFdLmRhdGEsIG9mZnNldHNbaiQxXSk7XG4gICAgICAgICAgICBvZmZzZXRzW2okMV0gKz0gZ2VvbWV0cnkuYnVmZmVyc1tqJDFdLmRhdGEubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2VvbWV0cnlPdXQuYXR0cmlidXRlcyA9IGdlb21ldHJ5LmF0dHJpYnV0ZXM7XG5cbiAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAge1xuICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlciA9IGdlb21ldHJ5T3V0LmJ1ZmZlcnNbZ2VvbWV0cnkuYnVmZmVycy5pbmRleE9mKGdlb21ldHJ5LmluZGV4QnVmZmVyKV07XG4gICAgICAgIGdlb21ldHJ5T3V0LmluZGV4QnVmZmVyLmluZGV4ID0gdHJ1ZTtcblxuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgdmFyIHN0cmlkZSA9IDA7XG4gICAgICAgIHZhciBvZmZzZXQyID0gMDtcbiAgICAgICAgdmFyIGJ1ZmZlckluZGV4VG9Db3VudCA9IDA7XG5cbiAgICAgICAgLy8gZ2V0IGEgYnVmZmVyXG4gICAgICAgIGZvciAodmFyIGkkMyA9IDA7IGkkMyA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpJDMrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGdlb21ldHJ5LmJ1ZmZlcnNbaSQzXSAhPT0gZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnVmZmVySW5kZXhUb0NvdW50ID0gaSQzO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlndXJlIG91dCB0aGUgc3RyaWRlIG9mIG9uZSBidWZmZXIuLlxuICAgICAgICBmb3IgKHZhciBpJDQgaW4gZ2VvbWV0cnkuYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXNbaSQ0XTtcblxuICAgICAgICAgICAgaWYgKChhdHRyaWJ1dGUuYnVmZmVyIHwgMCkgPT09IGJ1ZmZlckluZGV4VG9Db3VudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpZGUgKz0gKChhdHRyaWJ1dGUuc2l6ZSAqIGJ5dGVTaXplTWFwW2F0dHJpYnV0ZS50eXBlXSkgLyA0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRpbWUgdG8gb2ZmIHNldCBhbGwgaW5kZXhlcy4uXG4gICAgICAgIGZvciAodmFyIGkkNSA9IDA7IGkkNSA8IGdlb21ldHJpZXMubGVuZ3RoOyBpJDUrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyRGF0YSA9IGdlb21ldHJpZXNbaSQ1XS5pbmRleEJ1ZmZlci5kYXRhO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqJDIgPSAwOyBqJDIgPCBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoOyBqJDIrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnZW9tZXRyeU91dC5pbmRleEJ1ZmZlci5kYXRhW2okMiArIG9mZnNldDJdICs9IG9mZnNldDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb2Zmc2V0ICs9IGdlb21ldHJ5LmJ1ZmZlcnNbYnVmZmVySW5kZXhUb0NvdW50XS5kYXRhLmxlbmd0aCAvIChzdHJpZGUpO1xuICAgICAgICAgICAgb2Zmc2V0MiArPSBpbmRleEJ1ZmZlckRhdGEubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdlb21ldHJ5T3V0O1xufTtcblxuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgcXVhZFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFF1YWQgPSAoZnVuY3Rpb24gKEdlb21ldHJ5JCQxKSB7XG4gICAgZnVuY3Rpb24gUXVhZCgpXG4gICAge1xuICAgICAgICBHZW9tZXRyeSQkMS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pXG4gICAgICAgICAgICAuYWRkSW5kZXgoWzAsIDEsIDMsIDJdKTtcbiAgICB9XG5cbiAgICBpZiAoIEdlb21ldHJ5JCQxICkgUXVhZC5fX3Byb3RvX18gPSBHZW9tZXRyeSQkMTtcbiAgICBRdWFkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEdlb21ldHJ5JCQxICYmIEdlb21ldHJ5JCQxLnByb3RvdHlwZSApO1xuICAgIFF1YWQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUXVhZDtcblxuICAgIHJldHVybiBRdWFkO1xufShHZW9tZXRyeSkpO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSBxdWFkIHdpdGggdXZzIGxpa2UgaW4gdjRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBRdWFkVXYgPSAoZnVuY3Rpb24gKEdlb21ldHJ5JCQxKSB7XG4gICAgZnVuY3Rpb24gUXVhZFV2KClcbiAgICB7XG4gICAgICAgIEdlb21ldHJ5JCQxLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KFtcbiAgICAgICAgICAgIC0xLCAtMSxcbiAgICAgICAgICAgIDEsIC0xLFxuICAgICAgICAgICAgMSwgMSxcbiAgICAgICAgICAgIC0xLCAxIF0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgVXZzIG9mIHRoZSBxdWFkXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXZzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAwLCAwLFxuICAgICAgICAgICAgMSwgMCxcbiAgICAgICAgICAgIDEsIDEsXG4gICAgICAgICAgICAwLCAxIF0pO1xuXG4gICAgICAgIHRoaXMudmVydGV4QnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnZlcnRpY2VzKTtcbiAgICAgICAgdGhpcy51dkJ1ZmZlciA9IG5ldyBCdWZmZXIodGhpcy51dnMpO1xuXG4gICAgICAgIHRoaXMuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCB0aGlzLnZlcnRleEJ1ZmZlcilcbiAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCB0aGlzLnV2QnVmZmVyKVxuICAgICAgICAgICAgLmFkZEluZGV4KFswLCAxLCAyLCAwLCAyLCAzXSk7XG4gICAgfVxuXG4gICAgaWYgKCBHZW9tZXRyeSQkMSApIFF1YWRVdi5fX3Byb3RvX18gPSBHZW9tZXRyeSQkMTtcbiAgICBRdWFkVXYucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggR2VvbWV0cnkkJDEgJiYgR2VvbWV0cnkkJDEucHJvdG90eXBlICk7XG4gICAgUXVhZFV2LnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFF1YWRVdjtcblxuICAgIC8qKlxuICAgICAqIE1hcHMgdHdvIFJlY3RhbmdsZSB0byB0aGUgcXVhZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHRhcmdldFRleHR1cmVGcmFtZSAtIHRoZSBmaXJzdCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gdGhlIHNlY29uZCByZWN0YW5nbGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlF1YWR9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFF1YWRVdi5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24gbWFwICh0YXJnZXRUZXh0dXJlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpXG4gICAge1xuICAgICAgICB2YXIgeCA9IDA7IC8vIGRlc3RpbmF0aW9uRnJhbWUueCAvIHRhcmdldFRleHR1cmVGcmFtZS53aWR0aDtcbiAgICAgICAgdmFyIHkgPSAwOyAvLyBkZXN0aW5hdGlvbkZyYW1lLnkgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudXZzWzBdID0geDtcbiAgICAgICAgdGhpcy51dnNbMV0gPSB5O1xuXG4gICAgICAgIHRoaXMudXZzWzJdID0geCArIChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoKTtcbiAgICAgICAgdGhpcy51dnNbM10gPSB5O1xuXG4gICAgICAgIHRoaXMudXZzWzRdID0geCArIChkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gdGFyZ2V0VGV4dHVyZUZyYW1lLndpZHRoKTtcbiAgICAgICAgdGhpcy51dnNbNV0gPSB5ICsgKGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gdGFyZ2V0VGV4dHVyZUZyYW1lLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy51dnNbNl0gPSB4O1xuICAgICAgICB0aGlzLnV2c1s3XSA9IHkgKyAoZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgLyB0YXJnZXRUZXh0dXJlRnJhbWUuaGVpZ2h0KTtcblxuICAgICAgICB4ID0gZGVzdGluYXRpb25GcmFtZS54O1xuICAgICAgICB5ID0gZGVzdGluYXRpb25GcmFtZS55O1xuXG4gICAgICAgIHRoaXMudmVydGljZXNbMF0gPSB4O1xuICAgICAgICB0aGlzLnZlcnRpY2VzWzFdID0geTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzJdID0geCArIGRlc3RpbmF0aW9uRnJhbWUud2lkdGg7XG4gICAgICAgIHRoaXMudmVydGljZXNbM10gPSB5O1xuXG4gICAgICAgIHRoaXMudmVydGljZXNbNF0gPSB4ICsgZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s1XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWzZdID0geDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1s3XSA9IHkgKyBkZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcblxuICAgICAgICB0aGlzLmludmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogbGVnYWN5IHVwbG9hZCBtZXRob2QsIGp1c3QgbWFya3MgYnVmZmVycyBkaXJ0eVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlF1YWRVdn0gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgUXVhZFV2LnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24gaW52YWxpZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXIuX3VwZGF0ZUlEKys7XG4gICAgICAgIHRoaXMudXZCdWZmZXIuX3VwZGF0ZUlEKys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIHJldHVybiBRdWFkVXY7XG59KEdlb21ldHJ5KSk7XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgbWFwcGVkIG1hdHJpeFxuICogQHBhcmFtIGZpbHRlckFyZWEge1JlY3RhbmdsZX0gVGhlIGZpbHRlciBhcmVhXG4gKiBAcGFyYW0gc3ByaXRlIHtTcHJpdGV9IHRoZSB0YXJnZXQgc3ByaXRlXG4gKiBAcGFyYW0gb3V0cHV0TWF0cml4IHtNYXRyaXh9IEBhbHZpblxuICogQHByaXZhdGVcbiAqL1xuLy8gdGhpcyByZXR1cm5zIGEgbWF0cml4IHRoYXQgd2lsbCBub3JtYWxpemUgbWFwIGZpbHRlciBjb3JkcyBpbiB0aGUgZmlsdGVyIHRvIHNjcmVlbiBzcGFjZVxuZnVuY3Rpb24gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgob3V0cHV0TWF0cml4LCBmaWx0ZXJBcmVhLCB0ZXh0dXJlU2l6ZSlcbntcbiAgICAvLyBUT0RPIHVud3JhcD9cbiAgICB2YXIgbWFwcGVkTWF0cml4ID0gb3V0cHV0TWF0cml4LmlkZW50aXR5KCk7XG5cbiAgICBtYXBwZWRNYXRyaXgudHJhbnNsYXRlKGZpbHRlckFyZWEueCAvIHRleHR1cmVTaXplLndpZHRoLCBmaWx0ZXJBcmVhLnkgLyB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgbWFwcGVkTWF0cml4LnNjYWxlKHRleHR1cmVTaXplLndpZHRoLCB0ZXh0dXJlU2l6ZS5oZWlnaHQpO1xuXG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbn1cblxuXG5cbi8vIHRoaXMgd2lsbCBtYXAgdGhlIGZpbHRlciBjb29yZCBzbyB0aGF0IGEgdGV4dHVyZSBjYW4gYmUgdXNlZCBiYXNlZCBvbiB0aGUgdHJhbnNmb3JtIG9mIGEgc3ByaXRlXG5mdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVNYXRyaXgob3V0cHV0TWF0cml4LCBmaWx0ZXJBcmVhLCB0ZXh0dXJlU2l6ZSwgc3ByaXRlKVxue1xuICAgIHZhciBvcmlnID0gc3ByaXRlLl90ZXh0dXJlLm9yaWc7XG4gICAgdmFyIG1hcHBlZE1hdHJpeCA9IG91dHB1dE1hdHJpeC5zZXQodGV4dHVyZVNpemUud2lkdGgsIDAsIDAsIHRleHR1cmVTaXplLmhlaWdodCwgZmlsdGVyQXJlYS54LCBmaWx0ZXJBcmVhLnkpO1xuICAgIHZhciB3b3JsZFRyYW5zZm9ybSA9IHNwcml0ZS53b3JsZFRyYW5zZm9ybS5jb3B5VG8oTWF0cml4LlRFTVBfTUFUUklYKTtcblxuICAgIHdvcmxkVHJhbnNmb3JtLmludmVydCgpO1xuICAgIG1hcHBlZE1hdHJpeC5wcmVwZW5kKHdvcmxkVHJhbnNmb3JtKTtcbiAgICBtYXBwZWRNYXRyaXguc2NhbGUoMS4wIC8gb3JpZy53aWR0aCwgMS4wIC8gb3JpZy5oZWlnaHQpO1xuICAgIG1hcHBlZE1hdHJpeC50cmFuc2xhdGUoc3ByaXRlLmFuY2hvci54LCBzcHJpdGUuYW5jaG9yLnkpO1xuXG4gICAgcmV0dXJuIG1hcHBlZE1hdHJpeDtcbn1cblxudmFyIFVJRCQyID0gMDtcblxuLy8gbGV0IG1hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuVW5pZm9ybUdyb3VwXG4gKi9cbnZhciBVbmlmb3JtR3JvdXAgPSBmdW5jdGlvbiBVbmlmb3JtR3JvdXAodW5pZm9ybXMsIF9zdGF0aWMpXG57XG4gICAgdGhpcy51bmlmb3JtcyA9IHVuaWZvcm1zO1xuICAgIHRoaXMuZ3JvdXAgPSB0cnVlO1xuICAgIC8vIGxldHMgZ2VuZXJhdGUgdGhpcyB3aGVuIHRoZSBzaGFkZXIgP1xuICAgIHRoaXMuc3luY1VuaWZvcm1zID0ge307XG4gICAgdGhpcy5kaXJ0eUlkID0gMDtcbiAgICB0aGlzLmlkID0gVUlEJDIrKztcblxuICAgIHRoaXMuc3RhdGljID0gISFfc3RhdGljO1xufTtcblxuVW5pZm9ybUdyb3VwLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKClcbntcbiAgICB0aGlzLmRpcnR5SWQrKztcbn07XG5cblVuaWZvcm1Hcm91cC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChuYW1lLCB1bmlmb3JtcywgX3N0YXRpYylcbntcbiAgICB0aGlzLnVuaWZvcm1zW25hbWVdID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3JtcywgX3N0YXRpYyk7XG59O1xuXG5Vbmlmb3JtR3JvdXAuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHVuaWZvcm1zLCBfc3RhdGljKVxue1xuICAgIHJldHVybiBuZXcgVW5pZm9ybUdyb3VwKHVuaWZvcm1zLCBfc3RhdGljKTtcbn07XG5cbi8qKlxuICogSW50ZXJuYWwgY2xhc3MgdG8gbWFuYWdlIGZpbHRlciBzdGF0ZVxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgRmlsdGVyU3RhdGUgPSBmdW5jdGlvbiBGaWx0ZXJTdGF0ZSgpXG57XG4gICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFRhcmdldCBvZiB0aGUgZmlsdGVyc1xuICAgICAqIFdlIHN0b3JlIGZvciBjYXNlIHdoZW4gY3VzdG9tIGZpbHRlciB3YW50cyB0byBrbm93IHRoZSBlbGVtZW50IGl0IHdhcyBhcHBsaWVkIG9uXG4gICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQ29tcGF0aWJpbGl0eSB3aXRoIFBpeGlKUyB2NCBmaWx0ZXJzXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5sZWdhY3kgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFJlc29sdXRpb24gb2YgZmlsdGVyc1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSAxO1xuXG4gICAgLy8gbmV4dCB0aHJlZSBmaWVsZHMgYXJlIGNyZWF0ZWQgb25seSBmb3Igcm9vdFxuICAgIC8vIHJlLWFzc2lnbmVkIGZvciBldmVyeXRoaW5nIGVsc2VcblxuICAgIC8qKlxuICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zb3VyY2VGcmFtZSA9IG5ldyBSZWN0YW5nbGUoKTtcblxuICAgIC8qKlxuICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGZpbHRlcnNcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkZpbHRlcltdfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5maWx0ZXJzID0gW107XG59O1xuXG4vKipcbiAqIGNsZWFycyB0aGUgc3RhdGVcbiAqL1xuRmlsdGVyU3RhdGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbntcbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG4gICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xufTtcblxudmFyIHNjcmVlbktleSA9ICdzY3JlZW4nO1xuXG4vKipcbiAqIE1hbmFnZSB0aGUgcmVuZGVyaW5nIG9mIGZpbHRlcnMgd2l0aGluIFBpeGlKU1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgRmlsdGVyU3lzdGVtID0gKGZ1bmN0aW9uIChTeXN0ZW0kJDEpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXJTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0kJDEuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHN0b3JlcyBhIGJ1bmNoIG9mIFBPMiB0ZXh0dXJlcyB1c2VkIGZvciBmaWx0ZXJpbmdcbiAgICAgICAgICogQG1lbWJlciB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbCA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhIHBvb2wgZm9yIHN0b3JpbmcgZmlsdGVyIHN0YXRlcywgc2F2ZSB1cyBjcmVhdGluZyBuZXcgb25lcyBlYWNoIHRpY2tcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlUG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHZlcnkgc2ltcGxlIGdlb21ldHJ5IHVzZWQgd2hlbiBkcmF3aW5nIGEgZmlsdGVyIGVmZmVjdCB0byB0aGUgc2NyZWVuXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUXVhZH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucXVhZCA9IG5ldyBRdWFkKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFF1YWQgVVZzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUXVhZFV2fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5xdWFkVXYgPSBuZXcgUXVhZFV2KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRlbXBvcmFyeSByZWN0IGZvciBtYXRoc1xuICAgICAgICAgKiBAdHlwZSB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRlbXBSZWN0ID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY3RpdmUgc3RhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHVuaWZvcm0gZ3JvdXAgaXMgYXR0YWNoZWQgdG8gZmlsdGVyIHVuaWZvcm1zIHdoZW4gdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlVuaWZvcm1Hcm91cH1cbiAgICAgICAgICogQHByb3BlcnR5IHtQSVhJLlJlY3RhbmdsZX0gb3V0cHV0RnJhbWVcbiAgICAgICAgICogQHByb3BlcnR5IHtGbG9hdDMyQXJyYXl9IGlucHV0U2l6ZVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRQaXhlbFxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gaW5wdXRDbGFtcFxuICAgICAgICAgKiBAcHJvcGVydHkge051bWJlcn0gcmVzb2x1dGlvblxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2F0MzJBcnJheX0gZmlsdGVyQXJlYVxuICAgICAgICAgKiBAcHJvcGVydHkge0Zsb2FkMzJBcnJheX0gZmlsdGVyQ2xhbXBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIG91dHB1dEZyYW1lOiB0aGlzLnRlbXBSZWN0LFxuICAgICAgICAgICAgaW5wdXRTaXplOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgaW5wdXRQaXhlbDogbmV3IEZsb2F0MzJBcnJheSg0KSxcbiAgICAgICAgICAgIGlucHV0Q2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgICAgICByZXNvbHV0aW9uOiAxLFxuXG4gICAgICAgICAgICAvLyBsZWdhY3kgdmFyaWFibGVzXG4gICAgICAgICAgICBmaWx0ZXJBcmVhOiBuZXcgRmxvYXQzMkFycmF5KDQpLFxuICAgICAgICAgICAgZmlsdGVyQ2xhbXA6IG5ldyBGbG9hdDMyQXJyYXkoNCksXG4gICAgICAgIH0sIHRydWUpO1xuXG4gICAgICAgIHRoaXMuX3BpeGVsc1dpZHRoID0gcmVuZGVyZXIudmlldy53aWR0aDtcbiAgICAgICAgdGhpcy5fcGl4ZWxzSGVpZ2h0ID0gcmVuZGVyZXIudmlldy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0kJDEgKSBGaWx0ZXJTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtJCQxO1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0kJDEgJiYgU3lzdGVtJCQxLnByb3RvdHlwZSApO1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGaWx0ZXJTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGZpbHRlciB0byB0aGUgU3lzdGVtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIFRoZSB0YXJnZXQgb2YgdGhlIGZpbHRlciB0byByZW5kZXIuXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcltdfSBmaWx0ZXJzIC0gVGhlIGZpbHRlcnMgdG8gYXBwbHkuXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gcHVzaCAodGFyZ2V0LCBmaWx0ZXJzKVxuICAgIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gdGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmRlZmF1bHRGaWx0ZXJTdGFjaztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZVBvb2wucG9wKCkgfHwgbmV3IEZpbHRlclN0YXRlKCk7XG5cbiAgICAgICAgdmFyIHJlc29sdXRpb24gPSBmaWx0ZXJzWzBdLnJlc29sdXRpb247XG4gICAgICAgIHZhciBwYWRkaW5nID0gZmlsdGVyc1swXS5wYWRkaW5nO1xuICAgICAgICB2YXIgYXV0b0ZpdCA9IGZpbHRlcnNbMF0uYXV0b0ZpdDtcbiAgICAgICAgdmFyIGxlZ2FjeSA9IGZpbHRlcnNbMF0ubGVnYWN5O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGZpbHRlciA9ICBmaWx0ZXJzW2ldO1xuXG4gICAgICAgICAgICAvLyBsZXRzIHVzZSB0aGUgbG93ZXN0IHJlc29sdXRpb24uLlxuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IE1hdGgubWluKHJlc29sdXRpb24sIGZpbHRlci5yZXNvbHV0aW9uKTtcbiAgICAgICAgICAgIC8vIGFuZCB0aGUgbGFyZ2VzdCBhbW91bnQgb2YgcGFkZGluZyFcbiAgICAgICAgICAgIHBhZGRpbmcgPSBNYXRoLm1heChwYWRkaW5nLCBmaWx0ZXIucGFkZGluZyk7XG4gICAgICAgICAgICAvLyBvbmx5IGF1dG8gZml0IGlmIGFsbCBmaWx0ZXJzIGFyZSBhdXRvZml0XG4gICAgICAgICAgICBhdXRvRml0ID0gYXV0b0ZpdCB8fCBmaWx0ZXIuYXV0b0ZpdDtcblxuICAgICAgICAgICAgbGVnYWN5ID0gbGVnYWN5IHx8IGZpbHRlci5sZWdhY3k7XG4gICAgICAgIH1cblxuICAgICAgICBmaWx0ZXJTdGFjay5wdXNoKHN0YXRlKTtcblxuICAgICAgICBzdGF0ZS5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcblxuICAgICAgICBzdGF0ZS5sZWdhY3kgPSBsZWdhY3k7XG5cbiAgICAgICAgc3RhdGUudGFyZ2V0ID0gdGFyZ2V0O1xuXG4gICAgICAgIHN0YXRlLnNvdXJjZUZyYW1lID0gdGFyZ2V0LmZpbHRlckFyZWEgfHwgdGFyZ2V0LmdldEJvdW5kcyh0cnVlKTtcblxuICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5wYWQocGFkZGluZyk7XG4gICAgICAgIGlmIChhdXRvRml0KVxuICAgICAgICB7XG4gICAgICAgICAgICBzdGF0ZS5zb3VyY2VGcmFtZS5maXQodGhpcy5yZW5kZXJlci5yZW5kZXJUZXh0dXJlLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcm91bmQgdG8gd2hvbGUgbnVtYmVyIGJhc2VkIG9uIHJlc29sdXRpb25cbiAgICAgICAgc3RhdGUuc291cmNlRnJhbWUuY2VpbChyZXNvbHV0aW9uKTtcblxuICAgICAgICBzdGF0ZS5yZW5kZXJUZXh0dXJlID0gdGhpcy5nZXRPcHRpbWFsRmlsdGVyVGV4dHVyZShzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCwgc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0LCByZXNvbHV0aW9uKTtcbiAgICAgICAgc3RhdGUuZmlsdGVycyA9IGZpbHRlcnM7XG5cbiAgICAgICAgc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aCA9IHN0YXRlLnJlbmRlclRleHR1cmUud2lkdGg7XG4gICAgICAgIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ID0gc3RhdGUucmVuZGVyVGV4dHVyZS5oZWlnaHQ7XG5cbiAgICAgICAgc3RhdGUucmVuZGVyVGV4dHVyZS5maWx0ZXJGcmFtZSA9IHN0YXRlLnNvdXJjZUZyYW1lO1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQoc3RhdGUucmVuZGVyVGV4dHVyZSwgc3RhdGUuc291cmNlRnJhbWUpOy8vIC8sIHN0YXRlLmRlc3RpbmF0aW9uRnJhbWUpO1xuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcHMgb2ZmIHRoZSBmaWx0ZXIgYW5kIGFwcGxpZXMgaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGZpbHRlclN0YWNrID0gcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5kZWZhdWx0RmlsdGVyU3RhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IGZpbHRlclN0YWNrLnBvcCgpO1xuICAgICAgICB2YXIgZmlsdGVycyA9IHN0YXRlLmZpbHRlcnM7XG5cbiAgICAgICAgdGhpcy5hY3RpdmVTdGF0ZSA9IHN0YXRlO1xuXG4gICAgICAgIHZhciBnbG9iYWxVbmlmb3JtcyA9IHRoaXMuZ2xvYmFsVW5pZm9ybXMudW5pZm9ybXM7XG5cbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMub3V0cHV0RnJhbWUgPSBzdGF0ZS5zb3VyY2VGcmFtZTtcbiAgICAgICAgZ2xvYmFsVW5pZm9ybXMucmVzb2x1dGlvbiA9IHN0YXRlLnJlc29sdXRpb247XG5cbiAgICAgICAgdmFyIGlucHV0U2l6ZSA9IGdsb2JhbFVuaWZvcm1zLmlucHV0U2l6ZTtcbiAgICAgICAgdmFyIGlucHV0UGl4ZWwgPSBnbG9iYWxVbmlmb3Jtcy5pbnB1dFBpeGVsO1xuICAgICAgICB2YXIgaW5wdXRDbGFtcCA9IGdsb2JhbFVuaWZvcm1zLmlucHV0Q2xhbXA7XG5cbiAgICAgICAgaW5wdXRTaXplWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgaW5wdXRTaXplWzFdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS5oZWlnaHQ7XG4gICAgICAgIGlucHV0U2l6ZVsyXSA9IDEuMCAvIGlucHV0U2l6ZVswXTtcbiAgICAgICAgaW5wdXRTaXplWzNdID0gMS4wIC8gaW5wdXRTaXplWzFdO1xuXG4gICAgICAgIGlucHV0UGl4ZWxbMF0gPSBpbnB1dFNpemVbMF0gKiBzdGF0ZS5yZXNvbHV0aW9uO1xuICAgICAgICBpbnB1dFBpeGVsWzFdID0gaW5wdXRTaXplWzFdICogc3RhdGUucmVzb2x1dGlvbjtcbiAgICAgICAgaW5wdXRQaXhlbFsyXSA9IDEuMCAvIGlucHV0UGl4ZWxbMF07XG4gICAgICAgIGlucHV0UGl4ZWxbM10gPSAxLjAgLyBpbnB1dFBpeGVsWzFdO1xuXG4gICAgICAgIGlucHV0Q2xhbXBbMF0gPSAwLjUgKiBpbnB1dFBpeGVsWzJdO1xuICAgICAgICBpbnB1dENsYW1wWzFdID0gMC41ICogaW5wdXRQaXhlbFszXTtcbiAgICAgICAgaW5wdXRDbGFtcFsyXSA9IChzdGF0ZS5zb3VyY2VGcmFtZS53aWR0aCAqIGlucHV0U2l6ZVsyXSkgLSAoMC41ICogaW5wdXRQaXhlbFsyXSk7XG4gICAgICAgIGlucHV0Q2xhbXBbM10gPSAoc3RhdGUuc291cmNlRnJhbWUuaGVpZ2h0ICogaW5wdXRTaXplWzNdKSAtICgwLjUgKiBpbnB1dFBpeGVsWzNdKTtcblxuICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgcmVjdCBpZiBpdHMgbGVnYWN5Li5cbiAgICAgICAgaWYgKHN0YXRlLmxlZ2FjeSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGZpbHRlckFyZWEgPSBnbG9iYWxVbmlmb3Jtcy5maWx0ZXJBcmVhO1xuXG4gICAgICAgICAgICBmaWx0ZXJBcmVhWzBdID0gc3RhdGUuZGVzdGluYXRpb25GcmFtZS53aWR0aDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMV0gPSBzdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodDtcbiAgICAgICAgICAgIGZpbHRlckFyZWFbMl0gPSBzdGF0ZS5zb3VyY2VGcmFtZS54O1xuICAgICAgICAgICAgZmlsdGVyQXJlYVszXSA9IHN0YXRlLnNvdXJjZUZyYW1lLnk7XG5cbiAgICAgICAgICAgIGdsb2JhbFVuaWZvcm1zLmZpbHRlckNsYW1wID0gZ2xvYmFsVW5pZm9ybXMuaW5wdXRDbGFtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG5cbiAgICAgICAgdmFyIGxhc3RTdGF0ZSA9IGZpbHRlclN0YWNrW2ZpbHRlclN0YWNrLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChmaWx0ZXJzLmxlbmd0aCA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZmlsdGVyc1swXS5hcHBseSh0aGlzLCBzdGF0ZS5yZW5kZXJUZXh0dXJlLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgZmFsc2UsIHN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKHN0YXRlLnJlbmRlclRleHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGZsaXAgPSBzdGF0ZS5yZW5kZXJUZXh0dXJlO1xuICAgICAgICAgICAgdmFyIGZsb3AgPSB0aGlzLmdldE9wdGltYWxGaWx0ZXJUZXh0dXJlKFxuICAgICAgICAgICAgICAgIGZsaXAud2lkdGgsXG4gICAgICAgICAgICAgICAgZmxpcC5oZWlnaHQsXG4gICAgICAgICAgICAgICAgc3RhdGUucmVzb2x1dGlvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZmxvcC5maWx0ZXJGcmFtZSA9IGZsaXAuZmlsdGVyRnJhbWU7XG5cbiAgICAgICAgICAgIHZhciBpID0gMDtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoIC0gMTsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNbaV0uYXBwbHkodGhpcyQxLCBmbGlwLCBmbG9wLCB0cnVlLCBzdGF0ZSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdCA9IGZsaXA7XG5cbiAgICAgICAgICAgICAgICBmbGlwID0gZmxvcDtcbiAgICAgICAgICAgICAgICBmbG9wID0gdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZmlsdGVyc1tpXS5hcHBseSh0aGlzLCBmbGlwLCBsYXN0U3RhdGUucmVuZGVyVGV4dHVyZSwgZmFsc2UsIHN0YXRlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsaXApO1xuICAgICAgICAgICAgdGhpcy5yZXR1cm5GaWx0ZXJUZXh0dXJlKGZsb3ApO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZVBvb2wucHVzaChzdGF0ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlcn0gZmlsdGVyIC0gVGhlIGZpbHRlciB0byBkcmF3LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjbGVhciAtIFNob3VsZCB0aGUgb3V0cHV0IGJlIGNsZWFyZWQgYmVmb3JlIHJlbmRlcmluZyB0byBpdFxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuYXBwbHlGaWx0ZXIgPSBmdW5jdGlvbiBhcHBseUZpbHRlciAoZmlsdGVyLCBpbnB1dCwgb3V0cHV0LCBjbGVhcilcbiAgICB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG91dHB1dCwgb3V0cHV0ID8gb3V0cHV0LmZpbHRlckZyYW1lIDogbnVsbCk7XG5cbiAgICAgICAgaWYgKGNsZWFyKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBnbC5kaXNhYmxlKGdsLlNDSVNTT1JfVEVTVCk7XG4gICAgICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgICAgICAgICAvLyBnbC5lbmFibGUoZ2wuU0NJU1NPUl9URVNUKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCB0aGUgdW5pZm9ybXMuLlxuICAgICAgICBmaWx0ZXIudW5pZm9ybXMudVNhbXBsZXIgPSBpbnB1dDtcbiAgICAgICAgZmlsdGVyLnVuaWZvcm1zLmZpbHRlckdsb2JhbHMgPSB0aGlzLmdsb2JhbFVuaWZvcm1zO1xuXG4gICAgICAgIC8vIFRPRE8gbWFrZSBpdCBzbyB0aGF0IHRoZSBvcmRlciBvZiB0aGlzIGRvZXMgbm90IG1hdHRlci4uXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgZG9lcyBhdCB0aGUgbW9tZW50IGNvcyBvZiBnbG9iYWwgdW5pZm9ybXMuXG4gICAgICAgIC8vIHRoZXkgbmVlZCB0byBnZXQgcmVzeW5jZWRcblxuICAgICAgICByZW5kZXJlci5zdGF0ZS5zZXRTdGF0ZShmaWx0ZXIuc3RhdGUpO1xuICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChmaWx0ZXIpO1xuXG4gICAgICAgIGlmIChmaWx0ZXIubGVnYWN5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnF1YWRVdi5tYXAoaW5wdXQuX2ZyYW1lLCBpbnB1dC5maWx0ZXJGcmFtZSk7XG5cbiAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy5xdWFkVXYpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyhEUkFXX01PREVTLlRSSUFOR0xFUyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMucXVhZCk7XG4gICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KERSQVdfTU9ERVMuVFJJQU5HTEVfU1RSSVApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICpcbiAgICAgKiBUT0RPIHBsYXlpbmcgYXJvdW5kIGhlcmUuLiB0aGlzIGlzIHRlbXBvcmFyeSAtICh3aWxsIGVuZCB1cCBpbiB0aGUgc2hhZGVyKVxuICAgICAqIHRoaXMgcmV0dXJucyBhIG1hdHJpeCB0aGF0IHdpbGwgbm9ybWFsaXplIG1hcCBmaWx0ZXIgY29yZHMgaW4gdGhlIGZpbHRlciB0byBzY3JlZW4gc3BhY2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5NYXRyaXh9IG91dHB1dE1hdHJpeCAtIHRoZSBtYXRyaXggdG8gb3V0cHV0IHRvLlxuICAgICAqIEByZXR1cm4ge1BJWEkuTWF0cml4fSBUaGUgbWFwcGVkIG1hdHJpeC5cbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmNhbGN1bGF0ZVNjcmVlblNwYWNlTWF0cml4ID0gZnVuY3Rpb24gY2FsY3VsYXRlU2NyZWVuU3BhY2VNYXRyaXgkJDEgKG91dHB1dE1hdHJpeClcbiAgICB7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGlzLmFjdGl2ZVN0YXRlO1xuXG4gICAgICAgIHJldHVybiBjYWxjdWxhdGVTY3JlZW5TcGFjZU1hdHJpeChcbiAgICAgICAgICAgIG91dHB1dE1hdHJpeCxcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSxcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgd2lsbCBtYXAgdGhlIGZpbHRlciBjb29yZCBzbyB0aGF0IGEgdGV4dHVyZSBjYW4gYmUgdXNlZCBiYXNlZCBvbiB0aGUgdHJhbnNmb3JtIG9mIGEgc3ByaXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBvdXRwdXRNYXRyaXggLSBUaGUgbWF0cml4IHRvIG91dHB1dCB0by5cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBzcHJpdGUgLSBUaGUgc3ByaXRlIHRvIG1hcCB0by5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLk1hdHJpeH0gVGhlIG1hcHBlZCBtYXRyaXguXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5jYWxjdWxhdGVTcHJpdGVNYXRyaXggPSBmdW5jdGlvbiBjYWxjdWxhdGVTcHJpdGVNYXRyaXgkJDEgKG91dHB1dE1hdHJpeCwgc3ByaXRlKVxuICAgIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHRoaXMuYWN0aXZlU3RhdGU7XG5cbiAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZVNwcml0ZU1hdHJpeChcbiAgICAgICAgICAgIG91dHB1dE1hdHJpeCxcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5zb3VyY2VGcmFtZSxcbiAgICAgICAgICAgIGN1cnJlbnRTdGF0ZS5kZXN0aW5hdGlvbkZyYW1lLFxuICAgICAgICAgICAgc3ByaXRlXG4gICAgICAgICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgRmlsdGVyIFN5c3RlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbnRleHRMb3N0PWZhbHNlXSBjb250ZXh0IHdhcyBsb3N0LCBkbyBub3QgZnJlZSBzaGFkZXJzXG4gICAgICpcbiAgICAgKi9cbiAgICBGaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChjb250ZXh0TG9zdClcbiAgICB7XG4gICAgICAgIGlmICggY29udGV4dExvc3QgPT09IHZvaWQgMCApIGNvbnRleHRMb3N0ID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0TG9zdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbXB0eVBvb2woKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGV4dHVyZVBvb2wgPSB7fTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgUG93ZXItb2YtVHdvIHJlbmRlciB0ZXh0dXJlIG9yIGZ1bGxTY3JlZW4gdGV4dHVyZVxuICAgICAqXG4gICAgICogVE9ETyBtb3ZlIHRvIGEgc2VwYXJhdGUgY2xhc3MgY291bGQgYmUgb24gcmVuZGVyZXI/XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5XaWR0aCAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluSGVpZ2h0IC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSByZW5kZXIgdGV4dHVyZSBpbiByZWFsIHBpeGVscy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyIHRleHR1cmUuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJUZXh0dXJlfSBUaGUgbmV3IHJlbmRlciB0ZXh0dXJlLlxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUgPSBmdW5jdGlvbiBnZXRPcHRpbWFsRmlsdGVyVGV4dHVyZSAobWluV2lkdGgsIG1pbkhlaWdodCwgcmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIGlmICggcmVzb2x1dGlvbiA9PT0gdm9pZCAwICkgcmVzb2x1dGlvbiA9IDE7XG5cbiAgICAgICAgdmFyIGtleSA9IHNjcmVlbktleTtcblxuICAgICAgICBtaW5XaWR0aCAqPSByZXNvbHV0aW9uO1xuICAgICAgICBtaW5IZWlnaHQgKj0gcmVzb2x1dGlvbjtcblxuICAgICAgICBpZiAobWluV2lkdGggIT09IHRoaXMuX3BpeGVsc1dpZHRoIHx8IG1pbkhlaWdodCAhPT0gdGhpcy5fcGl4ZWxzSGVpZ2h0KVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5XaWR0aCA9IGJpdFR3aWRkbGUubmV4dFBvdzIobWluV2lkdGgpO1xuICAgICAgICAgICAgbWluSGVpZ2h0ID0gYml0VHdpZGRsZS5uZXh0UG93MihtaW5IZWlnaHQpO1xuICAgICAgICAgICAga2V5ID0gKChtaW5XaWR0aCAmIDB4RkZGRikgPDwgMTYpIHwgKG1pbkhlaWdodCAmIDB4RkZGRik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudGV4dHVyZVBvb2xba2V5XSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtrZXldID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IHRoaXMudGV4dHVyZVBvb2xba2V5XS5wb3AoKTtcblxuICAgICAgICBpZiAoIXJlbmRlclRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHRlbXBvcmFyeSBieXBhc3MgY2FjaGUuLlxuICAgICAgICAgICAgLy8gaW50ZXJuYWxseSAtIHRoaXMgd2lsbCBjYXVzZSBhIHRleHR1cmUgdG8gYmUgYm91bmQuLlxuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogbWluV2lkdGggLyByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgIGhlaWdodDogbWluSGVpZ2h0IC8gcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJUZXh0dXJlLmZpbHRlclBvb2xLZXkgPSBrZXk7XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgZXh0cmEgcmVuZGVyIHRleHR1cmUgdG8gdXNlIGluc2lkZSBjdXJyZW50IGZpbHRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJlc29sdXRpb24gcmVzb2x1dGlvbiBvZiB0aGUgcmVuZGVyVGV4dHVyZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlJlbmRlclRleHR1cmV9XG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5nZXRGaWx0ZXJUZXh0dXJlID0gZnVuY3Rpb24gZ2V0RmlsdGVyVGV4dHVyZSAocmVzb2x1dGlvbilcbiAgICB7XG4gICAgICAgIHZhciBydCA9IHRoaXMuYWN0aXZlU3RhdGUucmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB2YXIgZmlsdGVyVGV4dHVyZSA9IHRoaXMuZ2V0T3B0aW1hbEZpbHRlclRleHR1cmUocnQud2lkdGgsIHJ0LmhlaWdodCwgcmVzb2x1dGlvbiB8fCBydC5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uKTtcblxuICAgICAgICBmaWx0ZXJUZXh0dXJlLmZpbHRlckZyYW1lID0gcnQuZmlsdGVyRnJhbWU7XG5cbiAgICAgICAgcmV0dXJuIGZpbHRlclRleHR1cmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZyZWVzIGEgcmVuZGVyIHRleHR1cmUgYmFjayBpbnRvIHRoZSBwb29sLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gcmVuZGVyVGV4dHVyZSAtIFRoZSByZW5kZXJUYXJnZXQgdG8gZnJlZVxuICAgICAqL1xuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucmV0dXJuRmlsdGVyVGV4dHVyZSA9IGZ1bmN0aW9uIHJldHVybkZpbHRlclRleHR1cmUgKHJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIga2V5ID0gcmVuZGVyVGV4dHVyZS5maWx0ZXJQb29sS2V5O1xuXG4gICAgICAgIHJlbmRlclRleHR1cmUuZmlsdGVyRnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLnRleHR1cmVQb29sW2tleV0ucHVzaChyZW5kZXJUZXh0dXJlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW1wdGllcyB0aGUgdGV4dHVyZSBwb29sLlxuICAgICAqXG4gICAgICovXG4gICAgRmlsdGVyU3lzdGVtLnByb3RvdHlwZS5lbXB0eVBvb2wgPSBmdW5jdGlvbiBlbXB0eVBvb2wgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcyQxLnRleHR1cmVQb29sKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzJDEudGV4dHVyZVBvb2xbaV07XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZXNbal0uZGVzdHJveSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRleHR1cmVQb29sID0ge307XG4gICAgfTtcblxuICAgIEZpbHRlclN5c3RlbS5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplICgpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSB0aGlzLnRleHR1cmVQb29sW3NjcmVlbktleV07XG5cbiAgICAgICAgaWYgKHRleHR1cmVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRleHR1cmVzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHR1cmVzW2pdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0dXJlUG9vbFtzY3JlZW5LZXldID0gW107XG5cbiAgICAgICAgdGhpcy5fcGl4ZWxzV2lkdGggPSB0aGlzLnJlbmRlcmVyLnZpZXcud2lkdGg7XG4gICAgICAgIHRoaXMuX3BpeGVsc0hlaWdodCA9IHRoaXMucmVuZGVyZXIudmlldy5oZWlnaHQ7XG4gICAgfTtcblxuICAgIHJldHVybiBGaWx0ZXJTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEJhc2UgZm9yIGEgY29tbW9uIG9iamVjdCByZW5kZXJlciB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgc3lzdGVtIHJlbmRlcmVyIHBsdWdpbi5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgT2JqZWN0UmVuZGVyZXIgPSAoZnVuY3Rpb24gKFN5c3RlbSQkMSkge1xuICAgIGZ1bmN0aW9uIE9iamVjdFJlbmRlcmVyICgpIHtcbiAgICAgICAgU3lzdGVtJCQxLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0kJDEgKSBPYmplY3RSZW5kZXJlci5fX3Byb3RvX18gPSBTeXN0ZW0kJDE7XG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtJCQxICYmIFN5c3RlbSQkMS5wcm90b3R5cGUgKTtcbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPYmplY3RSZW5kZXJlcjtcblxuICAgIE9iamVjdFJlbmRlcmVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uIHN0YXJ0ICgpXG4gICAge1xuICAgICAgICAvLyBzZXQgdGhlIHNoYWRlci4uXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSByZW5kZXJlclxuICAgICAqXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiBzdG9wICgpXG4gICAge1xuICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0dWIgbWV0aG9kIGZvciByZW5kZXJpbmcgY29udGVudCBhbmQgZW1wdHlpbmcgdGhlIGN1cnJlbnQgYmF0Y2guXG4gICAgICpcbiAgICAgKi9cbiAgICBPYmplY3RSZW5kZXJlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiBmbHVzaCAoKVxuICAgIHtcbiAgICAgICAgLy8gZmx1c2ghXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgYW4gb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gb2JqZWN0IC0gVGhlIG9iamVjdCB0byByZW5kZXIuXG4gICAgICovXG4gICAgT2JqZWN0UmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAob2JqZWN0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICAvLyByZW5kZXIgdGhlIG9iamVjdFxuICAgIH07XG5cbiAgICByZXR1cm4gT2JqZWN0UmVuZGVyZXI7XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIEJhdGNoU3lzdGVtID0gKGZ1bmN0aW9uIChTeXN0ZW0kJDEpIHtcbiAgICBmdW5jdGlvbiBCYXRjaFN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbSQkMS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZW1wdHkgcmVuZGVyZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JqZWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVtcHR5UmVuZGVyZXIgPSBuZXcgT2JqZWN0UmVuZGVyZXIocmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudGx5IGFjdGl2ZSBPYmplY3RSZW5kZXJlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYmplY3RSZW5kZXJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyID0gdGhpcy5lbXB0eVJlbmRlcmVyO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtJCQxICkgQmF0Y2hTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtJCQxO1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSQkMSAmJiBTeXN0ZW0kJDEucHJvdG90eXBlICk7XG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmF0Y2hTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHJlbmRlcmVyIHRvIHRoZSBvbmUgZ2l2ZW4gaW4gcGFyYW1ldGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuT2JqZWN0UmVuZGVyZXJ9IG9iamVjdFJlbmRlcmVyIC0gVGhlIG9iamVjdCByZW5kZXJlciB0byB1c2UuXG4gICAgICovXG4gICAgQmF0Y2hTeXN0ZW0ucHJvdG90eXBlLnNldE9iamVjdFJlbmRlcmVyID0gZnVuY3Rpb24gc2V0T2JqZWN0UmVuZGVyZXIgKG9iamVjdFJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFJlbmRlcmVyID09PSBvYmplY3RSZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVyZXIuc3RvcCgpO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJlciA9IG9iamVjdFJlbmRlcmVyO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RhdGUuc2V0U3RhdGUob2JqZWN0UmVuZGVyZXIuc3RhdGUpO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFJlbmRlcmVyLnN0YXJ0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBpZiB5b3Ugd2lzaCB0byBkbyBzb21lIGN1c3RvbSByZW5kZXJpbmdcbiAgICAgKiBJdCB3aWxsIGJhc2ljYWxseSByZW5kZXIgYW55dGhpbmcgdGhhdCBtYXkgYmUgYmF0Y2hlZCB1cCBzdWNoIGFzIHNwcml0ZXNcbiAgICAgKlxuICAgICAqL1xuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoICgpXG4gICAge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcblxuICAgIEJhdGNoU3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLnNldE9iamVjdFJlbmRlcmVyKHRoaXMuZW1wdHlSZW5kZXJlcik7XG4gICAgfTtcblxuICAgIHJldHVybiBCYXRjaFN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogVGhlIG1heGltdW0gc3VwcG9ydCBmb3IgdXNpbmcgV2ViR0wuIElmIGEgZGV2aWNlIGRvZXMgbm90XG4gKiBzdXBwb3J0IFdlYkdMIHZlcnNpb24sIGZvciBpbnN0YW5jZSBXZWJHTCAyLCBpdCB3aWxsIHN0aWxsXG4gKiBhdHRlbXB0IHRvIGZhbGxiYWNrIHN1cHBvcnQgdG8gV2ViR0wgMS4gSWYgeW91IHdhbnQgdG9cbiAqIGV4cGxpY2l0bHkgcmVtb3ZlIGZlYXR1cmUgc3VwcG9ydCB0byB0YXJnZXQgYSBtb3JlIHN0YWJsZVxuICogYmFzZWxpbmUsIHByZWZlciBhIGxvd2VyIGVudmlyb25tZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgUFJFRkVSX0VOVlxuICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCBQSVhJLkVOVi5XRUJHTDJcbiAqL1xuc2V0dGluZ3MkMS5QUkVGRVJfRU5WID0gRU5WLldFQkdMMjtcblxudmFyIENPTlRFWFRfVUlEID0gMDtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBDb250ZXh0U3lzdGVtID0gKGZ1bmN0aW9uIChTeXN0ZW0kJDEpIHtcbiAgICBmdW5jdGlvbiBDb250ZXh0U3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtJCQxLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFaXRoZXIgMSBvciAyIHRvIHJlZmxlY3QgdGhlIFdlYkdMIHZlcnNpb24gYmVpbmcgdXNlZFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbnNpb25zIGJlaW5nIHVzZWRcbiAgICAgICAgICogQG5hbWUge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfZHJhd19idWZmZXJzfSBkcmF3QnVmZmVycyAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge1dFQktJVF9XRUJHTF9kZXB0aF90ZXh0dXJlfSBkZXB0aFRleHR1cmUgLSBXZWJHTCB2MSBleHRlbnNpb25cbiAgICAgICAgICogQHByb3BlcnR5IHtPRVNfdGV4dHVyZV9mbG9hdH0gZmxvYXRUZXh0dXJlIC0gV2ViR0wgdjEgZXh0ZW5zaW9uXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7V0VCR0xfbG9zZV9jb250ZXh0fSBsb3NlQ29udGV4dCAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKiBAcHJvcGVydHkge09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0fSB2ZXJ0ZXhBcnJheU9iamVjdCAtIFdlYkdMIHYxIGV4dGVuc2lvblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0ge307XG5cbiAgICAgICAgLy8gQmluZCBmdW5jdGlvbnNcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0TG9zdCA9IHRoaXMuaGFuZGxlQ29udGV4dExvc3QuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDb250ZXh0UmVzdG9yZWQgPSB0aGlzLmhhbmRsZUNvbnRleHRSZXN0b3JlZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHJlbmRlcmVyLnZpZXcuYWRkRXZlbnRMaXN0ZW5lcignd2ViZ2xjb250ZXh0bG9zdCcsIHRoaXMuaGFuZGxlQ29udGV4dExvc3QsIGZhbHNlKTtcbiAgICAgICAgcmVuZGVyZXIudmlldy5hZGRFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0kJDEgKSBDb250ZXh0U3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbSQkMTtcbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSQkMSAmJiBTeXN0ZW0kJDEucHJvdG90eXBlICk7XG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb250ZXh0U3lzdGVtO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgaXNMb3N0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBgdHJ1ZWAgaWYgdGhlIGNvbnRleHQgaXMgbG9zdFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmlzTG9zdC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICghdGhpcy5nbCB8fCB0aGlzLmdsLmlzQ29udGV4dExvc3QoKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZSB0aGUgY29udGV4dCBjaGFuZ2UgZXZlbnRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoZ2wpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgLy8gcmVzdG9yZSBhIGNvbnRleHQgaWYgaXQgd2FzIHByZXZpb3VzbHkgbG9zdFxuICAgICAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpICYmIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfbG9zZV9jb250ZXh0JykucmVzdG9yZUNvbnRleHQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRoZSBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFdlYkdMIGNvbnRleHRcbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5pbml0RnJvbUNvbnRleHQgPSBmdW5jdGlvbiBpbml0RnJvbUNvbnRleHQgKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgICAgICB0aGlzLnZhbGlkYXRlQ29udGV4dChnbCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wgPSBnbDtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRCA9IENPTlRFWFRfVUlEKys7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucnVubmVycy5jb250ZXh0Q2hhbmdlLnJ1bihnbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgZnJvbSBjb250ZXh0IG9wdGlvbnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTENhbnZhc0VsZW1lbnQvZ2V0Q29udGV4dFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gY29udGV4dCBhdHRyaWJ1dGVzXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUuaW5pdEZyb21PcHRpb25zID0gZnVuY3Rpb24gaW5pdEZyb21PcHRpb25zIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5jcmVhdGVDb250ZXh0KHRoaXMucmVuZGVyZXIudmlldywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5pbml0RnJvbUNvbnRleHQoZ2wpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgY2xhc3MgdG8gY3JlYXRlIGEgd2ViR0wgQ29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIGNhbnZhcyB7SFRNTENhbnZhc0VsZW1lbnR9IHRoZSBjYW52YXMgZWxlbWVudCB0aGF0IHdlIHdpbGwgZ2V0IHRoZSBjb250ZXh0IGZyb21cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyB7b2JqZWN0fSBBbiBvcHRpb25zIG9iamVjdCB0aGF0IGdldHMgcGFzc2VkIGluIHRvIHRoZSBjYW52YXMgZWxlbWVudCBjb250YWluaW5nIHRoZSBjb250ZXh0IGF0dHJpYnV0ZXNcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0FQSS9IVE1MQ2FudmFzRWxlbWVudC9nZXRDb250ZXh0XG4gICAgICogQHJldHVybiB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSB0aGUgV2ViR0wgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiBjcmVhdGVDb250ZXh0IChjYW52YXMsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgZ2w7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzJDEuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCBvcHRpb25zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChnbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy53ZWJHTFZlcnNpb24gPSAxO1xuXG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIG9wdGlvbnMpXG4gICAgICAgICAgICB8fCBjYW52YXMuZ2V0Q29udGV4dCgnZXhwZXJpbWVudGFsLXdlYmdsJywgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmICghZ2wpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gZmFpbCwgbm90IGFibGUgdG8gZ2V0IGEgY29udGV4dFxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgd2ViR0wuIFRyeSB1c2luZyB0aGUgY2FudmFzIHJlbmRlcmVyJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdsID0gZ2w7XG5cbiAgICAgICAgdGhpcy5nZXRFeHRlbnNpb25zKCk7XG5cbiAgICAgICAgcmV0dXJuIGdsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBdXRvLXBvcHVsYXRlIHRoZSBleHRlbnNpb25zXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmdldEV4dGVuc2lvbnMgPSBmdW5jdGlvbiBnZXRFeHRlbnNpb25zICgpXG4gICAge1xuICAgICAgICAvLyB0aW1lIHRvIHNldCB1cCBkZWZhdWx0IGV4dGVuc2lvbnMgdGhhdCBwaXhpIHVzZXMuLlxuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGlmICh0aGlzLndlYkdMVmVyc2lvbiA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmV4dGVuc2lvbnMsIHtcbiAgICAgICAgICAgICAgICBkcmF3QnVmZmVyczogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9kcmF3X2J1ZmZlcnMnKSxcbiAgICAgICAgICAgICAgICBkZXB0aFRleHR1cmU6IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX1dFQkdMX2RlcHRoX3RleHR1cmUnKSxcbiAgICAgICAgICAgICAgICBmbG9hdFRleHR1cmU6IGdsLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXQnKSxcbiAgICAgICAgICAgICAgICBsb3NlQ29udGV4dDogZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKSxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhBcnJheU9iamVjdDogZ2wuZ2V0RXh0ZW5zaW9uKCdPRVNfdmVydGV4X2FycmF5X29iamVjdCcpXG4gICAgICAgICAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgICAgICAgICAgfHwgZ2wuZ2V0RXh0ZW5zaW9uKCdXRUJLSVRfT0VTX3ZlcnRleF9hcnJheV9vYmplY3QnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgZG9uJ3QgdXNlIGFueSBzcGVjaWZpYyBXZWJHTCAyIG9uZXMgeWV0IVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGEgbG9zdCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7V2ViR0xDb250ZXh0RXZlbnR9IGV2ZW50IC0gVGhlIGNvbnRleHQgbG9zdCBldmVudC5cbiAgICAgKi9cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5oYW5kbGVDb250ZXh0TG9zdCA9IGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRMb3N0IChldmVudClcbiAgICB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgYSByZXN0b3JlZCB3ZWJnbCBjb250ZXh0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLmhhbmRsZUNvbnRleHRSZXN0b3JlZCA9IGZ1bmN0aW9uIGhhbmRsZUNvbnRleHRSZXN0b3JlZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5ydW5uZXJzLmNvbnRleHRDaGFuZ2UucnVuKHRoaXMuZ2wpO1xuICAgIH07XG5cbiAgICBDb250ZXh0U3lzdGVtLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHZpZXcgPSB0aGlzLnJlbmRlcmVyLnZpZXc7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyc1xuICAgICAgICB2aWV3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmdsY29udGV4dGxvc3QnLCB0aGlzLmhhbmRsZUNvbnRleHRMb3N0KTtcbiAgICAgICAgdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJnbGNvbnRleHRyZXN0b3JlZCcsIHRoaXMuaGFuZGxlQ29udGV4dFJlc3RvcmVkKTtcblxuICAgICAgICB0aGlzLmdsLnVzZVByb2dyYW0obnVsbCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZXh0ZW5zaW9ucy5sb3NlQ29udGV4dClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5leHRlbnNpb25zLmxvc2VDb250ZXh0Lmxvc2VDb250ZXh0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGFuZGxlIHRoZSBwb3N0LXJlbmRlciBydW5uZXIgZXZlbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQ29udGV4dFN5c3RlbS5wcm90b3R5cGUucG9zdHJlbmRlciA9IGZ1bmN0aW9uIHBvc3RyZW5kZXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZ2wuZmx1c2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSBSZW5kZXIgY29udGV4dFxuICAgICAqL1xuICAgIENvbnRleHRTeXN0ZW0ucHJvdG90eXBlLnZhbGlkYXRlQ29udGV4dCA9IGZ1bmN0aW9uIHZhbGlkYXRlQ29udGV4dCAoZ2wpXG4gICAge1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdsLmdldENvbnRleHRBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gdGhpcyBpcyBnb2luZyB0byBiZSBmYWlybHkgc2ltcGxlIGZvciBub3cuLiBidXQgYXQgbGVhc3Qgd2UgaGF2ZSByb29tIHRvIGdyb3chXG4gICAgICAgIGlmICghYXR0cmlidXRlcy5zdGVuY2lsKVxuICAgICAgICB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG5cbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUud2FybignUHJvdmlkZWQgV2ViR0wgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgc3RlbmNpbCBidWZmZXIsIG1hc2tzIG1heSBub3QgcmVuZGVyIGNvcnJlY3RseScpO1xuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBDb250ZXh0U3lzdGVtLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQ29udGV4dFN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogRnJhbWVidWZmZXIgc3lzdGVtXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cbnZhciBGcmFtZWJ1ZmZlclN5c3RlbSA9IChmdW5jdGlvbiAoU3lzdGVtJCQxKSB7XG4gICAgZnVuY3Rpb24gRnJhbWVidWZmZXJTeXN0ZW0gKCkge1xuICAgICAgICBTeXN0ZW0kJDEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSQkMSApIEZyYW1lYnVmZmVyU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbSQkMTtcbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0kJDEgJiYgU3lzdGVtJCQxLnByb3RvdHlwZSApO1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZyYW1lYnVmZmVyU3lzdGVtO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgc2l6ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmNvbnRleHRDaGFuZ2UgPSBmdW5jdGlvbiBjb250ZXh0Q2hhbmdlICgpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgIHRoaXMuZHJhd0J1ZmZlckV4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLmRyYXdCdWZmZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCaW5kIGEgZnJhbWVidWZmZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBmcmFtZVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCAoZnJhbWVidWZmZXIsIGZyYW1lKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICB0aGlzLmN1cnJlbnQgPSBmcmFtZWJ1ZmZlcjtcblxuICAgICAgICBpZiAoZnJhbWVidWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gY2FjaGluZyBsYXllciFcblxuICAgICAgICAgICAgdmFyIGZibyA9IGZyYW1lYnVmZmVyLmdsRnJhbWVCdWZmZXJzW3RoaXMuQ09OVEVYVF9VSURdIHx8IHRoaXMuaW5pdEZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcblxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmYm8uZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGFsbCB0ZXh0dXJlcyBhcmUgdW5ib3VuZC4uXG5cbiAgICAgICAgICAgIC8vIG5vdyBjaGVjayBmb3IgdXBkYXRlcy4uLlxuICAgICAgICAgICAgaWYgKGZiby5kaXJ0eUlkICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eUlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZiby5kaXJ0eUlkID0gZnJhbWVidWZmZXIuZGlydHlJZDtcblxuICAgICAgICAgICAgICAgIGlmIChmYm8uZGlydHlGb3JtYXQgIT09IGZyYW1lYnVmZmVyLmRpcnR5Rm9ybWF0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZmJvLmRpcnR5Rm9ybWF0ID0gZnJhbWVidWZmZXIuZGlydHlGb3JtYXQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRnJhbWVidWZmZXIoZnJhbWVidWZmZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmYm8uZGlydHlTaXplICE9PSBmcmFtZWJ1ZmZlci5kaXJ0eVNpemUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBmYm8uZGlydHlTaXplID0gZnJhbWVidWZmZXIuZGlydHlTaXplO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZUZyYW1lYnVmZmVyKGZyYW1lYnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXS50ZXh0dXJlUGFydClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMkMS5yZW5kZXJlci50ZXh0dXJlLnVuYmluZChmcmFtZWJ1ZmZlci5jb2xvclRleHR1cmVzW2ldLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzJDEucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS51bmJpbmQoZnJhbWVidWZmZXIuZGVwdGhUZXh0dXJlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoZnJhbWUueCwgZnJhbWUueSwgZnJhbWUud2lkdGgsIGZyYW1lLmhlaWdodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWV3cG9ydCgwLCAwLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG5cbiAgICAgICAgICAgIGlmIChmcmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpZXdwb3J0KGZyYW1lLngsIGZyYW1lLnksIGZyYW1lLndpZHRoLCBmcmFtZS5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Vmlld3BvcnQoMCwgMCwgdGhpcy5yZW5kZXJlci53aWR0aCwgdGhpcy5yZW5kZXJlci5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgV2ViR0xSZW5kZXJpbmdDb250ZXh0J3Mgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geCAtIFggcG9zaXRpb24gb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSAtIFkgcG9zaXRpb24gb2Ygdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gd2lkdGggLSBXaWR0aCBvZiB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgLSBIZWlnaHQgb2Ygdmlld3BvcnRcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUuc2V0Vmlld3BvcnQgPSBmdW5jdGlvbiBzZXRWaWV3cG9ydCAoeCwgeSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHZhciB2ID0gdGhpcy52aWV3cG9ydDtcblxuICAgICAgICBpZiAodi53aWR0aCAhPT0gd2lkdGggfHwgdi5oZWlnaHQgIT09IGhlaWdodCB8fCB2LnggIT09IHggfHwgdi55ICE9PSB5KVxuICAgICAgICB7XG4gICAgICAgICAgICB2LnggPSB4O1xuICAgICAgICAgICAgdi55ID0geTtcbiAgICAgICAgICAgIHYud2lkdGggPSB3aWR0aDtcbiAgICAgICAgICAgIHYuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgICB0aGlzLmdsLnZpZXdwb3J0KHgsIHksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgc2l6ZSBvZiB0aGUgY3VycmVudCB3aWR0aCBhbmQgaGVpZ2h0LiBSZXR1cm5zIG9iamVjdCB3aXRoIGB3aWR0aGAgYW5kIGBoZWlnaHRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2l6ZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyBzdG9yZSB0ZW1wXG4gICAgICAgICAgICByZXR1cm4geyB4OiAwLCB5OiAwLCB3aWR0aDogdGhpcy5jdXJyZW50LndpZHRoLCBoZWlnaHQ6IHRoaXMuY3VycmVudC5oZWlnaHQgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAsIHdpZHRoOiB0aGlzLnJlbmRlcmVyLndpZHRoLCBoZWlnaHQ6IHRoaXMucmVuZGVyZXIuaGVpZ2h0IH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBjb2xvciBvZiB0aGUgY29udGV4dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHIgLSBSZWQgdmFsdWUgZnJvbSAwIHRvIDFcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZyAtIEdyZWVuIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGIgLSBCbHVlIHZhbHVlIGZyb20gMCB0byAxXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGEgLSBBbHBoYSB2YWx1ZSBmcm9tIDAgdG8gMVxuICAgICAqL1xuICAgIEZyYW1lYnVmZmVyU3lzdGVtLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyIChyLCBnLCBiLCBhKVxuICAgIHtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICAvLyBUT0RPIGNsZWFyIGNvbG9yIGNhbiBiZSBzZXQgb25seSBvbmUgcmlnaHQ/XG4gICAgICAgIGdsLmNsZWFyQ29sb3IociwgZywgYiwgYSk7XG4gICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQgfCBnbC5ERVBUSF9CVUZGRVJfQklUKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBmcmFtZWJ1ZmZlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuRnJhbWVidWZmZXJ9IGZyYW1lYnVmZmVyXG4gICAgICovXG4gICAgRnJhbWVidWZmZXJTeXN0ZW0ucHJvdG90eXBlLmluaXRGcmFtZWJ1ZmZlciA9IGZ1bmN0aW9uIGluaXRGcmFtZWJ1ZmZlciAoZnJhbWVidWZmZXIpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIC8vIFRPRE8gLSBtYWtlIHRoaXMgYSBjbGFzcz9cbiAgICAgICAgdmFyIGZibyA9IHtcbiAgICAgICAgICAgIGZyYW1lYnVmZmVyOiBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpLFxuICAgICAgICAgICAgc3RlbmNpbDogbnVsbCxcbiAgICAgICAgICAgIGRpcnR5SWQ6IDAsXG4gICAgICAgICAgICBkaXJ0eUZvcm1hdDogMCxcbiAgICAgICAgICAgIGRpcnR5U2l6ZTogMCxcbiAgICAgICAgfTtcblxuICAgICAgICBmcmFtZWJ1ZmZlci5nbEZyYW1lQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGZibztcblxuICAgICAgICByZXR1cm4gZmJvO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUucmVzaXplRnJhbWVidWZmZXIgPSBmdW5jdGlvbiByZXNpemVGcmFtZWJ1ZmZlciAoZnJhbWVidWZmZXIpXG4gICAge1xuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5zdGVuY2lsIHx8IGZyYW1lYnVmZmVyLmRlcHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5iaW5kUmVuZGVyYnVmZmVyKGdsLlJFTkRFUkJVRkZFUiwgdGhpcy5zdGVuY2lsKTtcbiAgICAgICAgICAgIGdsLnJlbmRlcmJ1ZmZlclN0b3JhZ2UoZ2wuUkVOREVSQlVGRkVSLCBnbC5ERVBUSF9TVEVOQ0lMLCBmcmFtZWJ1ZmZlci53aWR0aCwgZnJhbWVidWZmZXIuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGZyYW1lYnVmZmVyXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5GcmFtZWJ1ZmZlcn0gZnJhbWVidWZmZXJcbiAgICAgKi9cbiAgICBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUudXBkYXRlRnJhbWVidWZmZXIgPSBmdW5jdGlvbiB1cGRhdGVGcmFtZWJ1ZmZlciAoZnJhbWVidWZmZXIpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIHZhciBmYm8gPSBmcmFtZWJ1ZmZlci5nbEZyYW1lQnVmZmVyc1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICAvLyBiaW5kIHRoZSBjb2xvciB0ZXh0dXJlXG4gICAgICAgIHZhciBjb2xvclRleHR1cmVzID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlcztcblxuICAgICAgICB2YXIgY291bnQgPSBjb2xvclRleHR1cmVzLmxlbmd0aDtcblxuICAgICAgICBpZiAoIXRoaXMuZHJhd0J1ZmZlckV4dGVuc2lvbilcbiAgICAgICAge1xuICAgICAgICAgICAgY291bnQgPSBNYXRoLm1pbihjb3VudCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWN0aXZlVGV4dHVyZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gZnJhbWVidWZmZXIuY29sb3JUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgaWYgKHRleHR1cmUudGV4dHVyZVBhcnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLnJlbmRlcmVyLnRleHR1cmUuYmluZCh0ZXh0dXJlLnRleHR1cmUsIDApO1xuXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgICAgIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YICsgdGV4dHVyZS5zaWRlLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLnRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcyQxLkNPTlRFWFRfVUlEXS50ZXh0dXJlLFxuICAgICAgICAgICAgICAgICAgICAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEucmVuZGVyZXIudGV4dHVyZS5iaW5kKHRleHR1cmUsIDApO1xuXG4gICAgICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJUZXh0dXJlMkQoZ2wuRlJBTUVCVUZGRVIsXG4gICAgICAgICAgICAgICAgICAgIGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzJDEuQ09OVEVYVF9VSURdLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhY3RpdmVUZXh0dXJlcy5wdXNoKGdsLkNPTE9SX0FUVEFDSE1FTlQwICsgaSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kcmF3QnVmZmVyRXh0ZW5zaW9uICYmIGFjdGl2ZVRleHR1cmVzLmxlbmd0aCA+IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0J1ZmZlckV4dGVuc2lvbi5kcmF3QnVmZmVyc1dFQkdMKGFjdGl2ZVRleHR1cmVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmcmFtZWJ1ZmZlci5kZXB0aFRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkZXB0aFRleHR1cmVFeHQgPSB0aGlzLnJlbmRlcmVyLmNvbnRleHQuZXh0ZW5zaW9ucy5kZXB0aFRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmIChkZXB0aFRleHR1cmVFeHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGRlcHRoVGV4dHVyZSA9IGZyYW1lYnVmZmVyLmRlcHRoVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIudGV4dHVyZS5iaW5kKGRlcHRoVGV4dHVyZSwgMCk7XG5cbiAgICAgICAgICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUixcbiAgICAgICAgICAgICAgICAgICAgZ2wuREVQVEhfQVRUQUNITUVOVCxcbiAgICAgICAgICAgICAgICAgICAgZ2wuVEVYVFVSRV8yRCxcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhUZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZyYW1lYnVmZmVyLnN0ZW5jaWwgfHwgZnJhbWVidWZmZXIuZGVwdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZiby5zdGVuY2lsID0gZ2wuY3JlYXRlUmVuZGVyYnVmZmVyKCk7XG5cbiAgICAgICAgICAgIGdsLmJpbmRSZW5kZXJidWZmZXIoZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE8uLiB0aGlzIGlzIGRlcHRoIEFORCBzdGVuY2lsP1xuICAgICAgICAgICAgZ2wuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVCwgZ2wuUkVOREVSQlVGRkVSLCBmYm8uc3RlbmNpbCk7XG4gICAgICAgICAgICBnbC5yZW5kZXJidWZmZXJTdG9yYWdlKGdsLlJFTkRFUkJVRkZFUiwgZ2wuREVQVEhfU1RFTkNJTCwgZnJhbWVidWZmZXIud2lkdGgsIGZyYW1lYnVmZmVyLmhlaWdodCk7XG4gICAgICAgICAgICAvLyBmYm8uZW5hYmxlU3RlbmNpbCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBGcmFtZWJ1ZmZlclN5c3RlbS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIEZyYW1lYnVmZmVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxudmFyIEdMQnVmZmVyID0gZnVuY3Rpb24gR0xCdWZmZXIoYnVmZmVyKVxue1xuICAgIHRoaXMuYnVmZmVyID0gYnVmZmVyO1xuICAgIHRoaXMudXBkYXRlSUQgPSAtMTtcbiAgICB0aGlzLmJ5dGVMZW5ndGggPSAtMTtcbn07XG5cbnZhciBieXRlU2l6ZU1hcCQxID0geyA1MTI2OiA0LCA1MTIzOiAyLCA1MTIxOiAxIH07XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgR2VvbWV0cnlTeXN0ZW0gPSAoZnVuY3Rpb24gKFN5c3RlbSQkMSkge1xuICAgIGZ1bmN0aW9uIEdlb21ldHJ5U3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtJCQxLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYWN0aXZlVmFvID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIGlmIHdlIGhhcyBgKl92ZXJ0ZXhfYXJyYXlfb2JqZWN0YCBleHRlbnNpb25cbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmhhc1ZhbyA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBoYXMgYEFOR0xFX2luc3RhbmNlZF9hcnJheXNgIGV4dGVuc2lvblxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaGFzSW5zdGFuY2UgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNhY2hlIHRoYXRzIHN0b3JlcyB2YW9zIGxpbmtlZCB0byBnZW9tZXRyaWVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlID0ge307XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0kJDEgKSBHZW9tZXRyeVN5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW0kJDE7XG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtJCQxICYmIFN5c3RlbSQkMS5wcm90b3R5cGUgKTtcbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBHZW9tZXRyeVN5c3RlbTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKClcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuXG4gICAgICAgIC8vIHdlYmdsMlxuICAgICAgICBpZiAoIWdsLmNyZWF0ZVZlcnRleEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3ZWJnbCAxIVxuICAgICAgICAgICAgdmFyIG5hdGl2ZVZhb0V4dGVuc2lvbiA9IHRoaXMucmVuZGVyZXIuY29udGV4dC5leHRlbnNpb25zLnZlcnRleEFycmF5T2JqZWN0O1xuXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MkMS5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChuYXRpdmVWYW9FeHRlbnNpb24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuY3JlYXRlVmVydGV4QXJyYXkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBuYXRpdmVWYW9FeHRlbnNpb24uY3JlYXRlVmVydGV4QXJyYXlPRVMoKTsgfTtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICh2YW8pIHsgcmV0dXJuIG5hdGl2ZVZhb0V4dGVuc2lvbi5iaW5kVmVydGV4QXJyYXlPRVModmFvKTsgfTtcblxuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5ID0gZnVuY3Rpb24gKHZhbykgeyByZXR1cm4gbmF0aXZlVmFvRXh0ZW5zaW9uLmRlbGV0ZVZlcnRleEFycmF5T0VTKHZhbyk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNWYW8gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBnbC5jcmVhdGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuYmluZFZlcnRleEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlbXB0eVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBnbC5kZWxldGVWZXJ0ZXhBcnJheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFnbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2VFeHQgPSBnbC5nZXRFeHRlbnNpb24oJ0FOR0xFX2luc3RhbmNlZF9hcnJheXMnKTtcblxuICAgICAgICAgICAgaWYgKGluc3RhbmNlRXh0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IgPSBmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gaW5zdGFuY2VFeHQudmVydGV4QXR0cmliRGl2aXNvckFOR0xFKGEsIGIpOyB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUpIHsgcmV0dXJuIGluc3RhbmNlRXh0LmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFKGEsIGIsIGMsIGQsIGUpOyB9O1xuXG4gICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5c0luc3RhbmNlZCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBpbnN0YW5jZUV4dC5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUoYSwgYiwgYywgZCk7IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNJbnN0YW5jZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIGdlb21ldHJ5IHNvIHRoYXQgaXMgY2FuIGJlIGRyYXduLiBDcmVhdGluZyBhIFZhbyBpZiByZXF1aXJlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSBpbnN0YW5jZSBvZiBnZW9tZXRyeSB0byBiaW5kXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIGluc3RhbmNlIG9mIHNoYWRlciB0byBiaW5kXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChnZW9tZXRyeSwgc2hhZGVyKVxuICAgIHtcbiAgICAgICAgc2hhZGVyID0gc2hhZGVyIHx8IHRoaXMucmVuZGVyZXIuc2hhZGVyLnNoYWRlcjtcblxuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIC8vIG5vdCBzdXJlIHRoZSBiZXN0IHdheSB0byBhZGRyZXNzIHRoaXMuLlxuICAgICAgICAvLyBjdXJyZW50bHkgZGlmZmVyZW50IHNoYWRlcnMgcmVxdWlyZSBkaWZmZXJlbnQgVkFPcyBmb3IgdGhlIHNhbWUgZ2VvbWV0cnlcbiAgICAgICAgLy8gU3RpbGwgbXVsbGluZyBvdmVyIHRoZSBiZXN0IHdheSB0byBzb2x2ZSB0aGlzIG9uZS4uXG4gICAgICAgIC8vIHdpbGwgbGlrZWx5IG5lZWQgdG8gbW9kaWZ5IHRoZSBzaGFkZXIgYXR0cmlidXRlIGxvY2F0aW9ucyBhdCBydW4gdGltZSFcbiAgICAgICAgdmFyIHZhb3MgPSBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBpZiAoIXZhb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdlb21ldHJ5LmdsVmVydGV4QXJyYXlPYmplY3RzW3RoaXMuQ09OVEVYVF9VSURdID0gdmFvcyA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZhbyA9IHZhb3Nbc2hhZGVyLnByb2dyYW0uaWRdIHx8IHRoaXMuaW5pdEdlb21ldHJ5VmFvKGdlb21ldHJ5LCBzaGFkZXIucHJvZ3JhbSk7XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlR2VvbWV0cnkgPSBnZW9tZXRyeTtcblxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlVmFvICE9PSB2YW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IHZhbztcblxuICAgICAgICAgICAgaWYgKHRoaXMuaGFzVmFvKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHNoYWRlci5wcm9ncmFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE8gLSBvcHRpbWlzZSBsYXRlciFcbiAgICAgICAgLy8gZG9uJ3QgbmVlZCB0byBsb29wIHRocm91Z2ggaWYgbm90aGluZyBjaGFuZ2VkIVxuICAgICAgICAvLyBtYXliZSBsb29rIHRvIGFkZCBhbiAnYXV0b3VwZGF0ZScgdG8gZ2VvbWV0cnk/XG4gICAgICAgIHRoaXMudXBkYXRlQnVmZmVycygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldCBhbmQgdW5iaW5kIGFueSBhY3RpdmUgVkFPIGFuZCBnZW9tZXRyeVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG4gICAge1xuICAgICAgICB0aGlzLnVuYmluZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYnVmZmVyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZUJ1ZmZlcnMgPSBmdW5jdGlvbiB1cGRhdGVCdWZmZXJzICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLl9hY3RpdmVHZW9tZXRyeTtcbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdlb21ldHJ5LmJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZW9tZXRyeS5idWZmZXJzW2ldO1xuXG4gICAgICAgICAgICB2YXIgZ2xCdWZmZXIgPSBidWZmZXIuX2dsQnVmZmVyc1t0aGlzJDEuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoYnVmZmVyLl91cGRhdGVJRCAhPT0gZ2xCdWZmZXIudXBkYXRlSUQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xCdWZmZXIudXBkYXRlSUQgPSBidWZmZXIuX3VwZGF0ZUlEO1xuXG4gICAgICAgICAgICAgICAgLy8gVE9ETyBjYW4gY2FjaGUgdGhpcyBvbiBidWZmZXIhIG1heWJlIGFkZGVkIGEgZ2V0dGVyIC8gc2V0dGVyP1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gYnVmZmVyLmluZGV4ID8gZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIgOiBnbC5BUlJBWV9CVUZGRVI7XG4gICAgICAgICAgICAgICAgdmFyIGRyYXdUeXBlID0gYnVmZmVyLnN0YXRpYyA/IGdsLlNUQVRJQ19EUkFXIDogZ2wuRFlOQU1JQ19EUkFXO1xuXG4gICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcih0eXBlLCBnbEJ1ZmZlci5idWZmZXIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGdsQnVmZmVyLmJ5dGVMZW5ndGggPj0gYnVmZmVyLmRhdGEuYnl0ZUxlbmd0aClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG9mZnNldCBpcyBhbHdheXMgemVybyBmb3Igbm93IVxuICAgICAgICAgICAgICAgICAgICBnbC5idWZmZXJTdWJEYXRhKHR5cGUsIDAsIGJ1ZmZlci5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2xCdWZmZXIuYnl0ZUxlbmd0aCA9IGJ1ZmZlci5kYXRhLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJ1ZmZlckRhdGEodHlwZSwgYnVmZmVyLmRhdGEsIGRyYXdUeXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgY29tcGFiaWxpdHkgYmV0d2VlbiBhIGdlb21ldHJ5IGFuZCBhIHByb2dyYW1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gUHJvZ3JhbSBpbnN0YW5jZVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5jaGVja0NvbXBhdGliaWxpdHkgPSBmdW5jdGlvbiBjaGVja0NvbXBhdGliaWxpdHkgKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgLy8gZ2VvbWV0cnkgbXVzdCBoYXZlIGF0IGxlYXN0IGFsbCB0aGUgYXR0cmlidXRlcyB0aGF0IHRoZSBzaGFkZXIgcmVxdWlyZXMuXG4gICAgICAgIHZhciBnZW9tZXRyeUF0dHJpYnV0ZXMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcblxuICAgICAgICBmb3IgKHZhciBqIGluIHNoYWRlckF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghZ2VvbWV0cnlBdHRyaWJ1dGVzW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigoXCJzaGFkZXIgYW5kIGdlb21ldHJ5IGluY29tcGF0aWJsZSwgZ2VvbWV0cnkgbWlzc2luZyB0aGUgXFxcIlwiICsgaiArIFwiXFxcIiBhdHRyaWJ1dGVcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgZ2VvbWV0cnkgYW5kIHByb2dyYW0gYW5kIGdlbmVyYXRlcyBhIHVuaXF1ZSBzaWduYXR1cmUgZm9yIHRoZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR2VvbWV0cnl9IGdlb21ldHJ5IHRvIGdldCBzaWduYXR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcmdyYW0gdG8gdGVzdCBnZW9tZXRyeSBhZ2FpbnN0XG4gICAgICogQHJldHVybnMge1N0cmluZ30gVW5pcXVlIHNpZ25hdHVyZSBvZiB0aGUgZ2VvbWV0cnkgYW5kIHByb2dyYW1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEdlb21ldHJ5U3lzdGVtLnByb3RvdHlwZS5nZXRTaWduYXR1cmUgPSBmdW5jdGlvbiBnZXRTaWduYXR1cmUgKGdlb21ldHJ5LCBwcm9ncmFtKVxuICAgIHtcbiAgICAgICAgdmFyIGF0dHJpYnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzO1xuICAgICAgICB2YXIgc2hhZGVyQXR0cmlidXRlcyA9IHByb2dyYW0uYXR0cmlidXRlRGF0YTtcblxuICAgICAgICB2YXIgc3RyaW5ncyA9IFtnZW9tZXRyeS5pZF07XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRyaWJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2hhZGVyQXR0cmlidXRlc1tpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdHJpbmdzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5ncy5qb2luKCctJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBWYW8gd2l0aCB0aGUgc2FtZSBzdHJ1Y3R1cmUgYXMgdGhlIGdlb21ldHJ5IGFuZCBzdG9yZXMgaXQgb24gdGhlIGdlb21ldHJ5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkdlb21ldHJ5fSBnZW9tZXRyeSAtIEluc3RhbmNlIG9mIGdlb21ldHJ5IHRvIHRvIGdlbmVyYXRlIFZhbyBmb3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuUHJvZ3JhbX0gcHJvZ3JhbSAtIEluc3RhbmNlIG9mIHByb2dyYW1cbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuaW5pdEdlb21ldHJ5VmFvID0gZnVuY3Rpb24gaW5pdEdlb21ldHJ5VmFvIChnZW9tZXRyeSwgcHJvZ3JhbSlcbiAgICB7XG4gICAgICAgIHRoaXMuY2hlY2tDb21wYXRpYmlsaXR5KGdlb21ldHJ5LCBwcm9ncmFtKTtcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuXG4gICAgICAgIHZhciBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZShnZW9tZXRyeSwgcHJvZ3JhbSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2FjaGVbc2lnbmF0dXJlXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHZhbyQxID0gdGhpcy5jYWNoZVtzaWduYXR1cmVdO1xuXG4gICAgICAgICAgICBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXVtwcm9ncmFtLmlkXSA9IHZhbyQxO1xuXG4gICAgICAgICAgICByZXR1cm4gdmFvJDE7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcbiAgICAgICAgdmFyIHRlbXBTdHJpZGUgPSB7fTtcbiAgICAgICAgdmFyIHRlbXBTdGFydCA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGogaW4gYnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgdGVtcFN0cmlkZVtqXSA9IDA7XG4gICAgICAgICAgICB0ZW1wU3RhcnRbal0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaiQxIGluIGF0dHJpYnV0ZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1tqJDFdLnNpemUgJiYgcHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2okMV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlc1tqJDFdLnNpemUgPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbaiQxXS5zaXplO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0ZW1wU3RyaWRlW2F0dHJpYnV0ZXNbaiQxXS5idWZmZXJdICs9IGF0dHJpYnV0ZXNbaiQxXS5zaXplICogYnl0ZVNpemVNYXAkMVthdHRyaWJ1dGVzW2okMV0udHlwZV07XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqJDIgaW4gYXR0cmlidXRlcylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXNbaiQyXTtcbiAgICAgICAgICAgIHZhciBhdHRyaWJTaXplID0gYXR0cmlidXRlLnNpemU7XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RyaWRlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRlbXBTdHJpZGVbYXR0cmlidXRlLmJ1ZmZlcl0gPT09IGF0dHJpYlNpemUgKiBieXRlU2l6ZU1hcCQxW2F0dHJpYnV0ZS50eXBlXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS5zdHJpZGUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RyaWRlID0gdGVtcFN0cmlkZVthdHRyaWJ1dGUuYnVmZmVyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGUuc3RhcnQgPSB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl07XG5cbiAgICAgICAgICAgICAgICB0ZW1wU3RhcnRbYXR0cmlidXRlLmJ1ZmZlcl0gKz0gYXR0cmliU2l6ZSAqIGJ5dGVTaXplTWFwJDFbYXR0cmlidXRlLnR5cGVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmlyc3QgdXBkYXRlIC0gYW5kIGNyZWF0ZSB0aGUgYnVmZmVycyFcbiAgICAgICAgLy8gb25seSBjcmVhdGUgYSBnbCBidWZmZXIgaWYgaXQgYWN0dWFsbHkgZ2V0c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWJ1ZmZlci5fZ2xCdWZmZXJzW0NPTlRFWFRfVUlEXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBidWZmZXIuX2dsQnVmZmVyc1tDT05URVhUX1VJRF0gPSBuZXcgR0xCdWZmZXIoZ2wuY3JlYXRlQnVmZmVyKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyAtIG1heWJlIG1ha2UgdGhpcyBhIGRhdGEgb2JqZWN0P1xuICAgICAgICAvLyBsZXRzIHdhaXQgdG8gc2VlIGlmIHdlIG5lZWQgdG8gZmlyc3QhXG4gICAgICAgIHZhciB2YW8gPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO1xuXG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2YW8pO1xuXG4gICAgICAgIHRoaXMuYWN0aXZhdGVWYW8oZ2VvbWV0cnksIHByb2dyYW0pO1xuXG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheShudWxsKTtcblxuICAgICAgICAvLyBhZGQgaXQgdG8gdGhlIGNhY2hlIVxuICAgICAgICBnZW9tZXRyeS5nbFZlcnRleEFycmF5T2JqZWN0c1t0aGlzLkNPTlRFWFRfVUlEXVtwcm9ncmFtLmlkXSA9IHZhbztcblxuICAgICAgICByZXR1cm4gdmFvO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBY3RpdmF0ZSB2ZXJ0ZXggYXJyYXkgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5HZW9tZXRyeX0gZ2VvbWV0cnkgLSBHZW9tZXRyeSBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7UElYSS5Qcm9ncmFtfSBwcm9ncmFtIC0gU2hhZGVyIHByb2dyYW0gaW5zdGFuY2VcbiAgICAgKi9cbiAgICBHZW9tZXRyeVN5c3RlbS5wcm90b3R5cGUuYWN0aXZhdGVWYW8gPSBmdW5jdGlvbiBhY3RpdmF0ZVZhbyAoZ2VvbWV0cnksIHByb2dyYW0pXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuICAgICAgICB2YXIgQ09OVEVYVF9VSUQgPSB0aGlzLkNPTlRFWFRfVUlEO1xuICAgICAgICB2YXIgYnVmZmVycyA9IGdlb21ldHJ5LmJ1ZmZlcnM7XG4gICAgICAgIHZhciBhdHRyaWJ1dGVzID0gZ2VvbWV0cnkuYXR0cmlidXRlcztcblxuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGZpcnN0IHVwZGF0ZSB0aGUgaW5kZXggYnVmZmVyIGlmIHdlIGhhdmUgb25lLi5cbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGdlb21ldHJ5LmluZGV4QnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdLmJ1ZmZlcik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdEJ1ZmZlciA9IG51bGw7XG5cbiAgICAgICAgLy8gYWRkIGEgbmV3IG9uZSFcbiAgICAgICAgZm9yICh2YXIgaiBpbiBhdHRyaWJ1dGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBidWZmZXJzW2F0dHJpYnV0ZS5idWZmZXJdO1xuICAgICAgICAgICAgdmFyIGdsQnVmZmVyID0gYnVmZmVyLl9nbEJ1ZmZlcnNbQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAocHJvZ3JhbS5hdHRyaWJ1dGVEYXRhW2pdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChsYXN0QnVmZmVyICE9PSBnbEJ1ZmZlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBnbEJ1ZmZlci5idWZmZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxhc3RCdWZmZXIgPSBnbEJ1ZmZlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgbG9jYXRpb24gPSBwcm9ncmFtLmF0dHJpYnV0ZURhdGFbal0ubG9jYXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyBUT0RPIGludHJvZHVjZSBzdGF0ZSBhZ2FpblxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBvcHRpbWlzZSB0aGlzIGZvciBvbGRlciBkZXZpY2VzIHRoYXQgaGF2ZSBubyBWQU9zXG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobG9jYXRpb24pO1xuXG4gICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihsb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnNpemUsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZS50eXBlIHx8IGdsLkZMT0FULFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGUubm9ybWFsaXplZCxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0cmlkZSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlLnN0YXJ0KTtcblxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuaW5zdGFuY2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGNhbGN1bGF0ZSBpbnN0YW5jZSBjb3VudCBiYXNlZCBvZiB0aGlzLi4uXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzJDEuaGFzSW5zdGFuY2UpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYkRpdmlzb3IobG9jYXRpb24sIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdnZW9tZXRyeSBlcnJvciwgR1BVIEluc3RhbmNpbmcgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGRldmljZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXcgdGhlIGdlb21ldHJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdHlwZSAtIHRoZSB0eXBlIHByaW1pdGl2ZSB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NpemVdIC0gdGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBiZSByZW5kZXJlZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRdIC0gU3RhcnRpbmcgaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2luc3RhbmNlQ291bnRdIC0gdGhlIG51bWJlciBvZiBpbnN0YW5jZXMgb2YgdGhlIHNldCBvZiBlbGVtZW50cyB0byBleGVjdXRlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiBkcmF3ICh0eXBlLCBzaXplLCBzdGFydCwgaW5zdGFuY2VDb3VudClcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG4gICAgICAgIHZhciBnZW9tZXRyeSA9IHRoaXMuX2FjdGl2ZUdlb21ldHJ5O1xuXG4gICAgICAgIC8vIFRPRE8uLiB0aGlzIHNob3VsZCBub3QgY2hhbmdlIHNvIG1heWJlIGNhY2hlIHRoZSBmdW5jdGlvbj9cblxuICAgICAgICBpZiAoZ2VvbWV0cnkuaW5kZXhCdWZmZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChnZW9tZXRyeS5pbnN0YW5jZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50c0luc3RhbmNlZCh0eXBlLCBzaXplIHx8IGdlb21ldHJ5LmluZGV4QnVmZmVyLmRhdGEubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgKHN0YXJ0IHx8IDApICogMiwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5kcmF3RWxlbWVudHModHlwZSwgc2l6ZSB8fCBnZW9tZXRyeS5pbmRleEJ1ZmZlci5kYXRhLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIChzdGFydCB8fCAwKSAqIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdlb21ldHJ5Lmluc3RhbmNlZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETyBuZWVkIGEgYmV0dGVyIHdheSB0byBjYWxjdWxhdGUgc2l6ZS4uXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzSW5zdGFuY2VkKHR5cGUsIHN0YXJ0LCBzaXplIHx8IGdlb21ldHJ5LmdldFNpemUoKSwgaW5zdGFuY2VDb3VudCB8fCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXModHlwZSwgc3RhcnQsIHNpemUgfHwgZ2VvbWV0cnkuZ2V0U2l6ZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVbmJpbmQvcmVzZXQgZXZlcnl0aGluZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgR2VvbWV0cnlTeXN0ZW0ucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIHVuYmluZCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5iaW5kVmVydGV4QXJyYXkobnVsbCk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZVZhbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2FjdGl2ZUdlb21ldHJ5ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdlb21ldHJ5U3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBAbWV0aG9kIGNvbXBpbGVQcm9ncmFtXG4gKiBAbWVtYmVyb2YgUElYSS5nbENvcmUuc2hhZGVyXG4gKiBAcGFyYW0gZ2wge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gVGhlIGN1cnJlbnQgV2ViR0wgY29udGV4dCB7V2ViR0xQcm9ncmFtfVxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEBwYXJhbSBmcmFnbWVudFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZSBhcyBhbiBhcnJheSBvZiBzdHJpbmdzLlxuICogQHBhcmFtIGF0dHJpYnV0ZUxvY2F0aW9ucyB7T2JqZWN0fSBBbiBhdHRyaWJ1dGUgbG9jYXRpb24gbWFwIHRoYXQgbGV0cyB5b3UgbWFudWFsbHkgc2V0IHRoZSBhdHRyaWJ1dGUgbG9jYXRpb25zXG4gKiBAcmV0dXJuIHtXZWJHTFByb2dyYW19IHRoZSBzaGFkZXIgcHJvZ3JhbVxuICovXG5mdW5jdGlvbiBjb21waWxlUHJvZ3JhbShnbCwgdmVydGV4U3JjLCBmcmFnbWVudFNyYywgYXR0cmlidXRlTG9jYXRpb25zKVxue1xuICAgIHZhciBnbFZlcnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2ZXJ0ZXhTcmMpO1xuICAgIHZhciBnbEZyYWdTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U3JjKTtcblxuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsVmVydFNoYWRlcik7XG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIGdsRnJhZ1NoYWRlcik7XG5cbiAgICAvLyBvcHRpb25hbGx5LCBzZXQgdGhlIGF0dHJpYnV0ZXMgbWFudWFsbHkgZm9yIHRoZSBwcm9ncmFtIHJhdGhlciB0aGFuIGxldHRpbmcgV2ViR0wgZGVjaWRlLi5cbiAgICBpZiAoYXR0cmlidXRlTG9jYXRpb25zKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBhdHRyaWJ1dGVMb2NhdGlvbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRBdHRyaWJMb2NhdGlvbihwcm9ncmFtLCBhdHRyaWJ1dGVMb2NhdGlvbnNbaV0sIGkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG5cbiAgICAvLyBpZiBsaW5raW5nIGZhaWxzLCB0aGVuIGxvZyBhbmQgY2xlYW51cFxuICAgIGlmICghZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtLCBnbC5MSU5LX1NUQVRVUykpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQaXhpLmpzIEVycm9yOiBDb3VsZCBub3QgaW5pdGlhbGl6ZSBzaGFkZXIuJyk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLlZBTElEQVRFX1NUQVRVUycsIGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuVkFMSURBVEVfU1RBVFVTKSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2dsLmdldEVycm9yKCknLCBnbC5nZXRFcnJvcigpKTtcblxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhIHByb2dyYW0gaW5mbyBsb2csIGxvZyBpdFxuICAgICAgICBpZiAoZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSkgIT09ICcnKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BpeGkuanMgV2FybmluZzogZ2wuZ2V0UHJvZ3JhbUluZm9Mb2coKScsIGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIHByb2dyYW0gPSBudWxsO1xuICAgIH1cblxuICAgIC8vIGNsZWFuIHVwIHNvbWUgc2hhZGVyc1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbFZlcnRTaGFkZXIpO1xuICAgIGdsLmRlbGV0ZVNoYWRlcihnbEZyYWdTaGFkZXIpO1xuXG4gICAgcmV0dXJuIHByb2dyYW07XG59XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSBnbCB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBUaGUgY3VycmVudCBXZWJHTCBjb250ZXh0IHtXZWJHTFByb2dyYW19XG4gKiBAcGFyYW0gdHlwZSB7TnVtYmVyfSB0aGUgdHlwZSwgY2FuIGJlIGVpdGhlciBWRVJURVhfU0hBREVSIG9yIEZSQUdNRU5UX1NIQURFUlxuICogQHBhcmFtIHZlcnRleFNyYyB7c3RyaW5nfHN0cmluZ1tdfSBUaGUgdmVydGV4IHNoYWRlciBzb3VyY2UgYXMgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cbiAqIEByZXR1cm4ge1dlYkdMU2hhZGVyfSB0aGUgc2hhZGVyXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVTaGFkZXIoZ2wsIHR5cGUsIHNyYylcbntcbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHR5cGUpO1xuXG4gICAgZ2wuc2hhZGVyU291cmNlKHNoYWRlciwgc3JjKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHNoYWRlcik7XG5cbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSlcbiAgICB7XG4gICAgICAgIGNvbnNvbGUud2FybihzcmMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGdsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKSk7XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cblxuLyoqXG4gKiBAbWV0aG9kIGRlZmF1bHRWYWx1ZVxuICogQG1lbWJlcm9mIFBJWEkuZ2xDb3JlLnNoYWRlclxuICogQHBhcmFtIHR5cGUge1N0cmluZ30gVHlwZSBvZiB2YWx1ZVxuICogQHBhcmFtIHNpemUge051bWJlcn1cbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFZhbHVlKHR5cGUsIHNpemUpXG57XG4gICAgc3dpdGNoICh0eXBlKVxuICAgIHtcbiAgICAgICAgY2FzZSAnZmxvYXQnOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSAndmVjMic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgyICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAndmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSgzICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAndmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnaW50JzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEJzpcbiAgICAgICAgY2FzZSAnc2FtcGxlcjJEQXJyYXknOlxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgY2FzZSAnaXZlYzInOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzMkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdpdmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDMyQXJyYXkoMyAqIHNpemUpO1xuXG4gICAgICAgIGNhc2UgJ2l2ZWM0JzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheSg0ICogc2l6ZSk7XG5cbiAgICAgICAgY2FzZSAnYm9vbCc6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgY2FzZSAnYnZlYzInOlxuXG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDIgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjMyc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDMgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdidmVjNCc6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkFycmF5KDQgKiBzaXplKTtcblxuICAgICAgICBjYXNlICdtYXQyJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDFdKTtcblxuICAgICAgICBjYXNlICdtYXQzJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmxvYXQzMkFycmF5KFsxLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDEsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMV0pO1xuXG4gICAgICAgIGNhc2UgJ21hdDQnOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoWzEsIDAsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAwLCAxLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDAsIDFdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gYm9vbGVhbkFycmF5KHNpemUpXG57XG4gICAgdmFyIGFycmF5ID0gbmV3IEFycmF5KHNpemUpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGFycmF5W2ldID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFycmF5O1xufVxuXG4vKipcbiAqIFNldHMgdGhlIGZsb2F0IHByZWNpc2lvbiBvbiB0aGUgc2hhZGVyLiBJZiB0aGUgcHJlY2lzaW9uIGlzIGFscmVhZHkgcHJlc2VudCB0aGlzIGZ1bmN0aW9uIHdpbGwgZG8gbm90aGluZ1xuICogQHBhcmFtIHtzdHJpbmd9IHNyYyAgICAgICB0aGUgc2hhZGVyIHNvdXJjZVxuICogQHBhcmFtIHtzdHJpbmd9IHByZWNpc2lvbiBUaGUgZmxvYXQgcHJlY2lzaW9uIG9mIHRoZSBzaGFkZXIuIE9wdGlvbnMgYXJlICdsb3dwJywgJ21lZGl1bXAnIG9yICdoaWdocCcuXG4gKlxuICogQHJldHVybiB7c3RyaW5nfSBtb2RpZmllZCBzaGFkZXIgc291cmNlXG4gKi9cbmZ1bmN0aW9uIHNldFByZWNpc2lvbihzcmMsIHByZWNpc2lvbilcbntcbiAgICBzcmMgPSBzcmMudHJpbSgpO1xuXG4gICAgaWYgKHNyYy5zdWJzdHJpbmcoMCwgOSkgIT09ICdwcmVjaXNpb24nICYmIHNyYy5zdWJzdHJpbmcoMCwgMSkgIT09ICcjJylcbiAgICB7XG4gICAgICAgIHJldHVybiAoXCJwcmVjaXNpb24gXCIgKyBwcmVjaXNpb24gKyBcIiBmbG9hdDtcXG5cIiArIHNyYyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYztcbn1cblxudmFyIEdMU0xfVE9fU0laRSA9IHtcbiAgICBmbG9hdDogICAgMSxcbiAgICB2ZWMyOiAgICAgMixcbiAgICB2ZWMzOiAgICAgMyxcbiAgICB2ZWM0OiAgICAgNCxcblxuICAgIGludDogICAgICAxLFxuICAgIGl2ZWMyOiAgICAyLFxuICAgIGl2ZWMzOiAgICAzLFxuICAgIGl2ZWM0OiAgICA0LFxuXG4gICAgYm9vbDogICAgIDEsXG4gICAgYnZlYzI6ICAgIDIsXG4gICAgYnZlYzM6ICAgIDMsXG4gICAgYnZlYzQ6ICAgIDQsXG5cbiAgICBtYXQyOiAgICAgNCxcbiAgICBtYXQzOiAgICAgOSxcbiAgICBtYXQ0OiAgICAgMTYsXG5cbiAgICBzYW1wbGVyMkQ6ICAxLFxufTtcblxuLyoqXG4gKiBAbWV0aG9kIG1hcFNpemVcbiAqIEBtZW1iZXJvZiBQSVhJLmdsQ29yZS5zaGFkZXJcbiAqIEBwYXJhbSB0eXBlIHtTdHJpbmd9XG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIG1hcFNpemUodHlwZSlcbntcbiAgICByZXR1cm4gR0xTTF9UT19TSVpFW3R5cGVdO1xufVxuXG52YXIgR0xfVEFCTEUgPSBudWxsO1xuXG52YXIgR0xfVE9fR0xTTF9UWVBFUyA9IHtcbiAgICBGTE9BVDogICAgICAgJ2Zsb2F0JyxcbiAgICBGTE9BVF9WRUMyOiAgJ3ZlYzInLFxuICAgIEZMT0FUX1ZFQzM6ICAndmVjMycsXG4gICAgRkxPQVRfVkVDNDogICd2ZWM0JyxcblxuICAgIElOVDogICAgICAgICAnaW50JyxcbiAgICBJTlRfVkVDMjogICAgJ2l2ZWMyJyxcbiAgICBJTlRfVkVDMzogICAgJ2l2ZWMzJyxcbiAgICBJTlRfVkVDNDogICAgJ2l2ZWM0JyxcblxuICAgIEJPT0w6ICAgICAgICAnYm9vbCcsXG4gICAgQk9PTF9WRUMyOiAgICdidmVjMicsXG4gICAgQk9PTF9WRUMzOiAgICdidmVjMycsXG4gICAgQk9PTF9WRUM0OiAgICdidmVjNCcsXG5cbiAgICBGTE9BVF9NQVQyOiAgJ21hdDInLFxuICAgIEZMT0FUX01BVDM6ICAnbWF0MycsXG4gICAgRkxPQVRfTUFUNDogICdtYXQ0JyxcblxuICAgIFNBTVBMRVJfMkQ6ICAnc2FtcGxlcjJEJyxcbiAgICBTQU1QTEVSX0NVQkU6ICAnc2FtcGxlckN1YmUnLFxuICAgIFNBTVBMRVJfMkRfQVJSQVk6ICAnc2FtcGxlcjJEQXJyYXknLFxufTtcblxuZnVuY3Rpb24gbWFwVHlwZShnbCwgdHlwZSlcbntcbiAgICBpZiAoIUdMX1RBQkxFKVxuICAgIHtcbiAgICAgICAgdmFyIHR5cGVOYW1lcyA9IE9iamVjdC5rZXlzKEdMX1RPX0dMU0xfVFlQRVMpO1xuXG4gICAgICAgIEdMX1RBQkxFID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlTmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0biA9IHR5cGVOYW1lc1tpXTtcblxuICAgICAgICAgICAgR0xfVEFCTEVbZ2xbdG5dXSA9IEdMX1RPX0dMU0xfVFlQRVNbdG5dO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEdMX1RBQkxFW3R5cGVdO1xufVxuXG4vLyBjdiA9IENhY2hlZFZhbHVlXG4vLyB2ID0gdmFsdWVcbi8vIHVkID0gdW5pZm9ybURhdGFcbi8vIHV2ID0gdW5pZm9ybVZhbHVlXG4vLyBsID0gbG9jYXRpb25cbnZhciBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA9IHtcblxuICAgIGZsb2F0OiBcIlxcbiAgICBpZihjdiAhPT0gdilcXG4gICAge1xcbiAgICAgICAgY3YudiA9IHY7XFxuICAgICAgICBnbC51bmlmb3JtMWYobG9jYXRpb24sIHYpXFxuICAgIH1cIixcblxuICAgIHZlYzI6IFwiXFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBnbC51bmlmb3JtMmYobG9jYXRpb24sIHZbMF0sIHZbMV0pXFxuICAgIH1cIixcblxuICAgIHZlYzM6IFwiXFxuICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdKVxcbiAgICB7XFxuICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICBjdlsyXSA9IHZbMl07XFxuXFxuICAgICAgICBnbC51bmlmb3JtM2YobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pXFxuICAgIH1cIixcblxuICAgIHZlYzQ6ICAgICAnZ2wudW5pZm9ybTRmKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdLCB2WzNdKScsXG5cbiAgICBpbnQ6ICAgICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIGl2ZWMyOiAgICAnZ2wudW5pZm9ybTJpKGxvY2F0aW9uLCB2WzBdLCB2WzFdKScsXG4gICAgaXZlYzM6ICAgICdnbC51bmlmb3JtM2kobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0pJyxcbiAgICBpdmVjNDogICAgJ2dsLnVuaWZvcm00aShsb2NhdGlvbiwgdlswXSwgdlsxXSwgdlsyXSwgdlszXSknLFxuXG4gICAgYm9vbDogICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogICAgJ2dsLnVuaWZvcm0yaShsb2NhdGlvbiwgdlswXSwgdlsxXSknLFxuICAgIGJ2ZWMzOiAgICAnZ2wudW5pZm9ybTNpKGxvY2F0aW9uLCB2WzBdLCB2WzFdLCB2WzJdKScsXG4gICAgYnZlYzQ6ICAgICdnbC51bmlmb3JtNGkobG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pJyxcblxuICAgIG1hdDI6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDJmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0NDogICAgICdnbC51bmlmb3JtTWF0cml4NGZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuXG4gICAgc2FtcGxlcjJEOiAgICAgICdnbC51bmlmb3JtMWkobG9jYXRpb24sIHYpJyxcbiAgICBzYW1wbGVyQ3ViZTogICAgJ2dsLnVuaWZvcm0xaShsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpKGxvY2F0aW9uLCB2KScsXG59O1xuXG52YXIgR0xTTF9UT19BUlJBWV9TRVRURVJTID0ge1xuXG4gICAgZmxvYXQ6ICAgIFwiZ2wudW5pZm9ybTFmdihsb2NhdGlvbiwgdilcIixcblxuICAgIHZlYzI6ICAgICBcImdsLnVuaWZvcm0yZnYobG9jYXRpb24sIHYpXCIsXG4gICAgdmVjMzogICAgIFwiZ2wudW5pZm9ybTNmdihsb2NhdGlvbiwgdilcIixcbiAgICB2ZWM0OiAgICAgJ2dsLnVuaWZvcm00ZnYobG9jYXRpb24sIHYpJyxcblxuICAgIG1hdDQ6ICAgICAnZ2wudW5pZm9ybU1hdHJpeDRmdihsb2NhdGlvbiwgZmFsc2UsIHYpJyxcbiAgICBtYXQzOiAgICAgJ2dsLnVuaWZvcm1NYXRyaXgzZnYobG9jYXRpb24sIGZhbHNlLCB2KScsXG4gICAgbWF0MjogICAgICdnbC51bmlmb3JtTWF0cml4MmZ2KGxvY2F0aW9uLCBmYWxzZSwgdiknLFxuXG4gICAgaW50OiAgICAgICdnbC51bmlmb3JtMWl2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzI6ICAgICdnbC51bmlmb3JtMml2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzM6ICAgICdnbC51bmlmb3JtM2l2KGxvY2F0aW9uLCB2KScsXG4gICAgaXZlYzQ6ICAgICdnbC51bmlmb3JtNGl2KGxvY2F0aW9uLCB2KScsXG5cbiAgICBib29sOiAgICAgJ2dsLnVuaWZvcm0xaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMjogICAgJ2dsLnVuaWZvcm0yaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjMzogICAgJ2dsLnVuaWZvcm0zaXYobG9jYXRpb24sIHYpJyxcbiAgICBidmVjNDogICAgJ2dsLnVuaWZvcm00aXYobG9jYXRpb24sIHYpJyxcblxuICAgIHNhbXBsZXIyRDogICAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXJDdWJlOiAgICAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxuICAgIHNhbXBsZXIyREFycmF5OiAnZ2wudW5pZm9ybTFpdihsb2NhdGlvbiwgdiknLFxufTtcblxuZnVuY3Rpb24gZ2VuZXJhdGVVbmlmb3Jtc1N5bmMoZ3JvdXAsIHVuaWZvcm1EYXRhKVxue1xuICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgIHZhciBmdW5jID0gXCJ2YXIgdiA9IG51bGw7XFxuICAgIHZhciBjdiA9IG51bGxcXG4gICAgdmFyIGdsID0gcmVuZGVyZXIuZ2xcIjtcblxuICAgIGZvciAodmFyIGkgaW4gZ3JvdXAudW5pZm9ybXMpXG4gICAge1xuICAgICAgICB2YXIgZGF0YSA9IHVuaWZvcm1EYXRhW2ldO1xuXG4gICAgICAgIGlmICghZGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLmdyb3VwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLnNoYWRlci5zeW5jVW5pZm9ybUdyb3VwKHV2LlwiICsgaSArIFwiKTtcXG4gICAgICAgICAgICAgICAgXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ETyAmJiB1bmlmb3JtRGF0YVtpXS52YWx1ZSAhPT0gMCA8LS0gZG8gd2Ugc3RpbGwgbmVlZCB0aGlzP1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAnZmxvYXQnICYmIGRhdGEuc2l6ZSA9PT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgIGlmKHV2LlwiICsgaSArIFwiICE9PSB1ZC5cIiArIGkgKyBcIi52YWx1ZSlcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHVkLlwiICsgaSArIFwiLnZhbHVlID0gdXYuXCIgKyBpICsgXCJcXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFmKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCB1di5cIiArIGkgKyBcIilcXG4gICAgICAgICAgICB9XFxuXCI7XG4gICAgICAgIH1cbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICBlbHNlIGlmICgoZGF0YS50eXBlID09PSAnc2FtcGxlcjJEJyB8fCBkYXRhLnR5cGUgPT09ICdzYW1wbGVyQ3ViZScgfHwgZGF0YS50eXBlID09PSAnc2FtcGxlcjJEQXJyYXknKSAmJiBkYXRhLnNpemUgPT09IDEgJiYgIWRhdGEuaXNBcnJheSlcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICB7XG4gICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgcmVuZGVyZXIudGV4dHVyZS5iaW5kKHV2LlwiICsgaSArIFwiLCBcIiArIHRleHR1cmVDb3VudCArIFwiKTtcXG5cXG4gICAgICAgICAgICBpZih1ZC5cIiArIGkgKyBcIi52YWx1ZSAhPT0gXCIgKyB0ZXh0dXJlQ291bnQgKyBcIilcXG4gICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgIHVkLlwiICsgaSArIFwiLnZhbHVlID0gXCIgKyB0ZXh0dXJlQ291bnQgKyBcIjtcXG4gICAgICAgICAgICAgICAgZ2wudW5pZm9ybTFpKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCBcIiArIHRleHR1cmVDb3VudCArIFwiKTtcXG47IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbWF4LWxlblxcbiAgICAgICAgICAgIH1cXG5cIjtcblxuICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAnbWF0MycgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoZ3JvdXAudW5pZm9ybXNbaV0uYSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gYW5kIHNvbWUgc21hcnQgY2FjaGluZyBkaXJ0eSBpZHMgaGVyZSFcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIGZhbHNlLCB1di5cIiArIGkgKyBcIi50b0FycmF5KHRydWUpKTtcXG4gICAgICAgICAgICAgICAgXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCBmYWxzZSwgdXYuXCIgKyBpICsgXCIpO1xcbiAgICAgICAgICAgICAgICBcXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd2ZWMyJyAmJiBkYXRhLnNpemUgPT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFRPRE8gLSBkbyB3ZSBuZWVkIGJvdGggaGVyZT9cbiAgICAgICAgICAgIC8vIG1heWJlIHdlIGNhbiBnZXQgYXdheSB3aXRoIG9ubHkgdXNpbmcgcG9pbnRzP1xuICAgICAgICAgICAgaWYgKGdyb3VwLnVuaWZvcm1zW2ldLnggIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuXCIgKyBpICsgXCIudmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1di5cIiArIGkgKyBcIjtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHYueCB8fCBjdlsxXSAhPT0gdi55KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmKHVkLlwiICsgaSArIFwiLmxvY2F0aW9uLCB2LngsIHYueSk7XFxuICAgICAgICAgICAgICAgIH1cXG5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgICAgIGN2ID0gdWQuXCIgKyBpICsgXCIudmFsdWU7XFxuICAgICAgICAgICAgICAgIHYgPSB1di5cIiArIGkgKyBcIjtcXG5cXG4gICAgICAgICAgICAgICAgaWYoY3ZbMF0gIT09IHZbMF0gfHwgY3ZbMV0gIT09IHZbMV0pXFxuICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzBdID0gdlswXTtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdlsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgdlswXSwgdlsxXSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSAndmVjNCcgJiYgZGF0YS5zaXplID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBUT0RPIC0gZG8gd2UgbmVlZCBib3RoIGhlcmU/XG4gICAgICAgICAgICAvLyBtYXliZSB3ZSBjYW4gZ2V0IGF3YXkgd2l0aCBvbmx5IHVzaW5nIHBvaW50cz9cbiAgICAgICAgICAgIGlmIChncm91cC51bmlmb3Jtc1tpXS53aWR0aCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZ1bmMgKz0gXCJcXG4gICAgICAgICAgICAgICAgY3YgPSB1ZC5cIiArIGkgKyBcIi52YWx1ZTtcXG4gICAgICAgICAgICAgICAgdiA9IHV2LlwiICsgaSArIFwiO1xcblxcbiAgICAgICAgICAgICAgICBpZihjdlswXSAhPT0gdi54IHx8IGN2WzFdICE9PSB2LnkgfHwgY3ZbMl0gIT09IHYud2lkdGggfHwgY3ZbM10gIT09IHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHYueDtcXG4gICAgICAgICAgICAgICAgICAgIGN2WzFdID0gdi55O1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbMl0gPSB2LndpZHRoO1xcbiAgICAgICAgICAgICAgICAgICAgY3ZbM10gPSB2LmhlaWdodDtcXG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm00Zih1ZC5cIiArIGkgKyBcIi5sb2NhdGlvbiwgdi54LCB2LnksIHYud2lkdGgsIHYuaGVpZ2h0KVxcbiAgICAgICAgICAgICAgICB9XFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnVuYyArPSBcIlxcbiAgICAgICAgICAgICAgICBjdiA9IHVkLlwiICsgaSArIFwiLnZhbHVlO1xcbiAgICAgICAgICAgICAgICB2ID0gdXYuXCIgKyBpICsgXCI7XFxuXFxuICAgICAgICAgICAgICAgIGlmKGN2WzBdICE9PSB2WzBdIHx8IGN2WzFdICE9PSB2WzFdIHx8IGN2WzJdICE9PSB2WzJdIHx8IGN2WzNdICE9PSB2WzNdKVxcbiAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICBjdlswXSA9IHZbMF07XFxuICAgICAgICAgICAgICAgICAgICBjdlsxXSA9IHZbMV07XFxuICAgICAgICAgICAgICAgICAgICBjdlsyXSA9IHZbMl07XFxuICAgICAgICAgICAgICAgICAgICBjdlszXSA9IHZbM107XFxuXFxuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtNGYodWQuXCIgKyBpICsgXCIubG9jYXRpb24sIHZbMF0sIHZbMV0sIHZbMl0sIHZbM10pXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgXFxuXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGVUeXBlID0gKGRhdGEuc2l6ZSA9PT0gMSkgPyBHTFNMX1RPX1NJTkdMRV9TRVRURVJTX0NBQ0hFRCA6IEdMU0xfVE9fQVJSQVlfU0VUVEVSUztcblxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gIHRlbXBsYXRlVHlwZVtkYXRhLnR5cGVdLnJlcGxhY2UoJ2xvY2F0aW9uJywgKFwidWQuXCIgKyBpICsgXCIubG9jYXRpb25cIikpO1xuXG4gICAgICAgICAgICBmdW5jICs9IFwiXFxuICAgICAgICAgICAgY3YgPSB1ZC5cIiArIGkgKyBcIi52YWx1ZTtcXG4gICAgICAgICAgICB2ID0gdXYuXCIgKyBpICsgXCI7XFxuICAgICAgICAgICAgXCIgKyB0ZW1wbGF0ZSArIFwiO1xcblwiO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gY29uc29sZS5sb2coJyAtLS0tLS0tLS0tLS0tLS0gJylcbiAgICAvLyBjb25zb2xlLmxvZyhmdW5jKTtcblxuICAgIHJldHVybiBuZXcgRnVuY3Rpb24oJ3VkJywgJ3V2JywgJ3JlbmRlcmVyJywgZnVuYyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3LWZ1bmNcbn1cblxudmFyIGNvbnRleHQgPSBudWxsO1xuXG4vKipcbiAqIHJldHVybnMgYSBsaXR0bGUgd2ViR0wgY29udGV4dCB0byB1c2UgZm9yIHByb2dyYW0gaW5zcGVjdGlvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3dlYkdMLWNvbnRleHR9IGEgZ2wgY29udGV4dCB0byB0ZXN0IHdpdGhcbiAqL1xuZnVuY3Rpb24gZ2V0VGVzdENvbnRleHQoKVxue1xuICAgIGlmICghY29udGV4dClcbiAgICB7XG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICB2YXIgZ2w7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzJDEuUFJFRkVSX0VOViA+PSBFTlYuV0VCR0wyKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbDInLCB7fSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWdsKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcsIHt9KVxuICAgICAgICAgICAgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcsIHt9KTtcblxuICAgICAgICAgICAgaWYgKCFnbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBmYWlsLCBub3QgYWJsZSB0byBnZXQgYSBjb250ZXh0XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB3ZWJHTC4gVHJ5IHVzaW5nIHRoZSBjYW52YXMgcmVuZGVyZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBmb3Igc2hhZGVyIHRlc3RpbmcuLlxuICAgICAgICAgICAgICAgIGdsLmdldEV4dGVuc2lvbignV0VCR0xfZHJhd19idWZmZXJzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0ID0gZ2w7XG5cbiAgICAgICAgcmV0dXJuIGdsO1xuICAgIH1cblxuICAgIHJldHVybiBjb250ZXh0O1xufVxuXG52YXIgZnJhZ1RlbXBsYXRlID0gW1xuICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsnLFxuICAgICd2b2lkIG1haW4odm9pZCl7JyxcbiAgICAnZmxvYXQgdGVzdCA9IDAuMTsnLFxuICAgICclZm9ybG9vcCUnLFxuICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnfScgXS5qb2luKCdcXG4nKTtcblxuZnVuY3Rpb24gY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcihtYXhJZnMsIGdsKVxue1xuICAgIGlmIChtYXhJZnMgPT09IDApXG4gICAge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdmFsdWUgb2YgYDBgIHBhc3NlZCB0byBgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlcmAnKTtcbiAgICB9XG5cbiAgICB2YXIgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG5cbiAgICB3aGlsZSAodHJ1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zdGFudC1jb25kaXRpb25cbiAgICB7XG4gICAgICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZS5yZXBsYWNlKC8lZm9ybG9vcCUvZ2ksIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcykpO1xuXG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIGZyYWdtZW50U3JjKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKVxuICAgICAgICB7XG4gICAgICAgICAgICBtYXhJZnMgPSAobWF4SWZzIC8gMikgfCAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdmFsaWQhXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBtYXhJZnM7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWZUZXN0U3JjKG1heElmcylcbntcbiAgICB2YXIgc3JjID0gJyc7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heElmczsgKytpKVxuICAgIHtcbiAgICAgICAgaWYgKGkgPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBzcmMgKz0gJ1xcbmVsc2UgJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpIDwgbWF4SWZzIC0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgc3JjICs9IFwiaWYodGVzdCA9PSBcIiArIGkgKyBcIi4wKXt9XCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3JjO1xufVxuXG52YXIgZGVmYXVsdEZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yICo9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxufVwiO1xuXG52YXIgZGVmYXVsdFZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cXG5cIjtcblxuLy8gaW1wb3J0ICogYXMgZnJvbSAnLi4vc3lzdGVtcy9zaGFkZXIvc2hhZGVyJztcbnZhciBVSUQkMyA9IDA7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5TaGFkZXJcbiAqL1xudmFyIFByb2dyYW0gPSBmdW5jdGlvbiBQcm9ncmFtKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpXG57XG4gICAgLyoqXG4gICAgICogVGhlIHZlcnRleCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy52ZXJ0ZXhTcmMgPSB2ZXJ0ZXhTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0VmVydGV4U3JjO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZyYWdtZW50IHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICB0aGlzLmZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMgfHwgUHJvZ3JhbS5kZWZhdWx0RnJhZ21lbnRTcmM7XG5cbiAgICB0aGlzLnZlcnRleFNyYyA9IHNldFByZWNpc2lvbih0aGlzLnZlcnRleFNyYywgc2V0dGluZ3MkMS5QUkVDSVNJT05fVkVSVEVYKTtcbiAgICB0aGlzLmZyYWdtZW50U3JjID0gc2V0UHJlY2lzaW9uKHRoaXMuZnJhZ21lbnRTcmMsIHNldHRpbmdzJDEuUFJFQ0lTSU9OX0ZSQUdNRU5UKTtcblxuICAgIC8vIGN1cnJlbnRseSB0aGlzIGRvZXMgbm90IGV4dHJhY3Qgc3RydWN0cyBvbmx5IGRlZmF1bHQgdHlwZXNcbiAgICB0aGlzLmV4dHJhY3REYXRhKHRoaXMudmVydGV4U3JjLCB0aGlzLmZyYWdtZW50U3JjKTtcblxuICAgIC8vIHRoaXMgaXMgd2hlcmUgd2Ugc3RvcmUgc2hhZGVyIHJlZmVyZW5jZXMuLlxuICAgIHRoaXMuZ2xQcm9ncmFtcyA9IHt9O1xuXG4gICAgdGhpcy5zeW5jVW5pZm9ybXMgPSBudWxsO1xuXG4gICAgdGhpcy5pZCA9IFVJRCQzKys7XG59O1xuXG52YXIgc3RhdGljQWNjZXNzb3JzID0geyBkZWZhdWx0VmVydGV4U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRlZmF1bHRGcmFnbWVudFNyYzogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIEV4dHJhY3RzIHRoZSBkYXRhIGZvciBhIGJ1eSBjcmVhdGluZyBhIHNtYWxsIHRlc3QgcHJvZ3JhbVxuICogb3IgcmVhZGluZyB0aGUgc3JjIGRpcmVjdGx5LlxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gW3ZlcnRleFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSB2ZXJ0ZXggc2hhZGVyLlxuICogQHBhcmFtIHtzdHJpbmd9IFtmcmFnbWVudFNyY10gLSBUaGUgc291cmNlIG9mIHRoZSBmcmFnbWVudCBzaGFkZXIuXG4gKi9cblByb2dyYW0ucHJvdG90eXBlLmV4dHJhY3REYXRhID0gZnVuY3Rpb24gZXh0cmFjdERhdGEgKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpXG57XG4gICAgdmFyIGdsID0gZ2V0VGVzdENvbnRleHQoKTtcblxuICAgIGlmIChnbClcbiAgICB7XG4gICAgICAgIHZhciBwcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHRoaXMuZ2V0QXR0cmlidXRlRGF0YShwcm9ncmFtLCBnbCk7XG4gICAgICAgIHRoaXMudW5pZm9ybURhdGEgPSB0aGlzLmdldFVuaWZvcm1EYXRhKHByb2dyYW0sIGdsKTtcblxuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1EYXRhID0ge307XG4gICAgICAgIHRoaXMuYXR0cmlidXRlRGF0YSA9IHt9O1xuICAgIH1cbn07XG5cbi8qKlxuICogcmV0dXJucyB0aGUgYXR0cmlidXRlIGRhdGEgZnJvbSB0aGUgcHJvZ3JhbVxuICogQHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge3dlYkdMLXByb2dyYW19IFtwcm9ncmFtXSAtIHRoZSB3ZWJnbCBwcm9ncmFtXG4gKiBAcGFyYW0ge2NvbnRleHR9IFtnbF0gLSB0aGUgd2ViR0wgY29udGV4dFxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IHRoZSBhdHRyaWJ1dGUgZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gKi9cblByb2dyYW0ucHJvdG90eXBlLmdldEF0dHJpYnV0ZURhdGEgPSBmdW5jdGlvbiBnZXRBdHRyaWJ1dGVEYXRhIChwcm9ncmFtLCBnbClcbntcbiAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuICAgIHZhciBhdHRyaWJ1dGVzQXJyYXkgPSBbXTtcblxuICAgIHZhciB0b3RhbEF0dHJpYnV0ZXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9BVFRSSUJVVEVTKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxBdHRyaWJ1dGVzOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgYXR0cmliRGF0YSA9IGdsLmdldEFjdGl2ZUF0dHJpYihwcm9ncmFtLCBpKTtcbiAgICAgICAgdmFyIHR5cGUgPSBtYXBUeXBlKGdsLCBhdHRyaWJEYXRhLnR5cGUpO1xuXG4gICAgICAgIC8qZXNsaW50LWRpc2FibGUgKi9cbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgbmFtZTogYXR0cmliRGF0YS5uYW1lLFxuICAgICAgICAgICAgc2l6ZTogbWFwU2l6ZSh0eXBlKSxcbiAgICAgICAgICAgIGxvY2F0aW9uOiAwLFxuICAgICAgICB9O1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXG5cbiAgICAgICAgYXR0cmlidXRlc1thdHRyaWJEYXRhLm5hbWVdID0gZGF0YTtcbiAgICAgICAgYXR0cmlidXRlc0FycmF5LnB1c2goZGF0YSk7XG4gICAgfVxuXG4gICAgYXR0cmlidXRlc0FycmF5LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIChhLm5hbWUgPiBiLm5hbWUpID8gMSA6IC0xOyB9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25mdXNpbmctYXJyb3dcblxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGF0dHJpYnV0ZXNBcnJheS5sZW5ndGg7IGkkMSsrKVxuICAgIHtcbiAgICAgICAgYXR0cmlidXRlc0FycmF5W2kkMV0ubG9jYXRpb24gPSBpJDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF0dHJpYnV0ZXM7XG59O1xuXG4vKipcbiAqIHJldHVybnMgdGhlIHVuaWZvcm0gZGF0YSBmcm9tIHRoZSBwcm9ncmFtXG4gKiBAcHJpdmF0ZVxuICpcbiAqIEBwYXJhbSB7d2ViR0wtcHJvZ3JhbX0gW3Byb2dyYW1dIC0gdGhlIHdlYmdsIHByb2dyYW1cbiAqIEBwYXJhbSB7Y29udGV4dH0gW2dsXSAtIHRoZSB3ZWJHTCBjb250ZXh0XG4gKlxuICogQHJldHVybnMge29iamVjdH0gdGhlIHVuaWZvcm0gZGF0YSBmb3IgdGhpcyBwcm9ncmFtXG4gKi9cblByb2dyYW0ucHJvdG90eXBlLmdldFVuaWZvcm1EYXRhID0gZnVuY3Rpb24gZ2V0VW5pZm9ybURhdGEgKHByb2dyYW0sIGdsKVxue1xuICAgIHZhciB1bmlmb3JtcyA9IHt9O1xuXG4gICAgdmFyIHRvdGFsVW5pZm9ybXMgPSBnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkFDVElWRV9VTklGT1JNUyk7XG5cbiAgICAvLyBUT0RPIGV4cG9zZSB0aGlzIGFzIGEgcHJvcD9cbiAgICAvLyBjb25zdCBtYXNrUmVnZXggPSBuZXcgUmVnRXhwKCdeKHByb2plY3Rpb25NYXRyaXh8dVNhbXBsZXJ8dHJhbnNsYXRpb25NYXRyaXgpJCcpO1xuICAgIC8vIGNvbnN0IG1hc2tSZWdleCA9IG5ldyBSZWdFeHAoJ14ocHJvamVjdGlvbk1hdHJpeHx1U2FtcGxlcnx0cmFuc2xhdGlvbk1hdHJpeCkkJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsVW5pZm9ybXM7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciB1bmlmb3JtRGF0YSA9IGdsLmdldEFjdGl2ZVVuaWZvcm0ocHJvZ3JhbSwgaSk7XG4gICAgICAgIHZhciBuYW1lID0gdW5pZm9ybURhdGEubmFtZS5yZXBsYWNlKC9cXFsuKj9cXF0vLCAnJyk7XG5cbiAgICAgICAgdmFyIGlzQXJyYXkgPSB1bmlmb3JtRGF0YS5uYW1lLm1hdGNoKC9cXFsuKj9cXF0vLCAnJyk7XG4gICAgICAgIHZhciB0eXBlID0gbWFwVHlwZShnbCwgdW5pZm9ybURhdGEudHlwZSk7XG5cbiAgICAgICAgLyplc2xpbnQtZGlzYWJsZSAqL1xuICAgICAgICB1bmlmb3Jtc1tuYW1lXSA9IHtcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICBzaXplOiB1bmlmb3JtRGF0YS5zaXplLFxuICAgICAgICAgICAgaXNBcnJheTppc0FycmF5LFxuICAgICAgICAgICAgdmFsdWU6IGRlZmF1bHRWYWx1ZSh0eXBlLCB1bmlmb3JtRGF0YS5zaXplKSxcbiAgICAgICAgfTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIH1cblxuICAgIHJldHVybiB1bmlmb3Jtcztcbn07XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqL1xuc3RhdGljQWNjZXNzb3JzLmRlZmF1bHRWZXJ0ZXhTcmMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gZGVmYXVsdFZlcnRleDtcbn07XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgZnJhZ21lbnQgc2hhZGVyIHNvdXJjZVxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICovXG5zdGF0aWNBY2Nlc3NvcnMuZGVmYXVsdEZyYWdtZW50U3JjLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIGRlZmF1bHRGcmFnbWVudDtcbn07XG5cbi8qKlxuICogQSBzaG9ydCBoYW5kIGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHByb2dyYW0gYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICogdGhpcyBtZXRob2Qgd2lsbCBhbHNvIGNoZWNrIHRvIHNlZSBpZiB0aGVyZSBpcyBhIGNhY2hlZCBwcm9ncmFtLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICpcbiAqIEByZXR1cm5zIHtQSVhJLlNoYWRlcn0gYW4gc2hpbnkgbmV3IHBpeGkgc2hhZGVyIVxuICovXG5Qcm9ncmFtLmZyb20gPSBmdW5jdGlvbiBmcm9tICh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKVxue1xuICAgIHZhciBrZXkgPSB2ZXJ0ZXhTcmMgKyBmcmFnbWVudFNyYztcblxuICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbUNhY2hlW2tleV07XG5cbiAgICBpZiAoIXByb2dyYW0pXG4gICAge1xuICAgICAgICBQcm9ncmFtQ2FjaGVba2V5XSA9IHByb2dyYW0gPSBuZXcgUHJvZ3JhbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvZ3JhbTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBQcm9ncmFtLCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuLy8gbGV0IG1hdGggPSByZXF1aXJlKCcuLi8uLi8uLi9tYXRoJyk7XG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBTaGFkZXIgPSBmdW5jdGlvbiBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpXG57XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtO1xuXG4gICAgLy8gbGV0cyBzZWUgd2hhdHMgYmVlbiBwYXNzZWQgaW5cbiAgICAvLyB1bmlmb3JtcyBzaG91bGQgYmUgY29udmVydGVkIHRvIGEgdW5pZm9ybSBncm91cFxuICAgIGlmICh1bmlmb3JtcylcbiAgICB7XG4gICAgICAgIGlmICh1bmlmb3JtcyBpbnN0YW5jZW9mIFVuaWZvcm1Hcm91cClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSB1bmlmb3JtcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudW5pZm9ybUdyb3VwID0gbmV3IFVuaWZvcm1Hcm91cCh1bmlmb3Jtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3JtR3JvdXAgPSBuZXcgVW5pZm9ybUdyb3VwKHt9KTtcbiAgICB9XG5cbiAgICAvLyB0aW1lIHRvIGJ1aWxkIHNvbWUgZ2V0dGVycyBhbmQgc2V0dGVycyFcbiAgICAvLyBJIGd1ZXNzIGRvd24gdGhlIGxpbmUgdGhpcyBjb3VsZCBzb3J0IG9mIGdlbmVyYXRlIGFuIGluc3RydWN0aW9uIGxpc3QgcmF0aGVyIHRoYW4gdXNlIGRpcnR5IGlkcz9cbiAgICAvLyBkb2VzIHRoZSB0cmljayBmb3Igbm93IHRob3VnaCFcbiAgICBmb3IgKHZhciBpIGluIHByb2dyYW0udW5pZm9ybURhdGEpXG4gICAge1xuICAgICAgICBpZiAodGhpcyQxLnVuaWZvcm1Hcm91cC51bmlmb3Jtc1tpXSBpbnN0YW5jZW9mIEFycmF5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzJDEudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldID0gbmV3IEZsb2F0MzJBcnJheSh0aGlzJDEudW5pZm9ybUdyb3VwLnVuaWZvcm1zW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMiA9IHsgdW5pZm9ybXM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLy8gVE9ETyBtb3ZlIHRvIHNoYWRlciBzeXN0ZW0uLlxuU2hhZGVyLnByb3RvdHlwZS5jaGVja1VuaWZvcm1FeGlzdHMgPSBmdW5jdGlvbiBjaGVja1VuaWZvcm1FeGlzdHMgKG5hbWUsIGdyb3VwKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmIChncm91cC51bmlmb3Jtc1tuYW1lXSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgaW4gZ3JvdXAudW5pZm9ybXMpXG4gICAge1xuICAgICAgICB2YXIgdW5pZm9ybSA9IGdyb3VwLnVuaWZvcm1zW2ldO1xuXG4gICAgICAgIGlmICh1bmlmb3JtLmdyb3VwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcyQxLmNoZWNrVW5pZm9ybUV4aXN0cyhuYW1lLCB1bmlmb3JtKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn07XG5cblNoYWRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICAvLyB1c2FnZSBjb3VudCBvbiBwcm9ncmFtcz9cbiAgICAvLyByZW1vdmUgaWYgbm90IHVzZWQhXG4gICAgdGhpcy51bmlmb3JtR3JvdXAgPSBudWxsO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDIudW5pZm9ybXMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy51bmlmb3JtR3JvdXAudW5pZm9ybXM7XG59O1xuXG4vKipcbiAqIEEgc2hvcnQgaGFuZCBmdW5jdGlvbiB0byBjcmVhdGUgYSBzaGFkZXIgYmFzZWQgb2YgYSB2ZXJ0ZXggYW5kIGZyYWdtZW50IHNoYWRlclxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdmVydGV4U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIHZlcnRleCBzaGFkZXIuXG4gKiBAcGFyYW0ge3N0cmluZ30gW2ZyYWdtZW50U3JjXSAtIFRoZSBzb3VyY2Ugb2YgdGhlIGZyYWdtZW50IHNoYWRlci5cbiAqIEBwYXJhbSB7b2JqZWN0fSBbdW5pZm9ybXNdIC0gQ3VzdG9tIHVuaWZvcm1zIHRvIHVzZSB0byBhdWdtZW50IHRoZSBidWlsdC1pbiBvbmVzLlxuICpcbiAqIEByZXR1cm5zIHtQSVhJLlNoYWRlcn0gYW4gc2hpbnkgbmV3IHBpeGkgc2hhZGVyIVxuICovXG5TaGFkZXIuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHZlcnRleFNyYywgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKVxue1xuICAgIHZhciBwcm9ncmFtID0gUHJvZ3JhbS5mcm9tKHZlcnRleFNyYywgZnJhZ21lbnRTcmMpO1xuXG4gICAgcmV0dXJuIG5ldyBTaGFkZXIocHJvZ3JhbSwgdW5pZm9ybXMpO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFNoYWRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyQyICk7XG5cbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxudmFyIEJMRU5EID0gMDtcbnZhciBPRkZTRVQgPSAxO1xudmFyIENVTExJTkcgPSAyO1xudmFyIERFUFRIX1RFU1QgPSAzO1xudmFyIFdJTkRJTkcgPSA0O1xuXG4vKipcbiAqIFRoaXMgaXMgYSB3ZWJHTCBzdGF0ZS4gSXQgaXMgcGFzc2VkIFRoZSBXZWJHTCBTdGF0ZU1hbmFnZXIuXG4gKiBFYWNoIG1lc2ggcmVuZGVyZWQgbWF5IHJlcXVpcmUgd2ViR0wgdG8gYmUgaW4gYSBkaWZmZXJlbnQgc3RhdGUuXG4gKiBGb3IgZXhhbXBsZSB5b3UgbWF5IHdhbnQgZGlmZmVyZW50IGJsZW5kIG1vZGUgb3IgdG8gZW5hYmxlIHBvbHlnb24gb2Zmc2V0c1xuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFN0YXRlID0gZnVuY3Rpb24gU3RhdGUoKVxue1xuICAgIHRoaXMuZGF0YSA9IDA7XG5cbiAgICB0aGlzLmJsZW5kTW9kZSA9IDA7XG4gICAgdGhpcy5wb2x5Z29uT2Zmc2V0ID0gMDtcblxuICAgIHRoaXMuYmxlbmQgPSB0cnVlO1xuICAgIC8vICB0aGlzLmRlcHRoVGVzdCA9IHRydWU7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDMgPSB7IGJsZW5kOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG9mZnNldHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sY3VsbGluZzogeyBjb25maWd1cmFibGU6IHRydWUgfSxkZXB0aFRlc3Q6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sY2xvY2t3aXNlRnJvbnRGYWNlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxwb2x5Z29uT2Zmc2V0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogQWN0aXZhdGVzIGJsZW5kaW5nIG9mIHRoZSBjb21wdXRlZCBmcmFnbWVudCBjb2xvciB2YWx1ZXNcbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5ibGVuZC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBCTEVORCkpO1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDMuYmxlbmQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgQkxFTkQpKSAhPT0gdmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQkxFTkQpO1xuICAgIH1cbn07XG5cbi8qKlxuICogQWN0aXZhdGVzIGFkZGluZyBhbiBvZmZzZXQgdG8gZGVwdGggdmFsdWVzIG9mIHBvbHlnb24ncyBmcmFnbWVudHNcbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMub2Zmc2V0cy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBPRkZTRVQpKTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLm9mZnNldHMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAoISEodGhpcy5kYXRhICYgKDEgPDwgT0ZGU0VUKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IE9GRlNFVCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBY3RpdmF0ZXMgY3VsbGluZyBvZiBwb2x5Z29ucy5cbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuY3VsbGluZy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiAhISh0aGlzLmRhdGEgJiAoMSA8PCBDVUxMSU5HKSk7XG59O1xuXG5wcm90b3R5cGVBY2Nlc3NvcnMkMy5jdWxsaW5nLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCEhKHRoaXMuZGF0YSAmICgxIDw8IENVTExJTkcpKSAhPT0gdmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmRhdGEgXj0gKDEgPDwgQ1VMTElORyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBY3RpdmF0ZXMgZGVwdGggY29tcGFyaXNvbnMgYW5kIHVwZGF0ZXMgdG8gdGhlIGRlcHRoIGJ1ZmZlci5cbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuZGVwdGhUZXN0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IERFUFRIX1RFU1QpKTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmRlcHRoVGVzdC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBERVBUSF9URVNUKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IERFUFRIX1RFU1QpO1xuICAgIH1cbn07XG5cbi8qKlxuICogU3BlY2lmaWVzIHdoZXRoZXIgb3Igbm90IGZyb250IG9yIGJhY2stZmFjaW5nIHBvbHlnb25zIGNhbiBiZSBjdWxsZWQuXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICogQGRlZmF1bHQgZmFsc2VcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuY2xvY2t3aXNlRnJvbnRGYWNlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuICEhKHRoaXMuZGF0YSAmICgxIDw8IFdJTkRJTkcpKTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmNsb2Nrd2lzZUZyb250RmFjZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICghISh0aGlzLmRhdGEgJiAoMSA8PCBXSU5ESU5HKSkgIT09IHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5kYXRhIF49ICgxIDw8IFdJTkRJTkcpO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB3aGVuIHRoaXMgc3RhdGUgaXMgc2V0LiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gKiBTZXR0aW5nIHRoaXMgbW9kZSB0byBhbnl0aGluZyBvdGhlciB0aGFuIE5PX0JMRU5EIHdpbGwgYXV0b21hdGljYWxseSBzd2l0Y2ggYmxlbmRpbmcgb24uXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMuYmxlbmRNb2RlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2JsZW5kTW9kZTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIC8vIDE3IGlzIE5PIEJMRU5EXG4gICAgdGhpcy5ibGVuZCA9ICh2YWx1ZSAhPT0gMTcpO1xuICAgIHRoaXMuX2JsZW5kTW9kZSA9IHZhbHVlO1xufTtcblxuLyoqXG4gKiBUaGUgcG9seWdvbiBvZmZzZXQuIFNldHRpbmcgdGhpcyBwcm9wZXJ0eSB0byBhbnl0aGluZyBvdGhlciB0aGFuIDAgd2lsbCBhdXRvbWF0aWNhbGx5IGVuYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsLlxuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqIEBkZWZhdWx0IDBcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDMucG9seWdvbk9mZnNldC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9wb2x5Z29uT2Zmc2V0O1xufTtcblxucHJvdG90eXBlQWNjZXNzb3JzJDMucG9seWdvbk9mZnNldC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHRoaXMub2Zmc2V0cyA9ICEhdmFsdWU7XG4gICAgdGhpcy5fcG9seWdvbk9mZnNldCA9IHZhbHVlO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFN0YXRlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzJDMgKTtcblxudmFyIGRlZmF1bHRWZXJ0ZXgkMSA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIGZpbHRlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG4gICB2RmlsdGVyQ29vcmQgPSAoIGZpbHRlck1hdHJpeCAqIHZlYzMoIGFUZXh0dXJlQ29vcmQsIDEuMCkgICkueHk7XFxuICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQgO1xcbn1cXG5cIjtcblxudmFyIGRlZmF1bHRGcmFnbWVudCQxID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gc2FtcGxlcjJEIGZpbHRlclNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgIHZlYzQgbWFza3kgPSB0ZXh0dXJlMkQoZmlsdGVyU2FtcGxlciwgdkZpbHRlckNvb3JkKTtcXG4gICB2ZWM0IHNhbXBsZSA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuICAgdmVjNCBjb2xvcjtcXG4gICBpZihtb2QodkZpbHRlckNvb3JkLngsIDEuMCkgPiAwLjUpXFxuICAge1xcbiAgICAgY29sb3IgPSB2ZWM0KDEuMCwgMC4wLCAwLjAsIDEuMCk7XFxuICAgfVxcbiAgIGVsc2VcXG4gICB7XFxuICAgICBjb2xvciA9IHZlYzQoMC4wLCAxLjAsIDAuMCwgMS4wKTtcXG4gICB9XFxuICAgLy8gZ2xfRnJhZ0NvbG9yID0gdmVjNChtb2QodkZpbHRlckNvb3JkLngsIDEuNSksIHZGaWx0ZXJDb29yZC55LDAuMCwxLjApO1xcbiAgIGdsX0ZyYWdDb2xvciA9IG1peChzYW1wbGUsIG1hc2t5LCAwLjUpO1xcbiAgIGdsX0ZyYWdDb2xvciAqPSBzYW1wbGUuYTtcXG59XFxuXCI7XG5cbi8qKlxuICogRmlsdGVyIGlzIGEgc3BlY2lhbCB0eXBlIG9mIHNoYWRlciB0aGF0IGlzIGFwcGxpZWQgdG8gdGhlIHNjcmVlbi5cbiAqIHtAbGluayBodHRwOi8vcGl4aWpzLmlvL2V4YW1wbGVzLyMvZmlsdGVycy9ibHVyLWZpbHRlci5qcyBFeGFtcGxlfSBvZiB0aGVcbiAqIHtAbGluayBQSVhJLmZpbHRlcnMuQmx1ckZpbHRlciBCbHVyRmlsdGVyfS5cbiAqXG4gKiAjIyMgVXNhZ2VcbiAqIEZpbHRlcnMgY2FuIGJlIGFwcGxpZWQgdG8gYW55IERpc3BsYXlPYmplY3Qgb3IgQ29udGFpbmVyLiBQaXhpSlMnIGBGaWx0ZXJTeXN0ZW1gXG4gKiByZW5kZXJzIHRoZSBjb250YWluZXIgaW50byB0ZW1wb3JhcnkgRnJhbWVCdWZmZXIsIHRoZW4gZmlsdGVyXG4gKiByZW5kZXJzIGl0IHRvIHRoZSBzY3JlZW4uIE11bHRpcGxlIGZpbHRlcnMgY2FuIGJlIGFkZGVkIHRvIHRoZSBgZmlsdGVyc2AgcHJvcGVydHlcbiAqIGFuZCBzdGFja2VkIG9uIGVhY2ggb3RoZXIuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmaWx0ZXIgPSBuZXcgUElYSS5GaWx0ZXIobXlTaGFkZXJWZXJ0LCBteVNoYWRlckZyYWcsIHsgbXlVbmlmb3JtOiAwLjUgfSk7XG4gKiBjb25zdCBjb250YWluZXIgPSBuZXcgUElYSS5Db250YWluZXIoKTtcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW2ZpbHRlcl07XG4gKiBgYGBcbiAqXG4gKiAjIyMgUHJldmlvdXMgVmVyc2lvbiBEaWZmZXJlbmNlc1xuICpcbiAqIEluIFBpeGlKUyAqKnYzKiosIGEgZmlsdGVyIHdhcyBhbHdheXMgYXBwbGllZCB0byBfd2hvbGUgc2NyZWVuXy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NCoqLCBhIGZpbHRlciBjYW4gYmUgYXBwbGllZCBfb25seSBwYXJ0IG9mIHRoZSBzY3JlZW5fLCBkZXZlbG9wZXJzXG4gKiBoYWQgdG8gY3JlYXRlIGEgc2V0IG9mIHVuaWZvcm1zIHRvIGRlYWwgd2l0aCBjb29yZGluYXRlcy5cbiAqXG4gKiBJbiBQaXhpSlMgKip2NSoqIGNvbWJpbmVzIF9ib3RoIGFwcHJvYWNoZXNfLCBkZXZlbG9wZXJzIGNhbiB1c2Ugbm9ybWFsIGNvb3JkaW5hdGVzIG9mXG4gKiB2MyBhbmQgdGhlbiBhbGxvdyBmaWx0ZXIgdG8gdXNlIHBhcnRpYWwgRnJhbWVCdWZmZXJzLCBicmluZ2luZyB0aG9zZSBleHRyYVxuICogdW5pZm9ybXMgaW50byBhY2NvdW50LlxuICpcbiAqICMjIyBCdWlsdC1pbiBVbmlmb3Jtc1xuICpcbiAqIFBpeGlKUyB2aWV3cG9ydCB1c2VzIHNjcmVlbiAoQ1NTKSBjb29yZGluYXRlcywgYCgwLCAwLCByZW5kZXJlci5zY3JlZW4ud2lkdGgsIHJlbmRlcmVyLnNjcmVlbi5oZWlnaHQpYCxcbiAqIGFuZCBgcHJvamVjdGlvbk1hdHJpeGAgdW5pZm9ybSBtYXBzIGl0IHRvIHRoZSBnbCB2aWV3cG9ydC5cbiAqXG4gKiAqKnVTYW1wbGVyKipcbiAqXG4gKiBUaGUgbW9zdCBpbXBvcnRhbnQgdW5pZm9ybSBpcyB0aGUgaW5wdXQgdGV4dHVyZSB0aGF0IGNvbnRhaW5lciB3YXMgcmVuZGVyZWQgaW50by5cbiAqIF9JbXBvcnRhbnQgbm90ZTogYXMgd2l0aCBhbGwgUGl4aUpTJyBGcmFtZUJ1ZmZlcnMsIGJvdGggaW5wdXQgYW5kIG91dHB1dCBhcmVcbiAqIHByZW11bHRpcGxpZWQgYnkgYWxwaGEuX1xuICpcbiAqIEJ5IGRlZmF1bHQsIGlucHV0IEZyYW1lQnVmZmVyIHNwYWNlIGNvb3JkaW5hdGVzIGFyZSBwYXNzZWQgdG8gZnJhZ21lbnQgc2hhZGVyIHdpdGggYHZUZXh0dXJlQ29vcmRgLlxuICogVXNlIGl0IHRvIHNhbXBsZSB0aGUgaW5wdXQuXG4gKlxuICogYGBgXG4gKiBjb25zdCBmcmFnbWVudCA9IGBcbiAqIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuICogdW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XG4gKiB2b2lkIG1haW4odm9pZClcbiAqIHtcbiAqICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XG4gKiB9XG4gKiBgO1xuICpcbiAqIGNvbnN0IG15RmlsdGVyID0gbmV3IFBJWEkuRmlsdGVyKG51bGwsIGZyYWdtZW50KTtcbiAqIGBgYFxuICpcbiAqIFRoaXMgZmlsdGVyIGlzIGp1c3Qgb25lIHVuaWZvcm0gbGVzcyB0aGFuIHtAbGluayBQSVhJLmZpbHRlcnMuQWxwaGFGaWx0ZXIgQWxwaGFGaWx0ZXJ9LlxuICpcbiAqICoqb3V0cHV0RnJhbWUqKlxuICpcbiAqIFRoZSBgb3V0cHV0RnJhbWVgIGhvbGRzIHRoZSByZWN0YW5nbGUgd2hlcmUgZmlsdGVyIGlzIGFwcGxpZWQgaW4gc2NyZWVuIChDU1MpIGNvb3JkaW5hdGVzLlxuICogSXQncyB0aGUgc2FtZSBhcyBgcmVuZGVyZXIuc2NyZWVuYCBmb3IgYSBmdWxsc2NyZWVuIGZpbHRlci5cbiAqIE9ubHkgYSBwYXJ0IG9mICBgb3V0cHV0RnJhbWUuendgIHNpemUgb2YgdGVtcG9yYXJ5IEZyYW1lQnVmZmVyIGlzIHVzZWQsXG4gKiBgKDAsIDAsIG91dHB1dEZyYW1lLndpZHRoLCBvdXRwdXRGcmFtZS5oZWlnaHQpYCxcbiAqXG4gKiBGaWx0ZXJzIHVzZXMgdGhpcyBxdWFkIHRvIG5vcm1hbGl6ZWQgKDAtMSkgc3BhY2UsIGl0cyBwYXNzZWQgaW50byBgYVZlcnRleFBvc2l0aW9uYCBhdHRyaWJ1dGUuXG4gKiBUbyBjYWxjdWxhdGUgdmVydGV4IHBvc2l0aW9uIGluIHNjcmVlbiBzcGFjZSB1c2luZyBub3JtYWxpemVkICgwLTEpIHNwYWNlOlxuICpcbiAqIGBgYFxuICogdmVjNCBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbiggdm9pZCApXG4gKiB7XG4gKiAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XG4gKiAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xuICogfVxuICogYGBgXG4gKlxuICogKippbnB1dFNpemUqKlxuICpcbiAqIFRlbXBvcmFyeSBGcmFtZUJ1ZmZlciBpcyBkaWZmZXJlbnQsIGl0IGNhbiBiZSBlaXRoZXIgdGhlIHNpemUgb2Ygc2NyZWVuLCBlaXRoZXIgcG93ZXItb2YtdHdvLlxuICogVGhlIGBpbnB1dFNpemUueHlgIGFyZSBzaXplIG9mIHRlbXBvcmFyeSBGcmFtZUJ1ZmZlciB0aGF0IGhvbGRzIGlucHV0LlxuICogVGhlIGBpbnB1dFNpemUuendgIGlzIGludmVydGVkLCBpdCdzIGEgc2hvcnRjdXQgdG8gZXZhZGUgZGl2aXNpb24gaW5zaWRlIHRoZSBzaGFkZXIuXG4gKlxuICogU2V0IGBpbnB1dFNpemUueHkgPSBvdXRwdXRGcmFtZS56d2AgZm9yIGEgZnVsbHNjcmVlbiBmaWx0ZXIuXG4gKlxuICogVG8gY2FsY3VsYXRlIGlucHV0IHRleHR1cmUgY29vcmRpbmF0ZSBpbiAwLTEgc3BhY2UsIHlvdSBoYXZlIHRvIG1hcCBpdCB0byBGcmFtZUJ1ZmZlciBub3JtYWxpemVkIHNwYWNlLlxuICogTXVsdGlwbHkgYnkgYG91dHB1dEZyYW1lLnp3YCB0byBnZXQgcGl4ZWwgY29vcmRpbmF0ZSBpbiBwYXJ0IG9mIEZyYW1lQnVmZmVyLlxuICogRGl2aWRlIGJ5IGBpbnB1dFNpemUueHlgIHRvIGdldCBGcmFtZUJ1ZmZlciBub3JtYWxpemVkIHNwYWNlIChpbnB1dCBzYW1wbGVyIHNwYWNlKVxuICpcbiAqIGBgYFxuICogdmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxuICoge1xuICogICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpOyAvLyBzYW1lIGFzIC9pbnB1dFNpemUueHlcbiAqIH1cbiAqIGBgYFxuICogKipyZXNvbHV0aW9uKipcbiAqXG4gKiBUaGUgYHJlc29sdXRpb25gIGlzIHRoZSByYXRpbyBvZiBzY3JlZW4gKENTUykgcGl4ZWxzIHRvIHJlYWwgcGl4ZWxzLlxuICpcbiAqICoqaW5wdXRQaXhlbCoqXG4gKlxuICogYGlucHV0UGl4ZWwueHlgIGlzIHRoZSBzaXplIG9mIGZyYW1lYnVmZmVyIGluIHJlYWwgcGl4ZWxzLCBzYW1lIGFzIGBpbnB1dFNpemUueHkgKiByZXNvbHV0aW9uYFxuICogYGlucHV0UGl4ZWwuendgIGlzIGludmVydGVkIGBpbnB1dFBpeGVsLnh5YC5cbiAqXG4gKiBJdCdzIGhhbmR5IGZvciBmaWx0ZXJzIHRoYXQgdXNlIG5laWdoYm91ciBwaXhlbHMsIGxpa2Uge0BsaW5rIFBJWEkuZmlsdGVycy5GWEFBRmlsdGVyIEZYQUFGaWx0ZXJ9LlxuICpcbiAqICoqaW5wdXRDbGFtcCoqXG4gKlxuICogSWYgeW91IHRyeSB0byBnZXQgaW5mbyBmcm9tIG91dHNpZGUgb2YgdXNlZCBwYXJ0IG9mIEZyYW1lQnVmZmVyIC0geW91J2xsIGdldCB1bmRlZmluZWQgYmVoYXZpb3VyLlxuICogRm9yIGRpc3BsYWNlbWVudHMsIGNvb3JkaW5hdGVzIGhhcyB0byBiZSBjbGFtcGVkLlxuICpcbiAqIFRoZSBgaW5wdXRDbGFtcC54eWAgaXMgbGVmdC10b3AgcGl4ZWwgY2VudGVyLCB5b3UgbWF5IGlnbm9yZSBpdCwgYmVjYXVzZSB3ZSB1c2UgbGVmdC10b3AgcGFydCBvZiBGcmFtZUJ1ZmZlclxuICogYGlucHV0Q2xhbXAuendgIGlzIGJvdHRvbS1yaWdodCBwaXhlbCBjZW50ZXIuXG4gKlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBjbGFtcChtb2RpZmlnZWRUZXh0dXJlQ29vcmQsIGlucHV0Q2xhbXAueHksIGlucHV0Q2xhbXAuencpKVxuICogYGBgXG4gKiBPUlxuICogYGBgXG4gKiB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCBtaW4obW9kaWZpZ2VkVGV4dHVyZUNvb3JkLCBpbnB1dENsYW1wLnp3KSlcbiAqIGBgYFxuICpcbiAqICMjIyBBZGRpdGlvbmFsIEluZm9ybWF0aW9uXG4gKlxuICogQ29tcGxldGUgZG9jdW1lbnRhdGlvbiBvbiBGaWx0ZXIgdXNhZ2UgaXMgbG9jYXRlZCBpblxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy93aWtpL3Y1LUNyZWF0aW5nLWZpbHRlcnMgV2lraX0uXG4gKlxuICogU2luY2UgUGl4aUpTIG9ubHkgaGFkIGEgaGFuZGZ1bCBvZiBidWlsdC1pbiBmaWx0ZXJzLCBhZGRpdGlvbmFsIGZpbHRlcnNcbiAqIGNhbiBiZSBkb3dubG9hZGVkIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZmlsdGVycyBoZXJlfSBmcm9tIHRoZVxuICogUGl4aUpTIEZpbHRlcnMgcmVwb3NpdG9yeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLlNoYWRlclxuICovXG52YXIgRmlsdGVyID0gKGZ1bmN0aW9uIChTaGFkZXIkJDEpIHtcbiAgICBmdW5jdGlvbiBGaWx0ZXIodmVydGV4U3JjLCBmcmFnbWVudFNyYywgdW5pZm9ybXMpXG4gICAge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXhTcmMsIGZyYWdtZW50U3JjKTtcblxuICAgICAgICBTaGFkZXIkJDEuY2FsbCh0aGlzLCBwcm9ncmFtLCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwYWRkaW5nIG9mIHRoZSBmaWx0ZXIuIFNvbWUgZmlsdGVycyByZXF1aXJlIGV4dHJhIHNwYWNlIHRvIGJyZWF0aCBzdWNoIGFzIGEgYmx1ci5cbiAgICAgICAgICogSW5jcmVhc2luZyB0aGlzIHdpbGwgYWRkIGV4dHJhIHdpZHRoIGFuZCBoZWlnaHQgdG8gdGhlIGJvdW5kcyBvZiB0aGUgb2JqZWN0IHRoYXQgdGhlXG4gICAgICAgICAqIGZpbHRlciBpcyBhcHBsaWVkIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZGRpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgZmlsdGVyLiBTZXR0aW5nIHRoaXMgdG8gYmUgbG93ZXIgd2lsbCBsb3dlciB0aGUgcXVhbGl0eSBidXRcbiAgICAgICAgICogaW5jcmVhc2UgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBmaWx0ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHNldHRpbmdzJDEuRklMVEVSX1JFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGVuYWJsZWQgaXMgdHJ1ZSB0aGUgZmlsdGVyIGlzIGFwcGxpZWQsIGlmIGZhbHNlIGl0IHdpbGwgbm90LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZW5hYmxlZCwgUGl4aUpTIHdpbGwgZml0IHRoZSBmaWx0ZXIgYXJlYSBpbnRvIGJvdW5kYXJpZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAgICAgICAgICogU3dpdGNoIGl0IG9mZiBpZiBpdCBkb2VzIG5vdCB3b3JrIGZvciBzcGVjaWZpYyBzaGFkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9GaXQgPSB0cnVlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMZWdhY3kgZmlsdGVycyB1c2UgcG9zaXRpb24gYW5kIHV2cyBmcm9tIGF0dHJpYnV0ZXNcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxlZ2FjeSA9ICEhdGhpcy5wcm9ncmFtLmF0dHJpYnV0ZURhdGEuYVRleHR1cmVDb29yZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIHdlYkdMIHN0YXRlIHRoZSBmaWx0ZXIgcmVxdWlyZXMgdG8gcmVuZGVyXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3RhdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgfVxuXG4gICAgaWYgKCBTaGFkZXIkJDEgKSBGaWx0ZXIuX19wcm90b19fID0gU2hhZGVyJCQxO1xuICAgIEZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTaGFkZXIkJDEgJiYgU2hhZGVyJCQxLnByb3RvdHlwZSApO1xuICAgIEZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBGaWx0ZXI7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBibGVuZE1vZGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcbiAgICB2YXIgc3RhdGljQWNjZXNzb3JzID0geyBkZWZhdWx0VmVydGV4U3JjOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRlZmF1bHRGcmFnbWVudFNyYzogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSByZW5kZXJlciB0byByZXRyaWV2ZSB0aGUgZmlsdGVyIGZyb21cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCByZW5kZXIgdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IG91dHB1dCAtIFRoZSB0YXJnZXQgdG8gb3V0cHV0IHRvLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2xlYXIgLSBTaG91bGQgdGhlIG91dHB1dCBiZSBjbGVhcmVkIGJlZm9yZSByZW5kZXJpbmcgdG8gaXRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2N1cnJlbnRTdGF0ZV0gLSBJdCdzIGN1cnJlbnQgc3RhdGUgb2YgZmlsdGVyLlxuICAgICAqICAgICAgICBUaGVyZSBhcmUgc29tZSB1c2VmdWwgcHJvcGVydGllcyBpbiB0aGUgY3VycmVudFN0YXRlIDpcbiAgICAgKiAgICAgICAgdGFyZ2V0LCBmaWx0ZXJzLCBzb3VyY2VGcmFtZSwgZGVzdGluYXRpb25GcmFtZSwgcmVuZGVyVGFyZ2V0LCByZXNvbHV0aW9uXG4gICAgICovXG4gICAgRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5IChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBjbGVhciwgY3VycmVudFN0YXRlLCBkZXJwKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gICAge1xuICAgICAgICAvLyBkbyBhcyB5b3UgcGxlYXNlIVxuXG4gICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgaW5wdXQsIG91dHB1dCwgY2xlYXIsIGN1cnJlbnRTdGF0ZSwgZGVycCk7XG5cbiAgICAgICAgLy8gb3IganVzdCBkbyBhIHJlZ3VsYXIgcmVuZGVyLi5cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXRlLmJsZW5kTW9kZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZE1vZGUgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgdmVydGV4IHNoYWRlciBzb3VyY2VcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqIEBjb25zdGFudFxuICAgICAqL1xuICAgIHN0YXRpY0FjY2Vzc29ycy5kZWZhdWx0VmVydGV4U3JjLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZlcnRleCQxO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZGVmYXVsdCBmcmFnbWVudCBzaGFkZXIgc291cmNlXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHR5cGUge3N0cmluZ31cbiAgICAgKiBAY29uc3RhbnRcbiAgICAgKi9cbiAgICBzdGF0aWNBY2Nlc3NvcnMuZGVmYXVsdEZyYWdtZW50U3JjLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gZGVmYXVsdEZyYWdtZW50JDE7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggRmlsdGVyLCBzdGF0aWNBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBGaWx0ZXI7XG59KFNoYWRlcikpO1xuXG4vKipcbiAqIFVzZWQgZm9yIGNhY2hpbmcgc2hhZGVyIElEc1xuICpcbiAqIEBzdGF0aWNcbiAqIEBwcml2YXRlXG4gKi9cbkZpbHRlci5TT1VSQ0VfS0VZX01BUCA9IHt9O1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuYXR0cmlidXRlIHZlYzIgYVRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgb3RoZXJNYXRyaXg7XFxuXFxudmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKGFWZXJ0ZXhQb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG5cXG4gICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XFxuICAgIHZNYXNrQ29vcmQgPSAoIG90aGVyTWF0cml4ICogdmVjMyggYVRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZNYXNrQ29vcmQ7XFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFzaztcXG51bmlmb3JtIGZsb2F0IGFscGhhO1xcbnVuaWZvcm0gZmxvYXQgbnBtQWxwaGE7XFxudW5pZm9ybSB2ZWM0IG1hc2tDbGFtcDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGZsb2F0IGNsaXAgPSBzdGVwKDMuNSxcXG4gICAgICAgIHN0ZXAobWFza0NsYW1wLngsIHZNYXNrQ29vcmQueCkgK1xcbiAgICAgICAgc3RlcChtYXNrQ2xhbXAueSwgdk1hc2tDb29yZC55KSArXFxuICAgICAgICBzdGVwKHZNYXNrQ29vcmQueCwgbWFza0NsYW1wLnopICtcXG4gICAgICAgIHN0ZXAodk1hc2tDb29yZC55LCBtYXNrQ2xhbXAudykpO1xcblxcbiAgICB2ZWM0IG9yaWdpbmFsID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgdmVjNCBtYXNreSA9IHRleHR1cmUyRChtYXNrLCB2TWFza0Nvb3JkKTtcXG4gICAgZmxvYXQgYWxwaGFNdWwgPSAxLjAgLSBucG1BbHBoYSAqICgxLjAgLSBtYXNreS5hKTtcXG5cXG4gICAgb3JpZ2luYWwgKj0gKGFscGhhTXVsICogbWFza3kuciAqIGFscGhhICogY2xpcCk7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IG9yaWdpbmFsO1xcbn1cXG5cIjtcblxudmFyIHRlbXBNYXQgPSBuZXcgTWF0cml4KCk7XG5cbi8qKlxuICogQ2xhc3MgY29udHJvbHMgdXYgbWFwcGluZyBmcm9tIFRleHR1cmUgbm9ybWFsIHNwYWNlIHRvIEJhc2VUZXh0dXJlIG5vcm1hbCBzcGFjZS5cbiAqIFRha2VzIGB0cmltYCBhbmQgYHJvdGF0ZWAgaW50byBhY2NvdW50LlxuICogTWF5IGNvbnRhaW4gY2xhbXAgc2V0dGluZ3MgZm9yIE1lc2hlcyBhbmQgVGlsaW5nU3ByaXRlLlxuICpcbiAqIENhbiBiZSB1c2VkIGluIFRleHR1cmUgYHV2TWF0cml4YCBmaWVsZCwgb3Igc2VwYXJhdGVseSwgeW91IGNhbiB1c2UgZGlmZmVyZW50IGNsYW1wIHNldHRpbmdzIG9uIHRoZSBzYW1lIHRleHR1cmUuXG4gKiBJZiB5b3Ugd2FudCB0byBhZGQgc3VwcG9ydCBmb3IgdGV4dHVyZSByZWdpb24gb2YgY2VydGFpbiBmZWF0dXJlIG9yIGZpbHRlciwgdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLlxuICpcbiAqIFRha2VzIHRyYWNrIG9mIFRleHR1cmUgY2hhbmdlcyB0aHJvdWdoIGBfbGFzdFRleHR1cmVJRGAgcHJpdmF0ZSBmaWVsZC5cbiAqIFVzZSBgdXBkYXRlKClgIG1ldGhvZCBjYWxsIHRvIHRyYWNrIGl0IGZyb20gb3V0c2lkZS5cbiAqXG4gKiBAc2VlIFBJWEkuVGV4dHVyZVxuICogQHNlZSBQSVhJLk1lc2hcbiAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRleHR1cmVNYXRyaXggPSBmdW5jdGlvbiBUZXh0dXJlTWF0cml4KHRleHR1cmUsIGNsYW1wTWFyZ2luKVxue1xuICAgIHRoaXMuX3RleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgdGhpcy5tYXBDb29yZCA9IG5ldyBNYXRyaXgoKTtcblxuICAgIHRoaXMudUNsYW1wRnJhbWUgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuXG4gICAgdGhpcy51Q2xhbXBPZmZzZXQgPSBuZXcgRmxvYXQzMkFycmF5KDIpO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfSBUcmFja3MgVGV4dHVyZSBmcmFtZSBjaGFuZ2VzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9sYXN0VGV4dHVyZUlEID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgKiBDaGFuZ2UgdG8gMS41IGlmIHlvdSB0ZXh0dXJlIGhhcyByZXBlYXRlZCByaWdodCBhbmQgYm90dG9tIGxpbmVzLCB0aGF0IGxlYWRzIHRvIHNtb290aGVyIGJvcmRlcnNcbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5jbGFtcE9mZnNldCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIGZyYW1lIGNsYW1waW5nXG4gICAgICogV29ya3Mgd2l0aCBUaWxpbmdTcHJpdGUgYW5kIE1lc2hcbiAgICAgKiBDaGFuZ2UgdG8gLTAuNSB0byBhZGQgYSBwaXhlbCB0byB0aGUgZWRnZSwgcmVjb21tZW5kZWQgZm9yIHRyYW5zcGFyZW50IHRyaW1tZWQgdGV4dHVyZXMgaW4gYXRsYXNcbiAgICAgKlxuICAgICAqIEBkZWZhdWx0IDAuNVxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmNsYW1wTWFyZ2luID0gKHR5cGVvZiBjbGFtcE1hcmdpbiA9PT0gJ3VuZGVmaW5lZCcpID8gMC41IDogY2xhbXBNYXJnaW47XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzJDQgPSB7IHRleHR1cmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiB0ZXh0dXJlIHByb3BlcnR5XG4gKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQ0LnRleHR1cmUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fdGV4dHVyZTtcbn07XG5cbnByb3RvdHlwZUFjY2Vzc29ycyQ0LnRleHR1cmUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG4gICAgdGhpcy5fbGFzdFRleHR1cmVJRCA9IC0xO1xufTtcblxuLyoqXG4gKiBNdWx0aXBsaWVzIHV2cyBhcnJheSB0byB0cmFuc2Zvcm1cbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSB1dnMgbWVzaCB1dnNcbiAqIEBwYXJhbSB7RmxvYXQzMkFycmF5fSBbb3V0PXV2c10gb3V0cHV0XG4gKiBAcmV0dXJucyB7RmxvYXQzMkFycmF5fSBvdXRwdXRcbiAqL1xuVGV4dHVyZU1hdHJpeC5wcm90b3R5cGUubXVsdGlwbHlVdnMgPSBmdW5jdGlvbiBtdWx0aXBseVV2cyAodXZzLCBvdXQpXG57XG4gICAgaWYgKG91dCA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgb3V0ID0gdXZzO1xuICAgIH1cblxuICAgIHZhciBtYXQgPSB0aGlzLm1hcENvb3JkO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB1dnMubGVuZ3RoOyBpICs9IDIpXG4gICAge1xuICAgICAgICB2YXIgeCA9IHV2c1tpXTtcbiAgICAgICAgdmFyIHkgPSB1dnNbaSArIDFdO1xuXG4gICAgICAgIG91dFtpXSA9ICh4ICogbWF0LmEpICsgKHkgKiBtYXQuYykgKyBtYXQudHg7XG4gICAgICAgIG91dFtpICsgMV0gPSAoeCAqIG1hdC5iKSArICh5ICogbWF0LmQpICsgbWF0LnR5O1xuICAgIH1cblxuICAgIHJldHVybiBvdXQ7XG59O1xuXG4vKipcbiAqIHVwZGF0ZXMgbWF0cmljZXMgaWYgdGV4dHVyZSB3YXMgY2hhbmdlZFxuICogQHBhcmFtIHtib29sZWFufSBmb3JjZVVwZGF0ZSBpZiB0cnVlLCBtYXRyaWNlcyB3aWxsIGJlIHVwZGF0ZWQgYW55IGNhc2VcbiAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBpdCB3YXMgdXBkYXRlZFxuICovXG5UZXh0dXJlTWF0cml4LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGZvcmNlVXBkYXRlKVxue1xuICAgIHZhciB0ZXggPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgaWYgKCF0ZXggfHwgIXRleC52YWxpZClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIWZvcmNlVXBkYXRlXG4gICAgICAgICYmIHRoaXMuX2xhc3RUZXh0dXJlSUQgPT09IHRleC5fdXBkYXRlSUQpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5fbGFzdFRleHR1cmVJRCA9IHRleC5fdXBkYXRlSUQ7XG5cbiAgICB2YXIgdXZzID0gdGV4Ll91dnM7XG5cbiAgICB0aGlzLm1hcENvb3JkLnNldCh1dnMueDEgLSB1dnMueDAsIHV2cy55MSAtIHV2cy55MCwgdXZzLngzIC0gdXZzLngwLCB1dnMueTMgLSB1dnMueTAsIHV2cy54MCwgdXZzLnkwKTtcblxuICAgIHZhciBvcmlnID0gdGV4Lm9yaWc7XG4gICAgdmFyIHRyaW0gPSB0ZXgudHJpbTtcblxuICAgIGlmICh0cmltKVxuICAgIHtcbiAgICAgICAgdGVtcE1hdC5zZXQob3JpZy53aWR0aCAvIHRyaW0ud2lkdGgsIDAsIDAsIG9yaWcuaGVpZ2h0IC8gdHJpbS5oZWlnaHQsXG4gICAgICAgICAgICAtdHJpbS54IC8gdHJpbS53aWR0aCwgLXRyaW0ueSAvIHRyaW0uaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5tYXBDb29yZC5hcHBlbmQodGVtcE1hdCk7XG4gICAgfVxuXG4gICAgdmFyIHRleEJhc2UgPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgdmFyIGZyYW1lID0gdGhpcy51Q2xhbXBGcmFtZTtcbiAgICB2YXIgbWFyZ2luID0gdGhpcy5jbGFtcE1hcmdpbiAvIHRleEJhc2UucmVzb2x1dGlvbjtcbiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5jbGFtcE9mZnNldDtcblxuICAgIGZyYW1lWzBdID0gKHRleC5fZnJhbWUueCArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLndpZHRoO1xuICAgIGZyYW1lWzFdID0gKHRleC5fZnJhbWUueSArIG1hcmdpbiArIG9mZnNldCkgLyB0ZXhCYXNlLmhlaWdodDtcbiAgICBmcmFtZVsyXSA9ICh0ZXguX2ZyYW1lLnggKyB0ZXguX2ZyYW1lLndpZHRoIC0gbWFyZ2luICsgb2Zmc2V0KSAvIHRleEJhc2Uud2lkdGg7XG4gICAgZnJhbWVbM10gPSAodGV4Ll9mcmFtZS55ICsgdGV4Ll9mcmFtZS5oZWlnaHQgLSBtYXJnaW4gKyBvZmZzZXQpIC8gdGV4QmFzZS5oZWlnaHQ7XG4gICAgdGhpcy51Q2xhbXBPZmZzZXRbMF0gPSBvZmZzZXQgLyB0ZXhCYXNlLnJlYWxXaWR0aDtcbiAgICB0aGlzLnVDbGFtcE9mZnNldFsxXSA9IG9mZnNldCAvIHRleEJhc2UucmVhbEhlaWdodDtcblxuICAgIHJldHVybiB0cnVlO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRleHR1cmVNYXRyaXgucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkNCApO1xuXG4vKipcbiAqIFRoZSBTcHJpdGVNYXNrRmlsdGVyIGNsYXNzXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZU1hc2tGaWx0ZXIgPSAoZnVuY3Rpb24gKEZpbHRlciQkMSkge1xuICAgIGZ1bmN0aW9uIFNwcml0ZU1hc2tGaWx0ZXIoc3ByaXRlKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgRmlsdGVyJCQxLmNhbGwodGhpcywgdmVydGV4LCBmcmFnbWVudCk7XG5cbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU3ByaXRlIG1hc2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TcHJpdGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hc2tTcHJpdGUgPSBzcHJpdGU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciQkMSApIFNwcml0ZU1hc2tGaWx0ZXIuX19wcm90b19fID0gRmlsdGVyJCQxO1xuICAgIFNwcml0ZU1hc2tGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyJCQxICYmIEZpbHRlciQkMS5wcm90b3R5cGUgKTtcbiAgICBTcHJpdGVNYXNrRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNwcml0ZU1hc2tGaWx0ZXI7XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5GaWx0ZXJNYW5hZ2VyfSBmaWx0ZXJNYW5hZ2VyIC0gVGhlIHJlbmRlcmVyIHRvIHJldHJpZXZlIHRoZSBmaWx0ZXIgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHJlbmRlciB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIHRhcmdldCB0byBvdXRwdXQgdG8uXG4gICAgICovXG4gICAgU3ByaXRlTWFza0ZpbHRlci5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseSAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dClcbiAgICB7XG4gICAgICAgIHZhciBtYXNrU3ByaXRlID0gdGhpcy5tYXNrU3ByaXRlO1xuICAgICAgICB2YXIgdGV4ID0gdGhpcy5tYXNrU3ByaXRlLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKCF0ZXgudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRleC50cmFuc2Zvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIG1hcmdpbiA9IDAuMCwgbGV0IGl0IGJsZWVkIGEgYml0LCBzaGFkZXIgY29kZSBiZWNvbWVzIGVhc2llclxuICAgICAgICAgICAgLy8gYXNzdW1pbmcgdGhhdCBhdGxhcyB0ZXh0dXJlcyB3ZXJlIG1hZGUgd2l0aCAxLXBpeGVsIHBhZGRpbmdcbiAgICAgICAgICAgIHRleC50cmFuc2Zvcm0gPSBuZXcgVGV4dHVyZU1hdHJpeCh0ZXgsIDAuMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4LnRyYW5zZm9ybS51cGRhdGUoKTtcblxuICAgICAgICB0aGlzLnVuaWZvcm1zLm5wbUFscGhhID0gdGV4LmJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEgPyAwLjAgOiAxLjA7XG4gICAgICAgIHRoaXMudW5pZm9ybXMubWFzayA9IHRleDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5vdGhlck1hdHJpeCA9IGZpbHRlck1hbmFnZXIuY2FsY3VsYXRlU3ByaXRlTWF0cml4KHRoaXMubWFza01hdHJpeCwgbWFza1Nwcml0ZSlcbiAgICAgICAgICAgIC5wcmVwZW5kKHRleC50cmFuc2Zvcm0ubWFwQ29vcmQpO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmFscGhhID0gbWFza1Nwcml0ZS53b3JsZEFscGhhO1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm1hc2tDbGFtcCA9IHRleC50cmFuc2Zvcm0udUNsYW1wRnJhbWU7XG5cbiAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBpbnB1dCwgb3V0cHV0KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNwcml0ZU1hc2tGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIE1hc2tTeXN0ZW0gPSAoZnVuY3Rpb24gKFN5c3RlbSQkMSkge1xuICAgIGZ1bmN0aW9uIE1hc2tTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0kJDEuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLy8gVE9ETyAtIHdlIGRvbid0IG5lZWQgYm90aCFcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGB0cnVlYCBpZiBjdXJyZW50IHB1c2hlZCBtYXNrZWQgaXMgc2Npc3NvclxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Npc3NvciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXNrIGRhdGFcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGFyZ2V0IHRvIG1hc2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5EaXNwbGF5T2JqZWN0fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuYWJsZSBzY2lzc29yXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbmFibGVTY2lzc29yID0gZmFsc2U7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBvb2wgb2YgdXNlZCBzcHJpdGUgbWFzayBmaWx0ZXJzXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuU3ByaXRlTWFza0ZpbHRlcltdfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrUG9vbCA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGluZGV4IG9mIGFscGhhIG1hc2sgcG9vbFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFscGhhTWFza0luZGV4ID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSQkMSApIE1hc2tTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtJCQxO1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtJCQxICYmIFN5c3RlbSQkMS5wcm90b3R5cGUgKTtcbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hc2tTeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwdXNoIHRoZSBtYXNrIHRvXG4gICAgICogQHBhcmFtIHtQSVhJLlNwcml0ZXxQSVhJLkdyYXBoaWNzfSBtYXNrRGF0YSAtIFRoZSBtYXNraW5nIGRhdGEuXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2ggKHRhcmdldCwgbWFza0RhdGEpXG4gICAge1xuICAgICAgICAvLyBUT0RPIHRoZSByb290IGNoZWNrIG1lYW5zIHNjaXNzb3IgcmVjdCB3aWxsIG5vdFxuICAgICAgICAvLyBiZSB1c2VkIG9uIHJlbmRlciB0ZXh0dXJlcyBtb3JlIGluZm8gaGVyZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL3B1bGwvMzU0NVxuXG4gICAgICAgIGlmIChtYXNrRGF0YS52ZXJ0ZXhEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnB1c2hTcHJpdGVNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZW5hYmxlU2Npc3NvclxuICAgICAgICAgICAgJiYgIXRoaXMuc2Npc3NvclxuICAgICAgICAgICAgJiYgdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0LnJvb3RcbiAgICAgICAgICAgICYmICF0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGhcbiAgICAgICAgICAgICYmIG1hc2tEYXRhLmlzRmFzdFJlY3QoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIG1hdHJpeCA9IG1hc2tEYXRhLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgICAgICB2YXIgcm90ID0gTWF0aC5hdGFuMihtYXRyaXguYiwgbWF0cml4LmEpO1xuXG4gICAgICAgICAgICAvLyB1c2UgdGhlIG5lYXJlc3QgZGVncmVlIVxuICAgICAgICAgICAgcm90ID0gTWF0aC5yb3VuZChyb3QgKiAoMTgwIC8gTWF0aC5QSSkpO1xuXG4gICAgICAgICAgICBpZiAocm90ICUgOTApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaFNjaXNzb3JNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RlbmNpbE1hc2sobWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgbWFzayBmcm9tIHRoZSBtYXNrIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSB0YXJnZXQgLSBEaXNwbGF5IE9iamVjdCB0byBwb3AgdGhlIG1hc2sgZnJvbVxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcCA9IGZ1bmN0aW9uIHBvcCAodGFyZ2V0LCBtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIGlmIChtYXNrRGF0YS52ZXJ0ZXhEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBvcFNwcml0ZU1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5lbmFibGVTY2lzc29yICYmICF0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucG9wU2Npc3Nvck1hc2sodGFyZ2V0LCBtYXNrRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBvcFN0ZW5jaWxNYXNrKHRhcmdldCwgbWFza0RhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIE1hc2sgYW5kIGFkZHMgaXQgdG8gdGhlIGN1cnJlbnQgZmlsdGVyIHN0YWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gdGFyZ2V0IC0gRGlzcGxheSBPYmplY3QgdG8gcHVzaCB0aGUgc3ByaXRlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3ByaXRlfSBtYXNrRGF0YSAtIFNwcml0ZSB0byBiZSB1c2VkIGFzIHRoZSBtYXNrXG4gICAgICovXG4gICAgTWFza1N5c3RlbS5wcm90b3R5cGUucHVzaFNwcml0ZU1hc2sgPSBmdW5jdGlvbiBwdXNoU3ByaXRlTWFzayAodGFyZ2V0LCBtYXNrRGF0YSlcbiAgICB7XG4gICAgICAgIHZhciBhbHBoYU1hc2tGaWx0ZXIgPSB0aGlzLmFscGhhTWFza1Bvb2xbdGhpcy5hbHBoYU1hc2tJbmRleF07XG5cbiAgICAgICAgaWYgKCFhbHBoYU1hc2tGaWx0ZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFscGhhTWFza0ZpbHRlciA9IHRoaXMuYWxwaGFNYXNrUG9vbFt0aGlzLmFscGhhTWFza0luZGV4XSA9IFtuZXcgU3ByaXRlTWFza0ZpbHRlcihtYXNrRGF0YSldO1xuICAgICAgICB9XG5cbiAgICAgICAgYWxwaGFNYXNrRmlsdGVyWzBdLnJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgIGFscGhhTWFza0ZpbHRlclswXS5tYXNrU3ByaXRlID0gbWFza0RhdGE7XG5cbiAgICAgICAgLy8gVE9ETyAtIG1heSBjYXVzZSBpc3N1ZXMhXG4gICAgICAgIHRhcmdldC5maWx0ZXJBcmVhID0gbWFza0RhdGEuZ2V0Qm91bmRzKHRydWUpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZmlsdGVyLnB1c2godGFyZ2V0LCBhbHBoYU1hc2tGaWx0ZXIpO1xuXG4gICAgICAgIHRoaXMuYWxwaGFNYXNrSW5kZXgrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbGFzdCBmaWx0ZXIgZnJvbSB0aGUgZmlsdGVyIHN0YWNrIGFuZCBkb2Vzbid0IHJldHVybiBpdC5cbiAgICAgKlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcFNwcml0ZU1hc2sgPSBmdW5jdGlvbiBwb3BTcHJpdGVNYXNrICgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmZpbHRlci5wb3AoKTtcbiAgICAgICAgdGhpcy5hbHBoYU1hc2tJbmRleC0tO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IGZpbHRlciBzdGFjay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV8UElYSS5HcmFwaGljc30gbWFza0RhdGEgLSBUaGUgbWFza2luZyBkYXRhLlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnB1c2hTdGVuY2lsTWFzayA9IGZ1bmN0aW9uIHB1c2hTdGVuY2lsTWFzayAobWFza0RhdGEpXG4gICAge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wdXNoU3RlbmNpbChtYXNrRGF0YSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGxhc3QgZmlsdGVyIGZyb20gdGhlIGZpbHRlciBzdGFjayBhbmQgZG9lc24ndCByZXR1cm4gaXQuXG4gICAgICpcbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wb3BTdGVuY2lsTWFzayA9IGZ1bmN0aW9uIHBvcFN0ZW5jaWxNYXNrICgpXG4gICAge1xuICAgICAgICAvLyB0aGlzLnJlbmRlcmVyLmN1cnJlbnRSZW5kZXJlci5zdG9wKCk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc3RlbmNpbC5wb3BTdGVuY2lsKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IHRhcmdldCAtIERpc3BsYXkgT2JqZWN0IHRvIHB1c2ggdGhlIG1hc2sgdG9cbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3N9IG1hc2tEYXRhIC0gVGhlIG1hc2tpbmcgZGF0YS5cbiAgICAgKi9cbiAgICBNYXNrU3lzdGVtLnByb3RvdHlwZS5wdXNoU2Npc3Nvck1hc2sgPSBmdW5jdGlvbiBwdXNoU2Npc3Nvck1hc2sgKHRhcmdldCwgbWFza0RhdGEpXG4gICAge1xuICAgICAgICBtYXNrRGF0YS5yZW5kZXJhYmxlID0gdHJ1ZTtcblxuICAgICAgICB2YXIgcmVuZGVyVGFyZ2V0ID0gdGhpcy5yZW5kZXJlci5fYWN0aXZlUmVuZGVyVGFyZ2V0O1xuXG4gICAgICAgIHZhciBib3VuZHMgPSBtYXNrRGF0YS5nZXRCb3VuZHMoKTtcblxuICAgICAgICBib3VuZHMuZml0KHJlbmRlclRhcmdldC5zaXplKTtcbiAgICAgICAgbWFza0RhdGEucmVuZGVyYWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2wuZW5hYmxlKHRoaXMucmVuZGVyZXIuZ2wuU0NJU1NPUl9URVNUKTtcblxuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsLnNjaXNzb3IoXG4gICAgICAgICAgICBib3VuZHMueCAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICAocmVuZGVyVGFyZ2V0LnJvb3QgPyByZW5kZXJUYXJnZXQuc2l6ZS5oZWlnaHQgLSBib3VuZHMueSAtIGJvdW5kcy5oZWlnaHQgOiBib3VuZHMueSkgKiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgYm91bmRzLndpZHRoICogcmVzb2x1dGlvbixcbiAgICAgICAgICAgIGJvdW5kcy5oZWlnaHQgKiByZXNvbHV0aW9uXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5zY2lzc29yUmVuZGVyVGFyZ2V0ID0gcmVuZGVyVGFyZ2V0O1xuICAgICAgICB0aGlzLnNjaXNzb3JEYXRhID0gbWFza0RhdGE7XG4gICAgICAgIHRoaXMuc2Npc3NvciA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBvcCBzY2lzc29yIG1hc2tcbiAgICAgKlxuICAgICAqL1xuICAgIE1hc2tTeXN0ZW0ucHJvdG90eXBlLnBvcFNjaXNzb3JNYXNrID0gZnVuY3Rpb24gcG9wU2Npc3Nvck1hc2sgKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2Npc3NvclJlbmRlclRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Npc3NvckRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaXNzb3IgPSBmYWxzZTtcblxuICAgICAgICAvLyBtdXN0IGJlIHNjaXNzb3IhXG4gICAgICAgIHZhciByZWYgPSB0aGlzLnJlbmRlcmVyO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgZ2wuZGlzYWJsZShnbC5TQ0lTU09SX1RFU1QpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWFza1N5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgU3RlbmNpbFN5c3RlbSA9IChmdW5jdGlvbiAoU3lzdGVtJCQxKSB7XG4gICAgZnVuY3Rpb24gU3RlbmNpbFN5c3RlbShyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIFN5c3RlbSQkMS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1hc2sgc3RhY2tcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HcmFwaGljc1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrID0gW107XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0kJDEgKSBTdGVuY2lsU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbSQkMTtcbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSQkMSAmJiBTeXN0ZW0kJDEucHJvdG90eXBlICk7XG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTdGVuY2lsU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgbWFzayBzdGFjayB0aGF0IGlzIHVzZWQgYnkgdGhpcyBTeXN0ZW0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuR3JhcGhpY3NbXX0gc3RlbmNpbE1hc2tTdGFjayAtIFRoZSBtYXNrIHN0YWNrXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuc2V0TWFza1N0YWNrID0gZnVuY3Rpb24gc2V0TWFza1N0YWNrIChzdGVuY2lsTWFza1N0YWNrKVxuICAgIHtcbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAoc3RlbmNpbE1hc2tTdGFjay5sZW5ndGggIT09IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzdGVuY2lsTWFza1N0YWNrLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBnbC5kaXNhYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2wuZW5hYmxlKGdsLlNURU5DSUxfVEVTVCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0ZW5jaWxNYXNrU3RhY2sgPSBzdGVuY2lsTWFza1N0YWNrO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBNYXNrIGFuZCBhZGRzIGl0IHRvIHRoZSBjdXJyZW50IHN0ZW5jaWwgc3RhY2suIEBhbHZpblxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljcyAtIFRoZSBtYXNrXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUucHVzaFN0ZW5jaWwgPSBmdW5jdGlvbiBwdXNoU3RlbmNpbCAoZ3JhcGhpY3MpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuICAgICAgICB2YXIgcHJldk1hc2tDb3VudCA9IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGg7XG5cbiAgICAgICAgaWYgKHByZXZNYXNrQ291bnQgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmVuYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdGVuY2lsTWFza1N0YWNrLnB1c2goZ3JhcGhpY3MpO1xuXG4gICAgICAgIC8vIEluY3JlbWVudCB0aGUgcmVmZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBuZXcgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvbGQgb25lcy5cbiAgICAgICAgZ2wuY29sb3JNYXNrKGZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHByZXZNYXNrQ291bnQsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuSU5DUik7XG5cbiAgICAgICAgZ3JhcGhpY3MucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgIGdyYXBoaWNzLnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICBncmFwaGljcy5yZW5kZXJhYmxlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBsYXN0IG1hc2sgZnJvbSB0aGUgc3RlbmNpbCBzdGFjay4gQGFsdmluXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUucG9wU3RlbmNpbCA9IGZ1bmN0aW9uIHBvcFN0ZW5jaWwgKClcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBncmFwaGljcyA9IHRoaXMuc3RlbmNpbE1hc2tTdGFjay5wb3AoKTtcblxuICAgICAgICBpZiAodGhpcy5zdGVuY2lsTWFza1N0YWNrLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhlIHN0YWNrIGlzIGVtcHR5IVxuICAgICAgICAgICAgZ2wuZGlzYWJsZShnbC5TVEVOQ0lMX1RFU1QpO1xuICAgICAgICAgICAgZ2wuY2xlYXIoZ2wuU1RFTkNJTF9CVUZGRVJfQklUKTtcbiAgICAgICAgICAgIGdsLmNsZWFyU3RlbmNpbCgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIERlY3JlbWVudCB0aGUgcmVmZmVyZW5jZSBzdGVuY2lsIHZhbHVlIHdoZXJlIHRoZSBwb3BwZWQgbWFzayBvdmVybGFwcyB3aXRoIHRoZSBvdGhlciBvbmVzXG4gICAgICAgICAgICBnbC5jb2xvck1hc2soZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgZ2wuc3RlbmNpbE9wKGdsLktFRVAsIGdsLktFRVAsIGdsLkRFQ1IpO1xuXG4gICAgICAgICAgICBncmFwaGljcy5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcih0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgICAgIGdyYXBoaWNzLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5fdXNlQ3VycmVudCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHVwIHJlbmRlcmVyIHRvIHVzZSB0aGUgY3VycmVudCBzdGVuY2lsIGRhdGEuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fdXNlQ3VycmVudCA9IGZ1bmN0aW9uIF91c2VDdXJyZW50ICgpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLnJlbmRlcmVyLmdsO1xuXG4gICAgICAgIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgZ2wuc3RlbmNpbEZ1bmMoZ2wuRVFVQUwsIHRoaXMuc3RlbmNpbE1hc2tTdGFjay5sZW5ndGgsIHRoaXMuX2dldEJpdHdpc2VNYXNrKCkpO1xuICAgICAgICBnbC5zdGVuY2lsT3AoZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbGwgMXMgZXF1YWwgdG8gdGhlIG51bWJlciBvZiBhY2l0dmUgc3RlbmNpbCBtYXNrcy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGJpdHdpc2UgbWFzay5cbiAgICAgKi9cbiAgICBTdGVuY2lsU3lzdGVtLnByb3RvdHlwZS5fZ2V0Qml0d2lzZU1hc2sgPSBmdW5jdGlvbiBfZ2V0Qml0d2lzZU1hc2sgKClcbiAgICB7XG4gICAgICAgIHJldHVybiAoMSA8PCB0aGlzLnN0ZW5jaWxNYXNrU3RhY2subGVuZ3RoKSAtIDE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBtYXNrIHN0YWNrLlxuICAgICAqXG4gICAgICovXG4gICAgU3RlbmNpbFN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIFN5c3RlbSQkMS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMuc3RlbmNpbE1hc2tTdGFjayA9IG51bGw7XG4gICAgfTtcblxuICAgIHJldHVybiBTdGVuY2lsU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3lzdGVtXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKi9cblxudmFyIFByb2plY3Rpb25TeXN0ZW0gPSAoZnVuY3Rpb24gKFN5c3RlbSQkMSkge1xuICAgIGZ1bmN0aW9uIFByb2plY3Rpb25TeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0kJDEuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3RpbmF0aW9uIGZyYW1lXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNvdXJjZSBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvdXJjZUZyYW1lID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBkZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRGcmFtZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb2plY3QgbWF0cml4XG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuTWF0cml4fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvamVjdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSQkMSApIFByb2plY3Rpb25TeXN0ZW0uX19wcm90b19fID0gU3lzdGVtJCQxO1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU3lzdGVtJCQxICYmIFN5c3RlbSQkMS5wcm90b3R5cGUgKTtcbiAgICBQcm9qZWN0aW9uU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFByb2plY3Rpb25TeXN0ZW07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBwcm9qZWN0aW9uIG1hdHJpeCBiYXNlZCBvbiBhIHByb2plY3Rpb24gZnJhbWUgKHdoaWNoIGlzIGEgcmVjdGFuZ2xlKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gZGVzdGluYXRpb25GcmFtZSAtIFRoZSBkZXN0aW5hdGlvbiBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZSAtIFRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJlc29sdXRpb24gLSBSZXNvbHV0aW9uXG4gICAgICogQHBhcmFtIHtib29sZWFufSByb290IC0gSWYgaXMgcm9vdFxuICAgICAqL1xuICAgIFByb2plY3Rpb25TeXN0ZW0ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoZGVzdGluYXRpb25GcmFtZSwgc291cmNlRnJhbWUsIHJlc29sdXRpb24sIHJvb3QpXG4gICAge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lIHx8IHRoaXMuZGVzdGluYXRpb25GcmFtZSB8fCB0aGlzLmRlZmF1bHRGcmFtZTtcbiAgICAgICAgdGhpcy5zb3VyY2VGcmFtZSA9IHNvdXJjZUZyYW1lIHx8IHRoaXMuc291cmNlRnJhbWUgfHwgZGVzdGluYXRpb25GcmFtZTtcblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZVByb2plY3Rpb24odGhpcy5kZXN0aW5hdGlvbkZyYW1lLCB0aGlzLnNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KTtcblxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXggPSB0aGlzLnByb2plY3Rpb25NYXRyaXg7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMudXBkYXRlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHByb2plY3Rpb24gbWF0cml4IGJhc2VkIG9uIGEgcHJvamVjdGlvbiBmcmFtZSAod2hpY2ggaXMgYSByZWN0YW5nbGUpXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBkZXN0aW5hdGlvbkZyYW1lIC0gVGhlIGRlc3RpbmF0aW9uIGZyYW1lLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IHNvdXJjZUZyYW1lIC0gVGhlIHNvdXJjZSBmcmFtZS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcmVzb2x1dGlvbiAtIFJlc29sdXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJvb3QgLSBJZiBpcyByb290XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuY2FsY3VsYXRlUHJvamVjdGlvbiA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVByb2plY3Rpb24gKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCByb290KVxuICAgIHtcbiAgICAgICAgdmFyIHBtID0gdGhpcy5wcm9qZWN0aW9uTWF0cml4O1xuXG4gICAgICAgIC8vIEkgZG9uJ3QgdGhpbmsgd2Ugd2lsbCBuZWVkIHRoaXMgbGluZS4uXG4gICAgICAgIC8vIHBtLmlkZW50aXR5KCk7XG5cbiAgICAgICAgaWYgKCFyb290KVxuICAgICAgICB7XG4gICAgICAgICAgICBwbS5hID0gKDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMikgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcG0uZCA9ICgxIC8gZGVzdGluYXRpb25GcmFtZS5oZWlnaHQgKiAyKSAqIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgIHBtLnR4ID0gLTEgLSAoc291cmNlRnJhbWUueCAqIHBtLmEpO1xuICAgICAgICAgICAgcG0udHkgPSAtMSAtIChzb3VyY2VGcmFtZS55ICogcG0uZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBwbS5hID0gKDEgLyBkZXN0aW5hdGlvbkZyYW1lLndpZHRoICogMikgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcG0uZCA9ICgtMSAvIGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0ICogMikgKiByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICBwbS50eCA9IC0xIC0gKHNvdXJjZUZyYW1lLnggKiBwbS5hKTtcbiAgICAgICAgICAgIHBtLnR5ID0gMSAtIChzb3VyY2VGcmFtZS55ICogcG0uZCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdHJhbnNmb3JtIG9mIHRoZSBhY3RpdmUgcmVuZGVyIHRhcmdldCB0byB0aGUgZ2l2ZW4gbWF0cml4XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuTWF0cml4fSBtYXRyaXggLSBUaGUgdHJhbnNmb3JtYXRpb24gbWF0cml4XG4gICAgICovXG4gICAgUHJvamVjdGlvblN5c3RlbS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtID0gZnVuY3Rpb24gc2V0VHJhbnNmb3JtICgpLy8gbWF0cml4KVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5fYWN0aXZlUmVuZGVyVGFyZ2V0LnRyYW5zZm9ybSA9IG1hdHJpeDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFByb2plY3Rpb25TeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgdGVtcFJlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG5cbi8qKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG5cbnZhciBSZW5kZXJUZXh0dXJlU3lzdGVtID0gKGZ1bmN0aW9uIChTeXN0ZW0kJDEpIHtcbiAgICBmdW5jdGlvbiBSZW5kZXJUZXh0dXJlU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtJCQxLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2xlYXIgYmFja2dyb3VuZCBjb2xvciBhcyByZ2JhXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jbGVhckNvbG9yID0gcmVuZGVyZXIuX2JhY2tncm91bmRDb2xvclJnYmE7XG5cbiAgICAgICAgLy8gVE9ETyBtb3ZlIHRoaXMgcHJvcGVydHkgc29tZXdoZXJlIGVsc2UhXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hc2tzIGZvciB0aGUgU3RlbmNpbFN5c3RlbVxuICAgICAgICAgKiBAbWVtYmVyIHtBcnJheX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlZmF1bHRNYXNrU3RhY2sgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBmaWx0ZXJzIGZvciB0aGUgRmlsdGVyU3lzdGVtXG4gICAgICAgICAqIEBtZW1iZXIge0FycmF5fVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdEZpbHRlclN0YWNrID0gW3t9XTtcblxuICAgICAgICAvLyBlbXB0eSByZW5kZXIgdGV4dHVyZT9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbmRlciB0ZXh0dXJlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVuZGVyVGV4dHVyZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0aW5hdGlvbiBmcmFtZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgfVxuXG4gICAgaWYgKCBTeXN0ZW0kJDEgKSBSZW5kZXJUZXh0dXJlU3lzdGVtLl9fcHJvdG9fXyA9IFN5c3RlbSQkMTtcbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSQkMSAmJiBTeXN0ZW0kJDEucHJvdG90eXBlICk7XG4gICAgUmVuZGVyVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZW5kZXJUZXh0dXJlU3lzdGVtO1xuXG4gICAgLyoqXG4gICAgICogQmluZCB0aGUgY3VycmVudCByZW5kZXIgdGV4dHVyZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRleHR1cmV9IHJlbmRlclRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSBzb3VyY2VGcmFtZVxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IGRlc3RpbmF0aW9uRnJhbWVcbiAgICAgKi9cbiAgICBSZW5kZXJUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5iaW5kID0gZnVuY3Rpb24gYmluZCAocmVuZGVyVGV4dHVyZSwgc291cmNlRnJhbWUsIGRlc3RpbmF0aW9uRnJhbWUpXG4gICAge1xuICAgICAgICAvLyBUT0RPIC0gZG8gd2Ugd2FudCB0aGlzPz9cbiAgICAgICAgaWYgKHRoaXMucmVuZGVyVGV4dHVyZSA9PT0gcmVuZGVyVGV4dHVyZSkgeyByZXR1cm47IH1cbiAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlID0gcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIHZhciByZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICByZXNvbHV0aW9uID0gYmFzZVRleHR1cmUucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgaWYgKCFkZXN0aW5hdGlvbkZyYW1lKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LndpZHRoID0gYmFzZVRleHR1cmUucmVhbFdpZHRoO1xuICAgICAgICAgICAgICAgIHRlbXBSZWN0LmhlaWdodCA9IGJhc2VUZXh0dXJlLnJlYWxIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc291cmNlRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmZyYW1lYnVmZmVyLmJpbmQoYmFzZVRleHR1cmUuZnJhbWVCdWZmZXIsIGRlc3RpbmF0aW9uRnJhbWUpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnByb2plY3Rpb24udXBkYXRlKGRlc3RpbmF0aW9uRnJhbWUsIHNvdXJjZUZyYW1lLCByZXNvbHV0aW9uLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc2V0TWFza1N0YWNrKGJhc2VUZXh0dXJlLnN0ZW5jaWxNYXNrU3RhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgLy8gVE9ETyB0aGVzZSB2YWxpZGF0aW9uIGNoZWNrcyBoYXBwZW4gZGVlcGVyIGRvd24uLlxuICAgICAgICAgICAgLy8gdGhpbmcgdGhleSBjYW4gYmUgYXZvaWRlZC4uXG4gICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGVtcFJlY3Qud2lkdGggPSByZW5kZXJlci53aWR0aDtcbiAgICAgICAgICAgICAgICB0ZW1wUmVjdC5oZWlnaHQgPSByZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbkZyYW1lID0gdGVtcFJlY3Q7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc291cmNlRnJhbWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc291cmNlRnJhbWUgPSBkZXN0aW5hdGlvbkZyYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZW5kZXJlci5mcmFtZWJ1ZmZlci5iaW5kKG51bGwsIGRlc3RpbmF0aW9uRnJhbWUpO1xuXG4gICAgICAgICAgICAvLyBUT0RPIHN0b3JlIHRoaXMuLlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uLnVwZGF0ZShkZXN0aW5hdGlvbkZyYW1lLCBzb3VyY2VGcmFtZSwgcmVzb2x1dGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnN0ZW5jaWwuc2V0TWFza1N0YWNrKHRoaXMuZGVmYXVsdE1hc2tTdGFjayk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUueCA9IGRlc3RpbmF0aW9uRnJhbWUueCAvIHJlc29sdXRpb247XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25GcmFtZS55ID0gZGVzdGluYXRpb25GcmFtZS55IC8gcmVzb2x1dGlvbjtcblxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uRnJhbWUud2lkdGggPSBkZXN0aW5hdGlvbkZyYW1lLndpZHRoIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbkZyYW1lLmhlaWdodCA9IGRlc3RpbmF0aW9uRnJhbWUuaGVpZ2h0IC8gcmVzb2x1dGlvbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2VzIHRoZSByZW5kZXIgdGV4dHVyZSBhbmQgZmlsbHMgdGhlIGRyYXdpbmcgYXJlYSB3aXRoIGEgY29sb3VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBbY2xlYXJDb2xvcl0gLSBUaGUgY29sb3IgYXMgcmdiYSwgZGVmYXVsdCB0byB1c2UgdGhlIHJlbmRlcmVyIGJhY2tncm91bmRDb2xvclxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVuZGVyZXJ9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKGNsZWFyQ29sb3IpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5yZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGVhckNvbG9yID0gY2xlYXJDb2xvciB8fCB0aGlzLnJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsZWFyQ29sb3IgPSBjbGVhckNvbG9yIHx8IHRoaXMuY2xlYXJDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuZnJhbWVidWZmZXIuY2xlYXIoY2xlYXJDb2xvclswXSwgY2xlYXJDb2xvclsxXSwgY2xlYXJDb2xvclsyXSwgY2xlYXJDb2xvclszXSk7XG4gICAgfTtcblxuICAgIFJlbmRlclRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLnJlc2l6ZSA9IGZ1bmN0aW9uIHJlc2l6ZSAoKS8vIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAge1xuICAgICAgICAvLyByZXNpemUgdGhlIHJvb3Qgb25seSFcbiAgICAgICAgdGhpcy5iaW5kKG51bGwpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVuZGVyVGV4dHVyZVN5c3RlbTtcbn0oU3lzdGVtKSk7XG5cbi8qKlxuICogSGVscGVyIGNsYXNzIHRvIGNyZWF0ZSBhIHdlYkdMIFByb2dyYW1cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBHTFByb2dyYW0gPSBmdW5jdGlvbiBHTFByb2dyYW0ocHJvZ3JhbSwgdW5pZm9ybURhdGEpXG57XG4gICAgLyoqXG4gICAgICogVGhlIHNoYWRlciBwcm9ncmFtXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtXZWJHTFByb2dyYW19XG4gICAgICovXG4gICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcblxuICAgIC8qKlxuICAgICAqIGhvbGRzIHRoZSB1bmlmb3JtIGRhdGEgd2hpY2ggY29udGFpbnMgdW5pZm9ybSBsb2NhdGlvbnNcbiAgICAgKiBhbmQgY3VycmVudCB1bmlmb3JtIHZhbHVlcyB1c2VkIGZvciBjYWNoaW5nIGFuZCBwcmV2ZW50aW5nIHVubmVlZGVkIEdQVSBjb21tYW5kc1xuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy51bmlmb3JtRGF0YSA9IHVuaWZvcm1EYXRhO1xuXG4gICAgLyoqXG4gICAgICogdW5pZm9ybUdyb3VwcyBob2xkcyB0aGUgdmFyaW91cyB1cGxvYWQgZnVuY3Rpb25zIGZvciB0aGUgc2hhZGVyLiBFYWNoIHVuaWZvcm0gZ3JvdXBcbiAgICAgKiBhbmQgcHJvZ3JhbSBoYXZlIGEgdW5pcXVlIHVwbG9hZCBmdW5jdGlvbiBnZW5lcmF0ZWQuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSB7fTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhpcyBwcm9ncmFtXG4gKiBUT0RPXG4gKi9cbkdMUHJvZ3JhbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnVuaWZvcm1EYXRhID0gbnVsbDtcbiAgICB0aGlzLnVuaWZvcm1Hcm91cHMgPSBudWxsO1xuICAgIHRoaXMucHJvZ3JhbSA9IG51bGw7XG59O1xuXG52YXIgVUlEJDQgPSAwO1xuXG4vKipcbiAqIEhlbHBlciBjbGFzcyB0byBjcmVhdGUgYSB3ZWJHTCBUZXh0dXJlXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5zeXN0ZW1zXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICovXG52YXIgU2hhZGVyU3lzdGVtID0gKGZ1bmN0aW9uIChTeXN0ZW0kJDEpIHtcbiAgICBmdW5jdGlvbiBTaGFkZXJTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0kJDEuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIHJlbmRlcmluZyBjb250ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9ncmFtID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgdG8gaG9sZHMgdGhlIGdlbmVyYXRlZCBmdW5jdGlvbnMuIFN0b3JlZCBhZ2FpbnN0IFVuaWZvcm1PYmplY3RzIHVuaXF1ZSBzaWduYXR1cmVcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FjaGUgPSB7fTtcblxuICAgICAgICB0aGlzLmlkID0gVUlEJDQrKztcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSQkMSApIFNoYWRlclN5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW0kJDE7XG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSQkMSAmJiBTeXN0ZW0kJDEucHJvdG90eXBlICk7XG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNoYWRlclN5c3RlbTtcblxuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBjdXJyZW50IHNoYWRlciB0byB0aGUgb25lIGdpdmVuIGluIHBhcmFtZXRlclxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlNoYWRlcn0gc2hhZGVyIC0gdGhlIG5ldyBzaGFkZXJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRvbnRTeW5jIC0gZmFsc2UgaWYgdGhlIHNoYWRlciBzaG91bGQgYXV0b21hdGljYWxseSBzeW5jIGl0cyB1bmlmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5nbENvcmUuZ2xQcm9ncmFtfSB0aGUgZ2xQcm9ncmFtIHRoYXQgYmVsb25ncyB0byB0aGUgc2hhZGVyLlxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKHNoYWRlciwgZG9udFN5bmMpXG4gICAge1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMuZ2xvYmFscyA9IHRoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXM7XG5cbiAgICAgICAgdmFyIHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcbiAgICAgICAgdmFyIGdsUHJvZ3JhbSA9IHByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSB8fCB0aGlzLmdlbmVyYXRlU2hhZGVyKHNoYWRlcik7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBzaGFkZXI7XG5cbiAgICAgICAgLy8gVE9ETyAtIHNvbWUgY3VycmVudCBwaXhpIHBsdWdpbnMgYnlwYXNzIHRoaXMuLiBzbyBpdCBub3Qgc2FmZSB0byB1c2UgeWV0Li5cbiAgICAgICAgaWYgKHRoaXMucHJvZ3JhbSAhPT0gcHJvZ3JhbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgICAgIHRoaXMuZ2wudXNlUHJvZ3JhbShnbFByb2dyYW0ucHJvZ3JhbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRvbnRTeW5jKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnN5bmNVbmlmb3JtR3JvdXAoc2hhZGVyLnVuaWZvcm1Hcm91cCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2xQcm9ncmFtO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB1bmlmb3JtcyB2YWx1ZXMgdG8gdGhlIGN1cnJlbnRseSBib3VuZCBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdW5pZm9ybXMgLSB0aGUgdW5pZm9ybXMgdmFsdWVzIHRoYXQgYmUgYXBwbGllZCB0byB0aGUgY3VycmVudCBzaGFkZXJcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnNldFVuaWZvcm1zID0gZnVuY3Rpb24gc2V0VW5pZm9ybXMgKHVuaWZvcm1zKVxuICAgIHtcbiAgICAgICAgdmFyIHNoYWRlciA9IHRoaXMuc2hhZGVyLnByb2dyYW07XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBzaGFkZXIuZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcblxuICAgICAgICBzaGFkZXIuc3luY1VuaWZvcm1zKGdsUHJvZ3JhbS51bmlmb3JtRGF0YSwgdW5pZm9ybXMsIHRoaXMucmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLnN5bmNVbmlmb3JtR3JvdXAgPSBmdW5jdGlvbiBzeW5jVW5pZm9ybUdyb3VwIChncm91cClcbiAgICB7XG4gICAgICAgIHZhciBnbFByb2dyYW0gPSB0aGlzLmdldGdsUHJvZ3JhbSgpO1xuXG4gICAgICAgIGlmICghZ3JvdXAuc3RhdGljIHx8IGdyb3VwLmRpcnR5SWQgIT09IGdsUHJvZ3JhbS51bmlmb3JtR3JvdXBzW2dyb3VwLmlkXSlcbiAgICAgICAge1xuICAgICAgICAgICAgZ2xQcm9ncmFtLnVuaWZvcm1Hcm91cHNbZ3JvdXAuaWRdID0gZ3JvdXAuZGlydHlJZDtcbiAgICAgICAgICAgIHZhciBzeW5jRnVuYyA9IGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXSB8fCB0aGlzLmNyZWF0ZVN5bmNHcm91cHMoZ3JvdXApO1xuXG4gICAgICAgICAgICBzeW5jRnVuYyhnbFByb2dyYW0udW5pZm9ybURhdGEsIGdyb3VwLnVuaWZvcm1zLCB0aGlzLnJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmNyZWF0ZVN5bmNHcm91cHMgPSBmdW5jdGlvbiBjcmVhdGVTeW5jR3JvdXBzIChncm91cClcbiAgICB7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuZ2V0U2lnbmF0dXJlKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcblxuICAgICAgICBpZiAoIXRoaXMuY2FjaGVbaWRdKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNhY2hlW2lkXSA9IGdlbmVyYXRlVW5pZm9ybXNTeW5jKGdyb3VwLCB0aGlzLnNoYWRlci5wcm9ncmFtLnVuaWZvcm1EYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdyb3VwLnN5bmNVbmlmb3Jtc1t0aGlzLnNoYWRlci5wcm9ncmFtLmlkXSA9IHRoaXMuY2FjaGVbaWRdO1xuXG4gICAgICAgIHJldHVybiBncm91cC5zeW5jVW5pZm9ybXNbdGhpcy5zaGFkZXIucHJvZ3JhbS5pZF07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgdW5pZm9ybSBncm91cCBhbmQgZGF0YSBhbmQgZ2VuZXJhdGVzIGEgdW5pcXVlIHNpZ25hdHVyZSBmb3IgdGhlbS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Vbmlmb3JtR3JvdXB9IGdyb3VwIHRoZSB1bmlmb3JtIGdyb3VwIHRvIGdldCBzaWduYXR1cmUgb2ZcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybURhdGEgdW5pZm9ybSBpbmZvcm1hdGlvbiBnZW5lcmF0ZWQgYnkgdGhlIHNoYWRlclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFVuaXF1ZSBzaWduYXR1cmUgb2YgdGhlIHVuaWZvcm0gZ3JvdXBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24gZ2V0U2lnbmF0dXJlIChncm91cCwgdW5pZm9ybURhdGEpXG4gICAge1xuICAgICAgICB2YXIgdW5pZm9ybXMgPSBncm91cC51bmlmb3JtcztcblxuICAgICAgICB2YXIgc3RyaW5ncyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4gdW5pZm9ybXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHN0cmluZ3MucHVzaChpKTtcblxuICAgICAgICAgICAgaWYgKHVuaWZvcm1EYXRhW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0cmluZ3MucHVzaCh1bmlmb3JtRGF0YVtpXS50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHJpbmdzLmpvaW4oJy0nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyBHTFNoYWRlIHJvZiB0aGUgY3VycmVudGx5IGJvdW5kIHNoYWRlci5cbiAgICAgKiBUaGlzIGNhbiBiZSBoYW5keSBmb3Igd2hlbiB5b3UgdG8gaGF2ZSBhIGxpdHRsZSBtb3JlIGNvbnRyb2wgb3ZlciB0aGUgc2V0dGluZyBvZiB5b3VyIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5nbENvcmUuU2hhZGVyfSB0aGUgZ2xQcm9ncmFtIGZvciB0aGUgY3VycmVudGx5IGJvdW5kIFNoYWRlciBmb3IgdGhpcyBjb250ZXh0XG4gICAgICovXG4gICAgU2hhZGVyU3lzdGVtLnByb3RvdHlwZS5nZXRnbFByb2dyYW0gPSBmdW5jdGlvbiBnZXRnbFByb2dyYW0gKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnNoYWRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hhZGVyLnByb2dyYW0uZ2xQcm9ncmFtc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBnbFByb2dyYW0gdmVyc2lvbiBvZiB0aGUgU2hhZGVyIHByb3ZpZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2hhZGVyfSBzaGFkZXIgdGhlIHNoYWRlciB0aGF0IHRoZSBnbFByb2dyYW0gd2lsbCBiZSBiYXNlZCBvbi5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLmdsQ29yZS5nbFByb2dyYW19IEEgc2hpbnkgbmV3IGdsUHJvZ3JhbSFcbiAgICAgKi9cbiAgICBTaGFkZXJTeXN0ZW0ucHJvdG90eXBlLmdlbmVyYXRlU2hhZGVyID0gZnVuY3Rpb24gZ2VuZXJhdGVTaGFkZXIgKHNoYWRlcilcbiAgICB7XG4gICAgICAgIHZhciBnbCA9IHRoaXMuZ2w7XG5cbiAgICAgICAgdmFyIHByb2dyYW0gPSBzaGFkZXIucHJvZ3JhbTtcblxuICAgICAgICB2YXIgYXR0cmliTWFwID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9ncmFtLmF0dHJpYnV0ZURhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGF0dHJpYk1hcFtpXSA9IHByb2dyYW0uYXR0cmlidXRlRGF0YVtpXS5sb2NhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaGFkZXJQcm9ncmFtID0gY29tcGlsZVByb2dyYW0oZ2wsIHByb2dyYW0udmVydGV4U3JjLCBwcm9ncmFtLmZyYWdtZW50U3JjLCBhdHRyaWJNYXApO1xuICAgICAgICB2YXIgdW5pZm9ybURhdGEgPSB7fTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgaW4gcHJvZ3JhbS51bmlmb3JtRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBwcm9ncmFtLnVuaWZvcm1EYXRhW2kkMV07XG5cbiAgICAgICAgICAgIHVuaWZvcm1EYXRhW2kkMV0gPSB7XG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzaGFkZXJQcm9ncmFtLCBpJDEpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBkZWZhdWx0VmFsdWUoZGF0YS50eXBlLCBkYXRhLnNpemUpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbFByb2dyYW0gPSBuZXcgR0xQcm9ncmFtKHNoYWRlclByb2dyYW0sIHVuaWZvcm1EYXRhKTtcblxuICAgICAgICBwcm9ncmFtLmdsUHJvZ3JhbXNbdGhpcy5yZW5kZXJlci5DT05URVhUX1VJRF0gPSBnbFByb2dyYW07XG5cbiAgICAgICAgcmV0dXJuIGdsUHJvZ3JhbTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBTeXN0ZW0gYW5kIHJlbW92ZXMgYWxsIGl0cyB0ZXh0dXJlc1xuICAgICAqL1xuICAgIFNoYWRlclN5c3RlbS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gaW1wbGVtZW50IGRlc3Ryb3kgbWV0aG9kIGZvciBTaGFkZXJTeXN0ZW1cbiAgICAgICAgdGhpcy5kZXN0cm95ZWQgPSB0cnVlO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2hhZGVyU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBNYXBzIGdsIGJsZW5kIGNvbWJpbmF0aW9ucyB0byBXZWJHTC5cbiAqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGZ1bmN0aW9uIG1hcFdlYkdMQmxlbmRNb2Rlc1RvUGl4aVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCAtIFRoZSByZW5kZXJpbmcgY29udGV4dC5cbiAqIEBwYXJhbSB7bnVtYmVyW11bXX0gW2FycmF5PVtdXSAtIFRoZSBhcnJheSB0byBvdXRwdXQgaW50by5cbiAqIEByZXR1cm4ge251bWJlcltdW119IE1hcHBlZCBtb2Rlcy5cbiAqL1xuZnVuY3Rpb24gbWFwV2ViR0xCbGVuZE1vZGVzVG9QaXhpKGdsLCBhcnJheSlcbntcbiAgICBpZiAoIGFycmF5ID09PSB2b2lkIDAgKSBhcnJheSA9IFtdO1xuXG4gICAgLy8gVE9ETyAtIHByZW11bHRpcGx5IGFscGhhIHdvdWxkIGJlIGRpZmZlcmVudC5cbiAgICAvLyBhZGQgYSBib29sZWFuIGZvciB0aGF0IVxuICAgIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5BRERdID0gW2dsLk9ORSwgZ2wuRFNUX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5NVUxUSVBMWV0gPSBbZ2wuRFNUX0NPTE9SLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUl07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuT1ZFUkxBWV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5EQVJLRU5dID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuTElHSFRFTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9ET0RHRV0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl9CVVJOXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkhBUkRfTElHSFRdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU09GVF9MSUdIVF0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5ESUZGRVJFTkNFXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLkVYQ0xVU0lPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5IVUVdID0gW2dsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuU0FUVVJBVElPTl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5DT0xPUl0gPSBbZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5MVU1JTk9TSVRZXSA9IFtnbC5PTkUsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLk5PTkVdID0gWzAsIDBdO1xuXG4gICAgLy8gbm90LXByZW11bHRpcGxpZWQgYmxlbmQgbW9kZXNcbiAgICBhcnJheVtCTEVORF9NT0RFUy5OT1JNQUxfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQUxQSEEsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQV07XG4gICAgYXJyYXlbQkxFTkRfTU9ERVMuQUREX05QTV0gPSBbZ2wuU1JDX0FMUEhBLCBnbC5EU1RfQUxQSEEsIGdsLk9ORSwgZ2wuRFNUX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5TQ1JFRU5fTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLk9ORV9NSU5VU19TUkNfQ09MT1IsIGdsLk9ORSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUl07XG5cbiAgICAvLyBub3QtcHJlbXVsdGlwbGllZCBibGVuZCBtb2Rlc1xuICAgIGFycmF5W0JMRU5EX01PREVTLk5PUk1BTF9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19BTFBIQSwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0FMUEhBXTtcbiAgICBhcnJheVtCTEVORF9NT0RFUy5BRERfTlBNXSA9IFtnbC5TUkNfQUxQSEEsIGdsLkRTVF9BTFBIQSwgZ2wuT05FLCBnbC5EU1RfQUxQSEFdO1xuICAgIGFycmF5W0JMRU5EX01PREVTLlNDUkVFTl9OUE1dID0gW2dsLlNSQ19BTFBIQSwgZ2wuT05FX01JTlVTX1NSQ19DT0xPUiwgZ2wuT05FLCBnbC5PTkVfTUlOVVNfU1JDX0NPTE9SXTtcblxuICAgIHJldHVybiBhcnJheTtcbn1cblxudmFyIEJMRU5EJDEgPSAwO1xudmFyIE9GRlNFVCQxID0gMTtcbnZhciBDVUxMSU5HJDEgPSAyO1xudmFyIERFUFRIX1RFU1QkMSA9IDM7XG52YXIgV0lORElORyQxID0gNDtcblxuLyoqXG4gKiBBIFdlYkdMIHN0YXRlIG1hY2hpbmVzXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlN5c3RlbVxuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICovXG52YXIgU3RhdGVTeXN0ZW0gPSAoZnVuY3Rpb24gKFN5c3RlbSQkMSkge1xuICAgIGZ1bmN0aW9uIFN0YXRlU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtJCQxLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHTCBjb250ZXh0XG4gICAgICAgICAqIEBtZW1iZXIge1dlYkdMUmVuZGVyaW5nQ29udGV4dH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJuIGZyb20gTUFYX1ZFUlRFWF9BVFRSSUJTXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1heEF0dHJpYnMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDaGVjayB3ZSBoYXZlIHZhb1xuICAgICAgICAgKiBAbWVtYmVyIHtPRVNfdmVydGV4X2FycmF5X29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hdGl2ZVZhb0V4dGVuc2lvbiA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEF0dHJpYnV0ZSBzdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKiBAcHJvcGVydHkge0FycmF5fSB0ZW1wQXR0cmliU3RhdGVcbiAgICAgICAgICogQHByb3BlcnR5IHtBcnJheX0gYXR0cmliU3RhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXR0cmliU3RhdGUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdGF0ZSBJRFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zdGF0ZUlkID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9seWdvbiBvZmZzZXRcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9seWdvbk9mZnNldCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJsZW5kIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxN1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gMTc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgY2FsbHNcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb25bXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hcCA9IFtdO1xuXG4gICAgICAgIC8vIG1hcCBmdW5jdGlvbnMgZm9yIHdoZW4gd2Ugc2V0IHN0YXRlLi5cbiAgICAgICAgdGhpcy5tYXBbQkxFTkQkMV0gPSB0aGlzLnNldEJsZW5kO1xuICAgICAgICB0aGlzLm1hcFtPRkZTRVQkMV0gPSB0aGlzLnNldE9mZnNldDtcbiAgICAgICAgdGhpcy5tYXBbQ1VMTElORyQxXSA9IHRoaXMuc2V0Q3VsbEZhY2U7XG4gICAgICAgIHRoaXMubWFwW0RFUFRIX1RFU1QkMV0gPSB0aGlzLnNldERlcHRoVGVzdDtcbiAgICAgICAgdGhpcy5tYXBbV0lORElORyQxXSA9IHRoaXMuc2V0RnJvbnRGYWNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb2xsZWN0aW9uIG9mIGNoZWNrIGNhbGxzXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9uW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGVja3MgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmYXVsdCBXZWJHTCBTdGF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlN0YXRlfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlID0gbmV3IFN0YXRlKCk7XG4gICAgICAgIHRoaXMuZGVmYXVsdFN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0U3RhdGUuZGVwdGggPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtJCQxICkgU3RhdGVTeXN0ZW0uX19wcm90b19fID0gU3lzdGVtJCQxO1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSQkMSAmJiBTeXN0ZW0kJDEucHJvdG90eXBlICk7XG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU3RhdGVTeXN0ZW07XG5cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuY29udGV4dENoYW5nZSA9IGZ1bmN0aW9uIGNvbnRleHRDaGFuZ2UgKGdsKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IGdsO1xuXG4gICAgICAgIHRoaXMubWF4QXR0cmlicyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVkVSVEVYX0FUVFJJQlMpO1xuXG4gICAgICAgIC8vIGNoZWNrIHdlIGhhdmUgdmFvLi5cbiAgICAgICAgdGhpcy5uYXRpdmVWYW9FeHRlbnNpb24gPSAoXG4gICAgICAgICAgICBnbC5nZXRFeHRlbnNpb24oJ09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignTU9aX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgICAgIHx8IGdsLmdldEV4dGVuc2lvbignV0VCS0lUX09FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0JylcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmF0dHJpYlN0YXRlID0ge1xuICAgICAgICAgICAgdGVtcEF0dHJpYlN0YXRlOiBuZXcgQXJyYXkodGhpcy5tYXhBdHRyaWJzKSxcbiAgICAgICAgICAgIGF0dHJpYlN0YXRlOiBuZXcgQXJyYXkodGhpcy5tYXhBdHRyaWJzKSxcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBtYXBXZWJHTEJsZW5kTW9kZXNUb1BpeGkoZ2wpO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUodGhpcy5kZWZhdWx0U3RhdGUpO1xuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBzdGF0ZSAtIFRoZSBzdGF0ZSB0byBzZXQuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gc2V0U3RhdGUgKHN0YXRlKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgc3RhdGUgPSBzdGF0ZSB8fCB0aGlzLmRlZmF1bHRTdGF0ZTtcblxuICAgICAgICAvLyBUT0RPIG1heWJlIHRvIGFuIG9iamVjdCBjaGVjaz8gKCB0aGlzLnN0YXRlID09PSBzdGF0ZSApP1xuICAgICAgICBpZiAodGhpcy5zdGF0ZUlkICE9PSBzdGF0ZS5kYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IHRoaXMuc3RhdGVJZCBeIHN0YXRlLmRhdGE7XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgICAgIC8vIG9yZGVyIGZyb20gbGVhc3QgdG8gbW9zdCBjb21tb25cbiAgICAgICAgICAgIHdoaWxlIChkaWZmKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChkaWZmICYgMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YXRlIGNoYW5nZSFcbiAgICAgICAgICAgICAgICAgICAgdGhpcyQxLm1hcFtpXS5jYWxsKHRoaXMkMSwgISEoc3RhdGUuZGF0YSAmICgxIDw8IGkpKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGlmZiA9IGRpZmYgPj4gMTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGVJZCA9IHN0YXRlLmRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiYXNlZCBvbiB0aGUgYWJvdmUgc2V0dGluZ3Mgd2UgY2hlY2sgZm9yIHNwZWNpZmljIG1vZGVzLi5cbiAgICAgICAgLy8gZm9yIGV4YW1wbGUgaWYgYmxlbmQgaXMgYWN0aXZlIHdlIGNoZWNrIGFuZCBzZXQgdGhlIGJsZW5kIG1vZGVzXG4gICAgICAgIC8vIG9yIG9mIHBvbHlnb24gb2Zmc2V0IGlzIGFjdGl2ZSB3ZSBjaGVjayB0aGUgcG9seSBkZXB0aC5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5jaGVja3MubGVuZ3RoOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLmNoZWNrc1tpJDFdKHRoaXMkMSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZWQgYmxlbmRpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgYmxlbmRpbmcuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEJsZW5kID0gZnVuY3Rpb24gc2V0QmxlbmQgKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVDaGVjayhTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSwgdmFsdWUpO1xuXG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5CTEVORCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgb3IgZGlzYWJsZSBwb2x5Z29uIG9mZnNldCBmaWxsXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgcG9seWdvbiBvZmZzZXQgdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0T2Zmc2V0ID0gZnVuY3Rpb24gc2V0T2Zmc2V0ICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5QT0xZR09OX09GRlNFVF9GSUxMKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGRlcHRoIHRlc3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gVHVybiBvbiBvciBvZmYgd2ViZ2wgZGVwdGggdGVzdGluZy5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUuc2V0RGVwdGhUZXN0ID0gZnVuY3Rpb24gc2V0RGVwdGhUZXN0ICh2YWx1ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZ2xbdmFsdWUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJ10odGhpcy5nbC5ERVBUSF9URVNUKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aGV0aGVyIHRvIGVuYWJsZSBvciBkaXNhYmxlIGN1bGwgZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgLSBUdXJuIG9uIG9yIG9mZiB3ZWJnbCBjdWxsIGZhY2UuXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEN1bGxGYWNlID0gZnVuY3Rpb24gc2V0Q3VsbEZhY2UgKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbFt2YWx1ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnXSh0aGlzLmdsLkNVTExfRkFDRSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGdsIGZyb250IGZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIC0gdHJ1ZSBpcyBjbG9ja3dpc2UgYW5kIGZhbHNlIGlzIGNvdW50ZXItY2xvY2t3aXNlXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEZyb250RmFjZSA9IGZ1bmN0aW9uIHNldEZyb250RmFjZSAodmFsdWUpXG4gICAge1xuICAgICAgICB0aGlzLmdsLmZyb250RmFjZSh0aGlzLmdsW3ZhbHVlID8gJ0NXJyA6ICdDQ1cnXSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJsZW5kIG1vZGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBUaGUgYmxlbmQgbW9kZSB0byBzZXQgdG8uXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnNldEJsZW5kTW9kZSA9IGZ1bmN0aW9uIHNldEJsZW5kTW9kZSAodmFsdWUpXG4gICAge1xuICAgICAgICBpZiAodmFsdWUgPT09IHRoaXMuYmxlbmRNb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IHZhbHVlO1xuXG4gICAgICAgIHZhciBtb2RlID0gdGhpcy5ibGVuZE1vZGVzW3ZhbHVlXTtcblxuICAgICAgICBpZiAobW9kZS5sZW5ndGggPT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2wuYmxlbmRGdW5jKG1vZGVbMF0sIG1vZGVbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5nbC5ibGVuZEZ1bmNTZXBhcmF0ZShtb2RlWzBdLCBtb2RlWzFdLCBtb2RlWzJdLCBtb2RlWzNdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBwb2x5Z29uIG9mZnNldC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIHRoZSBwb2x5Z29uIG9mZnNldFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHRoZSBwb2x5Z29uIG9mZnNldCBzY2FsZVxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5zZXRQb2x5Z29uT2Zmc2V0ID0gZnVuY3Rpb24gc2V0UG9seWdvbk9mZnNldCAodmFsdWUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbC5wb2x5Z29uT2Zmc2V0KHZhbHVlLCBzY2FsZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc2FibGVzIGFsbCB0aGUgdmFvcyBpbiB1c2VcbiAgICAgKlxuICAgICAqL1xuICAgIFN0YXRlU3lzdGVtLnByb3RvdHlwZS5yZXNldEF0dHJpYnV0ZXMgPSBmdW5jdGlvbiByZXNldEF0dHJpYnV0ZXMgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hdHRyaWJTdGF0ZS50ZW1wQXR0cmliU3RhdGUubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMkMS5hdHRyaWJTdGF0ZS50ZW1wQXR0cmliU3RhdGVbaV0gPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdGhpcy5hdHRyaWJTdGF0ZS5hdHRyaWJTdGF0ZS5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzJDEuYXR0cmliU3RhdGUuYXR0cmliU3RhdGVbaSQxXSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbSBnb2luZyB0byBhc3N1bWUgb25lIGlzIGFsd2F5cyBhY3RpdmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDE7IGkkMiA8IHRoaXMubWF4QXR0cmliczsgaSQyKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMkMS5nbC5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoaSQyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyB1c2VkXG4gICAgLyoqXG4gICAgICogUmVzZXRzIGFsbCB0aGUgbG9naWMgYW5kIGRpc2FibGVzIHRoZSB2YW9zXG4gICAgICovXG4gICAgU3RhdGVTeXN0ZW0ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbiAgICB7XG4gICAgICAgIC8vIHVuYmluZCBhbnkgVkFPIGlmIHRoZXkgZXhpc3QuLlxuICAgICAgICBpZiAodGhpcy5uYXRpdmVWYW9FeHRlbnNpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubmF0aXZlVmFvRXh0ZW5zaW9uLmJpbmRWZXJ0ZXhBcnJheU9FUyhudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlc2V0IGFsbCBhdHRyaWJ1dGVzLi5cbiAgICAgICAgdGhpcy5yZXNldEF0dHJpYnV0ZXMoKTtcblxuICAgICAgICB0aGlzLmdsLnBpeGVsU3RvcmVpKHRoaXMuZ2wuVU5QQUNLX0ZMSVBfWV9XRUJHTCwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuc2V0QmxlbmRNb2RlKDApO1xuXG4gICAgICAgIC8vIFRPRE8/XG4gICAgICAgIC8vIHRoaXMuc2V0U3RhdGUodGhpcy5kZWZhdWx0U3RhdGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBjaGVja3MgdG8gc2VlIHdoaWNoIHVwZGF0ZXMgc2hvdWxkIGJlIGNoZWNrZWQgYmFzZWQgb24gd2hpY2ggc2V0dGluZ3MgaGF2ZSBiZWVuIGFjdGl2YXRlZC5cbiAgICAgKiBGb3IgZXhhbXBsZSwgaWYgYmxlbmQgaXMgZW5hYmxlZCB0aGVuIHdlIHNob3VsZCBjaGVjayB0aGUgYmxlbmQgbW9kZXMgZWFjaCB0aW1lIHRoZSBzdGF0ZSBpcyBjaGFuZ2VkXG4gICAgICogb3IgaWYgcG9seWdvbiBmaWxsIGlzIGFjdGl2YXRlZCB0aGVuIHdlIG5lZWQgdG8gY2hlY2sgaWYgdGhlIHBvbHlnb24gb2Zmc2V0IGNoYW5nZXMuXG4gICAgICogVGhlIGlkZWEgaXMgdGhhdCB3ZSBvbmx5IGNoZWNrIHdoYXQgd2UgaGF2ZSB0b28uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jICB0aGUgY2hlY2tpbmcgZnVuY3Rpb24gdG8gYWRkIG9yIHJlbW92ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgIHNob3VsZCB0aGUgY2hlY2sgZnVuY3Rpb24gYmUgYWRkZWQgb3IgcmVtb3ZlZC5cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlQ2hlY2sgPSBmdW5jdGlvbiB1cGRhdGVDaGVjayAoZnVuYywgdmFsdWUpXG4gICAge1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoZWNrcy5pbmRleE9mKGZ1bmMpO1xuXG4gICAgICAgIGlmICh2YWx1ZSAmJiBpbmRleCA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tzLnB1c2goZnVuYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXZhbHVlICYmIGluZGV4ICE9PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHByaXZhdGUgbGl0dGxlIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCB3ZSBjYWxsIHRvIGNoZWNrIHRoZSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlN0YXRlU3lzdGVtfSBTeXN0ZW0gIHRoZSBTeXN0ZW0gdG8gcGVyZm9ybSB0aGUgc3RhdGUgY2hlY2sgb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuU3RhdGV9IHN0YXRlICB0aGUgc3RhdGUgdGhhdCB0aGUgYmxlbmRNb2RlIHdpbGwgcHVsbGVkIGZyb21cbiAgICAgKi9cbiAgICBTdGF0ZVN5c3RlbS5jaGVja0JsZW5kTW9kZSA9IGZ1bmN0aW9uIGNoZWNrQmxlbmRNb2RlIChzeXN0ZW0sIHN0YXRlKVxuICAgIHtcbiAgICAgICAgc3lzdGVtLnNldEJsZW5kTW9kZShzdGF0ZS5ibGVuZE1vZGUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gU3RhdGVTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG4vKipcbiAqIFRleHR1cmVHYXJiYWdlQ29sbGVjdG9yLiBUaGlzIGNsYXNzIG1hbmFnZXMgdGhlIEdQVSBhbmQgZW5zdXJlcyB0aGF0IGl0IGRvZXMgbm90IGdldCBjbG9nZ2VkXG4gKiB1cCB3aXRoIHRleHR1cmVzIHRoYXQgYXJlIG5vIGxvbmdlciBiZWluZyB1c2VkLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuc3lzdGVtc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqL1xudmFyIFRleHR1cmVHQ1N5c3RlbSA9IChmdW5jdGlvbiAoU3lzdGVtJCQxKSB7XG4gICAgZnVuY3Rpb24gVGV4dHVyZUdDU3lzdGVtKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgU3lzdGVtJCQxLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudFxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrIGNvdW50XG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoZWNrQ291bnQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXhpbXVtIGlkbGUgdGltZSwgaW4gc2Vjb25kc1xuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5zZXR0aW5ncy5HQ19NQVhfSURMRVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXhJZGxlID0gc2V0dGluZ3MkMS5HQ19NQVhfSURMRTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTWF4aW11bSBudW1iZXIgb2YgaXRlc20gdG8gY2hlY2tcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuc2V0dGluZ3MuR0NfTUFYX0NIRUNLX0NPVU5UXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoZWNrQ291bnRNYXggPSBzZXR0aW5ncyQxLkdDX01BWF9DSEVDS19DT1VOVDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3VycmVudCBnYXJhYmFnZSBjb2xsZWN0aW9uIG1vZGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5HQ19NT0RFU31cbiAgICAgICAgICogQHNlZSBQSVhJLnNldHRpbmdzLkdDX01PREVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubW9kZSA9IHNldHRpbmdzJDEuR0NfTU9ERTtcbiAgICB9XG5cbiAgICBpZiAoIFN5c3RlbSQkMSApIFRleHR1cmVHQ1N5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW0kJDE7XG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFN5c3RlbSQkMSAmJiBTeXN0ZW0kJDEucHJvdG90eXBlICk7XG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRleHR1cmVHQ1N5c3RlbTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB0byBzZWUgd2hlbiB0aGUgbGFzdCB0aW1lIGEgdGV4dHVyZSB3YXMgdXNlZFxuICAgICAqIGlmIHRoZSB0ZXh0dXJlIGhhcyBub3QgYmVlbiB1c2VkIGZvciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZSBpdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgR1BVXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS5wb3N0cmVuZGVyID0gZnVuY3Rpb24gcG9zdHJlbmRlciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jb3VudCsrO1xuXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09IEdDX01PREVTLk1BTlVBTClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGVja0NvdW50Kys7XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tDb3VudCA+IHRoaXMuY2hlY2tDb3VudE1heClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jaGVja0NvdW50ID0gMDtcblxuICAgICAgICAgICAgdGhpcy5ydW4oKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdG8gc2VlIHdoZW4gdGhlIGxhc3QgdGltZSBhIHRleHR1cmUgd2FzIHVzZWRcbiAgICAgKiBpZiB0aGUgdGV4dHVyZSBoYXMgbm90IGJlZW4gdXNlZCBmb3IgYSBzcGVjaWZpZWQgYW1vdW50IG9mIHRpbWUgaXQgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVVxuICAgICAqL1xuICAgIFRleHR1cmVHQ1N5c3RlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gcnVuICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmU7XG4gICAgICAgIHZhciBtYW5hZ2VkVGV4dHVyZXMgPSAgdG0ubWFuYWdlZFRleHR1cmVzO1xuICAgICAgICB2YXIgd2FzUmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFuYWdlZFRleHR1cmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IG1hbmFnZWRUZXh0dXJlc1tpXTtcblxuICAgICAgICAgICAgLy8gb25seSBzdXBwb3J0cyBub24gZ2VuZXJhdGVkIHRleHR1cmVzIGF0IHRoZSBtb21lbnQhXG4gICAgICAgICAgICBpZiAoIXRleHR1cmUuZnJhbWVCdWZmZXIgJiYgdGhpcyQxLmNvdW50IC0gdGV4dHVyZS50b3VjaGVkID4gdGhpcyQxLm1heElkbGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdG0uZGVzdHJveVRleHR1cmUodGV4dHVyZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgbWFuYWdlZFRleHR1cmVzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3YXNSZW1vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3YXNSZW1vdmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaiA9IDA7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IG1hbmFnZWRUZXh0dXJlcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChtYW5hZ2VkVGV4dHVyZXNbaSQxXSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1hbmFnZWRUZXh0dXJlc1tqKytdID0gbWFuYWdlZFRleHR1cmVzW2kkMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYW5hZ2VkVGV4dHVyZXMubGVuZ3RoID0gajtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB0aGUgdGV4dHVyZXMgd2l0aGluIHRoZSBzcGVjaWZpZWQgZGlzcGxheU9iamVjdCBhbmQgaXRzIGNoaWxkcmVuIGZyb20gdGhlIEdQVVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSB0aGUgZGlzcGxheU9iamVjdCB0byByZW1vdmUgdGhlIHRleHR1cmVzIGZyb20uXG4gICAgICovXG4gICAgVGV4dHVyZUdDU3lzdGVtLnByb3RvdHlwZS51bmxvYWQgPSBmdW5jdGlvbiB1bmxvYWQgKGRpc3BsYXlPYmplY3QpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgdG0gPSB0aGlzLnJlbmRlcmVyLnRleHR1cmVTeXN0ZW07XG5cbiAgICAgICAgLy8gb25seSBkZXN0cm95IG5vbiBnZW5lcmF0ZWQgdGV4dHVyZXNcbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuX3RleHR1cmUgJiYgZGlzcGxheU9iamVjdC5fdGV4dHVyZS5fZ2xSZW5kZXJUYXJnZXRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0bS5kZXN0cm95VGV4dHVyZShkaXNwbGF5T2JqZWN0Ll90ZXh0dXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzJDEudW5sb2FkKGRpc3BsYXlPYmplY3QuY2hpbGRyZW5baV0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0dXJlR0NTeXN0ZW07XG59KFN5c3RlbSkpO1xuXG52YXIgR0xUZXh0dXJlID0gZnVuY3Rpb24gR0xUZXh0dXJlKHRleHR1cmUpXG57XG4gICAgLyoqXG4gICAgICogVGhlIFdlYkdMIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1dlYkdMVGV4dHVyZX1cbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlO1xuXG4gICAgdGhpcy53aWR0aCA9IC0xO1xuICAgIHRoaXMuaGVpZ2h0ID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBUZXh0dXJlIGNvbnRlbnRzIGRpcnR5IGZsYWdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5kaXJ0eUlkID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBUZXh0dXJlIHN0eWxlIGRpcnR5IGZsYWdcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuZGlydHlTdHlsZUlkID0gLTE7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG1pcCBsZXZlbHMgaGFzIHRvIGJlIGdlbmVyYXRlZFxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMubWlwbWFwID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TeXN0ZW1cbiAqIEBtZW1iZXJvZiBQSVhJLnN5c3RlbXNcbiAqL1xudmFyIFRleHR1cmVTeXN0ZW0gPSAoZnVuY3Rpb24gKFN5c3RlbSQkMSkge1xuICAgIGZ1bmN0aW9uIFRleHR1cmVTeXN0ZW0ocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBTeXN0ZW0kJDEuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLy8gVE9ETyBzZXQgdG8gbWF4IHRleHR1cmVzLi4uXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3VuZCB0ZXh0dXJlc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkJhc2VUZXh0dXJlW119XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ib3VuZFRleHR1cmVzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IGxvY2F0aW9uXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRMb2NhdGlvbiA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBMaXN0IG9mIG1hbmFnZWQgdGV4dHVyZXNcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5CYXNlVGV4dHVyZXNbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1hbmFnZWRUZXh0dXJlcyA9IFtdO1xuICAgIH1cblxuICAgIGlmICggU3lzdGVtJCQxICkgVGV4dHVyZVN5c3RlbS5fX3Byb3RvX18gPSBTeXN0ZW0kJDE7XG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTeXN0ZW0kJDEgJiYgU3lzdGVtJCQxLnByb3RvdHlwZSApO1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVGV4dHVyZVN5c3RlbTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdXAgdGhlIHJlbmRlcmVyIGNvbnRleHQgYW5kIG5lY2Vzc2FyeSBidWZmZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG5cbiAgICAgICAgdmFyIG1heFRleHR1cmVzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcblxuICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXMubGVuZ3RoID0gbWF4VGV4dHVyZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzJDEuYm91bmRUZXh0dXJlc1tpXSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIG1vdmUgdGhpcy4uIHRvIGEgbmljZSBtYWtlIGVtcHR5IHRleHR1cmVzIGNsYXNzLi5cbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzID0ge307XG5cbiAgICAgICAgdmFyIGVtcHR5VGV4dHVyZTJEID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGVtcHR5VGV4dHVyZTJELnRleHR1cmUpO1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG5ldyBVaW50OEFycmF5KDQpKTtcblxuICAgICAgICB0aGlzLmVtcHR5VGV4dHVyZXNbZ2wuVEVYVFVSRV8yRF0gPSBlbXB0eVRleHR1cmUyRDtcbiAgICAgICAgdGhpcy5lbXB0eVRleHR1cmVzW2dsLlRFWFRVUkVfQ1VCRV9NQVBdID0gbmV3IEdMVGV4dHVyZShnbC5jcmVhdGVUZXh0dXJlKCkpO1xuXG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfQ1VCRV9NQVAsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFX0NVQkVfTUFQXS50ZXh0dXJlKTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCA2OyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1ggKyBpJDEsIDAsIGdsLlJHQkEsIDEsIDEsIDAsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFX0NVQkVfTUFQLCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLkxJTkVBUik7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV9DVUJFX01BUCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkkMisrKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzJDEuYmluZChudWxsLCBpJDIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEJpbmQgYSB0ZXh0dXJlIHRvIGEgc3BlY2lmaWMgbG9jYXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlfFBJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGJpbmRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xvY2F0aW9uPTBdIC0gTG9jYXRpb24gdG8gYmluZCBhdFxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kICh0ZXh0dXJlLCBsb2NhdGlvbilcbiAgICB7XG4gICAgICAgIGlmICggbG9jYXRpb24gPT09IHZvaWQgMCApIGxvY2F0aW9uID0gMDtcblxuICAgICAgICB2YXIgcmVmID0gdGhpcztcbiAgICAgICAgdmFyIGdsID0gcmVmLmdsO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2NhdGlvbiAhPT0gbG9jYXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwICsgbG9jYXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRleHR1cmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmUgPSB0ZXh0dXJlLmJhc2VUZXh0dXJlIHx8IHRleHR1cmU7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlLnZhbGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRleHR1cmUudG91Y2hlZCA9IHRoaXMucmVuZGVyZXIudGV4dHVyZUdDLmNvdW50O1xuXG4gICAgICAgICAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF0gfHwgdGhpcy5pbml0VGV4dHVyZSh0ZXh0dXJlKTtcblxuICAgICAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKHRleHR1cmUudGFyZ2V0LCBnbFRleHR1cmUudGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2xUZXh0dXJlLmRpcnR5SWQgIT09IHRleHR1cmUuZGlydHlJZClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSh0ZXh0dXJlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmJvdW5kVGV4dHVyZXNbbG9jYXRpb25dID0gdGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRoaXMuZW1wdHlUZXh0dXJlc1tnbC5URVhUVVJFXzJEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRoaXMuYm91bmRUZXh0dXJlc1tsb2NhdGlvbl0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVuYmluZCBhIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGV4dHVyZXxQSVhJLkJhc2VUZXh0dXJlfSB0ZXh0dXJlIC0gVGV4dHVyZSB0byBiaW5kXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gdW5iaW5kICh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHJlZiA9IHRoaXM7XG4gICAgICAgIHZhciBnbCA9IHJlZi5nbDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYm91bmRUZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMkMS5ib3VuZFRleHR1cmVzW2ldID09PSB0ZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzJDEuY3VycmVudExvY2F0aW9uICE9PSBpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCArIGkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzJDEuY3VycmVudExvY2F0aW9uID0gaTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0aGlzJDEuZW1wdHlUZXh0dXJlc1t0ZXh0dXJlLnRhcmdldF0udGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgdGhpcyQxLmJvdW5kVGV4dHVyZXNbaV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemUgYSB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gaW5pdGlhbGl6ZVxuICAgICAqL1xuICAgIFRleHR1cmVTeXN0ZW0ucHJvdG90eXBlLmluaXRUZXh0dXJlID0gZnVuY3Rpb24gaW5pdFRleHR1cmUgKHRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgZ2xUZXh0dXJlID0gbmV3IEdMVGV4dHVyZSh0aGlzLmdsLmNyZWF0ZVRleHR1cmUoKSk7XG5cbiAgICAgICAgLy8gZ3VhcmFudGVlIGFuIHVwZGF0ZS4uXG4gICAgICAgIGdsVGV4dHVyZS5kaXJ0eUlkID0gLTE7XG5cbiAgICAgICAgdGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLkNPTlRFWFRfVUlEXSA9IGdsVGV4dHVyZTtcblxuICAgICAgICB0aGlzLm1hbmFnZWRUZXh0dXJlcy5wdXNoKHRleHR1cmUpO1xuICAgICAgICB0ZXh0dXJlLm9uKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgcmV0dXJuIGdsVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGEgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIGluaXRpYWxpemVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSAodGV4dHVyZSlcbiAgICB7XG4gICAgICAgIHZhciBnbFRleHR1cmUgPSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMuQ09OVEVYVF9VSURdO1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyO1xuXG4gICAgICAgIGlmICh0ZXh0dXJlLnJlc291cmNlICYmIHRleHR1cmUucmVzb3VyY2UudXBsb2FkKHJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIHVwbG9hZGVkLCBkb250IGRvIGFueXRoaW5nIVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZGVmYXVsdCwgcmVuZGVyVGV4dHVyZS1saWtlIGxvZ2ljXG4gICAgICAgICAgICB2YXIgd2lkdGggPSB0ZXh0dXJlLnJlYWxXaWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0ZXh0dXJlLnJlYWxIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAgICAgaWYgKGdsVGV4dHVyZS53aWR0aCAhPT0gd2lkdGhcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuaGVpZ2h0ICE9PSBoZWlnaHRcbiAgICAgICAgICAgICAgICB8fCBnbFRleHR1cmUuZGlydHlJZCA8IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgICAgICAgZ2xUZXh0dXJlLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgICAgIGdsLnRleEltYWdlMkQodGV4dHVyZS50YXJnZXQsIDAsXG4gICAgICAgICAgICAgICAgICAgIHRleHR1cmUuZm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLmZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS50eXBlLFxuICAgICAgICAgICAgICAgICAgICBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGxldHMgb25seSB1cGRhdGUgd2hhdCBjaGFuZ2VzLi5cbiAgICAgICAgaWYgKHRleHR1cmUuZGlydHlTdHlsZUlkICE9PSBnbFRleHR1cmUuZGlydHlTdHlsZUlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmVTdHlsZSh0ZXh0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBnbFRleHR1cmUuZGlydHlJZCA9IHRleHR1cmUuZGlydHlJZDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgdGV4dHVyZSBmcm9tIFdlYkdMXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZXxQSVhJLlRleHR1cmV9IHRleHR1cmUgLSB0aGUgdGV4dHVyZSB0byBkZXN0cm95XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbc2tpcFJlbW92ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHNraXAgcmVtb3ZpbmcgdGhlIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZU1hbmFnZXIuXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUuZGVzdHJveVRleHR1cmUgPSBmdW5jdGlvbiBkZXN0cm95VGV4dHVyZSAodGV4dHVyZSwgc2tpcFJlbW92ZSlcbiAgICB7XG4gICAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgICB2YXIgZ2wgPSByZWYuZ2w7XG5cbiAgICAgICAgdGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmUgfHwgdGV4dHVyZTtcblxuICAgICAgICBpZiAodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bmJpbmQodGV4dHVyZSk7XG5cbiAgICAgICAgICAgIGdsLmRlbGV0ZVRleHR1cmUodGV4dHVyZS5fZ2xUZXh0dXJlc1t0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEXS50ZXh0dXJlKTtcbiAgICAgICAgICAgIHRleHR1cmUub2ZmKCdkaXNwb3NlJywgdGhpcy5kZXN0cm95VGV4dHVyZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSB0ZXh0dXJlLl9nbFRleHR1cmVzW3RoaXMucmVuZGVyZXIuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgICAgICBpZiAoIXNraXBSZW1vdmUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSB0aGlzLm1hbmFnZWRUZXh0dXJlcy5pbmRleE9mKHRleHR1cmUpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXModGhpcy5tYW5hZ2VkVGV4dHVyZXMsIGksIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGV4dHVyZSBzdHlsZSBzdWNoIGFzIG1pcG1hcCBmbGFnXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5CYXNlVGV4dHVyZX0gdGV4dHVyZSAtIFRleHR1cmUgdG8gdXBkYXRlXG4gICAgICovXG4gICAgVGV4dHVyZVN5c3RlbS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZVN0eWxlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZVN0eWxlICh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgdmFyIGdsVGV4dHVyZSA9IHRleHR1cmUuX2dsVGV4dHVyZXNbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgZ2xUZXh0dXJlLm1pcG1hcCA9IHRleHR1cmUubWlwbWFwICYmIHRleHR1cmUuaXNQb3dlck9mVHdvO1xuICAgICAgICBpZiAoIWdsVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRleHR1cmUucmVzb3VyY2UgJiYgdGV4dHVyZS5yZXNvdXJjZS5zdHlsZSh0aGlzLnJlbmRlcmVyLCB0ZXh0dXJlLCBnbFRleHR1cmUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdHlsZSBpcyBzZXQsIGRvbnQgZG8gYW55dGhpbmchXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNldFN0eWxlKHRleHR1cmUsIGdsVGV4dHVyZSk7XG4gICAgICAgIH1cblxuICAgICAgICBnbFRleHR1cmUuZGlydHlTdHlsZUlkID0gdGV4dHVyZS5kaXJ0eVN0eWxlSWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCBzdHlsZSBmb3IgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuQmFzZVRleHR1cmV9IHRleHR1cmUgLSBUZXh0dXJlIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Z2xUZXh0dXJlfSBnbFRleHR1cmVcbiAgICAgKi9cbiAgICBUZXh0dXJlU3lzdGVtLnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIHNldFN0eWxlICh0ZXh0dXJlLCBnbFRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgZ2wgPSB0aGlzLmdsO1xuXG4gICAgICAgIGlmIChnbFRleHR1cmUubWlwbWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC5nZW5lcmF0ZU1pcG1hcCh0ZXh0dXJlLnRhcmdldCk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX1dSQVBfUywgdGV4dHVyZS53cmFwTW9kZSk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkodGV4dHVyZS50YXJnZXQsIGdsLlRFWFRVUkVfV1JBUF9ULCB0ZXh0dXJlLndyYXBNb2RlKTtcblxuICAgICAgICBpZiAoZ2xUZXh0dXJlLm1pcG1hcClcbiAgICAgICAge1xuICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgZ2wudGV4UGFyYW1ldGVyaSh0ZXh0dXJlLnRhcmdldCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCB0ZXh0dXJlLnNjYWxlTW9kZSA/IGdsLkxJTkVBUl9NSVBNQVBfTElORUFSIDogZ2wuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVCk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01JTl9GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG4gICAgICAgIH1cblxuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKHRleHR1cmUudGFyZ2V0LCBnbC5URVhUVVJFX01BR19GSUxURVIsIHRleHR1cmUuc2NhbGVNb2RlID8gZ2wuTElORUFSIDogZ2wuTkVBUkVTVCk7XG4gICAgfTtcblxuICAgIHJldHVybiBUZXh0dXJlU3lzdGVtO1xufShTeXN0ZW0pKTtcblxuLyoqXG4gKiBTeXN0ZW1zIGFyZSBpbmRpdmlkdWFsIGNvbXBvbmVudHMgdG8gdGhlIFJlbmRlcmVyIHBpcGVsaW5lLlxuICogQG5hbWVzcGFjZSBQSVhJLnN5c3RlbXNcbiAqL1xuXG5cblxudmFyIHN5c3RlbXMgPSAoe1xuXHRGaWx0ZXJTeXN0ZW06IEZpbHRlclN5c3RlbSxcblx0QmF0Y2hTeXN0ZW06IEJhdGNoU3lzdGVtLFxuXHRDb250ZXh0U3lzdGVtOiBDb250ZXh0U3lzdGVtLFxuXHRGcmFtZWJ1ZmZlclN5c3RlbTogRnJhbWVidWZmZXJTeXN0ZW0sXG5cdEdlb21ldHJ5U3lzdGVtOiBHZW9tZXRyeVN5c3RlbSxcblx0TWFza1N5c3RlbTogTWFza1N5c3RlbSxcblx0U3RlbmNpbFN5c3RlbTogU3RlbmNpbFN5c3RlbSxcblx0UHJvamVjdGlvblN5c3RlbTogUHJvamVjdGlvblN5c3RlbSxcblx0UmVuZGVyVGV4dHVyZVN5c3RlbTogUmVuZGVyVGV4dHVyZVN5c3RlbSxcblx0U2hhZGVyU3lzdGVtOiBTaGFkZXJTeXN0ZW0sXG5cdFN0YXRlU3lzdGVtOiBTdGF0ZVN5c3RlbSxcblx0VGV4dHVyZUdDU3lzdGVtOiBUZXh0dXJlR0NTeXN0ZW0sXG5cdFRleHR1cmVTeXN0ZW06IFRleHR1cmVTeXN0ZW1cbn0pO1xuXG52YXIgdGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuLyoqXG4gKiBUaGUgQWJzdHJhY3RSZW5kZXJlciBpcyB0aGUgYmFzZSBmb3IgYSBQaXhpSlMgUmVuZGVyZXIuIEl0IGlzIGV4dGVuZGVkIGJ5IHRoZSB7QGxpbmsgUElYSS5DYW52YXNSZW5kZXJlcn1cbiAqIGFuZCB7QGxpbmsgUElYSS5SZW5kZXJlcn0gd2hpY2ggY2FuIGJlIHVzZWQgZm9yIHJlbmRlcmluZyBhIFBpeGlKUyBzY2VuZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgRXZlbnRFbWl0dGVyXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQWJzdHJhY3RSZW5kZXJlciA9IChmdW5jdGlvbiAoRXZlbnRFbWl0dGVyJCQxKSB7XG4gICAgZnVuY3Rpb24gQWJzdHJhY3RSZW5kZXJlcihzeXN0ZW0sIG9wdGlvbnMsIGFyZzIsIGFyZzMpXG4gICAge1xuICAgICAgICBFdmVudEVtaXR0ZXIkJDEuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBTdXBwb3J0IGZvciBjb25zdHJ1Y3RvcihzeXN0ZW0sIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQsIG9wdGlvbnMpXG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGFyZzIgfHwgc2V0dGluZ3MkMS5SRU5ERVJfT1BUSU9OUy5oZWlnaHQsXG4gICAgICAgICAgICB9LCBhcmczKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCB0aGUgZGVmYXVsdCByZW5kZXIgb3B0aW9uc1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgc2V0dGluZ3MkMS5SRU5ERVJfT1BUSU9OUywgb3B0aW9ucyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdXBwbGllZCBjb25zdHJ1Y3RvciBvcHRpb25zLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHR5cGUgb2YgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuUkVOREVSRVJfVFlQRS5VTktOT1dOXG4gICAgICAgICAqIEBzZWUgUElYSS5SRU5ERVJFUl9UWVBFXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBSRU5ERVJFUl9UWVBFLlVOS05PV047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1lYXN1cmVtZW50cyBvZiB0aGUgc2NyZWVuLiAoMCwgMCwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEl0cyBzYWZlIHRvIHVzZSBhcyBmaWx0ZXJBcmVhIG9yIGhpdEFyZWEgZm9yIHRoZSB3aG9sZSBzdGFnZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5SZWN0YW5nbGV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNjcmVlbiA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgb3B0aW9ucy53aWR0aCwgb3B0aW9ucy5oZWlnaHQpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtIVE1MQ2FudmFzRWxlbWVudH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmlldyA9IG9wdGlvbnMudmlldyB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IG9wdGlvbnMucmVzb2x1dGlvbiB8fCBzZXR0aW5ncyQxLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIHJlbmRlciB2aWV3IGlzIHRyYW5zcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFuc3BhcmVudCA9IG9wdGlvbnMudHJhbnNwYXJlbnQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgQ1NTIGRpbWVuc2lvbnMgb2YgY2FudmFzIHZpZXcgc2hvdWxkIGJlIHJlc2l6ZWQgdG8gc2NyZWVuIGRpbWVuc2lvbnMgYXV0b21hdGljYWxseS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYXV0b0RlbnNpdHkgPSBvcHRpb25zLmF1dG9EZW5zaXR5IHx8IG9wdGlvbnMuYXV0b1Jlc2l6ZSB8fCBmYWxzZTtcbiAgICAgICAgLy8gYXV0b1Jlc2l6ZSBpcyBkZXByZWNhdGVkLCBwcm92aWRlcyBmYWxsYmFjayBzdXBwb3J0XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrcyB0aGUgYmxlbmQgbW9kZXMgdXNlZnVsIGZvciB0aGlzIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8c3RyaW5nLCBtaXhlZD59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJsZW5kTW9kZXMgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIHByZXNlcnZlRHJhd2luZ0J1ZmZlciBmbGFnIGFmZmVjdHMgd2hldGhlciBvciBub3QgdGhlIGNvbnRlbnRzIG9mXG4gICAgICAgICAqIHRoZSBzdGVuY2lsIGJ1ZmZlciBpcyByZXRhaW5lZCBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByZXNlcnZlRHJhd2luZ0J1ZmZlciA9IG9wdGlvbnMucHJlc2VydmVEcmF3aW5nQnVmZmVyO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHNldHMgaWYgdGhlIENhbnZhc1JlbmRlcmVyIHdpbGwgY2xlYXIgdGhlIGNhbnZhcyBvciBub3QgYmVmb3JlIHRoZSBuZXcgcmVuZGVyIHBhc3MuXG4gICAgICAgICAqIElmIHRoZSBzY2VuZSBpcyBOT1QgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGEgY2FudmFzIHNpemVkIGZpbGxSZWN0IG9wZXJhdGlvbiBldmVyeVxuICAgICAgICAgKiBmcmFtZSB0byBzZXQgdGhlIGNhbnZhcyBiYWNrZ3JvdW5kIGNvbG9yLiBJZiB0aGUgc2NlbmUgaXMgdHJhbnNwYXJlbnQgUGl4aUpTIHdpbGwgdXNlIGNsZWFyUmVjdFxuICAgICAgICAgKiB0byBjbGVhciB0aGUgY2FudmFzIGV2ZXJ5IGZyYW1lLiBEaXNhYmxlIHRoaXMgYnkgc2V0dGluZyB0aGlzIHRvIGZhbHNlLiBGb3IgZXhhbXBsZSwgaWZcbiAgICAgICAgICogeW91ciBnYW1lIGhhcyBhIGNhbnZhcyBmaWxsaW5nIGJhY2tncm91bmQgaW1hZ2UgeW91IG9mdGVuIGRvbid0IG5lZWQgdGhpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNsZWFyQmVmb3JlUmVuZGVyID0gb3B0aW9ucy5jbGVhckJlZm9yZVJlbmRlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogSGFuZHkgZm9yIGNyaXNwIHBpeGVsIGFydCBhbmQgc3BlZWQgb24gbGVnYWN5IGRldmljZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdW5kUGl4ZWxzID0gb3B0aW9ucy5yb3VuZFBpeGVscztcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBudW1iZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IDB4MDAwMDAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciBhcyBhbiBbUiwgRywgQl0gYXJyYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJhY2tncm91bmQgY29sb3IgYXMgYSBzdHJpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9ICcjMDAwMDAwJztcblxuICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9IG9wdGlvbnMuYmFja2dyb3VuZENvbG9yIHx8IHRoaXMuX2JhY2tncm91bmRDb2xvcjsgLy8gcnVuIGJnIGNvbG9yIHNldHRlclxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGlzIHRlbXBvcmFyeSBkaXNwbGF5IG9iamVjdCB1c2VkIGFzIHRoZSBwYXJlbnQgb2YgdGhlIGN1cnJlbnRseSBiZWluZyByZW5kZXJlZCBpdGVtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBDb250YWluZXIoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3Qgcm9vdCBvYmplY3QgdGhhdCB0aGUgcmVuZGVyZXIgdHJpZWQgdG8gcmVuZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29sbGVjdGlvbiBvZiBwbHVnaW5zLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5zID0ge307XG4gICAgfVxuXG4gICAgaWYgKCBFdmVudEVtaXR0ZXIkJDEgKSBBYnN0cmFjdFJlbmRlcmVyLl9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlciQkMTtcbiAgICBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEV2ZW50RW1pdHRlciQkMSAmJiBFdmVudEVtaXR0ZXIkJDEucHJvdG90eXBlICk7XG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBYnN0cmFjdFJlbmRlcmVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJhY2tncm91bmRDb2xvcjogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSB0aGUgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3RhdGljTWFwIC0gVGhlIGRpY3Rpb25hcnkgb2Ygc3RhdGljYWxseSBzYXZlZCBwbHVnaW5zLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmluaXRQbHVnaW5zID0gZnVuY3Rpb24gaW5pdFBsdWdpbnMgKHN0YXRpY01hcClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGZvciAodmFyIG8gaW4gc3RhdGljTWFwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzJDEucGx1Z2luc1tvXSA9IG5ldyAoc3RhdGljTWFwW29dKSh0aGlzJDEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgdmlldy53aWR0aCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSBob3Jpem9udGFsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBkZWZhdWx0IDgwMFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlldy53aWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2FtZSBhcyB2aWV3LmhlaWdodCwgYWN0dWFsIG51bWJlciBvZiBwaXhlbHMgaW4gdGhlIGNhbnZhcyBieSB2ZXJ0aWNhbC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAZGVmYXVsdCA2MDBcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3LmhlaWdodDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzaXplcyB0aGUgc2NyZWVuIGFuZCBjYW52YXMgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqIENhbnZhcyBkaW1lbnNpb25zIGFyZSBtdWx0aXBsaWVkIGJ5IHJlc29sdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NyZWVuV2lkdGggLSBUaGUgbmV3IHdpZHRoIG9mIHRoZSBzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbkhlaWdodCAtIFRoZSBuZXcgaGVpZ2h0IG9mIHRoZSBzY3JlZW4uXG4gICAgICovXG4gICAgQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gcmVzaXplIChzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5zY3JlZW4ud2lkdGggPSBzY3JlZW5XaWR0aDtcbiAgICAgICAgdGhpcy5zY3JlZW4uaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMudmlldy53aWR0aCA9IHNjcmVlbldpZHRoICogdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0aGlzLnZpZXcuaGVpZ2h0ID0gc2NyZWVuSGVpZ2h0ICogdGhpcy5yZXNvbHV0aW9uO1xuXG4gICAgICAgIGlmICh0aGlzLmF1dG9EZW5zaXR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXcuc3R5bGUud2lkdGggPSBzY3JlZW5XaWR0aCArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMudmlldy5zdHlsZS5oZWlnaHQgPSBzY3JlZW5IZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXNlZnVsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHRleHR1cmUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgY2FuIHRoZW4gYmUgdXNlZCB0byBjcmVhdGUgc3ByaXRlc1xuICAgICAqIFRoaXMgY2FuIGJlIHF1aXRlIHVzZWZ1bCBpZiB5b3VyIGRpc3BsYXlPYmplY3QgaXMgY29tcGxpY2F0ZWQgYW5kIG5lZWRzIHRvIGJlIHJldXNlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXlPYmplY3QgdGhlIG9iamVjdCB3aWxsIGJlIGdlbmVyYXRlZCBmcm9tLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZU1vZGUgLSBTaG91bGQgYmUgb25lIG9mIHRoZSBzY2FsZU1vZGUgY29uc3RzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uIC0gVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIHRleHR1cmUgYmVpbmcgZ2VuZXJhdGVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZWN0YW5nbGV9IFtyZWdpb25dIC0gVGhlIHJlZ2lvbiBvZiB0aGUgZGlzcGxheU9iamVjdCwgdGhhdCBzaGFsbCBiZSByZW5kZXJlZCxcbiAgICAgKiAgICAgICAgaWYgbm8gcmVnaW9uIGlzIHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IEEgdGV4dHVyZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0LlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlVGV4dHVyZSA9IGZ1bmN0aW9uIGdlbmVyYXRlVGV4dHVyZSAoZGlzcGxheU9iamVjdCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uLCByZWdpb24pXG4gICAge1xuICAgICAgICByZWdpb24gPSByZWdpb24gfHwgZGlzcGxheU9iamVjdC5nZXRMb2NhbEJvdW5kcygpO1xuXG4gICAgICAgIC8vIG1pbmltdW0gdGV4dHVyZSBzaXplIGlzIDF4MSwgMHgwIHdpbGwgdGhyb3cgYW4gZXJyb3JcbiAgICAgICAgaWYgKHJlZ2lvbi53aWR0aCA9PT0gMCkgeyByZWdpb24ud2lkdGggPSAxOyB9XG4gICAgICAgIGlmIChyZWdpb24uaGVpZ2h0ID09PSAwKSB7IHJlZ2lvbi5oZWlnaHQgPSAxOyB9XG5cbiAgICAgICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShyZWdpb24ud2lkdGggfCAwLCByZWdpb24uaGVpZ2h0IHwgMCwgc2NhbGVNb2RlLCByZXNvbHV0aW9uKTtcblxuICAgICAgICB0ZW1wTWF0cml4LnR4ID0gLXJlZ2lvbi54O1xuICAgICAgICB0ZW1wTWF0cml4LnR5ID0gLXJlZ2lvbi55O1xuXG4gICAgICAgIHRoaXMucmVuZGVyKGRpc3BsYXlPYmplY3QsIHJlbmRlclRleHR1cmUsIGZhbHNlLCB0ZW1wTWF0cml4LCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gcmVuZGVyVGV4dHVyZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBldmVyeXRoaW5nIGZyb20gdGhlIHJlbmRlcmVyIGFuZCBvcHRpb25hbGx5IHJlbW92ZXMgdGhlIENhbnZhcyBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIC0gUmVtb3ZlcyB0aGUgQ2FudmFzIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxuICAgICAqL1xuICAgIEFic3RyYWN0UmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChyZW1vdmVWaWV3KVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgZm9yICh2YXIgbyBpbiB0aGlzJDEucGx1Z2lucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLnBsdWdpbnNbb10uZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcyQxLnBsdWdpbnNbb10gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbW92ZVZpZXcgJiYgdGhpcy52aWV3LnBhcmVudE5vZGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlldyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsdWdpbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudHlwZSA9IFJFTkRFUkVSX1RZUEUuVU5LTk9XTjtcblxuICAgICAgICB0aGlzLnZpZXcgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2NyZWVuID0gbnVsbDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSAwO1xuXG4gICAgICAgIHRoaXMudHJhbnNwYXJlbnQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmF1dG9EZW5zaXR5ID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5ibGVuZE1vZGVzID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMucHJlc2VydmVEcmF3aW5nQnVmZmVyID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2xlYXJCZWZvcmVSZW5kZXIgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnJvdW5kUGl4ZWxzID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yID0gMDtcbiAgICAgICAgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvclN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9sYXN0T2JqZWN0UmVuZGVyZWQgPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2dyb3VuZCBjb2xvciB0byBmaWxsIGlmIG5vdCB0cmFuc3BhcmVudFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5iYWNrZ3JvdW5kQ29sb3IuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iYWNrZ3JvdW5kQ29sb3I7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5iYWNrZ3JvdW5kQ29sb3Iuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2JhY2tncm91bmRDb2xvciA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9iYWNrZ3JvdW5kQ29sb3JTdHJpbmcgPSBoZXgyc3RyaW5nKHZhbHVlKTtcbiAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy5fYmFja2dyb3VuZENvbG9yUmdiYSk7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBBYnN0cmFjdFJlbmRlcmVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQWJzdHJhY3RSZW5kZXJlcjtcbn0oRXZlbnRFbWl0dGVyKSk7XG5cbi8qKlxuICogVGhlIFJlbmRlcmVyIGRyYXdzIHRoZSBzY2VuZSBhbmQgYWxsIGl0cyBjb250ZW50IG9udG8gYSBXZWJHTCBlbmFibGVkIGNhbnZhcy4gVGhpcyByZW5kZXJlclxuICogc2hvdWxkIGJlIHVzZWQgZm9yIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBXZWJHTC4gVGhpcyByZW5kZXJlciB3b3JrcyBieSBhdXRvbWF0aWNhbGx5IG1hbmFnaW5nIFdlYkdMQmF0Y2hlcy5cbiAqIFNvIG5vIG5lZWQgZm9yIFNwcml0ZSBCYXRjaGVzIG9yIFNwcml0ZSBDbG91ZHMuXG4gKiBEb24ndCBmb3JnZXQgdG8gYWRkIHRoZSB2aWV3IHRvIHlvdXIgRE9NIG9yIHlvdSB3aWxsIG5vdCBzZWUgYW55dGhpbmcgOikuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5BYnN0cmFjdFJlbmRlcmVyXG4gKi9cbnZhciBSZW5kZXJlciA9IChmdW5jdGlvbiAoQWJzdHJhY3RSZW5kZXJlciQkMSkge1xuICAgIGZ1bmN0aW9uIFJlbmRlcmVyKG9wdGlvbnMsIGFyZzIsIGFyZzMpXG4gICAge1xuICAgICAgICBpZiAoIG9wdGlvbnMgPT09IHZvaWQgMCApIG9wdGlvbnMgPSB7fTtcblxuICAgICAgICBBYnN0cmFjdFJlbmRlcmVyJCQxLmNhbGwodGhpcywgJ1dlYkdMJywgb3B0aW9ucywgYXJnMiwgYXJnMyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0eXBlIG9mIHRoaXMgcmVuZGVyZXIgYXMgYSBzdGFuZGFyZGl6ZWQgY29uc3RcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAc2VlIFBJWEkuUkVOREVSRVJfVFlQRVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gUkVOREVSRVJfVFlQRS5XRUJHTDtcblxuICAgICAgICAvLyB0aGlzIHdpbGwgYmUgc2V0IGJ5IHRoZSBjb250ZXh0U3lzdGVtICh0aGlzLmNvbnRleHQpXG4gICAgICAgIHRoaXMuZ2wgPSBudWxsO1xuICAgICAgICB0aGlzLkNPTlRFWFRfVUlEID0gMDtcblxuICAgICAgICAvLyBUT0RPIGxlZ2FjeSFcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgc2lnbmFsIGluc3RhbmNlcyBvZiAqKm1pbmktcnVubmVyKiosIHRoZXNlXG4gICAgICAgICAqIGFyZSBhc3NpZ25lZCB0byBlYWNoIHN5c3RlbSBjcmVhdGVkLlxuICAgICAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29kQm95RGlnaXRhbC9taW5pLXJ1bm5lclxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlcmVyI3J1bm5lcnNcbiAgICAgICAgICogQHR5cGUge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UnVubmVyfSBkZXN0cm95IC0gRGVzdHJveSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtSdW5uZXJ9IGNvbnRleHRDaGFuZ2UgLSBDb250ZXh0IGNoYW5nZSBydW5uZXJcbiAgICAgICAgICogQHByb3BlcnR5IHtSdW5uZXJ9IHJlc2V0IC0gUmVzZXQgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UnVubmVyfSB1cGRhdGUgLSBVcGRhdGUgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UnVubmVyfSBwb3N0cmVuZGVyIC0gUG9zdC1yZW5kZXIgcnVubmVyXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7UnVubmVyfSBwcmVyZW5kZXIgLSBQcmUtcmVuZGVyIHJ1bm5lclxuICAgICAgICAgKiBAcHJvcGVydHkge1J1bm5lcn0gcmVzaXplIC0gUmVzaXplIHJ1bm5lclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ydW5uZXJzID0ge1xuICAgICAgICAgICAgZGVzdHJveTogbmV3IFJ1bm5lcignZGVzdHJveScpLFxuICAgICAgICAgICAgY29udGV4dENoYW5nZTogbmV3IFJ1bm5lcignY29udGV4dENoYW5nZScsIDEpLFxuICAgICAgICAgICAgcmVzZXQ6IG5ldyBSdW5uZXIoJ3Jlc2V0JyksXG4gICAgICAgICAgICB1cGRhdGU6IG5ldyBSdW5uZXIoJ3VwZGF0ZScpLFxuICAgICAgICAgICAgcG9zdHJlbmRlcjogbmV3IFJ1bm5lcigncG9zdHJlbmRlcicpLFxuICAgICAgICAgICAgcHJlcmVuZGVyOiBuZXcgUnVubmVyKCdwcmVyZW5kZXInKSxcbiAgICAgICAgICAgIHJlc2l6ZTogbmV3IFJ1bm5lcigncmVzaXplJywgMiksXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdsb2JhbCB1bmlmb3Jtc1xuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlVuaWZvcm1Hcm91cH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsVW5pZm9ybXMgPSBuZXcgVW5pZm9ybUdyb3VwKHtcbiAgICAgICAgICAgIHByb2plY3Rpb25NYXRyaXg6IG5ldyBNYXRyaXgoKSxcbiAgICAgICAgfSwgdHJ1ZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hc2sgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5NYXNrU3lzdGVtfSBtYXNrXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWRkU3lzdGVtKE1hc2tTeXN0ZW0sICdtYXNrJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ29udGV4dCBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5Db250ZXh0U3lzdGVtfSBjb250ZXh0XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKENvbnRleHRTeXN0ZW0sICdjb250ZXh0JylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU3RhdGUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU3RhdGVTeXN0ZW19IHN0YXRlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFN0YXRlU3lzdGVtLCAnc3RhdGUnKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaGFkZXIgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU2hhZGVyU3lzdGVtfSBzaGFkZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oU2hhZGVyU3lzdGVtLCAnc2hhZGVyJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGV4dHVyZSBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5UZXh0dXJlU3lzdGVtfSB0ZXh0dXJlXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKFRleHR1cmVTeXN0ZW0sICd0ZXh0dXJlJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogR2VvbWV0cnkgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuR2VvbWV0cnlTeXN0ZW19IGdlb21ldHJ5XG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEdlb21ldHJ5U3lzdGVtLCAnZ2VvbWV0cnknKVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBGcmFtZWJ1ZmZlciBzeXN0ZW0gaW5zdGFuY2VcbiAgICAgICAgICAgICAqIEBtZW1iZXIge1BJWEkuc3lzdGVtcy5GcmFtZWJ1ZmZlclN5c3RlbX0gZnJhbWVidWZmZXJcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oRnJhbWVidWZmZXJTeXN0ZW0sICdmcmFtZWJ1ZmZlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFN0ZW5jaWwgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuU3RlbmNpbFN5c3RlbX0gc3RlbmNpbFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShTdGVuY2lsU3lzdGVtLCAnc3RlbmNpbCcpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFByb2plY3Rpb24gc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuUHJvamVjdGlvblN5c3RlbX0gcHJvamVjdGlvblxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShQcm9qZWN0aW9uU3lzdGVtLCAncHJvamVjdGlvbicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRleHR1cmUgZ2FyYmFnZSBjb2xsZWN0b3Igc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuVGV4dHVyZUdDU3lzdGVtfSB0ZXh0dXJlR0NcbiAgICAgICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIC5hZGRTeXN0ZW0oVGV4dHVyZUdDU3lzdGVtLCAndGV4dHVyZUdDJylcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogRmlsdGVyIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkZpbHRlclN5c3RlbX0gZmlsdGVyXG4gICAgICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5SZW5kZXJlciNcbiAgICAgICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICAuYWRkU3lzdGVtKEZpbHRlclN5c3RlbSwgJ2ZpbHRlcicpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFJlbmRlclRleHR1cmUgc3lzdGVtIGluc3RhbmNlXG4gICAgICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLnN5c3RlbXMuUmVuZGVyVGV4dHVyZVN5c3RlbX0gcmVuZGVyVGV4dHVyZVxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShSZW5kZXJUZXh0dXJlU3lzdGVtLCAncmVuZGVyVGV4dHVyZScpXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEJhdGNoIHN5c3RlbSBpbnN0YW5jZVxuICAgICAgICAgICAgICogQG1lbWJlciB7UElYSS5zeXN0ZW1zLkJhdGNoU3lzdGVtfSBiYXRjaFxuICAgICAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuUmVuZGVyZXIjXG4gICAgICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgLmFkZFN5c3RlbShCYXRjaFN5c3RlbSwgJ2JhdGNoJyk7XG5cbiAgICAgICAgdGhpcy5pbml0UGx1Z2lucyhSZW5kZXJlci5fX3BsdWdpbnMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgb3B0aW9ucyBwYXNzZWQgaW4gdG8gY3JlYXRlIGEgbmV3IFdlYkdMIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbml0RnJvbUNvbnRleHQob3B0aW9ucy5jb250ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5pbml0RnJvbU9wdGlvbnMoe1xuICAgICAgICAgICAgICAgIGFscGhhOiB0aGlzLnRyYW5zcGFyZW50LFxuICAgICAgICAgICAgICAgIGFudGlhbGlhczogb3B0aW9ucy5hbnRpYWxpYXMsXG4gICAgICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiB0aGlzLnRyYW5zcGFyZW50ICYmIHRoaXMudHJhbnNwYXJlbnQgIT09ICdub3RNdWx0aXBsaWVkJyxcbiAgICAgICAgICAgICAgICBzdGVuY2lsOiB0cnVlLFxuICAgICAgICAgICAgICAgIHByZXNlcnZlRHJhd2luZ0J1ZmZlcjogb3B0aW9ucy5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsXG4gICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiB0aGlzLm9wdGlvbnMucG93ZXJQcmVmZXJlbmNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmxhZyBpZiB3ZSBhcmUgcmVuZGVyaW5nIHRvIHRoZSBzY3JlZW4gdnMgcmVuZGVyVGV4dHVyZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZW5kZXJpbmdUb1NjcmVlbiA9IHRydWU7XG5cbiAgICAgICAgc2F5SGVsbG8odGhpcy5jb250ZXh0LndlYkdMVmVyc2lvbiA9PT0gMiA/ICdXZWJHTCAyJyA6ICdXZWJHTCAxJyk7XG5cbiAgICAgICAgdGhpcy5yZXNpemUodGhpcy5vcHRpb25zLndpZHRoLCB0aGlzLm9wdGlvbnMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoIEFic3RyYWN0UmVuZGVyZXIkJDEgKSBSZW5kZXJlci5fX3Byb3RvX18gPSBBYnN0cmFjdFJlbmRlcmVyJCQxO1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEFic3RyYWN0UmVuZGVyZXIkJDEgJiYgQWJzdHJhY3RSZW5kZXJlciQkMS5wcm90b3R5cGUgKTtcbiAgICBSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZW5kZXJlcjtcblxuICAgIC8qKlxuICAgICAqIEFkZCBhIG5ldyBzeXN0ZW0gdG8gdGhlIHJlbmRlcmVyLlxuICAgICAqIEBwYXJhbSB7Y2xhc3N9IENsYXNzUmVmIC0gQ2xhc3MgcmVmZXJlbmNlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtuYW1lXSAtIFByb3BlcnR5IG5hbWUgZm9yIHN5c3RlbSwgaWYgbm90IHNwZWNpZmllZFxuICAgICAqICAgICAgICB3aWxsIHVzZSBhIHN0YXRpYyBgbmFtZWAgcHJvcGVydHkgb24gdGhlIGNsYXNzIGl0c2VsZi4gVGhpc1xuICAgICAqICAgICAgICBuYW1lIHdpbGwgYmUgYXNzaWduZWQgYXMgcyBwcm9wZXJ0eSBvbiB0aGUgUmVuZGVyZXIgc28gbWFrZVxuICAgICAqICAgICAgICBzdXJlIGl0IGRvZXNuJ3QgY29sbGlkZSB3aXRoIHByb3BlcnRpZXMgb24gUmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5SZW5kZXJlcn0gUmV0dXJuIGluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmFkZFN5c3RlbSA9IGZ1bmN0aW9uIGFkZFN5c3RlbSAoQ2xhc3NSZWYsIG5hbWUpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAoIW5hbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWUgPSBDbGFzc1JlZi5uYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN5c3RlbSA9IG5ldyBDbGFzc1JlZih0aGlzKTtcblxuICAgICAgICBpZiAodGhpc1tuYW1lXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKChcIldob29wcyEgVGhlIG5hbWUgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBpcyBhbHJlYWR5IGluIHVzZVwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzW25hbWVdID0gc3lzdGVtO1xuXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcyQxLnJ1bm5lcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMkMS5ydW5uZXJzW2ldLmFkZChzeXN0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZyBmaW5pc2hlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuUmVuZGVyZXIjcG9zdHJlbmRlclxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgYmVmb3JlIHJlbmRlcmluZyBzdGFydHMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI3ByZXJlbmRlclxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiB0aGUgV2ViR0wgY29udGV4dCBpcyBzZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLlJlbmRlcmVyI2NvbnRleHRcbiAgICAgICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIC0gV2ViR0wgY29udGV4dC5cbiAgICAgICAgICovXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB0byBpdHMgV2ViR0wgdmlld1xuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgb2JqZWN0IHRvIGJlIHJlbmRlcmVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUZXh0dXJlfSByZW5kZXJUZXh0dXJlIC0gVGhlIHJlbmRlciB0ZXh0dXJlIHRvIHJlbmRlciB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtjbGVhcl0gLSBTaG91bGQgdGhlIGNhbnZhcyBiZSBjbGVhcmVkIGJlZm9yZSB0aGUgbmV3IHJlbmRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuVHJhbnNmb3JtfSBbdHJhbnNmb3JtXSAtIEEgdHJhbnNmb3JtIHRvIGFwcGx5IHRvIHRoZSByZW5kZXIgdGV4dHVyZSBiZWZvcmUgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3NraXBVcGRhdGVUcmFuc2Zvcm1dIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm0gcGFzcz9cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlLCBjbGVhciwgdHJhbnNmb3JtLCBza2lwVXBkYXRlVHJhbnNmb3JtKVxuICAgIHtcbiAgICAgICAgLy8gY2FuIGJlIGhhbmR5IHRvIGtub3chXG4gICAgICAgIHRoaXMucmVuZGVyaW5nVG9TY3JlZW4gPSAhcmVuZGVyVGV4dHVyZTtcblxuICAgICAgICB0aGlzLnJ1bm5lcnMucHJlcmVuZGVyLnJ1bigpO1xuICAgICAgICB0aGlzLmVtaXQoJ3ByZXJlbmRlcicpO1xuXG4gICAgICAgIC8vIG5vIHBvaW50IHJlbmRlcmluZyBpZiBvdXIgY29udGV4dCBoYXMgYmVlbiBibG93biB1cCFcbiAgICAgICAgaWYgKHRoaXMuY29udGV4dC5pc0xvc3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghcmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGFzdE9iamVjdFJlbmRlcmVkID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc2tpcFVwZGF0ZVRyYW5zZm9ybSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBzY2VuZSBncmFwaFxuICAgICAgICAgICAgdmFyIGNhY2hlUGFyZW50ID0gZGlzcGxheU9iamVjdC5wYXJlbnQ7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICAgICAgICAgIC8vIGRpc3BsYXlPYmplY3QuaGl0QXJlYSA9IC8vVE9ETyBhZGQgYSB0ZW1wIGhpdCBhcmVhXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICAgICAgdGhpcy5iYXRjaC5jdXJyZW50UmVuZGVyZXIuc3RhcnQoKTtcblxuICAgICAgICBpZiAoY2xlYXIgIT09IHVuZGVmaW5lZCA/IGNsZWFyIDogdGhpcy5jbGVhckJlZm9yZVJlbmRlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJUZXh0dXJlLmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJlbmRlcih0aGlzKTtcblxuICAgICAgICAvLyBhcHBseSB0cmFuc2Zvcm0uLlxuICAgICAgICB0aGlzLmJhdGNoLmN1cnJlbnRSZW5kZXJlci5mbHVzaCgpO1xuXG4gICAgICAgIGlmIChyZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlLmJhc2VUZXh0dXJlLnVwZGF0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ydW5uZXJzLnBvc3RyZW5kZXIucnVuKCk7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb3N0cmVuZGVyJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2l6ZXMgdGhlIFdlYkdMIHZpZXcgdG8gdGhlIHNwZWNpZmllZCB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjcmVlbldpZHRoIC0gVGhlIG5ldyB3aWR0aCBvZiB0aGUgc2NyZWVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JlZW5IZWlnaHQgLSBUaGUgbmV3IGhlaWdodCBvZiB0aGUgc2NyZWVuLlxuICAgICAqL1xuICAgIFJlbmRlcmVyLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiByZXNpemUgKHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpXG4gICAge1xuICAgICAgICBBYnN0cmFjdFJlbmRlcmVyJCQxLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnJ1bm5lcnMucmVzaXplLnJ1bihzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBXZWJHTCBzdGF0ZSBzbyB5b3UgY2FuIHJlbmRlciB0aGluZ3MgaG93ZXZlciB5b3UgZmFuY3khXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlbmRlcmVyfSBSZXR1cm5zIGl0c2VsZi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5ydW5uZXJzLnJlc2V0LnJ1bigpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgZnJhbWUgYnVmZmVyXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZnJhbWVidWZmZXIuYmluZCgpO1xuICAgICAgICB0aGlzLmZyYW1lYnVmZmVyLmNsZWFyKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgZXZlcnl0aGluZyBmcm9tIHRoZSByZW5kZXJlciAoZXZlbnQgbGlzdGVuZXJzLCBzcHJpdGViYXRjaCwgZXRjLi4uKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlVmlldz1mYWxzZV0gLSBSZW1vdmVzIHRoZSBDYW52YXMgZWxlbWVudCBmcm9tIHRoZSBET00uXG4gICAgICogIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjMzXG4gICAgICovXG4gICAgUmVuZGVyZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChyZW1vdmVWaWV3KVxuICAgIHtcbiAgICAgICAgdGhpcy5ydW5uZXJzLmRlc3Ryb3kucnVuKCk7XG5cbiAgICAgICAgLy8gY2FsbCBiYXNlIGRlc3Ryb3lcbiAgICAgICAgQWJzdHJhY3RSZW5kZXJlciQkMS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIHJlbW92ZVZpZXcpO1xuXG4gICAgICAgIC8vIFRPRE8gbnVsbGlmeSBhbGwgdGhlIG1hbmFnZXJzLi5cbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbGxlY3Rpb24gb2YgaW5zdGFsbGVkIHBsdWdpbnMuIFRoZXNlIGFyZSBpbmNsdWRlZCBieSBkZWZhdWx0IGluIFBJWEksIGJ1dCBjYW4gYmUgZXhjbHVkZWRcbiAgICAgKiBieSBjcmVhdGluZyBhIGN1c3RvbSBidWlsZC4gQ29uc3VsdCB0aGUgUkVBRE1FIGZvciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IGNyZWF0aW5nIGN1c3RvbVxuICAgICAqIGJ1aWxkcyBhbmQgZXhjbHVkaW5nIHBsdWdpbnMuXG4gICAgICogQG5hbWUgUElYSS5SZW5kZXJlciNwbHVnaW5zXG4gICAgICogQHR5cGUge29iamVjdH1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJvcGVydHkge1BJWEkuYWNjZXNzaWJpbGl0eS5BY2Nlc3NpYmlsaXR5TWFuYWdlcn0gYWNjZXNzaWJpbGl0eSBTdXBwb3J0IHRhYmJpbmcgaW50ZXJhY3RpdmUgZWxlbWVudHMuXG4gICAgICogQHByb3BlcnR5IHtQSVhJLmV4dHJhY3QuV2ViR0xFeHRyYWN0fSBleHRyYWN0IEV4dHJhY3QgaW1hZ2UgZGF0YSBmcm9tIHJlbmRlcmVyLlxuICAgICAqIEBwcm9wZXJ0eSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9IGludGVyYWN0aW9uIEhhbmRsZXMgbW91c2UsIHRvdWNoIGFuZCBwb2ludGVyIGV2ZW50cy5cbiAgICAgKiBAcHJvcGVydHkge1BJWEkucHJlcGFyZS5XZWJHTFByZXBhcmV9IHByZXBhcmUgUHJlLXJlbmRlciBkaXNwbGF5IG9iamVjdHMuXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcGx1Z2luIHRvIHRoZSByZW5kZXJlci5cbiAgICAgKlxuICAgICAqIEBtZXRob2RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGx1Z2luTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBwbHVnaW4uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3RvciAtIFRoZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiBvciBjbGFzcyBmb3IgdGhlIHBsdWdpbi5cbiAgICAgKi9cbiAgICBSZW5kZXJlci5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luIChwbHVnaW5OYW1lLCBjdG9yKVxuICAgIHtcbiAgICAgICAgUmVuZGVyZXIuX19wbHVnaW5zID0gUmVuZGVyZXIuX19wbHVnaW5zIHx8IHt9O1xuICAgICAgICBSZW5kZXJlci5fX3BsdWdpbnNbcGx1Z2luTmFtZV0gPSBjdG9yO1xuICAgIH07XG5cbiAgICByZXR1cm4gUmVuZGVyZXI7XG59KEFic3RyYWN0UmVuZGVyZXIpKTtcblxuLyoqXG4gKiBUZXh0dXJlIHRoYXQgZGVwZW5kcyBvbiBzaXggb3RoZXIgcmVzb3VyY2VzLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5CYXNlVGV4dHVyZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEN1YmVUZXh0dXJlID0gKGZ1bmN0aW9uIChCYXNlVGV4dHVyZSQkMSkge1xuICAgIGZ1bmN0aW9uIEN1YmVUZXh0dXJlICgpIHtcbiAgICAgICAgQmFzZVRleHR1cmUkJDEuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBpZiAoIEJhc2VUZXh0dXJlJCQxICkgQ3ViZVRleHR1cmUuX19wcm90b19fID0gQmFzZVRleHR1cmUkJDE7XG4gICAgQ3ViZVRleHR1cmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZVRleHR1cmUkJDEgJiYgQmFzZVRleHR1cmUkJDEucHJvdG90eXBlICk7XG4gICAgQ3ViZVRleHR1cmUucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ3ViZVRleHR1cmU7XG5cbiAgICBDdWJlVGV4dHVyZS5mcm9tID0gZnVuY3Rpb24gZnJvbSAocmVzb3VyY2VzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDdWJlVGV4dHVyZShuZXcgQ3ViZVJlc291cmNlKHJlc291cmNlcywgb3B0aW9ucykpO1xuICAgIH07XG5cbiAgICByZXR1cm4gQ3ViZVRleHR1cmU7XG59KEJhc2VUZXh0dXJlKSk7XG5cbmV4cG9ydCB7IHN5c3RlbXMsIGluZGV4IGFzIHJlc291cmNlcywgU3lzdGVtLCBSZW5kZXJlciwgQWJzdHJhY3RSZW5kZXJlciwgRnJhbWVCdWZmZXIsIEN1YmVUZXh0dXJlLCBCYXNlVGV4dHVyZSwgVGV4dHVyZSwgVGV4dHVyZU1hdHJpeCwgUmVuZGVyVGV4dHVyZSwgQmFzZVJlbmRlclRleHR1cmUsIFRleHR1cmVVdnMsIFN0YXRlLCBPYmplY3RSZW5kZXJlciwgUXVhZCwgUXVhZFV2LCBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyLCBTaGFkZXIsIFByb2dyYW0sIFVuaWZvcm1Hcm91cCwgU3ByaXRlTWFza0ZpbHRlciwgRmlsdGVyLCBBdHRyaWJ1dGVfMSBhcyBBdHRyaWJ1dGUsIEJ1ZmZlciwgR2VvbWV0cnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvcmUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2FwcCAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL2FwcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IHNldHRpbmdzIGFzIHNldHRpbmdzJDEgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbi8qKlxuICogQ29udmVuaWVuY2UgY2xhc3MgdG8gY3JlYXRlIGEgbmV3IFBJWEkgYXBwbGljYXRpb24uXG4gKiBUaGlzIGNsYXNzIGF1dG9tYXRpY2FsbHkgY3JlYXRlcyB0aGUgcmVuZGVyZXIsIHRpY2tlclxuICogYW5kIHJvb3QgY29udGFpbmVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIEFkZCB0aGUgdmlldyB0byB0aGUgRE9NXG4gKiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGFwcC52aWV3KTtcbiAqXG4gKiAvLyBleCwgYWRkIGRpc3BsYXkgb2JqZWN0c1xuICogYXBwLnN0YWdlLmFkZENoaWxkKFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKSk7XG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXBwbGljYXRpb24gPSBmdW5jdGlvbiBBcHBsaWNhdGlvbihvcHRpb25zLCBhcmcyLCBhcmczLCBhcmc0LCBhcmc1KVxue1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLy8gU3VwcG9ydCBmb3IgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwgb3B0aW9ucywgbm9XZWJHTCwgdXNlU2hhcmVkVGlja2VyKVxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB3aWR0aDogb3B0aW9ucyxcbiAgICAgICAgICAgIGhlaWdodDogYXJnMiB8fCBzZXR0aW5ncyQxLlJFTkRFUl9PUFRJT05TLmhlaWdodCxcbiAgICAgICAgICAgIGZvcmNlQ2FudmFzOiAhIWFyZzQsXG4gICAgICAgICAgICBzaGFyZWRUaWNrZXI6ICEhYXJnNSxcbiAgICAgICAgfSwgYXJnMyk7XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlZmF1bHQgb3B0aW9uc1xuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgZm9yY2VDYW52YXM6IGZhbHNlLFxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogV2ViR0wgcmVuZGVyZXIgaWYgYXZhaWxhYmxlLCBvdGhlcndpc2UgQ2FudmFzUmVuZGVyZXIuXG4gICAgICogQG1lbWJlciB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfVxuICAgICAqL1xuICAgIHRoaXMucmVuZGVyZXIgPSB0aGlzLmNyZWF0ZVJlbmRlcmVyKG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHJvb3QgZGlzcGxheSBjb250YWluZXIgdGhhdCdzIHJlbmRlcmVkLlxuICAgICAqIEBtZW1iZXIge1BJWEkuQ29udGFpbmVyfVxuICAgICAqL1xuICAgIHRoaXMuc3RhZ2UgPSBuZXcgQ29udGFpbmVyKCk7XG5cbiAgICAvLyBpbnN0YWxsIHBsdWdpbnMgaGVyZVxuICAgIEFwcGxpY2F0aW9uLl9wbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICBwbHVnaW4uaW5pdC5jYWxsKHRoaXMkMSwgb3B0aW9ucyk7XG4gICAgfSk7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB2aWV3OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHNjcmVlbjogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4vKipcbiAqIFJlZ2lzdGVyIGEgbWlkZGxld2FyZSBwbHVnaW4gZm9yIHRoZSBhcHBsaWNhdGlvblxuICogQHN0YXRpY1xuICogQHBhcmFtIHtQSVhJLkFwcGxpY2F0aW9uflBsdWdpbn0gcGx1Z2luIC0gUGx1Z2luIGJlaW5nIGluc3RhbGxlZFxuICovXG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luIChwbHVnaW4pXG57XG4gICAgQXBwbGljYXRpb24uX3BsdWdpbnMucHVzaChwbHVnaW4pO1xufTtcblxuLyoqXG4gKiBDcmVhdGUgdGhlIG5ldyByZW5kZXJlciwgdGhpcyBpcyBoZXJlIHRvIG92ZXJyaWRkZW4gdG8gc3VwcG9ydCBDYW52YXMuXG4gKlxuICogQHByb3RlY3RlZFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBTZWUgY29uc3RydWN0b3IgZm9yIGNvbXBsZXRlIGFyZ3VtZW50c1xuICovXG5BcHBsaWNhdGlvbi5wcm90b3R5cGUuY3JlYXRlUmVuZGVyZXIgPSBmdW5jdGlvbiBjcmVhdGVSZW5kZXJlciAob3B0aW9ucylcbntcbiAgICByZXR1cm4gbmV3IFJlbmRlcmVyKG9wdGlvbnMpO1xufTtcblxuLyoqXG4gKiBSZW5kZXIgdGhlIGN1cnJlbnQgc3RhZ2UuXG4gKi9cbkFwcGxpY2F0aW9uLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKClcbntcbiAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnN0YWdlKTtcbn07XG5cbi8qKlxuICogUmVmZXJlbmNlIHRvIHRoZSByZW5kZXJlcidzIGNhbnZhcyBlbGVtZW50LlxuICogQG1lbWJlciB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcmVhZG9ubHlcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnZpZXcuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5yZW5kZXJlci52aWV3O1xufTtcblxuLyoqXG4gKiBSZWZlcmVuY2UgdG8gdGhlIHJlbmRlcmVyJ3Mgc2NyZWVuIHJlY3RhbmdsZS4gSXRzIHNhZmUgdG8gdXNlIGFzIGBmaWx0ZXJBcmVhYCBvciBgaGl0QXJlYWAgZm9yIHRoZSB3aG9sZSBzY3JlZW4uXG4gKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAqIEByZWFkb25seVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuc2NyZWVuLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMucmVuZGVyZXIuc2NyZWVuO1xufTtcblxuLyoqXG4gKiBEZXN0cm95IGFuZCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbW92ZVZpZXc9ZmFsc2VdIEF1dG9tYXRpY2FsbHkgcmVtb3ZlIGNhbnZhcyBmcm9tIERPTS5cbiAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtzdGFnZU9wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gKiAgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnc3RhZ2VPcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3N0YWdlT3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICogQHBhcmFtIHtib29sZWFufSBbc3RhZ2VPcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBzdGFnZU9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0XG4gKiAgdG8gdHJ1ZS4gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gKi9cbkFwcGxpY2F0aW9uLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAocmVtb3ZlVmlldylcbntcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAvLyBEZXN0cm95IHBsdWdpbnMgaW4gdGhlIG9wcG9zaXRlIG9yZGVyXG4gICAgLy8gd2hpY2ggdGhleSB3ZXJlIGNvbnN0cnVjdGVkXG4gICAgdmFyIHBsdWdpbnMgPSBBcHBsaWNhdGlvbi5fcGx1Z2lucy5zbGljZSgwKTtcblxuICAgIHBsdWdpbnMucmV2ZXJzZSgpO1xuICAgIHBsdWdpbnMuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIHBsdWdpbi5kZXN0cm95LmNhbGwodGhpcyQxKTtcbiAgICB9KTtcblxuICAgIHRoaXMuc3RhZ2UuZGVzdHJveSgpO1xuICAgIHRoaXMuc3RhZ2UgPSBudWxsO1xuXG4gICAgdGhpcy5yZW5kZXJlci5kZXN0cm95KHJlbW92ZVZpZXcpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuXG4gICAgdGhpcy5fb3B0aW9ucyA9IG51bGw7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggQXBwbGljYXRpb24ucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBQSVhJLkFwcGxpY2F0aW9uflBsdWdpblxuICogQHByb3BlcnR5IHtmdW5jdGlvbn0gaW5pdCAtIENhbGxlZCB3aGVuIEFwcGxpY2F0aW9uIGlzIGNvbnN0cnVjdGVkLCBzY29wZWQgdG8gQXBwbGljYXRpb24gaW5zdGFuY2UuXG4gKiAgUGFzc2VzIGluIGBvcHRpb25zYCBhcyB0aGUgb25seSBhcmd1bWVudCwgd2hpY2ggYXJlIEFwcGxpY2F0aW9uIGNvbnN0cnVjdG9yIG9wdGlvbnMuXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBkZXN0cm95IC0gQ2FsbGVkIHdoZW4gZGVzdHJveWluZyBBcHBsaWNhdGlvbiwgc2NvcGVkIHRvIEFwcGxpY2F0aW9uIGluc3RhbmNlXG4gKi9cblxuLyoqXG4gKiBDb2xsZWN0aW9uIG9mIGluc3RhbGxlZCBwbHVnaW5zLlxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqIEB0eXBlIHtQSVhJLkFwcGxpY2F0aW9uflBsdWdpbltdfVxuICovXG5BcHBsaWNhdGlvbi5fcGx1Z2lucyA9IFtdO1xuXG4vKipcbiAqIE1pZGRsZXdhcmUgZm9yIGZvciBBcHBsaWNhdGlvbidzIHJlc2l6ZSBmdW5jdGlvbmFsaXR5XG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKi9cbnZhciBSZXNpemVQbHVnaW4gPSBmdW5jdGlvbiBSZXNpemVQbHVnaW4gKCkge307XG5cblJlc2l6ZVBsdWdpbi5pbml0ID0gZnVuY3Rpb24gaW5pdCAob3B0aW9ucylcbntcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZWxlbWVudCBvciB3aW5kb3cgdG8gcmVzaXplIHRoZSBhcHBsaWNhdGlvbiB0by5cbiAgICAgKiBAdHlwZSB7V2luZG93fEhUTUxFbGVtZW50fVxuICAgICAqIEBuYW1lIHJlc2l6ZVRvXG4gICAgICogQG1lbWJlcm9mIFBJWEkuQXBwbGljYXRpb24jXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdyZXNpemVUbycsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KGRvbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2l6ZVRvID0gZG9tO1xuICAgICAgICAgICAgICAgIGlmIChkb20pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXNpemUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc2l6ZVRvO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBJZiBgcmVzaXplVG9gIGlzIHNldCwgY2FsbGluZyB0aGlzIGZ1bmN0aW9uXG4gICAgICogd2lsbCByZXNpemUgdG8gdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhhdCBlbGVtZW50LlxuICAgICAqIEBtZXRob2QgUElYSS5BcHBsaWNhdGlvbiNyZXNpemVcbiAgICAgKi9cbiAgICB0aGlzLnJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMkMS5fcmVzaXplVG8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFJlc2l6ZSB0byB0aGUgd2luZG93XG4gICAgICAgICAgICBpZiAodGhpcyQxLl9yZXNpemVUbyA9PT0gd2luZG93KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5yZW5kZXJlci5yZXNpemUoXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzaXplIHRvIG90aGVyIEhUTUwgZW50aXRpZXNcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEucmVuZGVyZXIucmVzaXplKFxuICAgICAgICAgICAgICAgICAgICB0aGlzJDEuX3Jlc2l6ZVRvLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICB0aGlzJDEuX3Jlc2l6ZVRvLmNsaWVudEhlaWdodFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gT24gcmVzaXplXG4gICAgdGhpcy5fcmVzaXplVG8gPSBudWxsO1xuICAgIHRoaXMucmVzaXplVG8gPSBvcHRpb25zLnJlc2l6ZVRvIHx8IG51bGw7XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIHRoZSB0aWNrZXIsIHNjb3BlZCB0byBhcHBsaWNhdGlvblxuICogQHN0YXRpY1xuICogQHByaXZhdGVcbiAqL1xuUmVzaXplUGx1Z2luLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy5yZXNpemVUbyA9IG51bGw7XG4gICAgdGhpcy5yZXNpemUgPSBudWxsO1xufTtcblxuQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oUmVzaXplUGx1Z2luKTtcblxuZXhwb3J0IHsgQXBwbGljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvZXh0cmFjdCAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL2V4dHJhY3QgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBSZW5kZXJUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBDYW52YXNSZW5kZXJUYXJnZXQgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcblxudmFyIFRFTVBfUkVDVCA9IG5ldyBSZWN0YW5nbGUoKTtcbnZhciBCWVRFU19QRVJfUElYRUwgPSA0O1xuXG4vKipcbiAqIFRoZSBleHRyYWN0IG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBleHBvcnQgY29udGVudCBmcm9tIHRoZSByZW5kZXJlcnMuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLmV4dHJhY3RcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmV4dHJhY3RcbiAqL1xudmFyIEV4dHJhY3QgPSBmdW5jdGlvbiBFeHRyYWN0KHJlbmRlcmVyKVxue1xuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgZm9yIGV4dHJhY3RpbmcgZGF0YSAoaW1hZ2UsIHBpeGVscywgZXRjLikgZnJvbSBhIGRpc3BsYXkgb2JqZWN0IG9yIHJlbmRlciB0ZXh0dXJlXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLmV4dHJhY3QuRXh0cmFjdH0gZXh0cmFjdFxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlJlbmRlcmVyI1xuICAgICAqIEBzZWUgUElYSS5leHRyYWN0LkV4dHJhY3RcbiAgICAgKi9cbiAgICByZW5kZXJlci5leHRyYWN0ID0gdGhpcztcbn07XG5cbi8qKlxuICogV2lsbCByZXR1cm4gYSBIVE1MIEltYWdlIG9mIHRoZSB0YXJnZXRcbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgSW1hZ2Ugb2YgdGhlIHRhcmdldFxuICovXG5FeHRyYWN0LnByb3RvdHlwZS5pbWFnZSA9IGZ1bmN0aW9uIGltYWdlICh0YXJnZXQpXG57XG4gICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICBpbWFnZS5zcmMgPSB0aGlzLmJhc2U2NCh0YXJnZXQpO1xuXG4gICAgcmV0dXJuIGltYWdlO1xufTtcblxuLyoqXG4gKiBXaWxsIHJldHVybiBhIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIG9mIHRoaXMgdGFyZ2V0LiBJdCB3b3JrcyBieSBjYWxsaW5nXG4gKiAgYEV4dHJhY3QuZ2V0Q2FudmFzYCBhbmQgdGhlbiBydW5uaW5nIHRvRGF0YVVSTCBvbiB0aGF0LlxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICogQHJldHVybiB7c3RyaW5nfSBBIGJhc2U2NCBlbmNvZGVkIHN0cmluZyBvZiB0aGUgdGV4dHVyZS5cbiAqL1xuRXh0cmFjdC5wcm90b3R5cGUuYmFzZTY0ID0gZnVuY3Rpb24gYmFzZTY0ICh0YXJnZXQpXG57XG4gICAgcmV0dXJuIHRoaXMuY2FudmFzKHRhcmdldCkudG9EYXRhVVJMKCk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBDYW52YXMgZWxlbWVudCwgcmVuZGVycyB0aGlzIHRhcmdldCB0byBpdCBhbmQgdGhlbiByZXR1cm5zIGl0LlxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuUmVuZGVyVGV4dHVyZX0gdGFyZ2V0IC0gQSBkaXNwbGF5T2JqZWN0IG9yIHJlbmRlclRleHR1cmVcbiAqICB0byBjb252ZXJ0LiBJZiBsZWZ0IGVtcHR5IHdpbGwgdXNlIHVzZSB0aGUgbWFpbiByZW5kZXJlclxuICogQHJldHVybiB7SFRNTENhbnZhc0VsZW1lbnR9IEEgQ2FudmFzIGVsZW1lbnQgd2l0aCB0aGUgdGV4dHVyZSByZW5kZXJlZCBvbi5cbiAqL1xuRXh0cmFjdC5wcm90b3R5cGUuY2FudmFzID0gZnVuY3Rpb24gY2FudmFzICh0YXJnZXQpXG57XG4gICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICB2YXIgcmVzb2x1dGlvbjtcbiAgICB2YXIgZnJhbWU7XG4gICAgdmFyIGZsaXBZID0gZmFsc2U7XG4gICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgdmFyIGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHRhcmdldClcbiAgICB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG4gICAgICAgIGZsaXBZID0gZmFsc2U7XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICBmbGlwWSA9IHRydWU7XG5cbiAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgIGZyYW1lLndpZHRoID0gdGhpcy5yZW5kZXJlci53aWR0aDtcbiAgICAgICAgZnJhbWUuaGVpZ2h0ID0gdGhpcy5yZW5kZXJlci5oZWlnaHQ7XG5cbiAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKG51bGwpO1xuICAgIH1cblxuICAgIHZhciB3aWR0aCA9IGZyYW1lLndpZHRoICogcmVzb2x1dGlvbjtcbiAgICB2YXIgaGVpZ2h0ID0gZnJhbWUuaGVpZ2h0ICogcmVzb2x1dGlvbjtcblxuICAgIHZhciBjYW52YXNCdWZmZXIgPSBuZXcgQ2FudmFzUmVuZGVyVGFyZ2V0KHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICBnbC5yZWFkUGl4ZWxzKFxuICAgICAgICBmcmFtZS54ICogcmVzb2x1dGlvbixcbiAgICAgICAgZnJhbWUueSAqIHJlc29sdXRpb24sXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIGdsLlJHQkEsXG4gICAgICAgIGdsLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgKTtcblxuICAgIC8vIGFkZCB0aGUgcGl4ZWxzIHRvIHRoZSBjYW52YXNcbiAgICB2YXIgY2FudmFzRGF0YSA9IGNhbnZhc0J1ZmZlci5jb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgIGNhbnZhc0RhdGEuZGF0YS5zZXQod2ViZ2xQaXhlbHMpO1xuXG4gICAgY2FudmFzQnVmZmVyLmNvbnRleHQucHV0SW1hZ2VEYXRhKGNhbnZhc0RhdGEsIDAsIDApO1xuXG4gICAgLy8gcHVsbGluZyBwaXhlbHNcbiAgICBpZiAoZmxpcFkpXG4gICAge1xuICAgICAgICBjYW52YXNCdWZmZXIuY29udGV4dC5zY2FsZSgxLCAtMSk7XG4gICAgICAgIGNhbnZhc0J1ZmZlci5jb250ZXh0LmRyYXdJbWFnZShjYW52YXNCdWZmZXIuY2FudmFzLCAwLCAtaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBpZiAoZ2VuZXJhdGVkKVxuICAgIHtcbiAgICAgICAgcmVuZGVyVGV4dHVyZS5kZXN0cm95KHRydWUpO1xuICAgIH1cblxuICAgIC8vIHNlbmQgdGhlIGNhbnZhcyBiYWNrLi5cbiAgICByZXR1cm4gY2FudmFzQnVmZmVyLmNhbnZhcztcbn07XG5cbi8qKlxuICogV2lsbCByZXR1cm4gYSBvbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmUgaW4gUkdCQVxuICogb3JkZXIsIHdpdGggaW50ZWdlciB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAyNTUgKGluY2x1ZGVkKS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLlJlbmRlclRleHR1cmV9IHRhcmdldCAtIEEgZGlzcGxheU9iamVjdCBvciByZW5kZXJUZXh0dXJlXG4gKiAgdG8gY29udmVydC4gSWYgbGVmdCBlbXB0eSB3aWxsIHVzZSB1c2UgdGhlIG1haW4gcmVuZGVyZXJcbiAqIEByZXR1cm4ge1VpbnQ4Q2xhbXBlZEFycmF5fSBPbmUtZGltZW5zaW9uYWwgYXJyYXkgY29udGFpbmluZyB0aGUgcGl4ZWwgZGF0YSBvZiB0aGUgZW50aXJlIHRleHR1cmVcbiAqL1xuRXh0cmFjdC5wcm90b3R5cGUucGl4ZWxzID0gZnVuY3Rpb24gcGl4ZWxzICh0YXJnZXQpXG57XG4gICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICB2YXIgcmVzb2x1dGlvbjtcbiAgICB2YXIgZnJhbWU7XG4gICAgdmFyIHJlbmRlclRleHR1cmU7XG4gICAgdmFyIGdlbmVyYXRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKHRhcmdldClcbiAgICB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBSZW5kZXJUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJUZXh0dXJlID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyVGV4dHVyZSA9IHRoaXMucmVuZGVyZXIuZ2VuZXJhdGVUZXh0dXJlKHRhcmdldCk7XG4gICAgICAgICAgICBnZW5lcmF0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHJlbmRlclRleHR1cmUpXG4gICAge1xuICAgICAgICByZXNvbHV0aW9uID0gcmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZS5yZXNvbHV0aW9uO1xuICAgICAgICBmcmFtZSA9IHJlbmRlclRleHR1cmUuZnJhbWU7XG5cbiAgICAgICAgLy8gYmluZCB0aGUgYnVmZmVyXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChyZW5kZXJUZXh0dXJlKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG5cbiAgICAgICAgZnJhbWUgPSBURU1QX1JFQ1Q7XG4gICAgICAgIGZyYW1lLndpZHRoID0gcmVuZGVyZXIud2lkdGg7XG4gICAgICAgIGZyYW1lLmhlaWdodCA9IHJlbmRlcmVyLmhlaWdodDtcblxuICAgICAgICByZW5kZXJlci5yZW5kZXJUZXh0dXJlLmJpbmQobnVsbCk7XG4gICAgfVxuXG4gICAgdmFyIHdpZHRoID0gZnJhbWUud2lkdGggKiByZXNvbHV0aW9uO1xuICAgIHZhciBoZWlnaHQgPSBmcmFtZS5oZWlnaHQgKiByZXNvbHV0aW9uO1xuXG4gICAgdmFyIHdlYmdsUGl4ZWxzID0gbmV3IFVpbnQ4QXJyYXkoQllURVNfUEVSX1BJWEVMICogd2lkdGggKiBoZWlnaHQpO1xuXG4gICAgLy8gcmVhZCBwaXhlbHMgdG8gdGhlIGFycmF5XG4gICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICBnbC5yZWFkUGl4ZWxzKFxuICAgICAgICBmcmFtZS54ICogcmVzb2x1dGlvbixcbiAgICAgICAgZnJhbWUueSAqIHJlc29sdXRpb24sXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHQsXG4gICAgICAgIGdsLlJHQkEsXG4gICAgICAgIGdsLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgIHdlYmdsUGl4ZWxzXG4gICAgKTtcblxuICAgIGlmIChnZW5lcmF0ZWQpXG4gICAge1xuICAgICAgICByZW5kZXJUZXh0dXJlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdlYmdsUGl4ZWxzO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgZXh0cmFjdFxuICpcbiAqL1xuRXh0cmFjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnJlbmRlcmVyLmV4dHJhY3QgPSBudWxsO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBwcm92aWRlcyByZW5kZXJlci1zcGVjaWZpYyBwbHVnaW5zIGZvciBleHBvcnRpbmcgY29udGVudCBmcm9tIGEgcmVuZGVyZXIuXG4gKiBGb3IgaW5zdGFuY2UsIHRoZXNlIHBsdWdpbnMgY2FuIGJlIHVzZWQgZm9yIHNhdmluZyBhbiBJbWFnZSwgQ2FudmFzIGVsZW1lbnQgb3IgZm9yIGV4cG9ydGluZyB0aGUgcmF3IGltYWdlIGRhdGEgKHBpeGVscykuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoZXNlIHBsdWdpbnMgZGlyZWN0bHkuIEl0IGlzIGF2YWlsYWJsZSBmcm9tIHRoZSBgcmVuZGVyZXIucGx1Z2luc2AgcHJvcGVydHkuXG4gKiBTZWUge0BsaW5rIFBJWEkuQ2FudmFzUmVuZGVyZXIjcGx1Z2luc30gb3Ige0BsaW5rIFBJWEkuUmVuZGVyZXIjcGx1Z2luc30uXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcCAod2lsbCBhdXRvLWFkZCBleHRyYWN0IHBsdWdpbiB0byByZW5kZXJlcilcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJLkFwcGxpY2F0aW9uKCk7XG4gKlxuICogLy8gRHJhdyBhIHJlZCBjaXJjbGVcbiAqIGNvbnN0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHhGRjAwMDApXG4gKiAgICAgLmRyYXdDaXJjbGUoMCwgMCwgNTApO1xuICpcbiAqIC8vIFJlbmRlciB0aGUgZ3JhcGhpY3MgYXMgYW4gSFRNTEltYWdlRWxlbWVudFxuICogY29uc3QgaW1hZ2UgPSBhcHAucmVuZGVyZXIucGx1Z2lucy5leHRyYWN0LmltYWdlKGdyYXBoaWNzKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICogQG5hbWVzcGFjZSBQSVhJLmV4dHJhY3RcbiAqL1xuXG5leHBvcnQgeyBFeHRyYWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHRyYWN0LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGUgLSB2NS4wLjAtYWxwaGEuM1xuICogQ29tcGlsZWQgVHVlLCAwMyBKdWwgMjAxOCAwNDowODoyMSBVVENcbiAqXG4gKiBAcGl4aS9zcHJpdGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlUG9pbnQsIFBvaW50LCBSZWN0YW5nbGUgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IGNyZWF0ZUluZGljZXNGb3JRdWFkcywgcHJlbXVsdGlwbHlCbGVuZE1vZGUsIHByZW11bHRpcGx5VGludCwgc2lnbiB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IEJ1ZmZlciwgR2VvbWV0cnksIE9iamVjdFJlbmRlcmVyLCBTaGFkZXIsIFRleHR1cmUsIFVuaWZvcm1Hcm91cCwgY2hlY2tNYXhJZlN0YXRlbWVudHNJblNoYWRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgQkxFTkRfTU9ERVMsIEVOViB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IHNldHRpbmdzIGFzIHNldHRpbmdzJDEgfSBmcm9tICdAcGl4aS9zZXR0aW5ncyc7XG5pbXBvcnQgYml0VHdpZGRsZSBmcm9tICdiaXQtdHdpZGRsZSc7XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcblxuLyoqXG4gKiBUaGUgU3ByaXRlIG9iamVjdCBpcyB0aGUgYmFzZSBmb3IgYWxsIHRleHR1cmVkIG9iamVjdHMgdGhhdCBhcmUgcmVuZGVyZWQgdG8gdGhlIHNjcmVlblxuICpcbiAqIEEgc3ByaXRlIGNhbiBiZSBjcmVhdGVkIGRpcmVjdGx5IGZyb20gYW4gaW1hZ2UgbGlrZSB0aGlzOlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb20oJ2Fzc2V0cy9pbWFnZS5wbmcnKTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTcHJpdGUgPSAoZnVuY3Rpb24gKENvbnRhaW5lciQkMSkge1xuICAgIGZ1bmN0aW9uIFNwcml0ZSh0ZXh0dXJlKVxuICAgIHtcbiAgICAgICAgQ29udGFpbmVyJCQxLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0dXJlLlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyAwLDAgdGhpcyBtZWFucyB0aGUgdGV4dHVyZSdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDAuNSwwLjUgbWVhbnMgdGhlIHRleHR1cmUncyBvcmlnaW4gaXMgY2VudGVyZWRcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIDEsMSB3b3VsZCBtZWFuIHRoZSB0ZXh0dXJlJ3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXJcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9hbmNob3IgPSBuZXcgT2JzZXJ2YWJsZVBvaW50KHRoaXMuX29uQW5jaG9yVXBkYXRlLCB0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVGV4dHVyZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RleHR1cmUgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSAodGhpcyBpcyBpbml0aWFsbHkgc2V0IGJ5IHRoZSB0ZXh0dXJlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIFRoaXMgaXMgYSBoZXggdmFsdWUuIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90aW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9IG51bGw7XG4gICAgICAgIHRoaXMudGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBzcHJpdGUuIEFwcGx5IGEgdmFsdWUgb2YgYFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMYCB0byByZXNldCB0aGUgYmxlbmQgbW9kZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAgICAgKiBAc2VlIFBJWEkuQkxFTkRfTU9ERVNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYmxlbmRNb2RlID0gQkxFTkRfTU9ERVMuTk9STUFMO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2hhZGVyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIHJlbmRlciB0aGUgc3ByaXRlLiBTZXQgdG8gbnVsbCB0byByZW1vdmUgYSBjdXJyZW50IHNoYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5GaWx0ZXJ8UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGludGVybmFsIGNhY2hlZCB2YWx1ZSBvZiB0aGUgdGludC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLy8gY2FsbCB0ZXh0dXJlIHNldHRlclxuICAgICAgICB0aGlzLnRleHR1cmUgPSB0ZXh0dXJlIHx8IFRleHR1cmUuRU1QVFk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZCB0byBzdG9yZSB0aGUgdmVydGV4IGRhdGEgb2YgdGhlIHNwcml0ZSAoYmFzaWNhbGx5IGEgcXVhZClcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52ZXJ0ZXhEYXRhID0gbmV3IEZsb2F0MzJBcnJheSg4KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBpcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QgSUYgaXQgaXMgYSB0cmltbWVkIHNwcml0ZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRleFRyaW1tZWREYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlSUQgPSAtMTtcblxuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9IC0xO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQbHVnaW4gdGhhdCBpcyByZXNwb25zaWJsZSBmb3IgcmVuZGVyaW5nIHRoaXMgZWxlbWVudC5cbiAgICAgICAgICogQWxsb3dzIHRvIGN1c3RvbWl6ZSB0aGUgcmVuZGVyaW5nIHByb2Nlc3Mgd2l0aG91dCBvdmVycmlkaW5nICdfcmVuZGVyJyAmICdfcmVuZGVyQ2FudmFzJyBtZXRob2RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdzcHJpdGUnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsdWdpbk5hbWUgPSAnc3ByaXRlJztcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciQkMSApIFNwcml0ZS5fX3Byb3RvX18gPSBDb250YWluZXIkJDE7XG4gICAgU3ByaXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbnRhaW5lciQkMSAmJiBDb250YWluZXIkJDEucHJvdG90eXBlICk7XG4gICAgU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNwcml0ZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IHdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbmNob3I6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGludDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0dXJlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB0ZXh0dXJlIGlzIHVwZGF0ZWQsIHRoaXMgZXZlbnQgd2lsbCBmaXJlIHRvIHVwZGF0ZSB0aGUgc2NhbGUgYW5kIGZyYW1lXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uVGV4dHVyZVVwZGF0ZSA9IGZ1bmN0aW9uIF9vblRleHR1cmVVcGRhdGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IC0xO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gLTE7XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8vIHNvIGlmIF93aWR0aCBpcyAwIHRoZW4gd2lkdGggd2FzIG5vdCBzZXQuLlxuICAgICAgICBpZiAodGhpcy5fd2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IHNpZ24odGhpcy5zY2FsZS54KSAqIHRoaXMuX3dpZHRoIC8gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2hlaWdodClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS55ID0gc2lnbih0aGlzLnNjYWxlLnkpICogdGhpcy5faGVpZ2h0IC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgYW5jaG9yIHBvc2l0aW9uIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuX29uQW5jaG9yVXBkYXRlID0gZnVuY3Rpb24gX29uQW5jaG9yVXBkYXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgICAgICB0aGlzLl90cmFuc2Zvcm1UcmltbWVkSUQgPSAtMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzLCBzdG9yZSBpdCBpbiB2ZXJ0ZXhEYXRhXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5jYWxjdWxhdGVWZXJ0aWNlcyA9IGZ1bmN0aW9uIGNhbGN1bGF0ZVZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNmb3JtSUQgPT09IHRoaXMudHJhbnNmb3JtLl93b3JsZElEICYmIHRoaXMuX3RleHR1cmVJRCA9PT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybUlEID0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQ7XG4gICAgICAgIHRoaXMuX3RleHR1cmVJRCA9IHRoaXMuX3RleHR1cmUuX3VwZGF0ZUlEO1xuXG4gICAgICAgIC8vIHNldCB0aGUgdmVydGV4IGRhdGFcblxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciB3dCA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB2YXIgYSA9IHd0LmE7XG4gICAgICAgIHZhciBiID0gd3QuYjtcbiAgICAgICAgdmFyIGMgPSB3dC5jO1xuICAgICAgICB2YXIgZCA9IHd0LmQ7XG4gICAgICAgIHZhciB0eCA9IHd0LnR4O1xuICAgICAgICB2YXIgdHkgPSB3dC50eTtcbiAgICAgICAgdmFyIHZlcnRleERhdGEgPSB0aGlzLnZlcnRleERhdGE7XG4gICAgICAgIHZhciB0cmltID0gdGV4dHVyZS50cmltO1xuICAgICAgICB2YXIgb3JpZyA9IHRleHR1cmUub3JpZztcbiAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuX2FuY2hvcjtcblxuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGlmICh0cmltKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZSBleHRyYVxuICAgICAgICAgICAgLy8gc3BhY2UgYmVmb3JlIHRyYW5zZm9ybWluZyB0aGUgc3ByaXRlIGNvb3Jkcy5cbiAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKGFuY2hvci5feCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgdzAgPSB3MSArIHRyaW0ud2lkdGg7XG5cbiAgICAgICAgICAgIGgxID0gdHJpbS55IC0gKGFuY2hvci5feSAqIG9yaWcuaGVpZ2h0KTtcbiAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHcxID0gLWFuY2hvci5feCAqIG9yaWcud2lkdGg7XG4gICAgICAgICAgICB3MCA9IHcxICsgb3JpZy53aWR0aDtcblxuICAgICAgICAgICAgaDEgPSAtYW5jaG9yLl95ICogb3JpZy5oZWlnaHQ7XG4gICAgICAgICAgICBoMCA9IGgxICsgb3JpZy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzBdID0gKGEgKiB3MSkgKyAoYyAqIGgxKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzFdID0gKGQgKiBoMSkgKyAoYiAqIHcxKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMl0gPSAoYSAqIHcwKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbM10gPSAoZCAqIGgxKSArIChiICogdzApICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVs0XSA9IChhICogdzApICsgKGMgKiBoMCkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVs1XSA9IChkICogaDApICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzZdID0gKGEgKiB3MSkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzddID0gKGQgKiBoMCkgKyAoYiAqIHcxKSArIHR5O1xuXG4gICAgICAgIC8vICAgY29uc29sZS5sb2cob3JpZy53aWR0aClcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHZlcnRleERhdGEsIHRoaXMudGV4dHVyZS5iYXNlVGV4dHVyZSlcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlcyB3b3JsZFRyYW5zZm9ybSAqIHZlcnRpY2VzIGZvciBhIG5vbiB0ZXh0dXJlIHdpdGggYSB0cmltLiBzdG9yZSBpdCBpbiB2ZXJ0ZXhUcmltbWVkRGF0YVxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBlbnN1cmUgdGhhdCB0aGUgdHJ1ZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIGEgdHJpbW1lZCB0ZXh0dXJlIGlzIHJlc3BlY3RlZFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzID0gZnVuY3Rpb24gY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudmVydGV4VHJpbW1lZERhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmVydGV4VHJpbW1lZERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KDgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9PT0gdGhpcy50cmFuc2Zvcm0uX3dvcmxkSUQgJiYgdGhpcy5fdGV4dHVyZVRyaW1tZWRJRCA9PT0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybVRyaW1tZWRJRCA9IHRoaXMudHJhbnNmb3JtLl93b3JsZElEO1xuICAgICAgICB0aGlzLl90ZXh0dXJlVHJpbW1lZElEID0gdGhpcy5fdGV4dHVyZS5fdXBkYXRlSUQ7XG5cbiAgICAgICAgLy8gbGV0cyBkbyBzb21lIHNwZWNpYWwgdHJpbSBjb2RlIVxuICAgICAgICB2YXIgdGV4dHVyZSA9IHRoaXMuX3RleHR1cmU7XG4gICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gdGhpcy52ZXJ0ZXhUcmltbWVkRGF0YTtcbiAgICAgICAgdmFyIG9yaWcgPSB0ZXh0dXJlLm9yaWc7XG4gICAgICAgIHZhciBhbmNob3IgPSB0aGlzLl9hbmNob3I7XG5cbiAgICAgICAgLy8gbGV0cyBjYWxjdWxhdGUgdGhlIG5ldyB1bnRyaW1tZWQgYm91bmRzLi5cbiAgICAgICAgdmFyIHd0ID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgICAgIHZhciBhID0gd3QuYTtcbiAgICAgICAgdmFyIGIgPSB3dC5iO1xuICAgICAgICB2YXIgYyA9IHd0LmM7XG4gICAgICAgIHZhciBkID0gd3QuZDtcbiAgICAgICAgdmFyIHR4ID0gd3QudHg7XG4gICAgICAgIHZhciB0eSA9IHd0LnR5O1xuXG4gICAgICAgIHZhciB3MSA9IC1hbmNob3IuX3ggKiBvcmlnLndpZHRoO1xuICAgICAgICB2YXIgdzAgPSB3MSArIG9yaWcud2lkdGg7XG5cbiAgICAgICAgdmFyIGgxID0gLWFuY2hvci5feSAqIG9yaWcuaGVpZ2h0O1xuICAgICAgICB2YXIgaDAgPSBoMSArIG9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbMF0gPSAoYSAqIHcxKSArIChjICogaDEpICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbMV0gPSAoZCAqIGgxKSArIChiICogdzEpICsgdHk7XG5cbiAgICAgICAgLy8geHlcbiAgICAgICAgdmVydGV4RGF0YVsyXSA9IChhICogdzApICsgKGMgKiBoMSkgKyB0eDtcbiAgICAgICAgdmVydGV4RGF0YVszXSA9IChkICogaDEpICsgKGIgKiB3MCkgKyB0eTtcblxuICAgICAgICAvLyB4eVxuICAgICAgICB2ZXJ0ZXhEYXRhWzRdID0gKGEgKiB3MCkgKyAoYyAqIGgwKSArIHR4O1xuICAgICAgICB2ZXJ0ZXhEYXRhWzVdID0gKGQgKiBoMCkgKyAoYiAqIHcwKSArIHR5O1xuXG4gICAgICAgIC8vIHh5XG4gICAgICAgIHZlcnRleERhdGFbNl0gPSAoYSAqIHcxKSArIChjICogaDApICsgdHg7XG4gICAgICAgIHZlcnRleERhdGFbN10gPSAoZCAqIGgwKSArIChiICogdzEpICsgdHk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICpcbiAgICAqIFJlbmRlcnMgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXJcbiAgICAqXG4gICAgKiBAcHJpdmF0ZVxuICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSB3ZWJnbCByZW5kZXJlciB0byB1c2UuXG4gICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcblxuICAgICAgICByZW5kZXJlci5iYXRjaC5zZXRPYmplY3RSZW5kZXJlcihyZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0pO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zW3RoaXMucGx1Z2luTmFtZV0ucmVuZGVyKHRoaXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBib3VuZHMgb2YgdGhlIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRyaW0gPSB0aGlzLl90ZXh0dXJlLnRyaW07XG4gICAgICAgIHZhciBvcmlnID0gdGhpcy5fdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgIC8vIEZpcnN0IGxldHMgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHRleHR1cmUgaGFzIGEgdHJpbS4uXG4gICAgICAgIGlmICghdHJpbSB8fCAodHJpbS53aWR0aCA9PT0gb3JpZy53aWR0aCAmJiB0cmltLmhlaWdodCA9PT0gb3JpZy5oZWlnaHQpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBubyB0cmltISBsZXRzIHVzZSB0aGUgdXN1YWwgY2FsY3VsYXRpb25zLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRRdWFkKHRoaXMudmVydGV4RGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBsZXRzIGNhbGN1bGF0ZSBhIHNwZWNpYWwgdHJpbW1lZCBib3VuZHMuLi5cbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlVHJpbW1lZFZlcnRpY2VzKCk7XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleFRyaW1tZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCBib3VuZHMgb2YgdGhlIHNwcml0ZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfSByZWN0IC0gVGhlIG91dHB1dCByZWN0YW5nbGUuXG4gICAgICogQHJldHVybiB7UElYSS5SZWN0YW5nbGV9IFRoZSBib3VuZHMuXG4gICAgICovXG4gICAgU3ByaXRlLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzIChyZWN0KVxuICAgIHtcbiAgICAgICAgLy8gd2UgY2FuIGRvIGEgZmFzdCBsb2NhbCBib3VuZHMgaWYgdGhlIHNwcml0ZSBoYXMgbm8gY2hpbGRyZW4hXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblggPSB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhYID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoICogKDEgLSB0aGlzLl9hbmNob3IuX3gpO1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFkgPSB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQ29udGFpbmVyJCQxLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIHNwcml0ZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byB0ZXN0XG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdCBvZiB0aGUgdGVzdFxuICAgICAqL1xuICAgIFNwcml0ZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQgKHBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdmFyIHgxID0gLXdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgdmFyIHkxID0gMDtcblxuICAgICAgICBpZiAodGVtcFBvaW50LnggPj0geDEgJiYgdGVtcFBvaW50LnggPCB4MSArIHdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuXG4gICAgICAgICAgICBpZiAodGVtcFBvaW50LnkgPj0geTEgJiYgdGVtcFBvaW50LnkgPCB5MSArIGhlaWdodClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyBzcHJpdGUgYW5kIG9wdGlvbmFsbHkgaXRzIHRleHR1cmUgYW5kIGNoaWxkcmVuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbCBvcHRpb25zXG4gICAgICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKi9cbiAgICBTcHJpdGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgQ29udGFpbmVyJCQxLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZS5vZmYoJ3VwZGF0ZScsIHRoaXMuX29uVGV4dHVyZVVwZGF0ZSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbnVsbDtcblxuICAgICAgICB2YXIgZGVzdHJveVRleHR1cmUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Jvb2xlYW4nID8gb3B0aW9ucyA6IG9wdGlvbnMgJiYgb3B0aW9ucy50ZXh0dXJlO1xuXG4gICAgICAgIGlmIChkZXN0cm95VGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGRlc3Ryb3lCYXNlVGV4dHVyZSA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlLmRlc3Ryb3koISFkZXN0cm95QmFzZVRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gc29tZSBoZWxwZXIgZnVuY3Rpb25zLi5cblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBuZXcgc3ByaXRlIGJhc2VkIG9uIHRoZSBzb3VyY2UgeW91IHByb3ZpZGUuXG4gICAgICogVGhlIHNvdXJjZSBjYW4gYmUgLSBmcmFtZSBpZCwgaW1hZ2UgdXJsLCB2aWRlbyB1cmwsIGNhbnZhcyBlbGVtZW50LCB2aWRlbyBlbGVtZW50LCBiYXNlIHRleHR1cmVcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd8UElYSS5UZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSBTb3VyY2UgdG8gY3JlYXRlIHRleHR1cmUgZnJvbVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc10gU2VlIHtAbGluayBQSVhJLkJhc2VUZXh0dXJlfSdzIGNvbnN0cnVjdG9yIGZvciBvcHRpb25zLlxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfSBUaGUgbmV3bHkgY3JlYXRlZCBzcHJpdGVcbiAgICAgKi9cbiAgICBTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHNvdXJjZSwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gKHNvdXJjZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAgICAgICAgICA/IHNvdXJjZVxuICAgICAgICAgICAgOiBuZXcgVGV4dHVyZS5mcm9tKHNvdXJjZSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTcHJpdGUodGV4dHVyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueCkgKiB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueCkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnggPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHNwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gTWF0aC5hYnModGhpcy5zY2FsZS55KSAqIHRoaXMuX3RleHR1cmUub3JpZy5oZWlnaHQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5oZWlnaHQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHZhciBzID0gc2lnbih0aGlzLnNjYWxlLnkpIHx8IDE7XG5cbiAgICAgICAgdGhpcy5zY2FsZS55ID0gcyAqIHZhbHVlIC8gdGhpcy5fdGV4dHVyZS5vcmlnLmhlaWdodDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0LlxuICAgICAqXG4gICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgwLjUsMC41KWAgbWVhbnMgdGhlIHRleHQncyBvcmlnaW4gaXMgY2VudGVyZWQuXG4gICAgICpcbiAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgxLDEpYCB3b3VsZCBtZWFuIHRoZSB0ZXh0J3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICpcbiAgICAgKiBJZiB5b3UgcGFzcyBvbmx5IHNpbmdsZSBwYXJhbWV0ZXIsIGl0IHdpbGwgc2V0IGJvdGggeCBhbmQgeSB0byB0aGUgc2FtZSB2YWx1ZSBhcyBzaG93biBpbiB0aGUgZXhhbXBsZSBiZWxvdy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5hbmNob3Iuc2V0KDAuNSk7IC8vIFRoaXMgd2lsbCBzZXQgdGhlIG9yaWdpbiB0byBjZW50ZXIuICgwLjUpIGlzIHNhbWUgYXMgKDAuNSwgMC41KS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbmNob3IuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbmNob3Iuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBBIHZhbHVlIG9mIDB4RkZGRkZGIHdpbGwgcmVtb3ZlIGFueSB0aW50IGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fdGludFJHQiA9ICh2YWx1ZSA+PiAxNikgKyAodmFsdWUgJiAweGZmMDApICsgKCh2YWx1ZSAmIDB4ZmYpIDw8IDE2KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRleHR1cmUgdGhhdCB0aGUgc3ByaXRlIGlzIHVzaW5nXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWUgfHwgVGV4dHVyZS5FTVBUWTtcbiAgICAgICAgdGhpcy5jYWNoZWRUaW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuX3RleHR1cmVUcmltbWVkSUQgPSAtMTtcblxuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSB0ZXh0dXJlIHRvIGxvYWRcbiAgICAgICAgICAgIGlmICh2YWx1ZS5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YWx1ZS5vbmNlKCd1cGRhdGUnLCB0aGlzLl9vblRleHR1cmVVcGRhdGUsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBTcHJpdGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBTcHJpdGU7XG59KENvbnRhaW5lcikpO1xuXG4vKipcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJhdGNoQnVmZmVyID0gZnVuY3Rpb24gQmF0Y2hCdWZmZXIoc2l6ZSlcbntcbiAgICB0aGlzLnZlcnRpY2VzID0gbmV3IEFycmF5QnVmZmVyKHNpemUpO1xuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgdmVydGljZXMgYXMgYSBGbG9hdDMyQXJyYXkgZm9yIHBvc2l0aW9uc1xuICAgICAqXG4gICAgICogQG1lbWJlciB7RmxvYXQzMkFycmF5fVxuICAgICAqL1xuICAgIHRoaXMuZmxvYXQzMlZpZXcgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMudmVydGljZXMpO1xuXG4gICAgLyoqXG4gICAgICogVmlldyBvbiB0aGUgdmVydGljZXMgYXMgYSBVaW50MzJBcnJheSBmb3IgdXZzXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICovXG4gICAgdGhpcy51aW50MzJWaWV3ID0gbmV3IFVpbnQzMkFycmF5KHRoaXMudmVydGljZXMpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgYnVmZmVyLlxuICpcbiAqL1xuQmF0Y2hCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG57XG4gICAgdGhpcy52ZXJ0aWNlcyA9IG51bGw7XG4gICAgdGhpcy5wb3NpdGlvbnMgPSBudWxsO1xuICAgIHRoaXMudXZzID0gbnVsbDtcbiAgICB0aGlzLmNvbG9ycyA9IG51bGw7XG59O1xuXG52YXIgdmVydGV4ID0gXCJwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcbmF0dHJpYnV0ZSBmbG9hdCBhVGV4dHVyZUlkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxudmFyeWluZyBmbG9hdCB2VGV4dHVyZUlkO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2VGV4dHVyZUlkID0gYVRleHR1cmVJZDtcXG4gICAgdkNvbG9yID0gYUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIGZyYWdUZW1wbGF0ZSA9IFtcbiAgICAndmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7JyxcbiAgICAndmFyeWluZyB2ZWM0IHZDb2xvcjsnLFxuICAgICd2YXJ5aW5nIGZsb2F0IHZUZXh0dXJlSWQ7JyxcbiAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXJzWyVjb3VudCVdOycsXG5cbiAgICAndm9pZCBtYWluKHZvaWQpeycsXG4gICAgJ3ZlYzQgY29sb3I7JyxcbiAgICAnZmxvYXQgdGV4dHVyZUlkID0gZmxvb3IodlRleHR1cmVJZCswLjUpOycsXG4gICAgJyVmb3Jsb29wJScsXG4gICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yICogdkNvbG9yOycsXG4gICAgJ30nIF0uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyKGdsLCBtYXhUZXh0dXJlcylcbntcbiAgICB2YXIgc2FtcGxlVmFsdWVzID0gbmV3IEludDMyQXJyYXkobWF4VGV4dHVyZXMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXhUZXh0dXJlczsgaSsrKVxuICAgIHtcbiAgICAgICAgc2FtcGxlVmFsdWVzW2ldID0gaTtcbiAgICB9XG5cbiAgICB2YXIgdW5pZm9ybXMgPSB7XG4gICAgICAgIGRlZmF1bHQ6IFVuaWZvcm1Hcm91cC5mcm9tKHsgdVNhbXBsZXJzOiBzYW1wbGVWYWx1ZXMgfSwgdHJ1ZSksXG4gICAgfTtcblxuICAgIHZhciBmcmFnbWVudFNyYyA9IGZyYWdUZW1wbGF0ZTtcblxuICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWNvdW50JS9naSwgbWF4VGV4dHVyZXMpO1xuICAgIGZyYWdtZW50U3JjID0gZnJhZ21lbnRTcmMucmVwbGFjZSgvJWZvcmxvb3AlL2dpLCBnZW5lcmF0ZVNhbXBsZVNyYyhtYXhUZXh0dXJlcykpO1xuXG4gICAgdmFyIHNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnRTcmMsIHVuaWZvcm1zKTtcblxuICAgIHJldHVybiBzaGFkZXI7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlU2FtcGxlU3JjKG1heFRleHR1cmVzKVxue1xuICAgIHZhciBzcmMgPSAnJztcblxuICAgIHNyYyArPSAnXFxuJztcbiAgICBzcmMgKz0gJ1xcbic7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heFRleHR1cmVzOyBpKyspXG4gICAge1xuICAgICAgICBpZiAoaSA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNyYyArPSAnXFxuZWxzZSAnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGkgPCBtYXhUZXh0dXJlcyAtIDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNyYyArPSBcImlmKHRleHR1cmVJZCA9PSBcIiArIGkgKyBcIi4wKVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgc3JjICs9ICdcXG57JztcbiAgICAgICAgc3JjICs9IFwiXFxuXFx0Y29sb3IgPSB0ZXh0dXJlMkQodVNhbXBsZXJzW1wiICsgaSArIFwiXSwgdlRleHR1cmVDb29yZCk7XCI7XG4gICAgICAgIHNyYyArPSAnXFxufSc7XG4gICAgfVxuXG4gICAgc3JjICs9ICdcXG4nO1xuICAgIHNyYyArPSAnXFxuJztcblxuICAgIHJldHVybiBzcmM7XG59XG5cbnZhciBUSUNLID0gMDtcbi8vIGNvbnN0IFRFWFRVUkVfVElDSyA9IDA7XG5cbi8qKlxuICogUmVuZGVyZXIgZGVkaWNhdGVkIHRvIGRyYXdpbmcgYW5kIGJhdGNoaW5nIHNwcml0ZXMuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIFNwcml0ZVJlbmRlcmVyID0gKGZ1bmN0aW9uIChPYmplY3RSZW5kZXJlciQkMSkge1xuICAgIGZ1bmN0aW9uIFNwcml0ZVJlbmRlcmVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgT2JqZWN0UmVuZGVyZXIkJDEuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiB2YWx1ZXMgc2VudCBpbiB0aGUgdmVydGV4IGJ1ZmZlci5cbiAgICAgICAgICogYVZlcnRleFBvc2l0aW9uKDIpLCBhVGV4dHVyZUNvb3JkKDEpLCBhQ29sb3IoMSksIGFUZXh0dXJlSWQoMSkgPSA1XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydFNpemUgPSA1O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2l6ZSBvZiB0aGUgdmVydGV4IGluZm9ybWF0aW9uIGluIGJ5dGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZlcnRCeXRlU2l6ZSA9IHRoaXMudmVydFNpemUgKiA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbnVtYmVyIG9mIGltYWdlcyBpbiB0aGUgU3ByaXRlUmVuZGVyZXIgYmVmb3JlIGl0IGZsdXNoZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNldHRpbmdzJDEuU1BSSVRFX0JBVENIX1NJWkU7IC8vIDIwMDAgaXMgYSBuaWNlIGJhbGFuY2UgYmV0d2VlbiBtb2JpbGUgLyBkZXNrdG9wXG5cbiAgICAgICAgLy8gdGhlIHRvdGFsIG51bWJlciBvZiBieXRlcyBpbiBvdXIgYmF0Y2hcbiAgICAgICAgLy8gbGV0IG51bVZlcnRzID0gdGhpcy5zaXplICogNCAqIHRoaXMudmVydEJ5dGVTaXplO1xuXG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBiaXRUd2lkZGxlLm5leHRQb3cyKHRoaXMuc2l6ZSk7IGkgKj0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLmJ1ZmZlcnMucHVzaChuZXcgQmF0Y2hCdWZmZXIoaSAqIDQgKiB0aGlzJDEudmVydEJ5dGVTaXplKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogSG9sZHMgdGhlIGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtVaW50MTZBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IGNyZWF0ZUluZGljZXNGb3JRdWFkcyh0aGlzLnNpemUpO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmluZGljZXMsIHRydWUsIHRydWUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXJzIHRoYXQgaXMgdXNlZCBpZiBhIHNwcml0ZSBkb2Vzbid0IGhhdmUgYSBtb3JlIHNwZWNpZmljIG9uZS5cbiAgICAgICAgICogdGhlcmUgaXMgYSBzaGFkZXIgZm9yIGVhY2ggbnVtYmVyIG9mIHRleHR1cmVzIHRoYXQgY2FuIGJlIHJlbmRlcmVkLlxuICAgICAgICAgKiBUaGVzZSBzaGFkZXJzIHdpbGwgYWxzbyBiZSBnZW5lcmF0ZWQgb24gdGhlIGZseSBhcyByZXF1aXJlZC5cbiAgICAgICAgICogQG1lbWJlciB7UElYSS5TaGFkZXJbXX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuZ3JvdXBzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLnNpemU7IGsrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLmdyb3Vwc1trXSA9IHsgdGV4dHVyZXM6IFtdLCB0ZXh0dXJlQ291bnQ6IDAsIGlkczogW10sIHNpemU6IDAsIHN0YXJ0OiAwLCBibGVuZDogMCB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zcHJpdGVzID0gW107XG5cbiAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXJzID0gW107XG4gICAgICAgIHRoaXMudmFvcyA9IFtdO1xuXG4gICAgICAgIHRoaXMudmFvTWF4ID0gMjtcbiAgICAgICAgdGhpcy52ZXJ0ZXhDb3VudCA9IDA7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5vbigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG4gICAgfVxuXG4gICAgaWYgKCBPYmplY3RSZW5kZXJlciQkMSApIFNwcml0ZVJlbmRlcmVyLl9fcHJvdG9fXyA9IE9iamVjdFJlbmRlcmVyJCQxO1xuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE9iamVjdFJlbmRlcmVyJCQxICYmIE9iamVjdFJlbmRlcmVyJCQxLnByb3RvdHlwZSApO1xuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFNwcml0ZVJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICBpZiAoc2V0dGluZ3MkMS5QUkVGRVJfRU5WID09PSBFTlYuV0VCR0xfTEVHQUNZKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdGVwIDE6IGZpcnN0IGNoZWNrIG1heCB0ZXh0dXJlcyB0aGUgR1BVIGNhbiBoYW5kbGUuXG4gICAgICAgICAgICB0aGlzLk1BWF9URVhUVVJFUyA9IE1hdGgubWluKGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9JTUFHRV9VTklUUyksIHNldHRpbmdzJDEuU1BSSVRFX01BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgICAgIC8vIHN0ZXAgMjogY2hlY2sgdGhlIG1heGltdW0gbnVtYmVyIG9mIGlmIHN0YXRlbWVudHMgdGhlIHNoYWRlciBjYW4gaGF2ZSB0b28uLlxuICAgICAgICAgICAgdGhpcy5NQVhfVEVYVFVSRVMgPSBjaGVja01heElmU3RhdGVtZW50c0luU2hhZGVyKHRoaXMuTUFYX1RFWFRVUkVTLCBnbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZW5lcmF0ZSBnZW5lcmF0ZU11bHRpVGV4dHVyZVByb2dyYW0sIG1heSBiZSBhIGJldHRlciBtb3ZlP1xuICAgICAgICB0aGlzLnNoYWRlciA9IGdlbmVyYXRlTXVsdGlUZXh0dXJlU2hhZGVyKGdsLCB0aGlzLk1BWF9URVhUVVJFUyk7XG5cbiAgICAgICAgLy8gd2UgdXNlIHRoZSBzZWNvbmQgc2hhZGVyIGFzIHRoZSBmaXJzdCBvbmUgZGVwZW5kaW5nIG9uIHlvdXIgYnJvd3NlciBtYXkgb21pdCBhVGV4dHVyZUlkXG4gICAgICAgIC8vIGFzIGl0IGlzIG5vdCB1c2VkIGJ5IHRoZSBzaGFkZXIgc28gaXMgb3B0aW1pemVkIG91dC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnZhb01heDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcihudWxsLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHRoaXMkMS52YW9zW2ldID0gbmV3IEdlb21ldHJ5KClcbiAgICAgICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nLCBidWZmZXIsIDIsIGZhbHNlLCBnbC5GTE9BVClcbiAgICAgICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUNvb3JkJywgYnVmZmVyLCAyLCB0cnVlLCBnbC5VTlNJR05FRF9TSE9SVClcbiAgICAgICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhQ29sb3InLCBidWZmZXIsIDQsIHRydWUsIGdsLlVOU0lHTkVEX0JZVEUpXG4gICAgICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVJZCcsIGJ1ZmZlciwgMSwgdHJ1ZSwgZ2wuRkxPQVQpXG4gICAgICAgICAgICAgICAgLmFkZEluZGV4KHRoaXMkMS5pbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgICAgICAgICAgdGhpcyQxLnZlcnRleEJ1ZmZlcnNbaV0gPSBidWZmZXI7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGJlZm9yZSB0aGUgcmVuZGVyZXIgc3RhcnRzIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqL1xuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5vblByZXJlbmRlciA9IGZ1bmN0aW9uIG9uUHJlcmVuZGVyICgpXG4gICAge1xuICAgICAgICB0aGlzLnZlcnRleENvdW50ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgc3ByaXRlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5TcHJpdGV9IHNwcml0ZSAtIHRoZSBzcHJpdGUgdG8gcmVuZGVyIHdoZW4gdXNpbmcgdGhpcyBzcHJpdGViYXRjaFxuICAgICAqL1xuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKHNwcml0ZSlcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gc2V0IGJsZW5kIG1vZGVzLi5cbiAgICAgICAgLy8gY2hlY2sgdGV4dHVyZS4uXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA+PSB0aGlzLnNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgdXZzIGZvciB0aGUgdGV4dHVyZVxuXG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgaWYgKCFzcHJpdGUuX3RleHR1cmUuX3V2cylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcHVzaCBhIHRleHR1cmUuXG4gICAgICAgIC8vIGluY3JlbWVudCB0aGUgYmF0Y2hzaXplXG4gICAgICAgIHRoaXMuc3ByaXRlc1t0aGlzLmN1cnJlbnRJbmRleCsrXSA9IHNwcml0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGVudCBhbmQgZW1wdGllcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKlxuICAgICAqL1xuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIGZsdXNoICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBnbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHZhciBNQVhfVEVYVFVSRVMgPSB0aGlzLk1BWF9URVhUVVJFUztcblxuICAgICAgICB2YXIgbnAyID0gYml0VHdpZGRsZS5uZXh0UG93Mih0aGlzLmN1cnJlbnRJbmRleCk7XG4gICAgICAgIHZhciBsb2cyID0gYml0VHdpZGRsZS5sb2cyKG5wMik7XG4gICAgICAgIHZhciBidWZmZXIgPSB0aGlzLmJ1ZmZlcnNbbG9nMl07XG5cbiAgICAgICAgdmFyIHNwcml0ZXMgPSB0aGlzLnNwcml0ZXM7XG4gICAgICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwcztcblxuICAgICAgICB2YXIgZmxvYXQzMlZpZXcgPSBidWZmZXIuZmxvYXQzMlZpZXc7XG4gICAgICAgIHZhciB1aW50MzJWaWV3ID0gYnVmZmVyLnVpbnQzMlZpZXc7XG5cbiAgICAgICAgdmFyIHRvdWNoID0gdGhpcy5yZW5kZXJlci50ZXh0dXJlR0MuY291bnQ7XG5cbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIG5leHRUZXh0dXJlO1xuICAgICAgICB2YXIgY3VycmVudFRleHR1cmU7XG4gICAgICAgIHZhciBncm91cENvdW50ID0gMTtcbiAgICAgICAgdmFyIHRleHR1cmVJZCA9IDA7XG4gICAgICAgIHZhciB0ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudEdyb3VwID0gZ3JvdXBzWzBdO1xuICAgICAgICB2YXIgdmVydGV4RGF0YTtcbiAgICAgICAgdmFyIHV2cztcbiAgICAgICAgdmFyIGJsZW5kTW9kZSA9IHByZW11bHRpcGx5QmxlbmRNb2RlW1xuICAgICAgICAgICAgc3ByaXRlc1swXS5fdGV4dHVyZS5iYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID8gMSA6IDBdW3Nwcml0ZXNbMF0uYmxlbmRNb2RlXTtcblxuICAgICAgICBjdXJyZW50R3JvdXAudGV4dHVyZUNvdW50ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gMDtcbiAgICAgICAgY3VycmVudEdyb3VwLmJsZW5kID0gYmxlbmRNb2RlO1xuXG4gICAgICAgIFRJQ0srKztcblxuICAgICAgICB2YXIgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5jdXJyZW50SW5kZXg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdXBsb2FkIHRoZSBzcHJpdGUgZWxlbWVudHMuLi5cbiAgICAgICAgICAgIC8vIHRoZXkgaGF2ZSBhbGwgcmVhZHkgYmVlbiBjYWxjdWxhdGVkIHNvIHdlIGp1c3QgbmVlZCB0byBwdXNoIHRoZW0gaW50byB0aGUgYnVmZmVyLlxuXG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gc3ByaXRlc1tpXTtcblxuICAgICAgICAgICAgbmV4dFRleHR1cmUgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmU7XG4gICAgICAgICAgICB0ZXh0dXJlSWQgPSBuZXh0VGV4dHVyZS5faWQ7XG5cbiAgICAgICAgICAgIHZhciBzcHJpdGVCbGVuZE1vZGUgPSBwcmVtdWx0aXBseUJsZW5kTW9kZVtOdW1iZXIobmV4dFRleHR1cmUucHJlbXVsdGlwbHlBbHBoYSldW3Nwcml0ZS5ibGVuZE1vZGVdO1xuXG4gICAgICAgICAgICBpZiAoYmxlbmRNb2RlICE9PSBzcHJpdGVCbGVuZE1vZGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmxlbmRNb2RlID0gc3ByaXRlQmxlbmRNb2RlO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yY2UgdGhlIGJhdGNoIHRvIGJyZWFrIVxuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlQ291bnQgPSBNQVhfVEVYVFVSRVM7XG4gICAgICAgICAgICAgICAgVElDSysrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudFRleHR1cmUgIT09IG5leHRUZXh0dXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRUZXh0dXJlID0gbmV4dFRleHR1cmU7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV4dFRleHR1cmUuX2VuYWJsZWQgIT09IFRJQ0spXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGV4dHVyZUNvdW50ID09PSBNQVhfVEVYVFVSRVMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJQ0srKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnNpemUgPSBpIC0gY3VycmVudEdyb3VwLnN0YXJ0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50R3JvdXAgPSBncm91cHNbZ3JvdXBDb3VudCsrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLmJsZW5kID0gYmxlbmRNb2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG5leHRUZXh0dXJlLnRvdWNoZWQgPSB0b3VjaDtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFRleHR1cmUuX2VuYWJsZWQgPSBUSUNLO1xuICAgICAgICAgICAgICAgICAgICBuZXh0VGV4dHVyZS5faWQgPSB0ZXh0dXJlQ291bnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEdyb3VwLnRleHR1cmVzW2N1cnJlbnRHcm91cC50ZXh0dXJlQ291bnQrK10gPSBuZXh0VGV4dHVyZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2ZXJ0ZXhEYXRhID0gc3ByaXRlLnZlcnRleERhdGE7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gdGhpcyBzdW0gZG9lcyBub3QgbmVlZCB0byBiZSBzZXQgZWFjaCBmcmFtZS4uXG4gICAgICAgICAgICB1dnMgPSBzcHJpdGUuX3RleHR1cmUuX3V2cy51dnNVaW50MzI7XG4gICAgICAgICAgICB0ZXh0dXJlSWQgPSBuZXh0VGV4dHVyZS5faWQ7XG5cbiAgICAgICAgICAgIGlmICh0aGlzJDEucmVuZGVyZXIucm91bmRQaXhlbHMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc29sdXRpb24gPSB0aGlzJDEucmVuZGVyZXIucmVzb2x1dGlvbjtcblxuICAgICAgICAgICAgICAgIC8vIHh5XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXhdID0gKCh2ZXJ0ZXhEYXRhWzBdICogcmVzb2x1dGlvbikgfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxXSA9ICgodmVydGV4RGF0YVsxXSAqIHJlc29sdXRpb24pIHwgMCkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDVdID0gKCh2ZXJ0ZXhEYXRhWzJdICogcmVzb2x1dGlvbikgfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyA2XSA9ICgodmVydGV4RGF0YVszXSAqIHJlc29sdXRpb24pIHwgMCkgLyByZXNvbHV0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDEwXSA9ICgodmVydGV4RGF0YVs0XSAqIHJlc29sdXRpb24pIHwgMCkgLyByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTFdID0gKCh2ZXJ0ZXhEYXRhWzVdICogcmVzb2x1dGlvbikgfCAwKSAvIHJlc29sdXRpb247XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgMTVdID0gKCh2ZXJ0ZXhEYXRhWzZdICogcmVzb2x1dGlvbikgfCAwKSAvIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxNl0gPSAoKHZlcnRleERhdGFbN10gKiByZXNvbHV0aW9uKSB8IDApIC8gcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4XSA9IHZlcnRleERhdGFbMF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxXSA9IHZlcnRleERhdGFbMV07XG5cbiAgICAgICAgICAgICAgICAvLyB4eVxuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNV0gPSB2ZXJ0ZXhEYXRhWzJdO1xuICAgICAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNl0gPSB2ZXJ0ZXhEYXRhWzNdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDEwXSA9IHZlcnRleERhdGFbNF07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxMV0gPSB2ZXJ0ZXhEYXRhWzVdO1xuXG4gICAgICAgICAgICAgICAgLy8geHlcbiAgICAgICAgICAgICAgICBmbG9hdDMyVmlld1tpbmRleCArIDE1XSA9IHZlcnRleERhdGFbNl07XG4gICAgICAgICAgICAgICAgZmxvYXQzMlZpZXdbaW5kZXggKyAxNl0gPSB2ZXJ0ZXhEYXRhWzddO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMl0gPSB1dnNbMF07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgN10gPSB1dnNbMV07XG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgMTJdID0gdXZzWzJdO1xuICAgICAgICAgICAgdWludDMyVmlld1tpbmRleCArIDE3XSA9IHV2c1szXTtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICAgICAgICAgIHZhciBhbHBoYSA9IE1hdGgubWluKHNwcml0ZS53b3JsZEFscGhhLCAxLjApO1xuICAgICAgICAgICAgdmFyIGFyZ2IgPSBhbHBoYSA8IDEuMCAmJiBuZXh0VGV4dHVyZS5wcmVtdWx0aXBseUFscGhhID8gcHJlbXVsdGlwbHlUaW50KHNwcml0ZS5fdGludFJHQiwgYWxwaGEpXG4gICAgICAgICAgICAgICAgOiBzcHJpdGUuX3RpbnRSR0IgKyAoYWxwaGEgKiAyNTUgPDwgMjQpO1xuXG4gICAgICAgICAgICB1aW50MzJWaWV3W2luZGV4ICsgM10gPSB1aW50MzJWaWV3W2luZGV4ICsgOF0gPSB1aW50MzJWaWV3W2luZGV4ICsgMTNdID0gdWludDMyVmlld1tpbmRleCArIDE4XSA9IGFyZ2I7XG5cbiAgICAgICAgICAgIGZsb2F0MzJWaWV3W2luZGV4ICsgNF0gPSBmbG9hdDMyVmlld1tpbmRleCArIDldID0gZmxvYXQzMlZpZXdbaW5kZXggKyAxNF0gPSBmbG9hdDMyVmlld1tpbmRleCArIDE5XSA9IHRleHR1cmVJZDtcbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWxlbiAqL1xuXG4gICAgICAgICAgICBpbmRleCArPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1cnJlbnRHcm91cC5zaXplID0gaSAtIGN1cnJlbnRHcm91cC5zdGFydDtcblxuICAgICAgICBpZiAoIXNldHRpbmdzJDEuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBzdGlsbCBuZWVkZWQgZm9yIElPUyBwZXJmb3JtYW5jZS4uXG4gICAgICAgICAgICAvLyBpdCByZWFsbHkgZG9lcyBub3QgbGlrZSB1cGxvYWRpbmcgdG8gdGhlIHNhbWUgYnVmZmVyIGluIGEgc2luZ2xlIGZyYW1lIVxuICAgICAgICAgICAgaWYgKHRoaXMudmFvTWF4IDw9IHRoaXMudmVydGV4Q291bnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy52YW9NYXgrKztcblxuICAgICAgICAgICAgICAgIHZhciBidWZmZXIkMSA9IG5ldyBCdWZmZXIobnVsbCwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgICAgICAgICAgICAgIHRoaXMudmFvc1t0aGlzLnZlcnRleENvdW50XSA9IG5ldyBHZW9tZXRyeSgpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIGJ1ZmZlciQxLCAyLCBmYWxzZSwgZ2wuRkxPQVQpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnLCBidWZmZXIkMSwgMiwgdHJ1ZSwgZ2wuVU5TSUdORURfU0hPUlQpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRBdHRyaWJ1dGUoJ2FDb2xvcicsIGJ1ZmZlciQxLCA0LCB0cnVlLCBnbC5VTlNJR05FRF9CWVRFKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQXR0cmlidXRlKCdhVGV4dHVyZUlkJywgYnVmZmVyJDEsIDEsIHRydWUsIGdsLkZMT0FUKVxuICAgICAgICAgICAgICAgICAgICAuYWRkSW5kZXgodGhpcy5pbmRleEJ1ZmZlcik7XG4gICAgICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBtYXgtbGVuICovXG5cbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnNbdGhpcy52ZXJ0ZXhDb3VudF0gPSBidWZmZXIkMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXJzW3RoaXMudmVydGV4Q291bnRdLnVwZGF0ZShidWZmZXIudmVydGljZXMsIDApO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kKHRoaXMudmFvc1t0aGlzLnZlcnRleENvdW50XSk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4Q291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGxldHMgdXNlIHRoZSBmYXN0ZXIgb3B0aW9uLCBhbHdheXMgdXNlIGJ1ZmZlciBudW1iZXIgMFxuICAgICAgICAgICAgdGhpcy52ZXJ0ZXhCdWZmZXJzW3RoaXMudmVydGV4Q291bnRdLnVwZGF0ZShidWZmZXIudmVydGljZXMsIDApO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LnVwZGF0ZUJ1ZmZlcnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIC8gcmVuZGVyIHRoZSBncm91cHMuLlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZ3JvdXBDb3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICAgICAgICB2YXIgZ3JvdXBUZXh0dXJlQ291bnQgPSBncm91cC50ZXh0dXJlQ291bnQ7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXBUZXh0dXJlQ291bnQ7IGorKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEucmVuZGVyZXIudGV4dHVyZS5iaW5kKGdyb3VwLnRleHR1cmVzW2pdLCBqKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0IHRoZSBibGVuZCBtb2RlLi5cbiAgICAgICAgICAgIHRoaXMkMS5yZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoZ3JvdXAuYmxlbmQpO1xuXG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBncm91cC5zaXplICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIGdyb3VwLnN0YXJ0ICogNiAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgZWxlbWVudHMgZm9yIHRoZSBuZXh0IGZsdXNoXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIGEgbmV3IHNwcml0ZSBiYXRjaC5cbiAgICAgKi9cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiBzdGFydCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzJDEuQ0FOX1VQTE9BRF9TQU1FX0JVRkZFUilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYmluZCBidWZmZXIgIzAsIHdlIGRvbid0IG5lZWQgb3RoZXJzXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQodGhpcy52YW9zW3RoaXMudmVydGV4Q291bnRdKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhbmQgZmx1c2hlcyB0aGUgY3VycmVudCBiYXRjaC5cbiAgICAgKlxuICAgICAqL1xuICAgIFNwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gc3RvcCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyB0aGUgU3ByaXRlUmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy52YW9NYXg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMkMS52ZXJ0ZXhCdWZmZXJzW2ldKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS52ZXJ0ZXhCdWZmZXJzW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzJDEudmFvc1tpXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEudmFvc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbmRleEJ1ZmZlcilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlcmVyLm9mZigncHJlcmVuZGVyJywgdGhpcy5vblByZXJlbmRlciwgdGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZlcnRleEJ1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLnZhb3MgPSBudWxsO1xuICAgICAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNwcml0ZXMgPSBudWxsO1xuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuYnVmZmVycy5sZW5ndGg7ICsraSQxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzJDEuYnVmZmVyc1tpJDFdLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdFJlbmRlcmVyJCQxLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBTcHJpdGVSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuZXhwb3J0IHsgU3ByaXRlLCBTcHJpdGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9ncmFwaGljcyAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL2dyYXBoaWNzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQm91bmRzLCBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IEJ1ZmZlciwgR2VvbWV0cnksIE9iamVjdFJlbmRlcmVyLCBQcm9ncmFtLCBTaGFkZXIsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENpcmNsZSwgRWxsaXBzZSwgUElfMiwgUG9pbnQsIFBvbHlnb24sIFJlY3RhbmdsZSwgUm91bmRlZFJlY3RhbmdsZSwgU0hBUEVTIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBlYXJjdXQsIGhleDJyZ2IsIHJnYjJoZXggfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIGJlemllciBjdXJ2ZSBhbmQgdGhlbiBkcmF3cyBpdC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBTdGFydGluZyBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gZnJvbVkgLSBTdGFydGluZyBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYMiAtIFNlY29uZCBDb250cm9sIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gbiAtIE51bWJlciBvZiBzZWdtZW50cyBhcHByb3hpbWF0aW5nIHRoZSBiZXppZXIgY3VydmVcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtwYXRoPVtdXSAtIFBhdGggYXJyYXkgdG8gcHVzaCBwb2ludHMgaW50b1xuICogQHJldHVybiB7bnVtYmVyW119IEFycmF5IG9mIHBvaW50cyBvZiB0aGUgY3VydmVcbiAqL1xuZnVuY3Rpb24gYmV6aWVyQ3VydmVUbyhmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSwgbiwgcGF0aClcbntcbiAgICBpZiAoIHBhdGggPT09IHZvaWQgMCApIHBhdGggPSBbXTtcblxuICAgIHZhciBkdCA9IDA7XG4gICAgdmFyIGR0MiA9IDA7XG4gICAgdmFyIGR0MyA9IDA7XG4gICAgdmFyIHQyID0gMDtcbiAgICB2YXIgdDMgPSAwO1xuXG4gICAgcGF0aC5wdXNoKGZyb21YLCBmcm9tWSk7XG5cbiAgICBmb3IgKHZhciBpID0gMSwgaiA9IDA7IGkgPD0gbjsgKytpKVxuICAgIHtcbiAgICAgICAgaiA9IGkgLyBuO1xuXG4gICAgICAgIGR0ID0gKDEgLSBqKTtcbiAgICAgICAgZHQyID0gZHQgKiBkdDtcbiAgICAgICAgZHQzID0gZHQyICogZHQ7XG5cbiAgICAgICAgdDIgPSBqICogajtcbiAgICAgICAgdDMgPSB0MiAqIGo7XG5cbiAgICAgICAgcGF0aC5wdXNoKFxuICAgICAgICAgICAgKGR0MyAqIGZyb21YKSArICgzICogZHQyICogaiAqIGNwWCkgKyAoMyAqIGR0ICogdDIgKiBjcFgyKSArICh0MyAqIHRvWCksXG4gICAgICAgICAgICAoZHQzICogZnJvbVkpICsgKDMgKiBkdDIgKiBqICogY3BZKSArICgzICogZHQgKiB0MiAqIGNwWTIpICsgKHQzICogdG9ZKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoO1xufVxuXG4vKipcbiAqIEEgR3JhcGhpY3NEYXRhIG9iamVjdC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBHcmFwaGljc0RhdGEgPSBmdW5jdGlvbiBHcmFwaGljc0RhdGEobGluZVdpZHRoLCBsaW5lQ29sb3IsIGxpbmVBbHBoYSwgZmlsbENvbG9yLCBmaWxsQWxwaGEsIGZpbGwsIG5hdGl2ZUxpbmVzLCBzaGFwZSwgbGluZUFsaWdubWVudClcbntcbiAgICAvKipcbiAgICAgKiB0aGUgd2lkdGggb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVXaWR0aCA9IGxpbmVXaWR0aDtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgYW55IGxpbmVzIGRyYXduICgwLjUgPSBtaWRkbGUsIDEgPSBvdXR0ZXIsIDAgPSBpbm5lcikuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMubGluZUFsaWdubWVudCA9IGxpbmVBbGlnbm1lbnQ7XG5cbiAgICAvKipcbiAgICAgKiBpZiB0cnVlIHRoZSBsaWVucyB3aWxsIGJlIGRyYXcgdXNpbmcgTElORVMgaW5zdGVhZCBvZiBUUklBTkdMRV9TVFJJUFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5uYXRpdmVMaW5lcyA9IG5hdGl2ZUxpbmVzO1xuXG4gICAgLyoqXG4gICAgICogdGhlIGNvbG9yIG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW5lQ29sb3IgPSBsaW5lQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB0aGUgYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmxpbmVBbHBoYSA9IGxpbmVBbHBoYTtcblxuICAgIC8qKlxuICAgICAqIGNhY2hlZCB0aW50IG9mIHRoZSBsaW5lIHRvIGRyYXdcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9saW5lVGludCA9IGxpbmVDb2xvcjtcblxuICAgIC8qKlxuICAgICAqIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxDb2xvciA9IGZpbGxDb2xvcjtcblxuICAgIC8qKlxuICAgICAqIHRoZSBhbHBoYSBvZiB0aGUgZmlsbFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGxBbHBoYSA9IGZpbGxBbHBoYTtcblxuICAgIC8qKlxuICAgICAqIGNhY2hlZCB0aW50IG9mIHRoZSBmaWxsXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fZmlsbFRpbnQgPSBmaWxsQ29sb3I7XG5cbiAgICAvKipcbiAgICAgKiB3aGV0aGVyIG9yIG5vdCB0aGUgc2hhcGUgaXMgZmlsbGVkIHdpdGggYSBjb2xvdXJcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZmlsbCA9IGZpbGw7XG5cbiAgICB0aGlzLmhvbGVzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2hhcGUgb2JqZWN0IHRvIGRyYXcuXG4gICAgICogQG1lbWJlciB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9XG4gICAgICovXG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHR5cGUgb2YgdGhlIHNoYXBlLCBzZWUgdGhlIENvbnN0LlNoYXBlcyBmaWxlIGZvciBhbGwgdGhlIGV4aXN0aW5nIHR5cGVzLFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnR5cGUgPSBzaGFwZS50eXBlO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzRGF0YSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gKlxuICogQHJldHVybiB7UElYSS5HcmFwaGljc0RhdGF9IENsb25lZCBHcmFwaGljc0RhdGEgb2JqZWN0XG4gKi9cbkdyYXBoaWNzRGF0YS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKVxue1xuICAgIHJldHVybiBuZXcgR3JhcGhpY3NEYXRhKFxuICAgICAgICB0aGlzLmxpbmVXaWR0aCxcbiAgICAgICAgdGhpcy5saW5lQ29sb3IsXG4gICAgICAgIHRoaXMubGluZUFscGhhLFxuICAgICAgICB0aGlzLmZpbGxDb2xvcixcbiAgICAgICAgdGhpcy5maWxsQWxwaGEsXG4gICAgICAgIHRoaXMuZmlsbCxcbiAgICAgICAgdGhpcy5uYXRpdmVMaW5lcyxcbiAgICAgICAgdGhpcy5zaGFwZVxuICAgICk7XG59O1xuXG4vKipcbiAqIEFkZHMgYSBob2xlIHRvIHRoZSBzaGFwZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuUmVjdGFuZ2xlfFBJWEkuQ2lyY2xlfSBzaGFwZSAtIFRoZSBzaGFwZSBvZiB0aGUgaG9sZS5cbiAqL1xuR3JhcGhpY3NEYXRhLnByb3RvdHlwZS5hZGRIb2xlID0gZnVuY3Rpb24gYWRkSG9sZSAoc2hhcGUpXG57XG4gICAgdGhpcy5ob2xlcy5wdXNoKHNoYXBlKTtcbn07XG5cbi8qKlxuICogRGVzdHJveXMgdGhlIEdyYXBoaWNzIGRhdGEuXG4gKi9cbkdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLnNoYXBlID0gbnVsbDtcbiAgICB0aGlzLmhvbGVzID0gbnVsbDtcbn07XG5cbnZhciB0ZW1wUG9pbnQgPSBuZXcgUG9pbnQoKTtcbnZhciB0ZW1wQ29sb3IxID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcbnZhciB0ZW1wQ29sb3IyID0gbmV3IEZsb2F0MzJBcnJheSg0KTtcblxuLyoqXG4gKiBUaGUgR3JhcGhpY3MgY2xhc3MgY29udGFpbnMgbWV0aG9kcyB1c2VkIHRvIGRyYXcgcHJpbWl0aXZlIHNoYXBlcyBzdWNoIGFzIGxpbmVzLCBjaXJjbGVzIGFuZFxuICogcmVjdGFuZ2xlcyB0byB0aGUgZGlzcGxheSwgYW5kIHRvIGNvbG9yIGFuZCBmaWxsIHRoZW0uXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEdyYXBoaWNzID0gKGZ1bmN0aW9uIChDb250YWluZXIkJDEpIHtcbiAgICBmdW5jdGlvbiBHcmFwaGljcyhuYXRpdmVMaW5lcylcbiAgICB7XG4gICAgICAgIGlmICggbmF0aXZlTGluZXMgPT09IHZvaWQgMCApIG5hdGl2ZUxpbmVzID0gZmFsc2U7XG5cbiAgICAgICAgQ29udGFpbmVyJCQxLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbHBoYSB2YWx1ZSB1c2VkIHdoZW4gZmlsbGluZyB0aGUgR3JhcGhpY3Mgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmlsbEFscGhhID0gMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoICh0aGlja25lc3MpIG9mIGFueSBsaW5lcyBkcmF3bi5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxpbmVXaWR0aCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUgdGhlIGxpbmVzIHdpbGwgYmUgZHJhdyB1c2luZyBMSU5FUyBpbnN0ZWFkIG9mIFRSSUFOR0xFX1NUUklQXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hdGl2ZUxpbmVzID0gbmF0aXZlTGluZXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjb2xvciBvZiBhbnkgbGluZXMgZHJhd24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQGRlZmF1bHQgMFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lQ29sb3IgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIGFueSBsaW5lcyBkcmF3biAoMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyLCAwID0gaW5uZXIpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDBcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGluZUFsaWdubWVudCA9IDAuNTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR3JhcGhpY3MgZGF0YVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgZ3JhcGhpYyBzaGFwZS4gVGhpcyBpcyBhIGhleCB2YWx1ZS4gQXBwbHkgYSB2YWx1ZSBvZiAweEZGRkZGRiB0b1xuICAgICAgICAgKiByZXNldCB0aGUgdGludC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aW50ID0gMHhGRkZGRkY7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwcmV2aW91cyB0aW50IGFwcGxpZWQgdG8gdGhlIGdyYXBoaWMgc2hhcGUuIFVzZWQgdG8gY29tcGFyZSB0byB0aGUgY3VycmVudCB0aW50IGFuZFxuICAgICAgICAgKiBjaGVjayBpZiB0aGVyZXMgY2hhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBkZWZhdWx0IDB4RkZGRkZGXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcmV2VGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYmxlbmQgbW9kZSB0byBiZSBhcHBsaWVkIHRvIHRoZSBncmFwaGljIHNoYXBlLiBBcHBseSBhIHZhbHVlIG9mXG4gICAgICAgICAqIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgICAqIEBzZWUgUElYSS5CTEVORF9NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ibGVuZE1vZGUgPSBCTEVORF9NT0RFUy5OT1JNQUw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgcGF0aFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkdyYXBoaWNzRGF0YX1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcnJheSBjb250YWluaW5nIHNvbWUgV2ViR0wtcmVsYXRlZCBwcm9wZXJ0aWVzIHVzZWQgYnkgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3Q8bnVtYmVyLCBvYmplY3Q+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gVE9ETyAtIF93ZWJnbCBzaG91bGQgdXNlIGEgcHJvdG90eXBlIG9iamVjdCwgbm90IGEgcmFuZG9tIHVuZG9jdW1lbnRlZCBvYmplY3QuLi5cbiAgICAgICAgdGhpcy5fd2ViR0wgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIHNoYXBlIGlzIGJlaW5nIHVzZWQgYXMgYSBtYXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pc01hc2sgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJvdW5kcycgcGFkZGluZyB1c2VkIGZvciBib3VuZHMgY2FsY3VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYm91bmRzUGFkZGluZyA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgY2FjaGUgb2YgdGhlIGxvY2FsIGJvdW5kcyB0byBwcmV2ZW50IHJlY2FsY3VsYXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMgPSBuZXcgQm91bmRzKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBncmFwaGljcyBvYmplY3QgaGFzIGNoYW5nZWQuIElmIHRoaXMgaXMgc2V0IHRvIHRydWUgdGhlbiB0aGUgZ3JhcGhpY3NcbiAgICAgICAgICogb2JqZWN0IHdpbGwgYmUgcmVjYWxjdWxhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIG5lZWQgdG8gZG8gYSBmYXN0IHJlY3QgY2hlY2sgdXNpbmcgdGhlIGlkIGNvbXBhcmUgbWV0aG9kXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZhc3RSZWN0RGlydHkgPSAtMTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCB0byBkZXRlY3QgaWYgd2UgY2xlYXIgdGhlIGdyYXBoaWNzIHdlYkdMIGRhdGFcbiAgICAgICAgICogQHR5cGUge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2xlYXJEaXJ0eSA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHdlIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGUgbG9jYWwgYm91bmRzXG4gICAgICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJvdW5kc0RpcnR5ID0gLTE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGlmIHRoZSBjYWNoZWQgc3ByaXRlIG9iamVjdCBuZWVkcyB0byBiZSB1cGRhdGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYWNoZWRTcHJpdGVEaXJ0eSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9mYXN0UmVjdCA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIGNhY2hlQXNCaXRtYXAgaXMgc2V0IHRvIHRydWUgdGhlIGdyYXBoaWNzIG9iamVjdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGlmIGl0IHdhcyBhIHNwcml0ZS5cbiAgICAgICAgICogVGhpcyBpcyB1c2VmdWwgaWYgeW91ciBncmFwaGljcyBlbGVtZW50IGRvZXMgbm90IGNoYW5nZSBvZnRlbiwgYXMgaXQgd2lsbCBzcGVlZCB1cCB0aGUgcmVuZGVyaW5nXG4gICAgICAgICAqIG9mIHRoZSBvYmplY3QgaW4gZXhjaGFuZ2UgZm9yIHRha2luZyB1cCB0ZXh0dXJlIG1lbW9yeS4gSXQgaXMgYWxzbyB1c2VmdWwgaWYgeW91IG5lZWQgdGhlIGdyYXBoaWNzXG4gICAgICAgICAqIG9iamVjdCB0byBiZSBhbnRpLWFsaWFzZWQsIGJlY2F1c2UgaXQgd2lsbCBiZSByZW5kZXJlZCB1c2luZyBjYW52YXMuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkIGlmXG4gICAgICAgICAqIHlvdSBhcmUgY29uc3RhbnRseSByZWRyYXdpbmcgdGhlIGdyYXBoaWNzIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBuYW1lIGNhY2hlQXNCaXRtYXBcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3MjXG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIGlmICggQ29udGFpbmVyJCQxICkgR3JhcGhpY3MuX19wcm90b19fID0gQ29udGFpbmVyJCQxO1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbnRhaW5lciQkMSAmJiBDb250YWluZXIkJDEucHJvdG90eXBlICk7XG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR3JhcGhpY3M7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEdyYXBoaWNzIG9iamVjdCB3aXRoIHRoZSBzYW1lIHZhbHVlcyBhcyB0aGlzIG9uZS5cbiAgICAgKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLCBub3QgaXRzIHRyYW5zZm9ybSAocG9zaXRpb24sc2NhbGUsZXRjKVxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gQSBjbG9uZSBvZiB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gY2xvbmUgKClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIHZhciBjbG9uZSA9IG5ldyBHcmFwaGljcygpO1xuXG4gICAgICAgIGNsb25lLnJlbmRlcmFibGUgPSB0aGlzLnJlbmRlcmFibGU7XG4gICAgICAgIGNsb25lLmZpbGxBbHBoYSA9IHRoaXMuZmlsbEFscGhhO1xuICAgICAgICBjbG9uZS5saW5lV2lkdGggPSB0aGlzLmxpbmVXaWR0aDtcbiAgICAgICAgY2xvbmUubGluZUNvbG9yID0gdGhpcy5saW5lQ29sb3I7XG4gICAgICAgIGNsb25lLmxpbmVBbGlnbm1lbnQgPSB0aGlzLmxpbmVBbGlnbm1lbnQ7XG4gICAgICAgIGNsb25lLnRpbnQgPSB0aGlzLnRpbnQ7XG4gICAgICAgIGNsb25lLmJsZW5kTW9kZSA9IHRoaXMuYmxlbmRNb2RlO1xuICAgICAgICBjbG9uZS5pc01hc2sgPSB0aGlzLmlzTWFzaztcbiAgICAgICAgY2xvbmUuYm91bmRzUGFkZGluZyA9IHRoaXMuYm91bmRzUGFkZGluZztcbiAgICAgICAgY2xvbmUuZGlydHkgPSAwO1xuICAgICAgICBjbG9uZS5jYWNoZWRTcHJpdGVEaXJ0eSA9IHRoaXMuY2FjaGVkU3ByaXRlRGlydHk7XG5cbiAgICAgICAgLy8gY29weSBncmFwaGljcyBkYXRhXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsb25lLmdyYXBoaWNzRGF0YS5wdXNoKHRoaXMkMS5ncmFwaGljc0RhdGFbaV0uY2xvbmUoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9uZS5jdXJyZW50UGF0aCA9IGNsb25lLmdyYXBoaWNzRGF0YVtjbG9uZS5ncmFwaGljc0RhdGEubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgY2xvbmUudXBkYXRlTG9jYWxCb3VuZHMoKTtcblxuICAgICAgICByZXR1cm4gY2xvbmU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZW5ndGggb2YgcXVhZHJhdGljIGN1cnZlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL3d3dy5tYWxjemFrLmxpbnV4cGwuY29tL2Jsb2cvcXVhZHJhdGljLWJlemllci1jdXJ2ZS1sZW5ndGgvfVxuICAgICAqIGZvciB0aGUgZGV0YWlsZWQgZXhwbGFuYXRpb24gb2YgbWF0aCBiZWhpbmQgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0geC1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIHktY29vcmRpbmF0ZSBvZiBjdXJ2ZSBjb250cm9sIHBvaW50XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIHgtY29vcmRpbmF0ZSBvZiBjdXJ2ZSBlbmQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0geS1jb29yZGluYXRlIG9mIGN1cnZlIGVuZCBwb2ludFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIHF1YWRyYXRpYyBjdXJ2ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcXVhZHJhdGljQ3VydmVMZW5ndGggPSBmdW5jdGlvbiBfcXVhZHJhdGljQ3VydmVMZW5ndGggKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKVxuICAgIHtcbiAgICAgICAgdmFyIGF4ID0gZnJvbVggLSAoKDIuMCAqIGNwWCkgKyB0b1gpO1xuICAgICAgICB2YXIgYXkgPSBmcm9tWSAtICgoMi4wICogY3BZKSArIHRvWSk7XG4gICAgICAgIHZhciBieCA9IDIuMCAqICgoY3BYIC0gMi4wKSAqIGZyb21YKTtcbiAgICAgICAgdmFyIGJ5ID0gMi4wICogKChjcFkgLSAyLjApICogZnJvbVkpO1xuICAgICAgICB2YXIgYSA9IDQuMCAqICgoYXggKiBheCkgKyAoYXkgKiBheSkpO1xuICAgICAgICB2YXIgYiA9IDQuMCAqICgoYXggKiBieCkgKyAoYXkgKiBieSkpO1xuICAgICAgICB2YXIgYyA9IChieCAqIGJ4KSArIChieSAqIGJ5KTtcblxuICAgICAgICB2YXIgcyA9IDIuMCAqIE1hdGguc3FydChhICsgYiArIGMpO1xuICAgICAgICB2YXIgYTIgPSBNYXRoLnNxcnQoYSk7XG4gICAgICAgIHZhciBhMzIgPSAyLjAgKiBhICogYTI7XG4gICAgICAgIHZhciBjMiA9IDIuMCAqIE1hdGguc3FydChjKTtcbiAgICAgICAgdmFyIGJhID0gYiAvIGEyO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoYTMyICogcylcbiAgICAgICAgICAgICAgICArIChhMiAqIGIgKiAocyAtIGMyKSlcbiAgICAgICAgICAgICAgICArIChcbiAgICAgICAgICAgICAgICAgICAgKCg0LjAgKiBjICogYSkgLSAoYiAqIGIpKVxuICAgICAgICAgICAgICAgICAgICogTWF0aC5sb2coKCgyLjAgKiBhMikgKyBiYSArIHMpIC8gKGJhICsgYzIpKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgKSAvICg0LjAgKiBhMzIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbGVuZ3RoIG9mIGJlemllciBjdXJ2ZS5cbiAgICAgKiBBbmFseXRpY2FsIHNvbHV0aW9uIGlzIGltcG9zc2libGUsIHNpbmNlIGl0IGludm9sdmVzIGFuIGludGVncmFsIHRoYXQgZG9lcyBub3QgaW50ZWdyYXRlIGluIGdlbmVyYWwuXG4gICAgICogVGhlcmVmb3JlIG51bWVyaWNhbCBzb2x1dGlvbiBpcyB1c2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbVggLSBTdGFydGluZyBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21ZIC0gU3RhcnRpbmcgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFggLSBDb250cm9sIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWDIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWTIgLSBTZWNvbmQgQ29udHJvbCBwb2ludCB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWCAtIERlc3RpbmF0aW9uIHBvaW50IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9ZIC0gRGVzdGluYXRpb24gcG9pbnQgeVxuICAgICAqIEByZXR1cm4ge251bWJlcn0gTGVuZ3RoIG9mIGJlemllciBjdXJ2ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fYmV6aWVyQ3VydmVMZW5ndGggPSBmdW5jdGlvbiBfYmV6aWVyQ3VydmVMZW5ndGggKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIGNwWDIsIGNwWTIsIHRvWCwgdG9ZKVxuICAgIHtcbiAgICAgICAgdmFyIG4gPSAxMDtcbiAgICAgICAgdmFyIHJlc3VsdCA9IDAuMDtcbiAgICAgICAgdmFyIHQgPSAwLjA7XG4gICAgICAgIHZhciB0MiA9IDAuMDtcbiAgICAgICAgdmFyIHQzID0gMC4wO1xuICAgICAgICB2YXIgbnQgPSAwLjA7XG4gICAgICAgIHZhciBudDIgPSAwLjA7XG4gICAgICAgIHZhciBudDMgPSAwLjA7XG4gICAgICAgIHZhciB4ID0gMC4wO1xuICAgICAgICB2YXIgeSA9IDAuMDtcbiAgICAgICAgdmFyIGR4ID0gMC4wO1xuICAgICAgICB2YXIgZHkgPSAwLjA7XG4gICAgICAgIHZhciBwcmV2WCA9IGZyb21YO1xuICAgICAgICB2YXIgcHJldlkgPSBmcm9tWTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBuOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHQgPSBpIC8gbjtcbiAgICAgICAgICAgIHQyID0gdCAqIHQ7XG4gICAgICAgICAgICB0MyA9IHQyICogdDtcbiAgICAgICAgICAgIG50ID0gKDEuMCAtIHQpO1xuICAgICAgICAgICAgbnQyID0gbnQgKiBudDtcbiAgICAgICAgICAgIG50MyA9IG50MiAqIG50O1xuXG4gICAgICAgICAgICB4ID0gKG50MyAqIGZyb21YKSArICgzLjAgKiBudDIgKiB0ICogY3BYKSArICgzLjAgKiBudCAqIHQyICogY3BYMikgKyAodDMgKiB0b1gpO1xuICAgICAgICAgICAgeSA9IChudDMgKiBmcm9tWSkgKyAoMy4wICogbnQyICogdCAqIGNwWSkgKyAoMyAqIG50ICogdDIgKiBjcFkyKSArICh0MyAqIHRvWSk7XG4gICAgICAgICAgICBkeCA9IHByZXZYIC0geDtcbiAgICAgICAgICAgIGR5ID0gcHJldlkgLSB5O1xuICAgICAgICAgICAgcHJldlggPSB4O1xuICAgICAgICAgICAgcHJldlkgPSB5O1xuXG4gICAgICAgICAgICByZXN1bHQgKz0gTWF0aC5zcXJ0KChkeCAqIGR4KSArIChkeSAqIGR5KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgbnVtYmVyIG9mIHNlZ21lbnRzIGZvciB0aGUgY3VydmUgYmFzZWQgb24gaXRzIGxlbmd0aCB0byBlbnN1cmUgaXRzIHNtb290aG5lc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZW5ndGggLSBsZW5ndGggb2YgY3VydmVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IE51bWJlciBvZiBzZWdtZW50c1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fc2VnbWVudHNDb3VudCA9IGZ1bmN0aW9uIF9zZWdtZW50c0NvdW50IChsZW5ndGgpXG4gICAge1xuICAgICAgICB2YXIgcmVzdWx0ID0gTWF0aC5jZWlsKGxlbmd0aCAvIEdyYXBoaWNzLkNVUlZFUy5tYXhMZW5ndGgpO1xuXG4gICAgICAgIGlmIChyZXN1bHQgPCBHcmFwaGljcy5DVVJWRVMubWluU2VnbWVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEdyYXBoaWNzLkNVUlZFUy5taW5TZWdtZW50cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHQgPiBHcmFwaGljcy5DVVJWRVMubWF4U2VnbWVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IEdyYXBoaWNzLkNVUlZFUy5tYXhTZWdtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZmllcyB0aGUgbGluZSBzdHlsZSB1c2VkIGZvciBzdWJzZXF1ZW50IGNhbGxzIHRvIEdyYXBoaWNzIG1ldGhvZHMgc3VjaCBhcyB0aGUgbGluZVRvKClcbiAgICAgKiBtZXRob2Qgb3IgdGhlIGRyYXdDaXJjbGUoKSBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2xpbmVXaWR0aD0wXSAtIHdpZHRoIG9mIHRoZSBsaW5lIHRvIGRyYXcsIHdpbGwgdXBkYXRlIHRoZSBvYmplY3RzIHN0b3JlZCBzdHlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29sb3I9MF0gLSBjb2xvciBvZiB0aGUgbGluZSB0byBkcmF3LCB3aWxsIHVwZGF0ZSB0aGUgb2JqZWN0cyBzdG9yZWQgc3R5bGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FscGhhPTFdIC0gYWxwaGEgb2YgdGhlIGxpbmUgdG8gZHJhdywgd2lsbCB1cGRhdGUgdGhlIG9iamVjdHMgc3RvcmVkIHN0eWxlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthbGlnbm1lbnQ9MV0gLSBhbGlnbm1lbnQgb2YgdGhlIGxpbmUgdG8gZHJhdywgKDAgPSBpbm5lciwgMC41ID0gbWlkZGxlLCAxID0gb3V0dGVyKVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUubGluZVN0eWxlID0gZnVuY3Rpb24gbGluZVN0eWxlIChsaW5lV2lkdGgsIGNvbG9yLCBhbHBoYSwgYWxpZ25tZW50KVxuICAgIHtcbiAgICAgICAgaWYgKCBsaW5lV2lkdGggPT09IHZvaWQgMCApIGxpbmVXaWR0aCA9IDA7XG4gICAgICAgIGlmICggY29sb3IgPT09IHZvaWQgMCApIGNvbG9yID0gMDtcbiAgICAgICAgaWYgKCBhbHBoYSA9PT0gdm9pZCAwICkgYWxwaGEgPSAxO1xuICAgICAgICBpZiAoIGFsaWdubWVudCA9PT0gdm9pZCAwICkgYWxpZ25tZW50ID0gMC41O1xuXG4gICAgICAgIHRoaXMubGluZVdpZHRoID0gbGluZVdpZHRoO1xuICAgICAgICB0aGlzLmxpbmVDb2xvciA9IGNvbG9yO1xuICAgICAgICB0aGlzLmxpbmVBbHBoYSA9IGFscGhhO1xuICAgICAgICB0aGlzLmxpbmVBbGlnbm1lbnQgPSBhbGlnbm1lbnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gaGFsZndheSB0aHJvdWdoIGEgbGluZT8gc3RhcnQgYSBuZXcgb25lIVxuICAgICAgICAgICAgICAgIHZhciBzaGFwZSA9IG5ldyBQb2x5Z29uKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLnNsaWNlKC0yKSk7XG5cbiAgICAgICAgICAgICAgICBzaGFwZS5jbG9zZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHNoYXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBvdGhlcndpc2UgaXRzIGVtcHR5IHNvIGxldHMganVzdCBzZXQgdGhlIGxpbmUgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZVdpZHRoID0gdGhpcy5saW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5saW5lQ29sb3IgPSB0aGlzLmxpbmVDb2xvcjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmxpbmVBbHBoYSA9IHRoaXMubGluZUFscGhhO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGgubGluZUFsaWdubWVudCA9IHRoaXMubGluZUFsaWdubWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgY3VycmVudCBkcmF3aW5nIHBvc2l0aW9uIHRvIHgsIHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gbW92ZSB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBtb3ZlIHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5tb3ZlVG8gPSBmdW5jdGlvbiBtb3ZlVG8gKHgsIHkpXG4gICAge1xuICAgICAgICB2YXIgc2hhcGUgPSBuZXcgUG9seWdvbihbeCwgeV0pO1xuXG4gICAgICAgIHNoYXBlLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShzaGFwZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgbGluZSB1c2luZyB0aGUgY3VycmVudCBsaW5lIHN0eWxlIGZyb20gdGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiB0byAoeCwgeSk7XG4gICAgICogVGhlIGN1cnJlbnQgZHJhd2luZyBwb3NpdGlvbiBpcyB0aGVuIHNldCB0byAoeCwgeSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIHRoZSBYIGNvb3JkaW5hdGUgdG8gZHJhdyB0b1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gdGhlIFkgY29vcmRpbmF0ZSB0byBkcmF3IHRvXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5saW5lVG8gPSBmdW5jdGlvbiBsaW5lVG8gKHgsIHkpXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5wdXNoKHgsIHkpO1xuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICogQmFzZWQgb246IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NTA5Ny9ob3ctZG8taS1pbXBsZW1lbnQtYS1iZXppZXItY3VydmUtaW4tY1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWCAtIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkgLSBDb250cm9sIHBvaW50IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1kgLSBEZXN0aW5hdGlvbiBwb2ludCB5XG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5xdWFkcmF0aWNDdXJ2ZVRvID0gZnVuY3Rpb24gcXVhZHJhdGljQ3VydmVUbyAoY3BYLCBjcFksIHRvWCwgdG9ZKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMgPSBbMCwgMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbygwLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludHMgPSB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cztcbiAgICAgICAgdmFyIHhhID0gMDtcbiAgICAgICAgdmFyIHlhID0gMDtcblxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZnJvbVggPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdO1xuICAgICAgICB2YXIgZnJvbVkgPSBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgbiA9IEdyYXBoaWNzLkNVUlZFUy5hZGFwdGl2ZVxuICAgICAgICAgICAgPyB0aGlzLl9zZWdtZW50c0NvdW50KHRoaXMuX3F1YWRyYXRpY0N1cnZlTGVuZ3RoKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZKSlcbiAgICAgICAgICAgIDogMjA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbjsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaiA9IGkgLyBuO1xuXG4gICAgICAgICAgICB4YSA9IGZyb21YICsgKChjcFggLSBmcm9tWCkgKiBqKTtcbiAgICAgICAgICAgIHlhID0gZnJvbVkgKyAoKGNwWSAtIGZyb21ZKSAqIGopO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaCh4YSArICgoKGNwWCArICgodG9YIC0gY3BYKSAqIGopKSAtIHhhKSAqIGopLFxuICAgICAgICAgICAgICAgIHlhICsgKCgoY3BZICsgKCh0b1kgLSBjcFkpICogaikpIC0geWEpICogaikpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50cyBmb3IgYSBiZXppZXIgY3VydmUgYW5kIHRoZW4gZHJhd3MgaXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNwWSAtIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFgyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjcFkyIC0gU2Vjb25kIENvbnRyb2wgcG9pbnQgeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0b1ggLSBEZXN0aW5hdGlvbiBwb2ludCB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlemllckN1cnZlVG8gPSBmdW5jdGlvbiBiZXppZXJDdXJ2ZVRvJDEgKGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSlcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzID0gWzAsIDBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oMCwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG5cbiAgICAgICAgdmFyIGZyb21YID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXTtcbiAgICAgICAgdmFyIGZyb21ZID0gcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICBwb2ludHMubGVuZ3RoIC09IDI7XG5cbiAgICAgICAgdmFyIG4gPSBHcmFwaGljcy5DVVJWRVMuYWRhcHRpdmVcbiAgICAgICAgICAgID8gdGhpcy5fc2VnbWVudHNDb3VudCh0aGlzLl9iZXppZXJDdXJ2ZUxlbmd0aChmcm9tWCwgZnJvbVksIGNwWCwgY3BZLCBjcFgyLCBjcFkyLCB0b1gsIHRvWSkpXG4gICAgICAgICAgICA6IDIwO1xuXG4gICAgICAgIGJlemllckN1cnZlVG8oZnJvbVgsIGZyb21ZLCBjcFgsIGNwWSwgY3BYMiwgY3BZMiwgdG9YLCB0b1ksIG4sIHBvaW50cyk7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSsrO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYXJjVG8oKSBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgYmV0d2VlbiB0d28gdGFuZ2VudHMgb24gdGhlIGNhbnZhcy5cbiAgICAgKlxuICAgICAqIFwiYm9ycm93ZWRcIiBmcm9tIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvZnhjYW52YXMvIC0gdGhhbmtzIGdvb2dsZSFcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4MSAtIFRoZSB4LWNvb3JkaW5hdGUgb2YgdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkxIC0gVGhlIHktY29vcmRpbmF0ZSBvZiB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcmNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geDIgLSBUaGUgeC1jb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGFyY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5MiAtIFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgYXJjXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSByYWRpdXMgb2YgdGhlIGFyY1xuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjVG8gPSBmdW5jdGlvbiBhcmNUbyAoeDEsIHkxLCB4MiwgeTIsIHJhZGl1cylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYXRoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLnB1c2goeDEsIHkxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW92ZVRvKHgxLCB5MSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG4gICAgICAgIHZhciBmcm9tWCA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl07XG4gICAgICAgIHZhciBmcm9tWSA9IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciBhMSA9IGZyb21ZIC0geTE7XG4gICAgICAgIHZhciBiMSA9IGZyb21YIC0geDE7XG4gICAgICAgIHZhciBhMiA9IHkyIC0geTE7XG4gICAgICAgIHZhciBiMiA9IHgyIC0geDE7XG4gICAgICAgIHZhciBtbSA9IE1hdGguYWJzKChhMSAqIGIyKSAtIChiMSAqIGEyKSk7XG5cbiAgICAgICAgaWYgKG1tIDwgMS4wZS04IHx8IHJhZGl1cyA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHgxIHx8IHBvaW50c1twb2ludHMubGVuZ3RoIC0gMV0gIT09IHkxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHgxLCB5MSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGQgPSAoYTEgKiBhMSkgKyAoYjEgKiBiMSk7XG4gICAgICAgICAgICB2YXIgY2MgPSAoYTIgKiBhMikgKyAoYjIgKiBiMik7XG4gICAgICAgICAgICB2YXIgdHQgPSAoYTEgKiBhMikgKyAoYjEgKiBiMik7XG4gICAgICAgICAgICB2YXIgazEgPSByYWRpdXMgKiBNYXRoLnNxcnQoZGQpIC8gbW07XG4gICAgICAgICAgICB2YXIgazIgPSByYWRpdXMgKiBNYXRoLnNxcnQoY2MpIC8gbW07XG4gICAgICAgICAgICB2YXIgajEgPSBrMSAqIHR0IC8gZGQ7XG4gICAgICAgICAgICB2YXIgajIgPSBrMiAqIHR0IC8gY2M7XG4gICAgICAgICAgICB2YXIgY3ggPSAoazEgKiBiMikgKyAoazIgKiBiMSk7XG4gICAgICAgICAgICB2YXIgY3kgPSAoazEgKiBhMikgKyAoazIgKiBhMSk7XG4gICAgICAgICAgICB2YXIgcHggPSBiMSAqIChrMiArIGoxKTtcbiAgICAgICAgICAgIHZhciBweSA9IGExICogKGsyICsgajEpO1xuICAgICAgICAgICAgdmFyIHF4ID0gYjIgKiAoazEgKyBqMik7XG4gICAgICAgICAgICB2YXIgcXkgPSBhMiAqIChrMSArIGoyKTtcbiAgICAgICAgICAgIHZhciBzdGFydEFuZ2xlID0gTWF0aC5hdGFuMihweSAtIGN5LCBweCAtIGN4KTtcbiAgICAgICAgICAgIHZhciBlbmRBbmdsZSA9IE1hdGguYXRhbjIocXkgLSBjeSwgcXggLSBjeCk7XG5cbiAgICAgICAgICAgIHRoaXMuYXJjKGN4ICsgeDEsIGN5ICsgeTEsIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGIxICogYTIgPiBiMiAqIGExKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFyYyBtZXRob2QgY3JlYXRlcyBhbiBhcmMvY3VydmUgKHVzZWQgdG8gY3JlYXRlIGNpcmNsZXMsIG9yIHBhcnRzIG9mIGNpcmNsZXMpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGN4IC0gVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY3kgLSBUaGUgeS1jb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXMgLSBUaGUgcmFkaXVzIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRBbmdsZSAtIFRoZSBzdGFydGluZyBhbmdsZSwgaW4gcmFkaWFucyAoMCBpcyBhdCB0aGUgMyBvJ2Nsb2NrIHBvc2l0aW9uXG4gICAgICogIG9mIHRoZSBhcmMncyBjaXJjbGUpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZEFuZ2xlIC0gVGhlIGVuZGluZyBhbmdsZSwgaW4gcmFkaWFuc1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FudGljbG9ja3dpc2U9ZmFsc2VdIC0gU3BlY2lmaWVzIHdoZXRoZXIgdGhlIGRyYXdpbmcgc2hvdWxkIGJlXG4gICAgICogIGNvdW50ZXItY2xvY2t3aXNlIG9yIGNsb2Nrd2lzZS4gRmFsc2UgaXMgZGVmYXVsdCwgYW5kIGluZGljYXRlcyBjbG9ja3dpc2UsIHdoaWxlIHRydWVcbiAgICAgKiAgaW5kaWNhdGVzIGNvdW50ZXItY2xvY2t3aXNlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuYXJjID0gZnVuY3Rpb24gYXJjIChjeCwgY3ksIHJhZGl1cywgc3RhcnRBbmdsZSwgZW5kQW5nbGUsIGFudGljbG9ja3dpc2UpXG4gICAge1xuICAgICAgICBpZiAoIGFudGljbG9ja3dpc2UgPT09IHZvaWQgMCApIGFudGljbG9ja3dpc2UgPSBmYWxzZTtcblxuICAgICAgICBpZiAoc3RhcnRBbmdsZSA9PT0gZW5kQW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhbnRpY2xvY2t3aXNlICYmIGVuZEFuZ2xlIDw9IHN0YXJ0QW5nbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVuZEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW50aWNsb2Nrd2lzZSAmJiBzdGFydEFuZ2xlIDw9IGVuZEFuZ2xlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdGFydEFuZ2xlICs9IFBJXzI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3dlZXAgPSBlbmRBbmdsZSAtIHN0YXJ0QW5nbGU7XG4gICAgICAgIHZhciBzZWdzID0gR3JhcGhpY3MuQ1VSVkVTLmFkYXB0aXZlXG4gICAgICAgICAgICA/IHRoaXMuX3NlZ21lbnRzQ291bnQoTWF0aC5hYnMoc3dlZXApICogcmFkaXVzKVxuICAgICAgICAgICAgOiBNYXRoLmNlaWwoTWF0aC5hYnMoc3dlZXApIC8gUElfMikgKiA0MDtcblxuICAgICAgICBpZiAoc3dlZXAgPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN0YXJ0WCA9IGN4ICsgKE1hdGguY29zKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcbiAgICAgICAgdmFyIHN0YXJ0WSA9IGN5ICsgKE1hdGguc2luKHN0YXJ0QW5nbGUpICogcmFkaXVzKTtcblxuICAgICAgICAvLyBJZiB0aGUgY3VycmVudFBhdGggZXhpc3RzLCB0YWtlIGl0cyBwb2ludHMuIE90aGVyd2lzZSBjYWxsIGBtb3ZlVG9gIHRvIHN0YXJ0IGEgcGF0aC5cbiAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMuY3VycmVudFBhdGggPyB0aGlzLmN1cnJlbnRQYXRoLnNoYXBlLnBvaW50cyA6IG51bGw7XG5cbiAgICAgICAgaWYgKHBvaW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBvaW50c1twb2ludHMubGVuZ3RoIC0gMl0gIT09IHN0YXJ0WCB8fCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdICE9PSBzdGFydFkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oc3RhcnRYLCBzdGFydFkpO1xuICAgICAgICAgICAgcG9pbnRzID0gdGhpcy5jdXJyZW50UGF0aC5zaGFwZS5wb2ludHM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdGhldGEgPSBzd2VlcCAvIChzZWdzICogMik7XG4gICAgICAgIHZhciB0aGV0YTIgPSB0aGV0YSAqIDI7XG5cbiAgICAgICAgdmFyIGNUaGV0YSA9IE1hdGguY29zKHRoZXRhKTtcbiAgICAgICAgdmFyIHNUaGV0YSA9IE1hdGguc2luKHRoZXRhKTtcblxuICAgICAgICB2YXIgc2VnTWludXMgPSBzZWdzIC0gMTtcblxuICAgICAgICB2YXIgcmVtYWluZGVyID0gKHNlZ01pbnVzICUgMSkgLyBzZWdNaW51cztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBzZWdNaW51czsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcmVhbCA9IGkgKyAocmVtYWluZGVyICogaSk7XG5cbiAgICAgICAgICAgIHZhciBhbmdsZSA9ICgodGhldGEpICsgc3RhcnRBbmdsZSArICh0aGV0YTIgKiByZWFsKSk7XG5cbiAgICAgICAgICAgIHZhciBjID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICAgICAgdmFyIHMgPSAtTWF0aC5zaW4oYW5nbGUpO1xuXG4gICAgICAgICAgICBwb2ludHMucHVzaChcbiAgICAgICAgICAgICAgICAoKChjVGhldGEgKiBjKSArIChzVGhldGEgKiBzKSkgKiByYWRpdXMpICsgY3gsXG4gICAgICAgICAgICAgICAgKCgoY1RoZXRhICogLXMpICsgKHNUaGV0YSAqIGMpKSAqIHJhZGl1cykgKyBjeVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGlydHkrKztcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3BlY2lmaWVzIGEgc2ltcGxlIG9uZS1jb2xvciBmaWxsIHRoYXQgc3Vic2VxdWVudCBjYWxscyB0byBvdGhlciBHcmFwaGljcyBtZXRob2RzXG4gICAgICogKHN1Y2ggYXMgbGluZVRvKCkgb3IgZHJhd0NpcmNsZSgpKSB1c2Ugd2hlbiBkcmF3aW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb2xvcj0wXSAtIHRoZSBjb2xvciBvZiB0aGUgZmlsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYWxwaGE9MV0gLSB0aGUgYWxwaGEgb2YgdGhlIGZpbGxcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmJlZ2luRmlsbCA9IGZ1bmN0aW9uIGJlZ2luRmlsbCAoY29sb3IsIGFscGhhKVxuICAgIHtcbiAgICAgICAgaWYgKCBjb2xvciA9PT0gdm9pZCAwICkgY29sb3IgPSAwO1xuICAgICAgICBpZiAoIGFscGhhID09PSB2b2lkIDAgKSBhbHBoYSA9IDE7XG5cbiAgICAgICAgdGhpcy5maWxsaW5nID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5maWxsQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5maWxsQWxwaGEgPSBhbHBoYTtcblxuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA8PSAyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbCA9IHRoaXMuZmlsbGluZztcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYXRoLmZpbGxDb2xvciA9IHRoaXMuZmlsbENvbG9yO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBhdGguZmlsbEFscGhhID0gdGhpcy5maWxsQWxwaGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhIGZpbGwgdG8gdGhlIGxpbmVzIGFuZCBzaGFwZXMgdGhhdCB3ZXJlIGFkZGVkIHNpbmNlIHRoZSBsYXN0IGNhbGwgdG8gdGhlIGJlZ2luRmlsbCgpIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZW5kRmlsbCA9IGZ1bmN0aW9uIGVuZEZpbGwgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZmlsbGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmZpbGxDb2xvciA9IG51bGw7XG4gICAgICAgIHRoaXMuZmlsbEFscGhhID0gMTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSBYIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZCBvZiB0aGUgdG9wLWxlZnQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZVxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1JlY3QgPSBmdW5jdGlvbiBkcmF3UmVjdCAoeCwgeSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHRoaXMuZHJhd1NoYXBlKG5ldyBSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCkpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmQgb2YgdGhlIHRvcC1sZWZ0IG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSBZIGNvb3JkIG9mIHRoZSB0b3AtbGVmdCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFJhZGl1cyBvZiB0aGUgcmVjdGFuZ2xlIGNvcm5lcnNcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdSb3VuZGVkUmVjdCA9IGZ1bmN0aW9uIGRyYXdSb3VuZGVkUmVjdCAoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKVxuICAgIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IFJvdW5kZWRSZWN0YW5nbGUoeCwgeSwgd2lkdGgsIGhlaWdodCwgcmFkaXVzKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBUaGUgWCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGNpcmNsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVGhlIFkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzIC0gVGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gZHJhd0NpcmNsZSAoeCwgeSwgcmFkaXVzKVxuICAgIHtcbiAgICAgICAgdGhpcy5kcmF3U2hhcGUobmV3IENpcmNsZSh4LCB5LCByYWRpdXMpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYW4gZWxsaXBzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIFggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBlbGxpcHNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgWSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSBUaGUgaGFsZiB3aWR0aCBvZiB0aGUgZWxsaXBzZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSBUaGUgaGFsZiBoZWlnaHQgb2YgdGhlIGVsbGlwc2VcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdFbGxpcHNlID0gZnVuY3Rpb24gZHJhd0VsbGlwc2UgKHgsIHksIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICB0aGlzLmRyYXdTaGFwZShuZXcgRWxsaXBzZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGEgcG9seWdvbiB1c2luZyB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW118UElYSS5Qb2ludFtdfFBJWEkuUG9seWdvbn0gcGF0aCAtIFRoZSBwYXRoIGRhdGEgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHBvbHlnb24uXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gVGhpcyBHcmFwaGljcyBvYmplY3QuIEdvb2QgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kcmF3UG9seWdvbiA9IGZ1bmN0aW9uIGRyYXdQb2x5Z29uIChwYXRoKVxuICAgIHtcbiAgICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgICAgIC8vIHByZXZlbnRzIGFuIGFyZ3VtZW50IGFzc2lnbm1lbnQgZGVvcHRcbiAgICAgICAgLy8gc2VlIHNlY3Rpb24gMy4xOiBodHRwczovL2dpdGh1Yi5jb20vcGV0a2FhbnRvbm92L2JsdWViaXJkL3dpa2kvT3B0aW1pemF0aW9uLWtpbGxlcnMjMy1tYW5hZ2luZy1hcmd1bWVudHNcbiAgICAgICAgdmFyIHBvaW50cyA9IHBhdGg7XG5cbiAgICAgICAgdmFyIGNsb3NlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKHBvaW50cyBpbnN0YW5jZW9mIFBvbHlnb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNsb3NlZCA9IHBvaW50cy5jbG9zZWQ7XG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHMucG9pbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHBvaW50cykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHByZXZlbnRzIGFuIGFyZ3VtZW50IGxlYWsgZGVvcHRcbiAgICAgICAgICAgIC8vIHNlZSBzZWN0aW9uIDMuMjogaHR0cHM6Ly9naXRodWIuY29tL3BldGthYW50b25vdi9ibHVlYmlyZC93aWtpL09wdGltaXphdGlvbi1raWxsZXJzIzMtbWFuYWdpbmctYXJndW1lbnRzXG4gICAgICAgICAgICBwb2ludHMgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBvaW50c1tpXSA9IGFyZ3VtZW50cyQxW2ldOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1yZXN0LXBhcmFtc1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNoYXBlID0gbmV3IFBvbHlnb24ocG9pbnRzKTtcblxuICAgICAgICBzaGFwZS5jbG9zZWQgPSBjbG9zZWQ7XG5cbiAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3IGEgc3RhciBzaGFwZSB3aXRoIGFuIGFyYml0cmFyeSBudW1iZXIgb2YgcG9pbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHggLSBDZW50ZXIgWCBwb3NpdGlvbiBvZiB0aGUgc3RhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gQ2VudGVyIFkgcG9zaXRpb24gb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9pbnRzIC0gVGhlIG51bWJlciBvZiBwb2ludHMgb2YgdGhlIHN0YXIsIG11c3QgYmUgPiAxXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1cyAtIFRoZSBvdXRlciByYWRpdXMgb2YgdGhlIHN0YXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2lubmVyUmFkaXVzXSAtIFRoZSBpbm5lciByYWRpdXMgYmV0d2VlbiBwb2ludHMsIGRlZmF1bHQgaGFsZiBgcmFkaXVzYFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcm90YXRpb249MF0gLSBUaGUgcm90YXRpb24gb2YgdGhlIHN0YXIgaW4gcmFkaWFucywgd2hlcmUgMCBpcyB2ZXJ0aWNhbFxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFRoaXMgR3JhcGhpY3Mgb2JqZWN0LiBHb29kIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHNcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuZHJhd1N0YXIgPSBmdW5jdGlvbiBkcmF3U3RhciAoeCwgeSwgcG9pbnRzLCByYWRpdXMsIGlubmVyUmFkaXVzLCByb3RhdGlvbilcbiAgICB7XG4gICAgICAgIGlmICggcm90YXRpb24gPT09IHZvaWQgMCApIHJvdGF0aW9uID0gMDtcblxuICAgICAgICBpbm5lclJhZGl1cyA9IGlubmVyUmFkaXVzIHx8IHJhZGl1cyAvIDI7XG5cbiAgICAgICAgdmFyIHN0YXJ0QW5nbGUgPSAoLTEgKiBNYXRoLlBJIC8gMikgKyByb3RhdGlvbjtcbiAgICAgICAgdmFyIGxlbiA9IHBvaW50cyAqIDI7XG4gICAgICAgIHZhciBkZWx0YSA9IFBJXzIgLyBsZW47XG4gICAgICAgIHZhciBwb2x5Z29uID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHIgPSBpICUgMiA/IGlubmVyUmFkaXVzIDogcmFkaXVzO1xuICAgICAgICAgICAgdmFyIGFuZ2xlID0gKGkgKiBkZWx0YSkgKyBzdGFydEFuZ2xlO1xuXG4gICAgICAgICAgICBwb2x5Z29uLnB1c2goXG4gICAgICAgICAgICAgICAgeCArIChyICogTWF0aC5jb3MoYW5nbGUpKSxcbiAgICAgICAgICAgICAgICB5ICsgKHIgKiBNYXRoLnNpbihhbmdsZSkpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhd1BvbHlnb24ocG9seWdvbik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyB0aGUgZ3JhcGhpY3MgdGhhdCB3ZXJlIGRyYXduIHRvIHRoaXMgR3JhcGhpY3Mgb2JqZWN0LCBhbmQgcmVzZXRzIGZpbGwgYW5kIGxpbmUgc3R5bGUgc2V0dGluZ3MuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBUaGlzIEdyYXBoaWNzIG9iamVjdC4gR29vZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gY2xlYXIgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmxpbmVXaWR0aCB8fCB0aGlzLmZpbGxpbmcgfHwgdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5saW5lV2lkdGggPSAwO1xuICAgICAgICAgICAgdGhpcy5saW5lQWxpZ25tZW50ID0gMC41O1xuXG4gICAgICAgICAgICB0aGlzLmZpbGxpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IC0xO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSsrO1xuICAgICAgICAgICAgdGhpcy5jbGVhckRpcnR5Kys7XG4gICAgICAgICAgICB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcnVlIGlmIGdyYXBoaWNzIGNvbnNpc3RzIG9mIG9uZSByZWN0YW5nbGUsIGFuZCB0aHVzLCBjYW4gYmUgZHJhd24gbGlrZSBhIFNwcml0ZSBhbmRcbiAgICAgKiBtYXNrZWQgd2l0aCBnbC5zY2lzc29yLlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25seSAxIHJlY3QuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmlzRmFzdFJlY3QgPSBmdW5jdGlvbiBpc0Zhc3RSZWN0ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoID09PSAxXG4gICAgICAgICAgICAmJiB0aGlzLmdyYXBoaWNzRGF0YVswXS5zaGFwZS50eXBlID09PSBTSEFQRVMuUkVDVFxuICAgICAgICAgICAgJiYgIXRoaXMuZ3JhcGhpY3NEYXRhWzBdLmxpbmVXaWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZSBzcHJpdGUgaXMgbm90IHZpc2libGUgb3IgdGhlIGFscGhhIGlzIDAgdGhlbiBubyBuZWVkIHRvIHJlbmRlciB0aGlzIGVsZW1lbnRcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgIT09IHRoaXMuZmFzdFJlY3REaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5mYXN0UmVjdERpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgIHRoaXMuX2Zhc3RSZWN0ID0gdGhpcy5pc0Zhc3RSZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIHRoaXMgY2hlY2sgY2FuIGJlIG1vdmVkIHRvIGRpcnR5P1xuICAgICAgICBpZiAodGhpcy5fZmFzdFJlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlclNwcml0ZVJlY3QocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcyk7XG4gICAgICAgICAgICByZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLnJlbmRlcih0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGEgc3ByaXRlIHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5fcmVuZGVyU3ByaXRlUmVjdCA9IGZ1bmN0aW9uIF9yZW5kZXJTcHJpdGVSZWN0IChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5ncmFwaGljc0RhdGFbMF0uc2hhcGU7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9zcHJpdGVSZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zcHJpdGVSZWN0ID0gbmV3IFNwcml0ZShuZXcgVGV4dHVyZShUZXh0dXJlLldISVRFKSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ByaXRlJCQxID0gdGhpcy5fc3ByaXRlUmVjdDtcblxuICAgICAgICBpZiAodGhpcy50aW50ID09PSAweGZmZmZmZilcbiAgICAgICAge1xuICAgICAgICAgICAgc3ByaXRlJCQxLnRpbnQgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQ29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdDEgPSB0ZW1wQ29sb3IxO1xuICAgICAgICAgICAgdmFyIHQyID0gdGVtcENvbG9yMjtcblxuICAgICAgICAgICAgaGV4MnJnYih0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQ29sb3IsIHQxKTtcbiAgICAgICAgICAgIGhleDJyZ2IodGhpcy50aW50LCB0Mik7XG5cbiAgICAgICAgICAgIHQxWzBdICo9IHQyWzBdO1xuICAgICAgICAgICAgdDFbMV0gKj0gdDJbMV07XG4gICAgICAgICAgICB0MVsyXSAqPSB0MlsyXTtcblxuICAgICAgICAgICAgc3ByaXRlJCQxLnRpbnQgPSByZ2IyaGV4KHQxKTtcbiAgICAgICAgfVxuICAgICAgICBzcHJpdGUkJDEuYWxwaGEgPSB0aGlzLmdyYXBoaWNzRGF0YVswXS5maWxsQWxwaGE7XG4gICAgICAgIHNwcml0ZSQkMS53b3JsZEFscGhhID0gdGhpcy53b3JsZEFscGhhICogc3ByaXRlJCQxLmFscGhhO1xuICAgICAgICBzcHJpdGUkJDEuYmxlbmRNb2RlID0gdGhpcy5ibGVuZE1vZGU7XG5cbiAgICAgICAgc3ByaXRlJCQxLl90ZXh0dXJlLl9mcmFtZS53aWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICAgIHNwcml0ZSQkMS5fdGV4dHVyZS5fZnJhbWUuaGVpZ2h0ID0gcmVjdC5oZWlnaHQ7XG5cbiAgICAgICAgc3ByaXRlJCQxLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSA9IHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtO1xuXG4gICAgICAgIHNwcml0ZSQkMS5hbmNob3Iuc2V0KC1yZWN0LnggLyByZWN0LndpZHRoLCAtcmVjdC55IC8gcmVjdC5oZWlnaHQpO1xuICAgICAgICBzcHJpdGUkJDEuX29uQW5jaG9yVXBkYXRlKCk7XG5cbiAgICAgICAgc3ByaXRlJCQxLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGJvdW5kcyBvZiB0aGUgZ3JhcGhpYyBzaGFwZSBhcyBhIHJlY3RhbmdsZSBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5ib3VuZHNEaXJ0eSAhPT0gdGhpcy5kaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ib3VuZHNEaXJ0eSA9IHRoaXMuZGlydHk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxvY2FsQm91bmRzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FjaGVkU3ByaXRlRGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxiID0gdGhpcy5fbG9jYWxCb3VuZHM7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBsYi5taW5YLCBsYi5taW5ZLCBsYi5tYXhYLCBsYi5tYXhZKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyBncmFwaGljcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdG8gdGVzdFxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IHRoZSByZXN1bHQgb2YgdGhlIHRlc3RcbiAgICAgKi9cbiAgICBHcmFwaGljcy5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQgKHBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIGdyYXBoaWNzRGF0YSA9IHRoaXMuZ3JhcGhpY3NEYXRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JhcGhpY3NEYXRhLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzRGF0YVtpXTtcblxuICAgICAgICAgICAgaWYgKCFkYXRhLmZpbGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIG9ubHkgZGVhbCB3aXRoIGZpbGxzLi5cbiAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNoYXBlLmNvbnRhaW5zKHRlbXBQb2ludC54LCB0ZW1wUG9pbnQueSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ob2xlcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgZGF0YS5ob2xlcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob2xlID0gZGF0YS5ob2xlc1tpJDFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGUuY29udGFpbnModGVtcFBvaW50LngsIHRlbXBQb2ludC55KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3RcbiAgICAgKlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS51cGRhdGVMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIHVwZGF0ZUxvY2FsQm91bmRzICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgbWluWCA9IEluZmluaXR5O1xuICAgICAgICB2YXIgbWF4WCA9IC1JbmZpbml0eTtcblxuICAgICAgICB2YXIgbWluWSA9IEluZmluaXR5O1xuICAgICAgICB2YXIgbWF4WSA9IC1JbmZpbml0eTtcblxuICAgICAgICBpZiAodGhpcy5ncmFwaGljc0RhdGEubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc2hhcGUgPSAwO1xuICAgICAgICAgICAgdmFyIHggPSAwO1xuICAgICAgICAgICAgdmFyIHkgPSAwO1xuICAgICAgICAgICAgdmFyIHcgPSAwO1xuICAgICAgICAgICAgdmFyIGggPSAwO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcyQxLmdyYXBoaWNzRGF0YVtpXTtcbiAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgICAgICAgICB2YXIgbGluZVdpZHRoID0gZGF0YS5saW5lV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBzaGFwZSA9IGRhdGEuc2hhcGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gU0hBUEVTLlJFQ1QgfHwgdHlwZSA9PT0gU0hBUEVTLlJSRUMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueCAtIChsaW5lV2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnkgLSAobGluZVdpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS53aWR0aCArIGxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgaCA9IHNoYXBlLmhlaWdodCArIGxpbmVXaWR0aDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gU0hBUEVTLkNJUkMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB4ID0gc2hhcGUueDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHNoYXBlLnk7XG4gICAgICAgICAgICAgICAgICAgIHcgPSBzaGFwZS5yYWRpdXMgKyAobGluZVdpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIGggPSBzaGFwZS5yYWRpdXMgKyAobGluZVdpZHRoIC8gMik7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWCA9IHggLSB3IDwgbWluWCA/IHggLSB3IDogbWluWDtcbiAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyB3ID4gbWF4WCA/IHggKyB3IDogbWF4WDtcblxuICAgICAgICAgICAgICAgICAgICBtaW5ZID0geSAtIGggPCBtaW5ZID8geSAtIGggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIGggPiBtYXhZID8geSArIGggOiBtYXhZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlID09PSBTSEFQRVMuRUxJUClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBzaGFwZS54O1xuICAgICAgICAgICAgICAgICAgICB5ID0gc2hhcGUueTtcbiAgICAgICAgICAgICAgICAgICAgdyA9IHNoYXBlLndpZHRoICsgKGxpbmVXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBoID0gc2hhcGUuaGVpZ2h0ICsgKGxpbmVXaWR0aCAvIDIpO1xuXG4gICAgICAgICAgICAgICAgICAgIG1pblggPSB4IC0gdyA8IG1pblggPyB4IC0gdyA6IG1pblg7XG4gICAgICAgICAgICAgICAgICAgIG1heFggPSB4ICsgdyA+IG1heFggPyB4ICsgdyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgbWluWSA9IHkgLSBoIDwgbWluWSA/IHkgLSBoIDogbWluWTtcbiAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBoID4gbWF4WSA/IHkgKyBoIDogbWF4WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUE9MWVxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gc2hhcGUucG9pbnRzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeDIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgeTIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcncgPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3ggPSAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3kgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqICsgMiA8IHBvaW50cy5sZW5ndGg7IGogKz0gMilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IHBvaW50c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBwb2ludHNbaiArIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBwb2ludHNbaiArIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgeTIgPSBwb2ludHNbaiArIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHggPSBNYXRoLmFicyh4MiAtIHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZHkgPSBNYXRoLmFicyh5MiAtIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaCA9IGxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBNYXRoLnNxcnQoKGR4ICogZHgpICsgKGR5ICogZHkpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPCAxZS05KVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBydyA9ICgoaCAvIHcgKiBkeSkgKyBkeCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmggPSAoKGggLyB3ICogZHgpICsgZHkpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN4ID0gKHgyICsgeCkgLyAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3kgPSAoeTIgKyB5KSAvIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblggPSBjeCAtIHJ3IDwgbWluWCA/IGN4IC0gcncgOiBtaW5YO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WCA9IGN4ICsgcncgPiBtYXhYID8gY3ggKyBydyA6IG1heFg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblkgPSBjeSAtIHJoIDwgbWluWSA/IGN5IC0gcmggOiBtaW5ZO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WSA9IGN5ICsgcmggPiBtYXhZID8gY3kgKyByaCA6IG1heFk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBtaW5YID0gMDtcbiAgICAgICAgICAgIG1heFggPSAwO1xuICAgICAgICAgICAgbWluWSA9IDA7XG4gICAgICAgICAgICBtYXhZID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5ib3VuZHNQYWRkaW5nO1xuXG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1pblggPSBtaW5YIC0gcGFkZGluZztcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWF4WCA9IG1heFggKyBwYWRkaW5nO1xuXG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzLm1pblkgPSBtaW5ZIC0gcGFkZGluZztcbiAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHMubWF4WSA9IG1heFkgKyBwYWRkaW5nO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgZ2l2ZW4gc2hhcGUgdG8gdGhpcyBHcmFwaGljcyBvYmplY3QuIENhbiBiZSBhbnkgb2YgQ2lyY2xlLCBSZWN0YW5nbGUsIEVsbGlwc2UsIExpbmUgb3IgUG9seWdvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5DaXJjbGV8UElYSS5FbGxpcHNlfFBJWEkuUG9seWdvbnxQSVhJLlJlY3RhbmdsZXxQSVhJLlJvdW5kZWRSZWN0YW5nbGV9IHNoYXBlIC0gVGhlIHNoYXBlIG9iamVjdCB0byBkcmF3LlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3NEYXRhfSBUaGUgZ2VuZXJhdGVkIEdyYXBoaWNzRGF0YSBvYmplY3QuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmRyYXdTaGFwZSA9IGZ1bmN0aW9uIGRyYXdTaGFwZSAoc2hhcGUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50UGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gY2hlY2sgY3VycmVudCBwYXRoIVxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhdGguc2hhcGUucG9pbnRzLmxlbmd0aCA8PSAyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgR3JhcGhpY3NEYXRhKFxuICAgICAgICAgICAgdGhpcy5saW5lV2lkdGgsXG4gICAgICAgICAgICB0aGlzLmxpbmVDb2xvcixcbiAgICAgICAgICAgIHRoaXMubGluZUFscGhhLFxuICAgICAgICAgICAgdGhpcy5maWxsQ29sb3IsXG4gICAgICAgICAgICB0aGlzLmZpbGxBbHBoYSxcbiAgICAgICAgICAgIHRoaXMuZmlsbGluZyxcbiAgICAgICAgICAgIHRoaXMubmF0aXZlTGluZXMsXG4gICAgICAgICAgICBzaGFwZSxcbiAgICAgICAgICAgIHRoaXMubGluZUFsaWdubWVudFxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhLnB1c2goZGF0YSk7XG5cbiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gU0hBUEVTLlBPTFkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRhdGEuc2hhcGUuY2xvc2VkID0gZGF0YS5zaGFwZS5jbG9zZWQgfHwgdGhpcy5maWxsaW5nO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IGRhdGE7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpcnR5Kys7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY3VycmVudCBwYXRoLlxuICAgICAqXG4gICAgICogQHJldHVybiB7UElYSS5HcmFwaGljc30gUmV0dXJucyBpdHNlbGYuXG4gICAgICovXG4gICAgR3JhcGhpY3MucHJvdG90eXBlLmNsb3NlUGF0aCA9IGZ1bmN0aW9uIGNsb3NlUGF0aCAoKVxuICAgIHtcbiAgICAgICAgLy8gb2sgc28gY2xvc2UgcGF0aCBhc3N1bWVzIG5leHQgb25lIGlzIGEgaG9sZSFcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gdGhpcy5jdXJyZW50UGF0aDtcblxuICAgICAgICBpZiAoY3VycmVudFBhdGggJiYgY3VycmVudFBhdGguc2hhcGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoLnNoYXBlLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGhvbGUgaW4gdGhlIGN1cnJlbnQgcGF0aC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuR3JhcGhpY3N9IFJldHVybnMgaXRzZWxmLlxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5hZGRIb2xlID0gZnVuY3Rpb24gYWRkSG9sZSAoKVxuICAgIHtcbiAgICAgICAgLy8gdGhpcyBpcyBhIGhvbGUhXG4gICAgICAgIHZhciBob2xlID0gdGhpcy5ncmFwaGljc0RhdGEucG9wKCk7XG5cbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IHRoaXMuZ3JhcGhpY3NEYXRhW3RoaXMuZ3JhcGhpY3NEYXRhLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGguYWRkSG9sZShob2xlLnNoYXBlKTtcbiAgICAgICAgdGhpcy5jdXJyZW50UGF0aCA9IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBHcmFwaGljcyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdHxib29sZWFufSBbb3B0aW9uc10gLSBPcHRpb25zIHBhcmFtZXRlci4gQSBib29sZWFuIHdpbGwgYWN0IGFzIGlmIGFsbFxuICAgICAqICBvcHRpb25zIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gaWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlXG4gICAgICogIHRoZWlyIGRlc3Ryb3kgbWV0aG9kIGNhbGxlZCBhcyB3ZWxsLiAnb3B0aW9ucycgd2lsbCBiZSBwYXNzZWQgb24gdG8gdGhvc2UgY2FsbHMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50ZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIE9ubHkgdXNlZCBmb3IgY2hpbGQgU3ByaXRlcyBpZiBvcHRpb25zLmNoaWxkcmVuIGlzIHNldCB0byB0cnVlXG4gICAgICogIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIENvbnRhaW5lciQkMS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIGRlc3Ryb3kgZWFjaCBvZiB0aGUgR3JhcGhpY3NEYXRhIG9iamVjdHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdyYXBoaWNzRGF0YS5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLmdyYXBoaWNzRGF0YVtpXS5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmb3IgZWFjaCB3ZWJnbCBkYXRhIGVudHJ5LCBkZXN0cm95IHRoZSBXZWJHTEdyYXBoaWNzRGF0YVxuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzJDEuX3dlYkdMKVxuICAgICAgICB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRoaXMuX3dlYkdMW2lkXS5kYXRhLmxlbmd0aDsgKytqKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fd2ViR0xbaWRdLmRhdGFbal0uZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX3Nwcml0ZVJlY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3Nwcml0ZVJlY3QuZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFBhdGggPSBudWxsO1xuICAgICAgICB0aGlzLl93ZWJHTCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvY2FsQm91bmRzID0gbnVsbDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdyYXBoaWNzO1xufShDb250YWluZXIpKTtcblxuR3JhcGhpY3MuX1NQUklURV9URVhUVVJFID0gbnVsbDtcblxuLyoqXG4gKiBHcmFwaGljcyBjdXJ2ZXMgcmVzb2x1dGlvbiBzZXR0aW5ncy4gSWYgYGFkYXB0aXZlYCBmbGFnIGlzIHNldCB0byBgdHJ1ZWAsXG4gKiB0aGUgcmVzb2x1dGlvbiBpcyBjYWxjdWxhdGVkIGJhc2VkIG9uIHRoZSBjdXJ2ZSdzIGxlbmd0aCB0byBlbnN1cmUgYmV0dGVyIHZpc3VhbCBxdWFsaXR5LlxuICogQWRhcHRpdmUgZHJhdyB3b3JrcyB3aXRoIGBiZXppZXJDdXJ2ZVRvYCBhbmQgYHF1YWRyYXRpY0N1cnZlVG9gLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG1lbWJlcm9mIFBJWEkuR3JhcGhpY3NcbiAqIEBuYW1lIENVUlZFU1xuICogQHR5cGUge29iamVjdH1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gYWRhcHRpdmU9ZmFsc2UgLSBmbGFnIGluZGljYXRpbmcgaWYgdGhlIHJlc29sdXRpb24gc2hvdWxkIGJlIGFkYXB0aXZlXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWF4TGVuZ3RoPTEwIC0gbWF4aW1hbCBsZW5ndGggb2YgYSBzaW5nbGUgc2VnbWVudCBvZiB0aGUgY3VydmUgKGlmIGFkYXB0aXZlID0gZmFsc2UsIGlnbm9yZWQpXG4gKiBAcHJvcGVydHkge251bWJlcn0gbWluU2VnbWVudHM9OCAtIG1pbmltYWwgbnVtYmVyIG9mIHNlZ21lbnRzIGluIHRoZSBjdXJ2ZSAoaWYgYWRhcHRpdmUgPSBmYWxzZSwgaWdub3JlZClcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBtYXhTZWdtZW50cz0yMDQ4IC0gbWF4aW1hbCBudW1iZXIgb2Ygc2VnbWVudHMgaW4gdGhlIGN1cnZlIChpZiBhZGFwdGl2ZSA9IGZhbHNlLCBpZ25vcmVkKVxuICovXG5HcmFwaGljcy5DVVJWRVMgPSB7XG4gICAgYWRhcHRpdmU6IGZhbHNlLFxuICAgIG1heExlbmd0aDogMTAsXG4gICAgbWluU2VnbWVudHM6IDgsXG4gICAgbWF4U2VnbWVudHM6IDIwNDgsXG59O1xuXG4vKipcbiAqIEFuIG9iamVjdCBjb250YWluaW5nIFdlYkdMIHNwZWNpZmljIHByb3BlcnRpZXMgdG8gYmUgdXNlZCBieSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgV2ViR0xHcmFwaGljc0RhdGEgPSBmdW5jdGlvbiBXZWJHTEdyYXBoaWNzRGF0YShnbCwgc2hhZGVyKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBjdXJyZW50IFdlYkdMIGRyYXdpbmcgY29udGV4dFxuICAgICAqXG4gICAgICogQG1lbWJlciB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fVxuICAgICAqL1xuICAgIHRoaXMuZ2wgPSBnbDtcblxuICAgIC8vIFRPRE8gZG9lcyB0aGlzIG5lZWQgdG8gYmUgc3BsaXQgYmVmb3JlIHVwbG9hZGluZz8/XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgY29sb3IgY29tcG9uZW50cyAocixnLGIpXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5jb2xvciA9IFswLCAwLCAwXTsgLy8gY29sb3Igc3BsaXQhXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBwb2ludHMgdG8gZHJhd1xuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnRbXX1cbiAgICAgKi9cbiAgICB0aGlzLnBvaW50cyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGluZGljZXMgb2YgdGhlIHZlcnRpY2VzXG4gICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICovXG4gICAgdGhpcy5pbmRpY2VzID0gW107XG4gICAgLyoqXG4gICAgICogVGhlIG1haW4gYnVmZmVyXG4gICAgICogQG1lbWJlciB7V2ViR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5idWZmZXIgPSBuZXcgQnVmZmVyKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggYnVmZmVyXG4gICAgICogQG1lbWJlciB7V2ViR0xCdWZmZXJ9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoKTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyBncmFwaGljcyBpcyBkaXJ0eSBvciBub3RcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGdyYXBoaWNzIGlzIG5hdGl2ZUxpbmVzIG9yIG5vdFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5uYXRpdmVMaW5lcyA9IGZhbHNlO1xuXG4gICAgdGhpcy5nbFBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5nbEluZGljZXMgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgKi9cbiAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcblxuICAgIHRoaXMuZ2VvbWV0cnkgPSBuZXcgR2VvbWV0cnkoKVxuICAgICAgICAuYWRkQXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb258YUNvbG9yJywgdGhpcy5idWZmZXIpXG4gICAgICAgIC5hZGRJbmRleCh0aGlzLmluZGV4QnVmZmVyKTtcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoZSB2ZXJ0aWNlcyBhbmQgdGhlIGluZGljZXNcbiAqL1xuV2ViR0xHcmFwaGljc0RhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbntcbiAgICB0aGlzLnBvaW50cy5sZW5ndGggPSAwO1xuICAgIHRoaXMuaW5kaWNlcy5sZW5ndGggPSAwO1xufTtcblxuLyoqXG4gKiBCaW5kcyB0aGUgYnVmZmVycyBhbmQgdXBsb2FkcyB0aGUgZGF0YVxuICovXG5XZWJHTEdyYXBoaWNzRGF0YS5wcm90b3R5cGUudXBsb2FkID0gZnVuY3Rpb24gdXBsb2FkICgpXG57XG4gICAgdGhpcy5nbFBvaW50cyA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5wb2ludHMpO1xuICAgIHRoaXMuYnVmZmVyLnVwZGF0ZSh0aGlzLmdsUG9pbnRzKTtcblxuICAgIHRoaXMuZ2xJbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuaW5kaWNlcyk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci51cGRhdGUodGhpcy5nbEluZGljZXMpO1xuXG4gICAgLy8gY29uc29sZS5sb2coXCJVUExPQURJTkcsLlwiLHRoaXMuZ2xQb2ludHMsdGhpcy5nbEluZGljZXMpXG4gICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBFbXB0aWVzIGFsbCB0aGUgZGF0YVxuICovXG5XZWJHTEdyYXBoaWNzRGF0YS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbntcbiAgICB0aGlzLmNvbG9yID0gbnVsbDtcbiAgICB0aGlzLnBvaW50cyA9IG51bGw7XG4gICAgdGhpcy5pbmRpY2VzID0gbnVsbDtcblxuICAgIHRoaXMudmFvLmRlc3Ryb3koKTtcbiAgICB0aGlzLmJ1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCk7XG5cbiAgICB0aGlzLmdsID0gbnVsbDtcblxuICAgIHRoaXMuYnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmluZGV4QnVmZmVyID0gbnVsbDtcblxuICAgIHRoaXMuZ2xQb2ludHMgPSBudWxsO1xuICAgIHRoaXMuZ2xJbmRpY2VzID0gbnVsbDtcbn07XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgZ2xfRnJhZ0NvbG9yID0gdkNvbG9yO1xcbn1cXG5cIjtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWM0IGFDb2xvcjtcXG5cXG51bmlmb3JtIG1hdDMgdHJhbnNsYXRpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxuXFxudW5pZm9ybSBmbG9hdCBhbHBoYTtcXG51bmlmb3JtIHZlYzMgdGludDtcXG5cXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKXtcXG4gICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgIHZDb2xvciA9IGFDb2xvciAqIHZlYzQodGludCAqIGFscGhhLCBhbHBoYSk7XFxufVxcblwiO1xuXG4vKipcbiAqIFRoaXMgc2hhZGVyIGlzIHVzZWQgdG8gZHJhdyBzaW1wbGUgcHJpbWl0aXZlIHNoYXBlcyBmb3Ige0BsaW5rIFBJWEkuR3JhcGhpY3N9LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuU2hhZGVyXG4gKi9cbnZhciBQcmltaXRpdmVTaGFkZXIgPSAoZnVuY3Rpb24gKFNoYWRlciQkMSkge1xuICAgIGZ1bmN0aW9uIFByaW1pdGl2ZVNoYWRlcigpXG4gICAge1xuICAgICAgICB2YXIgcHJvZ3JhbSA9IFByb2dyYW0uZnJvbSh2ZXJ0ZXgsIGZyYWdtZW50KTtcblxuICAgICAgICBTaGFkZXIkJDEuY2FsbCh0aGlzLCBwcm9ncmFtLCB7fSk7XG4gICAgfVxuXG4gICAgaWYgKCBTaGFkZXIkJDEgKSBQcmltaXRpdmVTaGFkZXIuX19wcm90b19fID0gU2hhZGVyJCQxO1xuICAgIFByaW1pdGl2ZVNoYWRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTaGFkZXIkJDEgJiYgU2hhZGVyJCQxLnByb3RvdHlwZSApO1xuICAgIFByaW1pdGl2ZVNoYWRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmltaXRpdmVTaGFkZXI7XG5cbiAgICByZXR1cm4gUHJpbWl0aXZlU2hhZGVyO1xufShTaGFkZXIpKTtcblxuLyoqXG4gKiBCdWlsZHMgYSBsaW5lIHRvIGRyYXdcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTGluZSAoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKVxue1xuICAgIGlmIChncmFwaGljc0RhdGEubmF0aXZlTGluZXMpXG4gICAge1xuICAgICAgICBidWlsZE5hdGl2ZUxpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGJ1aWxkTGluZSQxKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhKTtcbiAgICB9XG59XG5cbi8qKlxuICogQnVpbGRzIGEgbGluZSB0byBkcmF3IHVzaW5nIHRoZSBwb2x5Z29uIG1ldGhvZC5cbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLldlYkdMR3JhcGhpY3NEYXRhfSBncmFwaGljc0RhdGEgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSBuZWNlc3NhcnkgcHJvcGVydGllc1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqL1xuZnVuY3Rpb24gYnVpbGRMaW5lJDEoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEpXG57XG4gICAgLy8gVE9ETyBPUFRJTUlTRSFcbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgIGlmIChwb2ludHMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgbGluZSB3aWR0aCBpcyBhbiBvZGQgbnVtYmVyIGFkZCAwLjUgdG8gYWxpZ24gdG8gYSB3aG9sZSBwaXhlbFxuICAgIC8vIGNvbW1lbnRpbmcgdGhpcyBvdXQgZml4ZXMgIzcxMSBhbmQgIzE2MjBcbiAgICAvLyBpZiAoZ3JhcGhpY3NEYXRhLmxpbmVXaWR0aCUyKVxuICAgIC8vIHtcbiAgICAvLyAgICAgZm9yIChpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKylcbiAgICAvLyAgICAge1xuICAgIC8vICAgICAgICAgcG9pbnRzW2ldICs9IDAuNTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vIGdldCBmaXJzdCBhbmQgbGFzdCBwb2ludC4uIGZpZ3VyZSBvdXQgdGhlIG1pZGRsZSFcbiAgICB2YXIgZmlyc3RQb2ludCA9IG5ldyBQb2ludChwb2ludHNbMF0sIHBvaW50c1sxXSk7XG4gICAgdmFyIGxhc3RQb2ludCA9IG5ldyBQb2ludChwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDJdLCBwb2ludHNbcG9pbnRzLmxlbmd0aCAtIDFdKTtcblxuICAgIC8vIGlmIHRoZSBmaXJzdCBwb2ludCBpcyB0aGUgbGFzdCBwb2ludCAtIGdvbm5hIGhhdmUgaXNzdWVzIDopXG4gICAgaWYgKGZpcnN0UG9pbnQueCA9PT0gbGFzdFBvaW50LnggJiYgZmlyc3RQb2ludC55ID09PSBsYXN0UG9pbnQueSlcbiAgICB7XG4gICAgICAgIC8vIG5lZWQgdG8gY2xvbmUgYXMgd2UgYXJlIGdvaW5nIHRvIHNsaWdodGx5IG1vZGlmeSB0aGUgc2hhcGUuLlxuICAgICAgICBwb2ludHMgPSBwb2ludHMuc2xpY2UoKTtcblxuICAgICAgICBwb2ludHMucG9wKCk7XG4gICAgICAgIHBvaW50cy5wb3AoKTtcblxuICAgICAgICBsYXN0UG9pbnQgPSBuZXcgUG9pbnQocG9pbnRzW3BvaW50cy5sZW5ndGggLSAyXSwgcG9pbnRzW3BvaW50cy5sZW5ndGggLSAxXSk7XG5cbiAgICAgICAgdmFyIG1pZFBvaW50WCA9IGxhc3RQb2ludC54ICsgKChmaXJzdFBvaW50LnggLSBsYXN0UG9pbnQueCkgKiAwLjUpO1xuICAgICAgICB2YXIgbWlkUG9pbnRZID0gbGFzdFBvaW50LnkgKyAoKGZpcnN0UG9pbnQueSAtIGxhc3RQb2ludC55KSAqIDAuNSk7XG5cbiAgICAgICAgcG9pbnRzLnVuc2hpZnQobWlkUG9pbnRYLCBtaWRQb2ludFkpO1xuICAgICAgICBwb2ludHMucHVzaChtaWRQb2ludFgsIG1pZFBvaW50WSk7XG4gICAgfVxuXG4gICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuICAgIHZhciBsZW5ndGggPSBwb2ludHMubGVuZ3RoIC8gMjtcbiAgICB2YXIgaW5kZXhDb3VudCA9IHBvaW50cy5sZW5ndGg7XG4gICAgdmFyIGluZGV4U3RhcnQgPSB2ZXJ0cy5sZW5ndGggLyA2O1xuXG4gICAgLy8gRFJBVyB0aGUgTGluZVxuICAgIHZhciB3aWR0aCA9IGdyYXBoaWNzRGF0YS5saW5lV2lkdGggLyAyO1xuXG4gICAgLy8gc29ydCBjb2xvclxuICAgIHZhciBjb2xvciA9IGhleDJyZ2IoZ3JhcGhpY3NEYXRhLmxpbmVDb2xvcik7XG4gICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmxpbmVBbHBoYTtcbiAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgIHZhciBwMXggPSBwb2ludHNbMF07XG4gICAgdmFyIHAxeSA9IHBvaW50c1sxXTtcbiAgICB2YXIgcDJ4ID0gcG9pbnRzWzJdO1xuICAgIHZhciBwMnkgPSBwb2ludHNbM107XG4gICAgdmFyIHAzeCA9IDA7XG4gICAgdmFyIHAzeSA9IDA7XG5cbiAgICB2YXIgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgdmFyIHBlcnB5ID0gcDF4IC0gcDJ4O1xuICAgIHZhciBwZXJwMnggPSAwO1xuICAgIHZhciBwZXJwMnkgPSAwO1xuICAgIHZhciBwZXJwM3ggPSAwO1xuICAgIHZhciBwZXJwM3kgPSAwO1xuXG4gICAgdmFyIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcblxuICAgIHBlcnB4IC89IGRpc3Q7XG4gICAgcGVycHkgLz0gZGlzdDtcbiAgICBwZXJweCAqPSB3aWR0aDtcbiAgICBwZXJweSAqPSB3aWR0aDtcblxuICAgIHZhciByYXRpbyA9IGdyYXBoaWNzRGF0YS5saW5lQWxpZ25tZW50Oy8vIDAuNTtcbiAgICB2YXIgcjEgPSAoMSAtIHJhdGlvKSAqIDI7XG4gICAgdmFyIHIyID0gcmF0aW8gKiAyO1xuXG4gICAgLy8gc3RhcnRcbiAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICBwMXggLSAocGVycHggKiByMSksXG4gICAgICAgIHAxeSAtIChwZXJweSAqIHIxKSxcbiAgICAgICAgciwgZywgYiwgYWxwaGFcbiAgICApO1xuXG4gICAgdmVydHMucHVzaChcbiAgICAgICAgcDF4ICsgKHBlcnB4ICogcjIpLFxuICAgICAgICBwMXkgKyAocGVycHkgKiByMiksXG4gICAgICAgIHIsIGcsIGIsIGFscGhhXG4gICAgKTtcblxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgKytpKVxuICAgIHtcbiAgICAgICAgcDF4ID0gcG9pbnRzWyhpIC0gMSkgKiAyXTtcbiAgICAgICAgcDF5ID0gcG9pbnRzWygoaSAtIDEpICogMikgKyAxXTtcblxuICAgICAgICBwMnggPSBwb2ludHNbaSAqIDJdO1xuICAgICAgICBwMnkgPSBwb2ludHNbKGkgKiAyKSArIDFdO1xuXG4gICAgICAgIHAzeCA9IHBvaW50c1soaSArIDEpICogMl07XG4gICAgICAgIHAzeSA9IHBvaW50c1soKGkgKyAxKSAqIDIpICsgMV07XG5cbiAgICAgICAgcGVycHggPSAtKHAxeSAtIHAyeSk7XG4gICAgICAgIHBlcnB5ID0gcDF4IC0gcDJ4O1xuXG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICAgICAgcGVycHggLz0gZGlzdDtcbiAgICAgICAgcGVycHkgLz0gZGlzdDtcbiAgICAgICAgcGVycHggKj0gd2lkdGg7XG4gICAgICAgIHBlcnB5ICo9IHdpZHRoO1xuXG4gICAgICAgIHBlcnAyeCA9IC0ocDJ5IC0gcDN5KTtcbiAgICAgICAgcGVycDJ5ID0gcDJ4IC0gcDN4O1xuXG4gICAgICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnAyeCAqIHBlcnAyeCkgKyAocGVycDJ5ICogcGVycDJ5KSk7XG4gICAgICAgIHBlcnAyeCAvPSBkaXN0O1xuICAgICAgICBwZXJwMnkgLz0gZGlzdDtcbiAgICAgICAgcGVycDJ4ICo9IHdpZHRoO1xuICAgICAgICBwZXJwMnkgKj0gd2lkdGg7XG5cbiAgICAgICAgdmFyIGExID0gKC1wZXJweSArIHAxeSkgLSAoLXBlcnB5ICsgcDJ5KTtcbiAgICAgICAgdmFyIGIxID0gKC1wZXJweCArIHAyeCkgLSAoLXBlcnB4ICsgcDF4KTtcbiAgICAgICAgdmFyIGMxID0gKCgtcGVycHggKyBwMXgpICogKC1wZXJweSArIHAyeSkpIC0gKCgtcGVycHggKyBwMngpICogKC1wZXJweSArIHAxeSkpO1xuICAgICAgICB2YXIgYTIgPSAoLXBlcnAyeSArIHAzeSkgLSAoLXBlcnAyeSArIHAyeSk7XG4gICAgICAgIHZhciBiMiA9ICgtcGVycDJ4ICsgcDJ4KSAtICgtcGVycDJ4ICsgcDN4KTtcbiAgICAgICAgdmFyIGMyID0gKCgtcGVycDJ4ICsgcDN4KSAqICgtcGVycDJ5ICsgcDJ5KSkgLSAoKC1wZXJwMnggKyBwMngpICogKC1wZXJwMnkgKyBwM3kpKTtcblxuICAgICAgICB2YXIgZGVub20gPSAoYTEgKiBiMikgLSAoYTIgKiBiMSk7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGRlbm9tKSA8IDAuMSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVub20gKz0gMTAuMTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goXG4gICAgICAgICAgICAgICAgcDJ4IC0gKHBlcnB4ICogcjEpLFxuICAgICAgICAgICAgICAgIHAyeSAtIChwZXJweSAqIHIxKSxcbiAgICAgICAgICAgICAgICByLCBnLCBiLCBhbHBoYVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChcbiAgICAgICAgICAgICAgICBwMnggKyAocGVycHggKiByMiksXG4gICAgICAgICAgICAgICAgcDJ5ICsgKHBlcnB5ICogcjIpLFxuICAgICAgICAgICAgICAgIHIsIGcsIGIsIGFscGhhXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBweCA9ICgoYjEgKiBjMikgLSAoYjIgKiBjMSkpIC8gZGVub207XG4gICAgICAgIHZhciBweSA9ICgoYTIgKiBjMSkgLSAoYTEgKiBjMikpIC8gZGVub207XG4gICAgICAgIHZhciBwZGlzdCA9ICgocHggLSBwMngpICogKHB4IC0gcDJ4KSkgKyAoKHB5IC0gcDJ5KSAqIChweSAtIHAyeSkpO1xuXG4gICAgICAgIGlmIChwZGlzdCA+ICgxOTYgKiB3aWR0aCAqIHdpZHRoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcGVycDN4ID0gcGVycHggLSBwZXJwMng7XG4gICAgICAgICAgICBwZXJwM3kgPSBwZXJweSAtIHBlcnAyeTtcblxuICAgICAgICAgICAgZGlzdCA9IE1hdGguc3FydCgocGVycDN4ICogcGVycDN4KSArIChwZXJwM3kgKiBwZXJwM3kpKTtcbiAgICAgICAgICAgIHBlcnAzeCAvPSBkaXN0O1xuICAgICAgICAgICAgcGVycDN5IC89IGRpc3Q7XG4gICAgICAgICAgICBwZXJwM3ggKj0gd2lkdGg7XG4gICAgICAgICAgICBwZXJwM3kgKj0gd2lkdGg7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKHBlcnAzeCAqIHIxKSwgcDJ5IC0gKHBlcnAzeSAqIHIxKSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyAocGVycDN4ICogcjIpLCBwMnkgKyAocGVycDN5ICogcjIpKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJwM3ggKiByMiAqIHIxKSwgcDJ5IC0gKHBlcnAzeSAqIHIxKSk7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICAgICAgaW5kZXhDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydHMucHVzaChwMnggKyAoKHB4IC0gcDJ4KSAqIHIxKSwgcDJ5ICsgKChweSAtIHAyeSkgKiByMSkpO1xuICAgICAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgICAgIHZlcnRzLnB1c2gocDJ4IC0gKChweCAtIHAyeCkgKiByMiksIHAyeSAtICgocHkgLSBwMnkpICogcjIpKTtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcDF4ID0gcG9pbnRzWyhsZW5ndGggLSAyKSAqIDJdO1xuICAgIHAxeSA9IHBvaW50c1soKGxlbmd0aCAtIDIpICogMikgKyAxXTtcblxuICAgIHAyeCA9IHBvaW50c1sobGVuZ3RoIC0gMSkgKiAyXTtcbiAgICBwMnkgPSBwb2ludHNbKChsZW5ndGggLSAxKSAqIDIpICsgMV07XG5cbiAgICBwZXJweCA9IC0ocDF5IC0gcDJ5KTtcbiAgICBwZXJweSA9IHAxeCAtIHAyeDtcblxuICAgIGRpc3QgPSBNYXRoLnNxcnQoKHBlcnB4ICogcGVycHgpICsgKHBlcnB5ICogcGVycHkpKTtcbiAgICBwZXJweCAvPSBkaXN0O1xuICAgIHBlcnB5IC89IGRpc3Q7XG4gICAgcGVycHggKj0gd2lkdGg7XG4gICAgcGVycHkgKj0gd2lkdGg7XG5cbiAgICB2ZXJ0cy5wdXNoKHAyeCAtIChwZXJweCAqIHIxKSwgcDJ5IC0gKHBlcnB5ICogcjEpKTtcbiAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgIHZlcnRzLnB1c2gocDJ4ICsgKHBlcnB4ICogcjIpLCBwMnkgKyAocGVycHkgKiByMikpO1xuICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgaW5kaWNlcy5wdXNoKGluZGV4U3RhcnQpO1xuXG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgaW5kZXhDb3VudDsgKytpJDEpXG4gICAge1xuICAgICAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCsrKTtcbiAgICB9XG5cbiAgICBpbmRpY2VzLnB1c2goaW5kZXhTdGFydCAtIDEpO1xufVxuXG4vKipcbiAqIEJ1aWxkcyBhIGxpbmUgdG8gZHJhdyB1c2luZyB0aGUgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUykgbWV0aG9kXG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkTmF0aXZlTGluZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSlcbntcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIHBvaW50cyA9IGdyYXBoaWNzRGF0YS5wb2ludHM7XG5cbiAgICBpZiAocG9pbnRzLmxlbmd0aCA9PT0gMCkgeyByZXR1cm47IH1cblxuICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgdmFyIGxlbmd0aCA9IHBvaW50cy5sZW5ndGggLyAyO1xuXG4gICAgLy8gc29ydCBjb2xvclxuICAgIHZhciBjb2xvciA9IGhleDJyZ2IoZ3JhcGhpY3NEYXRhLmxpbmVDb2xvcik7XG4gICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmxpbmVBbHBoYTtcbiAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgdmFyIGcgPSBjb2xvclsxXSAqIGFscGhhO1xuICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBwMXggPSBwb2ludHNbKGkgLSAxKSAqIDJdO1xuICAgICAgICB2YXIgcDF5ID0gcG9pbnRzWygoaSAtIDEpICogMikgKyAxXTtcblxuICAgICAgICB2YXIgcDJ4ID0gcG9pbnRzW2kgKiAyXTtcbiAgICAgICAgdmFyIHAyeSA9IHBvaW50c1soaSAqIDIpICsgMV07XG5cbiAgICAgICAgdmVydHMucHVzaChwMXgsIHAxeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2gocDJ4LCBwMnkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcbiAgICB9XG59XG5cbi8qKlxuICogQnVpbGRzIGEgcG9seWdvbiB0byBkcmF3XG4gKlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5XZWJHTEdyYXBoaWNzRGF0YX0gZ3JhcGhpY3NEYXRhIC0gVGhlIGdyYXBoaWNzIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgbmVjZXNzYXJ5IHByb3BlcnRpZXNcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGEgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGlzIHNoYXBlXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhTmF0aXZlTGluZXMgLSBhbiBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIHdlYkdMLXNwZWNpZmljIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSBuYXRpdmVMaW5lc1xuICovXG5mdW5jdGlvbiBidWlsZFBvbHkoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKVxue1xuICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBncmFwaGljc0RhdGEuc2hhcGUucG9pbnRzLnNsaWNlKCk7XG5cbiAgICB2YXIgcG9pbnRzID0gZ3JhcGhpY3NEYXRhLnBvaW50cztcblxuICAgIGlmIChncmFwaGljc0RhdGEuZmlsbCAmJiBwb2ludHMubGVuZ3RoID49IDYpXG4gICAge1xuICAgICAgICB2YXIgaG9sZUFycmF5ID0gW107XG4gICAgICAgIC8vIFByb2Nlc3MgaG9sZXMuLlxuICAgICAgICB2YXIgaG9sZXMgPSBncmFwaGljc0RhdGEuaG9sZXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob2xlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGhvbGUgPSBob2xlc1tpXTtcblxuICAgICAgICAgICAgaG9sZUFycmF5LnB1c2gocG9pbnRzLmxlbmd0aCAvIDIpO1xuXG4gICAgICAgICAgICBwb2ludHMgPSBwb2ludHMuY29uY2F0KGhvbGUucG9pbnRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCBmaXJzdCBhbmQgbGFzdCBwb2ludC4uIGZpZ3VyZSBvdXQgdGhlIG1pZGRsZSFcbiAgICAgICAgdmFyIHZlcnRzID0gd2ViR0xEYXRhLnBvaW50cztcbiAgICAgICAgdmFyIGluZGljZXMgPSB3ZWJHTERhdGEuaW5kaWNlcztcblxuICAgICAgICB2YXIgbGVuZ3RoID0gcG9pbnRzLmxlbmd0aCAvIDI7XG5cbiAgICAgICAgLy8gc29ydCBjb2xvclxuICAgICAgICB2YXIgY29sb3IgPSBoZXgycmdiKGdyYXBoaWNzRGF0YS5maWxsQ29sb3IpO1xuICAgICAgICB2YXIgYWxwaGEgPSBncmFwaGljc0RhdGEuZmlsbEFscGhhO1xuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB0cmlhbmdsZXMgPSBlYXJjdXQocG9pbnRzLCBob2xlQXJyYXksIDIpO1xuXG4gICAgICAgIGlmICghdHJpYW5nbGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdmVydFBvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdHJpYW5nbGVzLmxlbmd0aDsgaSQxICs9IDMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSQxXSArIHZlcnRQb3MpO1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpJDFdICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kkMSArIDFdICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kkMSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2kkMSArIDJdICsgdmVydFBvcyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBpJDIgPSAwOyBpJDIgPCBsZW5ndGg7IGkkMisrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKHBvaW50c1tpJDIgKiAyXSwgcG9pbnRzWyhpJDIgKiAyKSArIDFdLFxuICAgICAgICAgICAgICAgIHIsIGcsIGIsIGFscGhhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoID4gMClcbiAgICB7XG4gICAgICAgIGJ1aWxkTGluZShncmFwaGljc0RhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBCdWlsZHMgYSByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRSZWN0YW5nbGUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKVxue1xuICAgIC8vIC0tLSAvL1xuICAgIC8vIG5lZWQgdG8gY29udmVydCBwb2ludHMgdG8gYSBuaWNlIHJlZ3VsYXIgZGF0YVxuICAgIC8vXG4gICAgdmFyIHJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIHZhciB4ID0gcmVjdERhdGEueDtcbiAgICB2YXIgeSA9IHJlY3REYXRhLnk7XG4gICAgdmFyIHdpZHRoID0gcmVjdERhdGEud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IHJlY3REYXRhLmhlaWdodDtcblxuICAgIGlmIChncmFwaGljc0RhdGEuZmlsbClcbiAgICB7XG4gICAgICAgIHZhciBjb2xvciA9IGhleDJyZ2IoZ3JhcGhpY3NEYXRhLmZpbGxDb2xvcik7XG4gICAgICAgIHZhciBhbHBoYSA9IGdyYXBoaWNzRGF0YS5maWxsQWxwaGE7XG5cbiAgICAgICAgdmFyIHIgPSBjb2xvclswXSAqIGFscGhhO1xuICAgICAgICB2YXIgZyA9IGNvbG9yWzFdICogYWxwaGE7XG4gICAgICAgIHZhciBiID0gY29sb3JbMl0gKiBhbHBoYTtcblxuICAgICAgICB2YXIgdmVydHMgPSB3ZWJHTERhdGEucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IHdlYkdMRGF0YS5pbmRpY2VzO1xuXG4gICAgICAgIHZhciB2ZXJ0UG9zID0gdmVydHMubGVuZ3RoIC8gNjtcblxuICAgICAgICAvLyBzdGFydFxuICAgICAgICB2ZXJ0cy5wdXNoKHgsIHkpO1xuICAgICAgICB2ZXJ0cy5wdXNoKHIsIGcsIGIsIGFscGhhKTtcblxuICAgICAgICB2ZXJ0cy5wdXNoKHggKyB3aWR0aCwgeSk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCwgeSArIGhlaWdodCk7XG4gICAgICAgIHZlcnRzLnB1c2gociwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgIHZlcnRzLnB1c2goeCArIHdpZHRoLCB5ICsgaGVpZ2h0KTtcbiAgICAgICAgdmVydHMucHVzaChyLCBnLCBiLCBhbHBoYSk7XG5cbiAgICAgICAgLy8gaW5zZXJ0IDIgZGVhZCB0cmlhbmdsZXMuLlxuICAgICAgICBpbmRpY2VzLnB1c2godmVydFBvcywgdmVydFBvcywgdmVydFBvcyArIDEsIHZlcnRQb3MgKyAyLCB2ZXJ0UG9zICsgMywgdmVydFBvcyArIDMpO1xuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoKVxuICAgIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBbeCwgeSxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSxcbiAgICAgICAgICAgIHggKyB3aWR0aCwgeSArIGhlaWdodCxcbiAgICAgICAgICAgIHgsIHkgKyBoZWlnaHQsXG4gICAgICAgICAgICB4LCB5XTtcblxuICAgICAgICBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG5cbi8qKlxuICogQnVpbGRzIGEgcm91bmRlZCByZWN0YW5nbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgY29udGFpbmluZyBhbGwgdGhlIG5lY2Vzc2FyeSBwcm9wZXJ0aWVzXG4gKiBAcGFyYW0ge29iamVjdH0gd2ViR0xEYXRhIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgdGhpcyBzaGFwZVxuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YU5hdGl2ZUxpbmVzIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIHRoZSB3ZWJHTC1zcGVjaWZpYyBpbmZvcm1hdGlvbiB0byBjcmVhdGUgbmF0aXZlTGluZXNcbiAqL1xuZnVuY3Rpb24gYnVpbGRSb3VuZGVkUmVjdGFuZ2xlKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcylcbntcbiAgICB2YXIgcnJlY3REYXRhID0gZ3JhcGhpY3NEYXRhLnNoYXBlO1xuICAgIHZhciB4ID0gcnJlY3REYXRhLng7XG4gICAgdmFyIHkgPSBycmVjdERhdGEueTtcbiAgICB2YXIgd2lkdGggPSBycmVjdERhdGEud2lkdGg7XG4gICAgdmFyIGhlaWdodCA9IHJyZWN0RGF0YS5oZWlnaHQ7XG5cbiAgICB2YXIgcmFkaXVzID0gcnJlY3REYXRhLnJhZGl1cztcblxuICAgIHZhciByZWNQb2ludHMgPSBbXTtcblxuICAgIHJlY1BvaW50cy5wdXNoKHgsIHkgKyByYWRpdXMpO1xuICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHgsIHkgKyBoZWlnaHQgLSByYWRpdXMsIHgsIHkgKyBoZWlnaHQsIHggKyByYWRpdXMsIHkgKyBoZWlnaHQsIHJlY1BvaW50cyk7XG4gICAgcXVhZHJhdGljQmV6aWVyQ3VydmUoeCArIHdpZHRoIC0gcmFkaXVzLCB5ICsgaGVpZ2h0LCB4ICsgd2lkdGgsIHkgKyBoZWlnaHQsIHggKyB3aWR0aCwgeSArIGhlaWdodCAtIHJhZGl1cywgcmVjUG9pbnRzKTtcbiAgICBxdWFkcmF0aWNCZXppZXJDdXJ2ZSh4ICsgd2lkdGgsIHkgKyByYWRpdXMsIHggKyB3aWR0aCwgeSwgeCArIHdpZHRoIC0gcmFkaXVzLCB5LCByZWNQb2ludHMpO1xuICAgIHF1YWRyYXRpY0JlemllckN1cnZlKHggKyByYWRpdXMsIHksIHgsIHksIHgsIHkgKyByYWRpdXMgKyAwLjAwMDAwMDAwMDEsIHJlY1BvaW50cyk7XG5cbiAgICAvLyB0aGlzIHRpbnkgbnVtYmVyIGRlYWxzIHdpdGggdGhlIGlzc3VlIHRoYXQgb2NjdXJzIHdoZW4gcG9pbnRzIG92ZXJsYXAgYW5kIGVhcmN1dCBmYWlscyB0byB0cmlhbmd1bGF0ZSB0aGUgaXRlbS5cbiAgICAvLyBUT0RPIC0gZml4IHRoaXMgcHJvcGVybHksIHRoaXMgaXMgbm90IHZlcnkgZWxlZ2FudC4uIGJ1dCBpdCB3b3JrcyBmb3Igbm93LlxuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsKVxuICAgIHtcbiAgICAgICAgdmFyIGNvbG9yID0gaGV4MnJnYihncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcblxuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9IGVhcmN1dChyZWNQb2ludHMsIG51bGwsIDIpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBqID0gdHJpYW5nbGVzLmxlbmd0aDsgaSA8IGo7IGkgKz0gMylcbiAgICAgICAge1xuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKHRyaWFuZ2xlc1tpXSArIHZlY1Bvcyk7XG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godHJpYW5nbGVzW2ldICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDFdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh0cmlhbmdsZXNbaSArIDJdICsgdmVjUG9zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDAsIGokMSA9IHJlY1BvaW50cy5sZW5ndGg7IGkkMSA8IGokMTsgaSQxKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2gocmVjUG9pbnRzW2kkMV0sIHJlY1BvaW50c1srK2kkMV0sIHIsIGcsIGIsIGFscGhhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoKVxuICAgIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSByZWNQb2ludHM7XG5cbiAgICAgICAgYnVpbGRMaW5lKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG5cbiAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cyA9IHRlbXBQb2ludHM7XG4gICAgfVxufVxuXG4vKipcbiAqIENhbGN1bGF0ZSBhIHNpbmdsZSBwb2ludCBmb3IgYSBxdWFkcmF0aWMgYmV6aWVyIGN1cnZlLlxuICogVXRpbGl0eSBmdW5jdGlvbiB1c2VkIGJ5IHF1YWRyYXRpY0JlemllckN1cnZlLlxuICogSWdub3JlZCBmcm9tIGRvY3Mgc2luY2UgaXQgaXMgbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKlxuICogQGlnbm9yZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBuMSAtIGZpcnN0IG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IG4yIC0gc2Vjb25kIG51bWJlclxuICogQHBhcmFtIHtudW1iZXJ9IHBlcmMgLSBwZXJjZW50YWdlXG4gKiBAcmV0dXJuIHtudW1iZXJ9IHRoZSByZXN1bHRcbiAqXG4gKi9cbmZ1bmN0aW9uIGdldFB0KG4xLCBuMiwgcGVyYylcbntcbiAgICB2YXIgZGlmZiA9IG4yIC0gbjE7XG5cbiAgICByZXR1cm4gbjEgKyAoZGlmZiAqIHBlcmMpO1xufVxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcG9pbnRzIGZvciBhIHF1YWRyYXRpYyBiZXppZXIgY3VydmUuIChoZWxwZXIgZnVuY3Rpb24uLilcbiAqIEJhc2VkIG9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODUwOTcvaG93LWRvLWktaW1wbGVtZW50LWEtYmV6aWVyLWN1cnZlLWluLWNcbiAqXG4gKiBJZ25vcmVkIGZyb20gZG9jcyBzaW5jZSBpdCBpcyBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtudW1iZXJ9IGZyb21YIC0gT3JpZ2luIHBvaW50IHhcbiAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tWSAtIE9yaWdpbiBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BYIC0gQ29udHJvbCBwb2ludCB4XG4gKiBAcGFyYW0ge251bWJlcn0gY3BZIC0gQ29udHJvbCBwb2ludCB5XG4gKiBAcGFyYW0ge251bWJlcn0gdG9YIC0gRGVzdGluYXRpb24gcG9pbnQgeFxuICogQHBhcmFtIHtudW1iZXJ9IHRvWSAtIERlc3RpbmF0aW9uIHBvaW50IHlcbiAqIEBwYXJhbSB7bnVtYmVyW119IFtvdXQ9W11dIC0gVGhlIG91dHB1dCBhcnJheSB0byBhZGQgcG9pbnRzIGludG8uIElmIG5vdCBwYXNzZWQsIGEgbmV3IGFycmF5IGlzIGNyZWF0ZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJbXX0gYW4gYXJyYXkgb2YgcG9pbnRzXG4gKi9cbmZ1bmN0aW9uIHF1YWRyYXRpY0JlemllckN1cnZlKGZyb21YLCBmcm9tWSwgY3BYLCBjcFksIHRvWCwgdG9ZLCBvdXQpXG57XG4gICAgaWYgKCBvdXQgPT09IHZvaWQgMCApIG91dCA9IFtdO1xuXG4gICAgdmFyIG4gPSAyMDtcbiAgICB2YXIgcG9pbnRzID0gb3V0O1xuXG4gICAgdmFyIHhhID0gMDtcbiAgICB2YXIgeWEgPSAwO1xuICAgIHZhciB4YiA9IDA7XG4gICAgdmFyIHliID0gMDtcbiAgICB2YXIgeCA9IDA7XG4gICAgdmFyIHkgPSAwO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDw9IG47ICsraSlcbiAgICB7XG4gICAgICAgIGogPSBpIC8gbjtcblxuICAgICAgICAvLyBUaGUgR3JlZW4gTGluZVxuICAgICAgICB4YSA9IGdldFB0KGZyb21YLCBjcFgsIGopO1xuICAgICAgICB5YSA9IGdldFB0KGZyb21ZLCBjcFksIGopO1xuICAgICAgICB4YiA9IGdldFB0KGNwWCwgdG9YLCBqKTtcbiAgICAgICAgeWIgPSBnZXRQdChjcFksIHRvWSwgaik7XG5cbiAgICAgICAgLy8gVGhlIEJsYWNrIERvdFxuICAgICAgICB4ID0gZ2V0UHQoeGEsIHhiLCBqKTtcbiAgICAgICAgeSA9IGdldFB0KHlhLCB5Yiwgaik7XG5cbiAgICAgICAgcG9pbnRzLnB1c2goeCwgeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvaW50cztcbn1cblxuLyoqXG4gKiBCdWlsZHMgYSBjaXJjbGUgdG8gZHJhd1xuICpcbiAqIElnbm9yZWQgZnJvbSBkb2NzIHNpbmNlIGl0IGlzIG5vdCBkaXJlY3RseSBleHBvc2VkLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuV2ViR0xHcmFwaGljc0RhdGF9IGdyYXBoaWNzRGF0YSAtIFRoZSBncmFwaGljcyBvYmplY3QgdG8gZHJhd1xuICogQHBhcmFtIHtvYmplY3R9IHdlYkdMRGF0YSAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIHRoaXMgc2hhcGVcbiAqIEBwYXJhbSB7b2JqZWN0fSB3ZWJHTERhdGFOYXRpdmVMaW5lcyAtIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCB0aGUgd2ViR0wtc3BlY2lmaWMgaW5mb3JtYXRpb24gdG8gY3JlYXRlIG5hdGl2ZUxpbmVzXG4gKi9cbmZ1bmN0aW9uIGJ1aWxkQ2lyY2xlKGdyYXBoaWNzRGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcylcbntcbiAgICAvLyBuZWVkIHRvIGNvbnZlcnQgcG9pbnRzIHRvIGEgbmljZSByZWd1bGFyIGRhdGFcbiAgICB2YXIgY2lyY2xlRGF0YSA9IGdyYXBoaWNzRGF0YS5zaGFwZTtcbiAgICB2YXIgeCA9IGNpcmNsZURhdGEueDtcbiAgICB2YXIgeSA9IGNpcmNsZURhdGEueTtcbiAgICB2YXIgd2lkdGg7XG4gICAgdmFyIGhlaWdodDtcblxuICAgIC8vIFRPRE8gLSBiaXQgaGFja3k/P1xuICAgIGlmIChncmFwaGljc0RhdGEudHlwZSA9PT0gU0hBUEVTLkNJUkMpXG4gICAge1xuICAgICAgICB3aWR0aCA9IGNpcmNsZURhdGEucmFkaXVzO1xuICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLnJhZGl1cztcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgd2lkdGggPSBjaXJjbGVEYXRhLndpZHRoO1xuICAgICAgICBoZWlnaHQgPSBjaXJjbGVEYXRhLmhlaWdodDtcbiAgICB9XG5cbiAgICBpZiAod2lkdGggPT09IDAgfHwgaGVpZ2h0ID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0b3RhbFNlZ3MgPSBNYXRoLmZsb29yKDMwICogTWF0aC5zcXJ0KGNpcmNsZURhdGEucmFkaXVzKSlcbiAgICAgICAgfHwgTWF0aC5mbG9vcigxNSAqIE1hdGguc3FydChjaXJjbGVEYXRhLndpZHRoICsgY2lyY2xlRGF0YS5oZWlnaHQpKTtcblxuICAgIHZhciBzZWcgPSAoTWF0aC5QSSAqIDIpIC8gdG90YWxTZWdzO1xuXG4gICAgaWYgKGdyYXBoaWNzRGF0YS5maWxsKVxuICAgIHtcbiAgICAgICAgdmFyIGNvbG9yID0gaGV4MnJnYihncmFwaGljc0RhdGEuZmlsbENvbG9yKTtcbiAgICAgICAgdmFyIGFscGhhID0gZ3JhcGhpY3NEYXRhLmZpbGxBbHBoYTtcblxuICAgICAgICB2YXIgciA9IGNvbG9yWzBdICogYWxwaGE7XG4gICAgICAgIHZhciBnID0gY29sb3JbMV0gKiBhbHBoYTtcbiAgICAgICAgdmFyIGIgPSBjb2xvclsyXSAqIGFscGhhO1xuXG4gICAgICAgIHZhciB2ZXJ0cyA9IHdlYkdMRGF0YS5wb2ludHM7XG4gICAgICAgIHZhciBpbmRpY2VzID0gd2ViR0xEYXRhLmluZGljZXM7XG5cbiAgICAgICAgdmFyIHZlY1BvcyA9IHZlcnRzLmxlbmd0aCAvIDY7XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKHZlY1Bvcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbFNlZ3MgKyAxOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZlcnRzLnB1c2goeCwgeSwgciwgZywgYiwgYWxwaGEpO1xuXG4gICAgICAgICAgICB2ZXJ0cy5wdXNoKFxuICAgICAgICAgICAgICAgIHggKyAoTWF0aC5zaW4oc2VnICogaSkgKiB3aWR0aCksXG4gICAgICAgICAgICAgICAgeSArIChNYXRoLmNvcyhzZWcgKiBpKSAqIGhlaWdodCksXG4gICAgICAgICAgICAgICAgciwgZywgYiwgYWxwaGFcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2ZWNQb3MrKywgdmVjUG9zKyspO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5kaWNlcy5wdXNoKHZlY1BvcyAtIDEpO1xuICAgIH1cblxuICAgIGlmIChncmFwaGljc0RhdGEubGluZVdpZHRoKVxuICAgIHtcbiAgICAgICAgdmFyIHRlbXBQb2ludHMgPSBncmFwaGljc0RhdGEucG9pbnRzO1xuXG4gICAgICAgIGdyYXBoaWNzRGF0YS5wb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0b3RhbFNlZ3MgKyAxOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgZ3JhcGhpY3NEYXRhLnBvaW50cy5wdXNoKFxuICAgICAgICAgICAgICAgIHggKyAoTWF0aC5zaW4oc2VnICogLWkkMSkgKiB3aWR0aCksXG4gICAgICAgICAgICAgICAgeSArIChNYXRoLmNvcyhzZWcgKiAtaSQxKSAqIGhlaWdodClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBidWlsZExpbmUoZ3JhcGhpY3NEYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcblxuICAgICAgICBncmFwaGljc0RhdGEucG9pbnRzID0gdGVtcFBvaW50cztcbiAgICB9XG59XG5cbi8qKlxuICogUmVuZGVycyB0aGUgZ3JhcGhpY3Mgb2JqZWN0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuT2JqZWN0UmVuZGVyZXJcbiAqL1xudmFyIEdyYXBoaWNzUmVuZGVyZXIgPSAoZnVuY3Rpb24gKE9iamVjdFJlbmRlcmVyJCQxKSB7XG4gICAgZnVuY3Rpb24gR3JhcGhpY3NSZW5kZXJlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIE9iamVjdFJlbmRlcmVyJCQxLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIHRoaXMuZ3JhcGhpY3NEYXRhUG9vbCA9IFtdO1xuXG4gICAgICAgIHRoaXMucHJpbWl0aXZlU2hhZGVyID0gbmV3IFByaW1pdGl2ZVNoYWRlcigpO1xuICAgICAgICB0aGlzLnByaW1pdGl2ZVNoYWRlci51bmlmb3Jtcy5nbG9iYWxzID0gcmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXM7XG4gICAgICAgIHRoaXMuZ2wgPSByZW5kZXJlci5nbDtcblxuICAgICAgICAvLyBlYXN5IGFjY2VzcyFcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IDA7XG4gICAgfVxuXG4gICAgaWYgKCBPYmplY3RSZW5kZXJlciQkMSApIEdyYXBoaWNzUmVuZGVyZXIuX19wcm90b19fID0gT2JqZWN0UmVuZGVyZXIkJDE7XG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBPYmplY3RSZW5kZXJlciQkMSAmJiBPYmplY3RSZW5kZXJlciQkMS5wcm90b3R5cGUgKTtcbiAgICBHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEdyYXBoaWNzUmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGVyZSBpcyBhIFdlYkdMIGNvbnRleHQgY2hhbmdlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqXG4gICAgICovXG4gICAgR3JhcGhpY3NSZW5kZXJlci5wcm90b3R5cGUub25Db250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gb25Db250ZXh0Q2hhbmdlICgpXG4gICAge1xuICAgICAgICB0aGlzLmdsID0gdGhpcy5yZW5kZXJlci5nbDtcbiAgICAgICAgdGhpcy5DT05URVhUX1VJRCA9IHRoaXMucmVuZGVyZXIuQ09OVEVYVF9VSUQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKi9cbiAgICBHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgT2JqZWN0UmVuZGVyZXIkJDEucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ3JhcGhpY3NEYXRhUG9vbC5sZW5ndGg7ICsraSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLmdyYXBoaWNzRGF0YVBvb2xbaV0uZGVzdHJveSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5ncmFwaGljc0RhdGFQb29sID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhIGdyYXBoaWNzIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIHJlbmRlci5cbiAgICAgKi9cbiAgICBHcmFwaGljc1JlbmRlcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIgKGdyYXBoaWNzKVxuICAgIHtcbiAgICAgICAgdmFyIHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdmFyIHdlYkdMRGF0YTtcbiAgICAgICAgdmFyIHdlYkdMID0gZ3JhcGhpY3MuX3dlYkdMW3RoaXMuQ09OVEVYVF9VSURdO1xuXG4gICAgICAgIGlmICghd2ViR0wgfHwgZ3JhcGhpY3MuZGlydHkgIT09IHdlYkdMLmRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUdyYXBoaWNzKGdyYXBoaWNzKTtcblxuICAgICAgICAgICAgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGlzICBjb3VsZCBiZSBzcGVlZGVkIHVwIGZvciBzdXJlIVxuICAgICAgICB2YXIgc2hhZGVyID0gdGhpcy5wcmltaXRpdmVTaGFkZXI7XG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGdyYXBoaWNzLmJsZW5kTW9kZSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSB3ZWJHTC5kYXRhLmxlbmd0aDsgaSA8IG47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgd2ViR0xEYXRhID0gd2ViR0wuZGF0YVtpXTtcblxuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gZ3JhcGhpY3MudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudGludCA9IGhleDJyZ2IoZ3JhcGhpY3MudGludCk7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMuYWxwaGEgPSBncmFwaGljcy53b3JsZEFscGhhO1xuXG4gICAgICAgICAgICByZW5kZXJlci5zaGFkZXIuYmluZChzaGFkZXIpO1xuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZCh3ZWJHTERhdGEuZ2VvbWV0cnkpO1xuXG4gICAgICAgICAgICBpZiAod2ViR0xEYXRhLm5hdGl2ZUxpbmVzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoZ2wuTElORVMsIHdlYkdMRGF0YS5pbmRpY2VzLmxlbmd0aCAvIDYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmRyYXcoZ2wuVFJJQU5HTEVfU1RSSVAsIHdlYkdMRGF0YS5pbmRpY2VzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ3JhcGhpY3Mgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5HcmFwaGljc30gZ3JhcGhpY3MgLSBUaGUgZ3JhcGhpY3Mgb2JqZWN0IHRvIHVwZGF0ZVxuICAgICAqL1xuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLnVwZGF0ZUdyYXBoaWNzID0gZnVuY3Rpb24gdXBkYXRlR3JhcGhpY3MgKGdyYXBoaWNzKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGdsID0gdGhpcy5yZW5kZXJlci5nbDtcblxuICAgICAgICAvLyBnZXQgdGhlIGNvbnRleHRzIGdyYXBoaWNzIG9iamVjdFxuICAgICAgICB2YXIgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF07XG5cbiAgICAgICAgLy8gaWYgdGhlIGdyYXBoaWNzIG9iamVjdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgd2ViR0wgY29udGV4dCB0aW1lIHRvIGNyZWF0ZSBpdCFcbiAgICAgICAgaWYgKCF3ZWJHTClcbiAgICAgICAge1xuICAgICAgICAgICAgd2ViR0wgPSBncmFwaGljcy5fd2ViR0xbdGhpcy5DT05URVhUX1VJRF0gPSB7IGxhc3RJbmRleDogMCwgZGF0YTogW10sIGdsOiBnbCwgY2xlYXJEaXJ0eTogLTEsIGRpcnR5OiAtMSB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmxhZyB0aGUgZ3JhcGhpY3MgYXMgbm90IGRpcnR5IGFzIHdlIGFyZSBhYm91dCB0byB1cGRhdGUgaXQuLi5cbiAgICAgICAgd2ViR0wuZGlydHkgPSBncmFwaGljcy5kaXJ0eTtcblxuICAgICAgICAvLyBpZiB0aGUgdXNlciBjbGVhcmVkIHRoZSBncmFwaGljcyBvYmplY3Qgd2Ugd2lsbCBuZWVkIHRvIGNsZWFyIGV2ZXJ5IG9iamVjdFxuICAgICAgICBpZiAoZ3JhcGhpY3MuY2xlYXJEaXJ0eSAhPT0gd2ViR0wuY2xlYXJEaXJ0eSlcbiAgICAgICAge1xuICAgICAgICAgICAgd2ViR0wuY2xlYXJEaXJ0eSA9IGdyYXBoaWNzLmNsZWFyRGlydHk7XG5cbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCBhbmQgcmV0dXJuIGFsbCB0aGUgd2ViR0xEYXRhcyB0byB0aGUgb2JqZWN0IHBvb2wgc28gdGhhbiBjYW4gYmUgcmV1c2VkIGxhdGVyIG9uXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdlYkdMLmRhdGEubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLmdyYXBoaWNzRGF0YVBvb2wucHVzaCh3ZWJHTC5kYXRhW2ldKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2xlYXIgdGhlIGFycmF5IGFuZCByZXNldCB0aGUgaW5kZXguLlxuICAgICAgICAgICAgd2ViR0wuZGF0YS5sZW5ndGggPSAwO1xuICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3ZWJHTERhdGE7XG4gICAgICAgIHZhciB3ZWJHTERhdGFOYXRpdmVMaW5lcztcblxuICAgICAgICAvLyBsb29wIHRocm91Z2ggdGhlIGdyYXBoaWNzIGRhdGFzIGFuZCBjb25zdHJ1Y3QgZWFjaCBvbmUuLlxuICAgICAgICAvLyBpZiB0aGUgb2JqZWN0IGlzIGEgY29tcGxleCBmaWxsIHRoZW4gdGhlIG5ldyBzdGVuY2lsIGJ1ZmZlciB0ZWNobmlxdWUgd2lsbCBiZSB1c2VkXG4gICAgICAgIC8vIG90aGVyIHdpc2UgZ3JhcGhpY3Mgb2JqZWN0cyB3aWxsIGJlIHB1c2hlZCBpbnRvIGEgYmF0Y2guLlxuICAgICAgICBmb3IgKHZhciBpJDEgPSB3ZWJHTC5sYXN0SW5kZXg7IGkkMSA8IGdyYXBoaWNzLmdyYXBoaWNzRGF0YS5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IGdyYXBoaWNzLmdyYXBoaWNzRGF0YVtpJDFdO1xuXG4gICAgICAgICAgICAvLyBUT0RPIC0gdGhpcyBjYW4gYmUgc2ltcGxpZmllZFxuICAgICAgICAgICAgd2ViR0xEYXRhID0gdGhpcyQxLmdldFdlYkdMRGF0YSh3ZWJHTCwgMCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLm5hdGl2ZUxpbmVzICYmIGRhdGEubGluZVdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdlYkdMRGF0YU5hdGl2ZUxpbmVzID0gdGhpcyQxLmdldFdlYkdMRGF0YSh3ZWJHTCwgMCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgd2ViR0wubGFzdEluZGV4Kys7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IFNIQVBFUy5QT0xZKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1aWxkUG9seShkYXRhLCB3ZWJHTERhdGEsIHdlYkdMRGF0YU5hdGl2ZUxpbmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IFNIQVBFUy5SRUNUKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1aWxkUmVjdGFuZ2xlKGRhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSBTSEFQRVMuQ0lSQyB8fCBkYXRhLnR5cGUgPT09IFNIQVBFUy5FTElQKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1aWxkQ2lyY2xlKGRhdGEsIHdlYkdMRGF0YSwgd2ViR0xEYXRhTmF0aXZlTGluZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS50eXBlID09PSBTSEFQRVMuUlJFQylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBidWlsZFJvdW5kZWRSZWN0YW5nbGUoZGF0YSwgd2ViR0xEYXRhLCB3ZWJHTERhdGFOYXRpdmVMaW5lcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHdlYkdMLmxhc3RJbmRleCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhpcy5yZW5kZXJlci5nZW9tZXRyeS5iaW5kVmFvKG51bGwpO1xuXG4gICAgICAgIC8vIHVwbG9hZCBhbGwgdGhlIGRpcnR5IGRhdGEuLi5cbiAgICAgICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgd2ViR0wuZGF0YS5sZW5ndGg7IGkkMisrKVxuICAgICAgICB7XG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB3ZWJHTC5kYXRhW2kkMl07XG5cbiAgICAgICAgICAgIGlmICh3ZWJHTERhdGEuZGlydHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2ViR0xEYXRhLnVwbG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgLSB0aGUgY3VycmVudCBXZWJHTCBkcmF3aW5nIGNvbnRleHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdHlwZSAtIFRPRE8gQEFsdmluXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5hdGl2ZUxpbmVzIC0gaW5kaWNhdGUgd2hldGhlciB0aGUgd2ViR0xEYXRhIHVzZSBmb3IgbmF0aXZlTGluZXMuXG4gICAgICogQHJldHVybiB7Kn0gVE9ET1xuICAgICAqL1xuICAgIEdyYXBoaWNzUmVuZGVyZXIucHJvdG90eXBlLmdldFdlYkdMRGF0YSA9IGZ1bmN0aW9uIGdldFdlYkdMRGF0YSAoZ2wsIHR5cGUsIG5hdGl2ZUxpbmVzKVxuICAgIHtcbiAgICAgICAgdmFyIHdlYkdMRGF0YSA9IGdsLmRhdGFbZ2wuZGF0YS5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoIXdlYkdMRGF0YSB8fCB3ZWJHTERhdGEubmF0aXZlTGluZXMgIT09IG5hdGl2ZUxpbmVzIHx8IHdlYkdMRGF0YS5wb2ludHMubGVuZ3RoID4gMzIwMDAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB3ZWJHTERhdGEgPSB0aGlzLmdyYXBoaWNzRGF0YVBvb2wucG9wKCkgfHwgbmV3IFdlYkdMR3JhcGhpY3NEYXRhKFxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuZ2wsXG4gICAgICAgICAgICAgICAgdGhpcy5wcmltaXRpdmVTaGFkZXIsXG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5hdHRyaWJzU3RhdGVcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHdlYkdMRGF0YS5uYXRpdmVMaW5lcyA9IG5hdGl2ZUxpbmVzO1xuXG4gICAgICAgICAgICB3ZWJHTERhdGEucmVzZXQodHlwZSk7XG4gICAgICAgICAgICBnbC5kYXRhLnB1c2god2ViR0xEYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHdlYkdMRGF0YS5kaXJ0eSA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHdlYkdMRGF0YTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEdyYXBoaWNzUmVuZGVyZXI7XG59KE9iamVjdFJlbmRlcmVyKSk7XG5cbmV4cG9ydCB7IEdyYXBoaWNzLCBHcmFwaGljc0RhdGEsIEdyYXBoaWNzUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYXBoaWNzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9pbnRlcmFjdGlvbiAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL2ludGVyYWN0aW9uIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IFRpY2tlciwgVVBEQVRFX1BSSU9SSVRZIH0gZnJvbSAnQHBpeGkvdGlja2VyJztcbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IG1peGlucyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5cbi8qKlxuICogSG9sZHMgYWxsIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYW4gSW50ZXJhY3Rpb24gZXZlbnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKi9cbnZhciBJbnRlcmFjdGlvbkRhdGEgPSBmdW5jdGlvbiBJbnRlcmFjdGlvbkRhdGEoKVxue1xuICAgIC8qKlxuICAgICAqIFRoaXMgcG9pbnQgc3RvcmVzIHRoZSBnbG9iYWwgY29vcmRzIG9mIHdoZXJlIHRoZSB0b3VjaC9tb3VzZSBldmVudCBoYXBwZW5lZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgKi9cbiAgICB0aGlzLmdsb2JhbCA9IG5ldyBQb2ludCgpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBTcHJpdGUgdGhhdCB3YXMgaW50ZXJhY3RlZCB3aXRoXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZX1cbiAgICAgKi9cbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHBhc3NlZCB0byBhbiBldmVudCBoYW5kbGVyLCB0aGlzIHdpbGwgYmUgdGhlIG9yaWdpbmFsIERPTSBFdmVudCB0aGF0IHdhcyBjYXB0dXJlZFxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTW91c2VFdmVudFxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1RvdWNoRXZlbnRcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnRcbiAgICAgKiBAbWVtYmVyIHtNb3VzZUV2ZW50fFRvdWNoRXZlbnR8UG9pbnRlckV2ZW50fVxuICAgICAqL1xuICAgIHRoaXMub3JpZ2luYWxFdmVudCA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBpbnRlcmFjdGlvblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuaWRlbnRpZmllciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdGhlIHBvaW50ZXIgZGV2aWNlIHRoYXQgY3JlYXRlZCB0aGUgZXZlbnQgaXMgdGhlIHByaW1hcnkgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaXNQcmltYXJ5XG4gICAgICogQHR5cGUge0Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc1ByaW1hcnkgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBidXR0b24gd2FzIHByZXNzZWQgb24gdGhlIG1vdXNlIG9yIHBvaW50ZXIgZGV2aWNlIHRvIHRyaWdnZXIgdGhlIGV2ZW50LlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmJ1dHRvbiA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2ggYnV0dG9ucyBhcmUgcHJlc3NlZCBvbiB0aGUgbW91c2Ugb3IgcG9pbnRlciBkZXZpY2Ugd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01vdXNlRXZlbnQvYnV0dG9uc1xuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5idXR0b25zID0gMDtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHgtYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgKiByYWRpdXNYIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvd2lkdGhcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMud2lkdGggPSAwO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgcG9pbnRlcidzIGNvbnRhY3QgYWxvbmcgdGhlIHktYXhpcywgbWVhc3VyZWQgaW4gQ1NTIHBpeGVscy5cbiAgICAgKiByYWRpdXNZIG9mIFRvdWNoRXZlbnRzIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvaGVpZ2h0XG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLmhlaWdodCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WFxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aWx0WCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYW5nbGUsIGluIGRlZ3JlZXMsIGJldHdlZW4gdGhlIHBvaW50ZXIgZGV2aWNlIGFuZCB0aGUgc2NyZWVuLlxuICAgICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1BvaW50ZXJFdmVudC90aWx0WVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50aWx0WSA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHlwZSBvZiBwb2ludGVyIHRoYXQgdHJpZ2dlcmVkIHRoZSBldmVudC5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlclR5cGVcbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIHRoaXMucG9pbnRlclR5cGUgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogUHJlc3N1cmUgYXBwbGllZCBieSB0aGUgcG9pbnRpbmcgZGV2aWNlIGR1cmluZyB0aGUgZXZlbnQuIEEgVG91Y2gncyBmb3JjZSBwcm9wZXJ0eVxuICAgICAqIHdpbGwgYmUgcmVwcmVzZW50ZWQgYnkgdGhpcyB2YWx1ZS5cbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcHJlc3N1cmVcbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMucHJlc3N1cmUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogRnJvbSBUb3VjaEV2ZW50cyAobm90IFBvaW50ZXJFdmVudHMgdHJpZ2dlcmVkIGJ5IHRvdWNoZXMpLCB0aGUgcm90YXRpb25BbmdsZSBvZiB0aGUgVG91Y2guXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvVG91Y2gvcm90YXRpb25BbmdsZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5yb3RhdGlvbkFuZ2xlID0gMDtcblxuICAgIC8qKlxuICAgICAqIFR3aXN0IG9mIGEgc3R5bHVzIHBvaW50ZXIuXG4gICAgICogQHNlZSBodHRwczovL3czYy5naXRodWIuaW8vcG9pbnRlcmV2ZW50cy8jcG9pbnRlcmV2ZW50LWludGVyZmFjZVxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy50d2lzdCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBCYXJyZWwgcHJlc3N1cmUgb24gYSBzdHlsdXMgcG9pbnRlci5cbiAgICAgKiBAc2VlIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9wb2ludGVyZXZlbnRzLyNwb2ludGVyZXZlbnQtaW50ZXJmYWNlXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRhbmdlbnRpYWxQcmVzc3VyZSA9IDA7XG59O1xuXG52YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyBwb2ludGVySWQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgb2YgdGhlIHBvaW50ZXIuIEl0IHdpbGwgYmUgdGhlIHNhbWUgYXMgYGlkZW50aWZpZXJgLlxuICogQHJlYWRvbmx5XG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qb2ludGVyRXZlbnQvcG9pbnRlcklkXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5wb2ludGVySWQuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5pZGVudGlmaWVyO1xufTtcblxuLyoqXG4gKiBUaGlzIHdpbGwgcmV0dXJuIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgc3BlY2lmaWVkIGRpc3BsYXlPYmplY3QgZm9yIHRoaXMgSW50ZXJhY3Rpb25EYXRhXG4gKlxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgRGlzcGxheU9iamVjdCB0aGF0IHlvdSB3b3VsZCBsaWtlIHRoZSBsb2NhbFxuICogIGNvb3JkcyBvZmZcbiAqIEBwYXJhbSB7UElYSS5Qb2ludH0gW3BvaW50XSAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWwgKG90aGVyd2lzZVxuICogIHdpbGwgY3JlYXRlIGEgbmV3IHBvaW50KVxuICogQHBhcmFtIHtQSVhJLlBvaW50fSBbZ2xvYmFsUG9zXSAtIEEgUG9pbnQgb2JqZWN0IGNvbnRhaW5pbmcgeW91ciBjdXN0b20gZ2xvYmFsIGNvb3Jkcywgb3B0aW9uYWxcbiAqICAob3RoZXJ3aXNlIHdpbGwgdXNlIHRoZSBjdXJyZW50IGdsb2JhbCBjb29yZHMpXG4gKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBBIHBvaW50IGNvbnRhaW5pbmcgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBJbnRlcmFjdGlvbkRhdGEgcG9zaXRpb24gcmVsYXRpdmVcbiAqICB0byB0aGUgRGlzcGxheU9iamVjdFxuICovXG5JbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmdldExvY2FsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRMb2NhbFBvc2l0aW9uIChkaXNwbGF5T2JqZWN0LCBwb2ludCwgZ2xvYmFsUG9zKVxue1xuICAgIHJldHVybiBkaXNwbGF5T2JqZWN0LndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShnbG9iYWxQb3MgfHwgdGhpcy5nbG9iYWwsIHBvaW50KTtcbn07XG5cbi8qKlxuICogQ29waWVzIHByb3BlcnRpZXMgZnJvbSBub3JtYWxpemVkIGV2ZW50IGRhdGEuXG4gKlxuICogQHBhcmFtIHtUb3VjaHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgVGhlIG5vcm1hbGl6ZWQgZXZlbnQgZGF0YVxuICovXG5JbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLmNvcHlFdmVudCA9IGZ1bmN0aW9uIGNvcHlFdmVudCAoZXZlbnQpXG57XG4gICAgLy8gaXNQcmltYXJ5IHNob3VsZCBvbmx5IGNoYW5nZSBvbiB0b3VjaHN0YXJ0L3BvaW50ZXJkb3duLCBzbyB3ZSBkb24ndCB3YW50IHRvIG92ZXJ3cml0ZVxuICAgIC8vIGl0IHdpdGggXCJmYWxzZVwiIG9uIGxhdGVyIGV2ZW50cyB3aGVuIG91ciBzaGltIGZvciBpdCBvbiB0b3VjaCBldmVudHMgbWlnaHQgbm90IGJlXG4gICAgLy8gYWNjdXJhdGVcbiAgICBpZiAoZXZlbnQuaXNQcmltYXJ5KVxuICAgIHtcbiAgICAgICAgdGhpcy5pc1ByaW1hcnkgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLmJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcbiAgICAvLyBldmVudC5idXR0b25zIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzIChpZS4gU2FmYXJpKSwgYnV0IGl0IGRvZXMgaGF2ZSBhIG5vbi1zdGFuZGFyZFxuICAgIC8vIGV2ZW50LndoaWNoIHByb3BlcnR5IGluc3RlYWQsIHdoaWNoIGNvbnZleXMgdGhlIHNhbWUgaW5mb3JtYXRpb24uXG4gICAgdGhpcy5idXR0b25zID0gTnVtYmVyLmlzSW50ZWdlcihldmVudC5idXR0b25zKSA/IGV2ZW50LmJ1dHRvbnMgOiBldmVudC53aGljaDtcbiAgICB0aGlzLndpZHRoID0gZXZlbnQud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBldmVudC5oZWlnaHQ7XG4gICAgdGhpcy50aWx0WCA9IGV2ZW50LnRpbHRYO1xuICAgIHRoaXMudGlsdFkgPSBldmVudC50aWx0WTtcbiAgICB0aGlzLnBvaW50ZXJUeXBlID0gZXZlbnQucG9pbnRlclR5cGU7XG4gICAgdGhpcy5wcmVzc3VyZSA9IGV2ZW50LnByZXNzdXJlO1xuICAgIHRoaXMucm90YXRpb25BbmdsZSA9IGV2ZW50LnJvdGF0aW9uQW5nbGU7XG4gICAgdGhpcy50d2lzdCA9IGV2ZW50LnR3aXN0IHx8IDA7XG4gICAgdGhpcy50YW5nZW50aWFsUHJlc3N1cmUgPSBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgfHwgMDtcbn07XG5cbi8qKlxuICogUmVzZXRzIHRoZSBkYXRhIGZvciBwb29saW5nLlxuICovXG5JbnRlcmFjdGlvbkRhdGEucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gcmVzZXQgKClcbntcbiAgICAvLyBpc1ByaW1hcnkgaXMgdGhlIG9ubHkgcHJvcGVydHkgdGhhdCB3ZSByZWFsbHkgbmVlZCB0byByZXNldCAtIGV2ZXJ5dGhpbmcgZWxzZSBpc1xuICAgIC8vIGd1YXJhbnRlZWQgdG8gYmUgb3ZlcndyaXR0ZW5cbiAgICB0aGlzLmlzUHJpbWFyeSA9IGZhbHNlO1xufTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEludGVyYWN0aW9uRGF0YS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4vKipcbiAqIEV2ZW50IGNsYXNzIHRoYXQgbWltaWNzIG5hdGl2ZSBET00gZXZlbnRzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uRXZlbnQgPSBmdW5jdGlvbiBJbnRlcmFjdGlvbkV2ZW50KClcbntcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoaXMgZXZlbnQgd2lsbCBjb250aW51ZSBwcm9wYWdhdGluZyBpbiB0aGUgdHJlZVxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvYmplY3Qgd2hpY2ggY2F1c2VkIHRoaXMgZXZlbnQgdG8gYmUgZGlzcGF0Y2hlZC5cbiAgICAgKiBGb3IgbGlzdGVuZXIgY2FsbGJhY2sgc2VlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnQuY3VycmVudFRhcmdldH0uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy50YXJnZXQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9iamVjdCB3aG9zZSBldmVudCBsaXN0ZW5lcuKAmXMgY2FsbGJhY2sgaXMgY3VycmVudGx5IGJlaW5nIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgdGhlIGV2ZW50XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgdGhpcy50eXBlID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEludGVyYWN0aW9uRGF0YSByZWxhdGVkIHRvIHRoaXMgZXZlbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhfVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG59O1xuXG4vKipcbiAqIFByZXZlbnRzIGV2ZW50IGZyb20gcmVhY2hpbmcgYW55IG9iamVjdHMgb3RoZXIgdGhhbiB0aGUgY3VycmVudCBvYmplY3QuXG4gKlxuICovXG5JbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24gKClcbntcbiAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xufTtcblxuLyoqXG4gKiBSZXNldHMgdGhlIGV2ZW50LlxuICovXG5JbnRlcmFjdGlvbkV2ZW50LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG57XG4gICAgdGhpcy5zdG9wcGVkID0gZmFsc2U7XG4gICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICB0aGlzLnRhcmdldCA9IG51bGw7XG59O1xuXG4vKipcbiAqIERpc3BsYXlPYmplY3RzIHdpdGggdGhlIHtAbGluayBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0fSBtaXhpbiB1c2UgdGhpcyBjbGFzcyB0byB0cmFjayBpbnRlcmFjdGlvbnNcbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvblxuICovXG52YXIgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEgPSBmdW5jdGlvbiBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShwb2ludGVySWQpXG57XG4gICAgdGhpcy5fcG9pbnRlcklkID0gcG9pbnRlcklkO1xuICAgIHRoaXMuX2ZsYWdzID0gSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEuRkxBR1MuTk9ORTtcbn07XG5cbnZhciBwcm90b3R5cGVBY2Nlc3NvcnMkMSA9IHsgcG9pbnRlcklkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZsYWdzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG5vbmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sb3ZlcjogeyBjb25maWd1cmFibGU6IHRydWUgfSxyaWdodERvd246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGVmdERvd246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGludGVyYWN0aW9uIGZsYWcgdG8gc2V0XG4gKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gU2hvdWxkIHRoZSBmbGFnIGJlIHNldCBvciB1bnNldFxuICovXG5JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5wcm90b3R5cGUuX2RvU2V0ID0gZnVuY3Rpb24gX2RvU2V0IChmbGFnLCB5bilcbntcbiAgICBpZiAoeW4pXG4gICAge1xuICAgICAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzIHwgZmxhZztcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSB0aGlzLl9mbGFncyAmICh+ZmxhZyk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBVbmlxdWUgcG9pbnRlciBpZCBvZiB0aGUgZXZlbnRcbiAqXG4gKiBAcmVhZG9ubHlcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEucG9pbnRlcklkLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3BvaW50ZXJJZDtcbn07XG5cbi8qKlxuICogU3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGEsIGV4cHJlc3NlZCBhcyBiaXQgZmxhZ3NcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKiBAbWVtYmVyb2YgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvblRyYWNraW5nRGF0YSNcbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEuZmxhZ3MuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZmxhZ3M7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgZmxhZ3MgZm9yIHRoZSB0cmFja2luZyBkYXRhXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGZsYWdzIC0gRmxhZ3MgdG8gc2V0XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmZsYWdzLnNldCA9IGZ1bmN0aW9uIChmbGFncylcbntcbiAgICB0aGlzLl9mbGFncyA9IGZsYWdzO1xufTtcblxuLyoqXG4gKiBJcyB0aGUgdHJhY2tlZCBldmVudCBpbmFjdGl2ZSAobm90IG92ZXIgb3IgZG93bik/XG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLm5vbmUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZmxhZ3MgPT09IHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTk9ORTtcbn07XG5cbi8qKlxuICogSXMgdGhlIHRyYWNrZWQgZXZlbnQgb3ZlciB0aGUgRGlzcGxheU9iamVjdD9cbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLm92ZXIuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5PVkVSKSAhPT0gMDtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBvdmVyIGZsYWdcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gSXMgdGhlIGV2ZW50IG92ZXI/XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLm92ZXIuc2V0ID0gZnVuY3Rpb24gKHluKVxue1xuICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuT1ZFUiwgeW4pO1xufTtcblxuLyoqXG4gKiBEaWQgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBjb21lIGRvd24gaW4gdGhlIERpc3BsYXlPYmplY3Q/XG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uVHJhY2tpbmdEYXRhI1xuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5yaWdodERvd24uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgdGhpcy5jb25zdHJ1Y3Rvci5GTEFHUy5SSUdIVF9ET1dOKSAhPT0gMDtcbn07XG5cbi8qKlxuICogU2V0IHRoZSByaWdodCBkb3duIGZsYWdcbiAqXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHluIC0gSXMgdGhlIHJpZ2h0IG1vdXNlIGJ1dHRvbiBkb3duP1xuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMkMS5yaWdodERvd24uc2V0ID0gZnVuY3Rpb24gKHluKVxue1xuICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuUklHSFRfRE9XTiwgeW4pO1xufTtcblxuLyoqXG4gKiBEaWQgdGhlIGxlZnQgbW91c2UgYnV0dG9uIGNvbWUgZG93biBpbiB0aGUgRGlzcGxheU9iamVjdD9cbiAqXG4gKiBAbWVtYmVyIHtib29sZWFufVxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEjXG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycyQxLmxlZnREb3duLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuICh0aGlzLl9mbGFncyAmIHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTEVGVF9ET1dOKSAhPT0gMDtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBsZWZ0IGRvd24gZmxhZ1xuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0geW4gLSBJcyB0aGUgbGVmdCBtb3VzZSBidXR0b24gZG93bj9cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzJDEubGVmdERvd24uc2V0ID0gZnVuY3Rpb24gKHluKVxue1xuICAgIHRoaXMuX2RvU2V0KHRoaXMuY29uc3RydWN0b3IuRkxBR1MuTEVGVF9ET1dOLCB5bik7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggSW50ZXJhY3Rpb25UcmFja2luZ0RhdGEucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMkMSApO1xuXG5JbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIE5PTkU6IDAsXG4gICAgT1ZFUjogMSA8PCAwLFxuICAgIExFRlRfRE9XTjogMSA8PCAxLFxuICAgIFJJR0hUX0RPV046IDEgPDwgMixcbn0pO1xuXG4vKipcbiAqIERlZmF1bHQgcHJvcGVydHkgdmFsdWVzIG9mIGludGVyYWN0aXZlIG9iamVjdHNcbiAqIFVzZWQgYnkge0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyfSB0byBhdXRvbWF0aWNhbGx5IGdpdmUgYWxsIERpc3BsYXlPYmplY3RzIHRoZXNlIHByb3BlcnRpZXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgaW50ZXJhY3RpdmVUYXJnZXRcbiAqIEBtZW1iZXJvZiBQSVhJLmludGVyYWN0aW9uXG4gKiBAZXhhbXBsZVxuICogICAgICBmdW5jdGlvbiBNeU9iamVjdCgpIHt9XG4gKlxuICogICAgICBPYmplY3QuYXNzaWduKFxuICogICAgICAgICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUsXG4gKiAgICAgICAgICBQSVhJLmludGVyYWN0aW9uLmludGVyYWN0aXZlVGFyZ2V0XG4gKiAgICAgICk7XG4gKi9cbnZhciBpbnRlcmFjdGl2ZVRhcmdldCA9IHtcblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBpbnRlcmFjdGlvbiBldmVudHMgZm9yIHRoZSBEaXNwbGF5T2JqZWN0LiBUb3VjaCwgcG9pbnRlciBhbmQgbW91c2VcbiAgICAgKiBldmVudHMgd2lsbCBub3QgYmUgZW1pdHRlZCB1bmxlc3MgYGludGVyYWN0aXZlYCBpcyBzZXQgdG8gYHRydWVgLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcHJpdGUgPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICogc3ByaXRlLmludGVyYWN0aXZlID0gdHJ1ZTtcbiAgICAgKiBzcHJpdGUub24oJ3RhcCcsIChldmVudCkgPT4ge1xuICAgICAqICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICogfSk7XG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGludGVyYWN0aXZlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGNoaWxkcmVuIHRvIHRoZSBkaXNwbGF5T2JqZWN0IGNhbiBiZSBjbGlja2VkL3RvdWNoZWRcbiAgICAgKiBTZXR0aW5nIHRoaXMgdG8gZmFsc2UgYWxsb3dzIFBpeGlKUyB0byBieXBhc3MgYSByZWN1cnNpdmUgYGhpdFRlc3RgIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAgICAgKi9cbiAgICBpbnRlcmFjdGl2ZUNoaWxkcmVuOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW50ZXJhY3Rpb24gc2hhcGUuIENoaWxkcmVuIHdpbGwgYmUgaGl0IGZpcnN0LCB0aGVuIHRoaXMgc2hhcGUgd2lsbCBiZSBjaGVja2VkLlxuICAgICAqIFNldHRpbmcgdGhpcyB3aWxsIGNhdXNlIHRoaXMgc2hhcGUgdG8gYmUgY2hlY2tlZCBpbiBoaXQgdGVzdHMgcmF0aGVyIHRoYW4gdGhlIGRpc3BsYXlPYmplY3QncyBib3VuZHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5oaXRBcmVhID0gbmV3IFBJWEkuUmVjdGFuZ2xlKDAsIDAsIDEwMCwgMTAwKTtcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZXxQSVhJLkNpcmNsZXxQSVhJLkVsbGlwc2V8UElYSS5Qb2x5Z29ufFBJWEkuUm91bmRlZFJlY3RhbmdsZX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICAgICAqL1xuICAgIGhpdEFyZWE6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJZiBlbmFibGVkLCB0aGUgbW91c2UgY3Vyc29yIHVzZSB0aGUgcG9pbnRlciBiZWhhdmlvciB3aGVuIGhvdmVyZWQgb3ZlciB0aGUgZGlzcGxheU9iamVjdCBpZiBpdCBpcyBpbnRlcmFjdGl2ZVxuICAgICAqIFNldHRpbmcgdGhpcyBjaGFuZ2VzIHRoZSAnY3Vyc29yJyBwcm9wZXJ0eSB0byBgJ3BvaW50ZXInYC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAqIHNwcml0ZS5pbnRlcmFjdGl2ZSA9IHRydWU7XG4gICAgICogc3ByaXRlLmJ1dHRvbk1vZGUgPSB0cnVlO1xuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBnZXQgYnV0dG9uTW9kZSgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJzb3IgPT09ICdwb2ludGVyJztcbiAgICB9LFxuICAgIHNldCBidXR0b25Nb2RlKHZhbHVlKVxuICAgIHtcbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnNvciA9PT0gJ3BvaW50ZXInKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBkZWZpbmVzIHdoYXQgY3Vyc29yIG1vZGUgaXMgdXNlZCB3aGVuIHRoZSBtb3VzZSBjdXJzb3JcbiAgICAgKiBpcyBob3ZlcmVkIG92ZXIgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcbiAgICAgKiBzcHJpdGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xuICAgICAqIHNwcml0ZS5jdXJzb3IgPSAnd2FpdCc7XG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9DU1MvY3Vyc29yXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAgICAgKi9cbiAgICBjdXJzb3I6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzZXQgb2YgYWxsIGFjdGl2ZSBwb2ludGVycywgYnkgaWRlbnRpZmllclxuICAgICAqXG4gICAgICogQG1lbWJlciB7TWFwPG51bWJlciwgSW50ZXJhY3Rpb25UcmFja2luZ0RhdGE+fVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBnZXQgdHJhY2tlZFBvaW50ZXJzKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl90cmFja2VkUG9pbnRlcnMgPT09IHVuZGVmaW5lZCkgeyB0aGlzLl90cmFja2VkUG9pbnRlcnMgPSB7fTsgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl90cmFja2VkUG9pbnRlcnM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBhbGwgdHJhY2tlZCBwb2ludGVycywgYnkgaWRlbnRpZmllci4gVXNlIHRyYWNrZWRQb2ludGVycyB0byBhY2Nlc3MuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEB0eXBlIHtNYXA8bnVtYmVyLCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YT59XG4gICAgICovXG4gICAgX3RyYWNrZWRQb2ludGVyczogdW5kZWZpbmVkLFxufTtcblxuLy8gTWl4IGludGVyYWN0aXZlVGFyZ2V0IGludG8gRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIGFmdGVyIGRlcHJlY2F0aW9uIGhhcyBiZWVuIGhhbmRsZWRcbm1peGlucy5kZWxheU1peGluKFxuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLFxuICAgIGludGVyYWN0aXZlVGFyZ2V0XG4pO1xuXG52YXIgTU9VU0VfUE9JTlRFUl9JRCA9IDE7XG5cbi8vIGhlbHBlcnMgZm9yIGhpdFRlc3QoKSAtIG9ubHkgdXNlZCBpbnNpZGUgaGl0VGVzdCgpXG52YXIgaGl0VGVzdEV2ZW50ID0ge1xuICAgIHRhcmdldDogbnVsbCxcbiAgICBkYXRhOiB7XG4gICAgICAgIGdsb2JhbDogbnVsbCxcbiAgICB9LFxufTtcblxuLyoqXG4gKiBUaGUgaW50ZXJhY3Rpb24gbWFuYWdlciBkZWFscyB3aXRoIG1vdXNlLCB0b3VjaCBhbmQgcG9pbnRlciBldmVudHMuIEFueSBEaXNwbGF5T2JqZWN0IGNhbiBiZSBpbnRlcmFjdGl2ZVxuICogaWYgaXRzIGludGVyYWN0aXZlIHBhcmFtZXRlciBpcyBzZXQgdG8gdHJ1ZVxuICogVGhpcyBtYW5hZ2VyIGFsc28gc3VwcG9ydHMgbXVsdGl0b3VjaC5cbiAqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBieSBkZWZhdWx0LCBhbmQgY2FuIGJlIGZvdW5kIGF0IHJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEV2ZW50RW1pdHRlclxuICogQG1lbWJlcm9mIFBJWEkuaW50ZXJhY3Rpb25cbiAqL1xudmFyIEludGVyYWN0aW9uTWFuYWdlciA9IChmdW5jdGlvbiAoRXZlbnRFbWl0dGVyJCQxKSB7XG4gICAgZnVuY3Rpb24gSW50ZXJhY3Rpb25NYW5hZ2VyKHJlbmRlcmVyLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgRXZlbnRFbWl0dGVyJCQxLmNhbGwodGhpcyk7XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZW5kZXJlciB0aGlzIGludGVyYWN0aW9uIG1hbmFnZXIgd29ya3MgZm9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkFic3RyYWN0UmVuZGVyZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNob3VsZCBkZWZhdWx0IGJyb3dzZXIgYWN0aW9ucyBhdXRvbWF0aWNhbGx5IGJlIHByZXZlbnRlZC5cbiAgICAgICAgICogRG9lcyBub3QgYXBwbHkgdG8gcG9pbnRlciBldmVudHMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAqIHByZXZlbnREZWZhdWx0IG9uIHBvaW50ZXIgZXZlbnRzIHN0b3BzIG1vdXNlIGV2ZW50cyBmcm9tIGZpcmluZ1xuICAgICAgICAgKiBUaHVzLCBmb3IgZXZlcnkgcG9pbnRlciBldmVudCwgdGhlcmUgd2lsbCBhbHdheXMgYmUgZWl0aGVyIGEgbW91c2Ugb2YgdG91Y2ggZXZlbnQgYWxvbmdzaWRlIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9QcmV2ZW50RGVmYXVsdCA9IG9wdGlvbnMuYXV0b1ByZXZlbnREZWZhdWx0ICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmF1dG9QcmV2ZW50RGVmYXVsdCA6IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZyZXF1ZW5jeSBpbiBtaWxsaXNlY29uZHMgdGhhdCB0aGUgbW91c2Vtb3ZlLCBtb3VzZW92ZXIgJiBtb3VzZW91dCBpbnRlcmFjdGlvbiBldmVudHMgd2lsbCBiZSBjaGVja2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRnJlcXVlbmN5ID0gb3B0aW9ucy5pbnRlcmFjdGlvbkZyZXF1ZW5jeSB8fCAxMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1vdXNlIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICB0aGlzLm1vdXNlLmlkZW50aWZpZXIgPSBNT1VTRV9QT0lOVEVSX0lEO1xuXG4gICAgICAgIC8vIHNldHRpbmcgdGhlIG1vdXNlIHRvIHN0YXJ0IG9mZiBmYXIgb2ZmIHNjcmVlbiB3aWxsIG1lYW4gdGhhdCBtb3VzZSBvdmVyIGRvZXNcbiAgICAgICAgLy8gIG5vdCBnZXQgY2FsbGVkIGJlZm9yZSB3ZSBldmVuIG1vdmUgdGhlIG1vdXNlLlxuICAgICAgICB0aGlzLm1vdXNlLmdsb2JhbC5zZXQoLTk5OTk5OSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2ZWx5IHRyYWNrZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48bnVtYmVyLFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhPn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhID0ge307XG4gICAgICAgIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW01PVVNFX1BPSU5URVJfSURdID0gdGhpcy5tb3VzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUG9vbCBvZiB1bnVzZWQgSW50ZXJhY3Rpb25EYXRhXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25EYXRhW119XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gZXZlbnQgZGF0YSBvYmplY3QgdG8gaGFuZGxlIGFsbCB0aGUgZXZlbnQgdHJhY2tpbmcvZGlzcGF0Y2hpbmdcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ldmVudERhdGEgPSBuZXcgSW50ZXJhY3Rpb25FdmVudCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgRE9NIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7SFRNTEVsZW1lbnR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgcHJvcGVydHkgZGV0ZXJtaW5lcyBpZiBtb3VzZW1vdmUgYW5kIHRvdWNobW92ZSBldmVudHMgYXJlIGZpcmVkIG9ubHkgd2hlbiB0aGUgY3Vyc29yXG4gICAgICAgICAqIGlzIG92ZXIgdGhlIG9iamVjdC5cbiAgICAgICAgICogU2V0dGluZyB0byB0cnVlIHdpbGwgbWFrZSB0aGluZ3Mgd29yayBtb3JlIGluIGxpbmUgd2l0aCBob3cgdGhlIERPTSB2ZXJzaW9uIHdvcmtzLlxuICAgICAgICAgKiBTZXR0aW5nIHRvIGZhbHNlIGNhbiBtYWtlIHRoaW5ncyBlYXNpZXIgZm9yIHRoaW5ncyBsaWtlIGRyYWdnaW5nXG4gICAgICAgICAqIEl0IGlzIGN1cnJlbnRseSBzZXQgdG8gZmFsc2UgYXMgdGhpcyBpcyBob3cgUGl4aUpTIHVzZWQgdG8gd29yay4gVGhpcyB3aWxsIGJlIHNldCB0byB0cnVlIGluXG4gICAgICAgICAqIGZ1dHVyZSB2ZXJzaW9ucyBvZiBwaXhpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3ZlV2hlbkluc2lkZSA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIYXZlIGV2ZW50cyBiZWVuIGF0dGFjaGVkIHRvIHRoZSBkb20gZWxlbWVudD9cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXZlbnRzQWRkZWQgPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIG1vdXNlIGhvdmVyaW5nIG92ZXIgdGhlIHJlbmRlcmVyP1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tb3VzZU92ZXJSZW5kZXJlciA9IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb2VzIHRoZSBkZXZpY2Ugc3VwcG9ydCB0b3VjaCBldmVudHNcbiAgICAgICAgICogaHR0cHM6Ly93d3cudzMub3JnL1RSL3RvdWNoLWV2ZW50cy9cbiAgICAgICAgICpcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN1cHBvcnRzVG91Y2hFdmVudHMgPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERvZXMgdGhlIGRldmljZSBzdXBwb3J0IHBvaW50ZXIgZXZlbnRzXG4gICAgICAgICAqIGh0dHBzOi8vd3d3LnczLm9yZy9TdWJtaXNzaW9uL3BvaW50ZXItZXZlbnRzL1xuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3VwcG9ydHNQb2ludGVyRXZlbnRzID0gISF3aW5kb3cuUG9pbnRlckV2ZW50O1xuXG4gICAgICAgIC8vIHRoaXMgd2lsbCBtYWtlIGl0IHNvIHRoYXQgeW91IGRvbid0IGhhdmUgdG8gY2FsbCBiaW5kIGFsbCB0aGUgdGltZVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyVXAgPSB0aGlzLm9uUG9pbnRlclVwLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IHRoaXMucHJvY2Vzc1BvaW50ZXJVcC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ2FuY2VsID0gdGhpcy5vblBvaW50ZXJDYW5jZWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSB0aGlzLm9uUG9pbnRlckRvd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlckRvd24gPSB0aGlzLnByb2Nlc3NQb2ludGVyRG93bi5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Qb2ludGVyTW92ZSA9IHRoaXMub25Qb2ludGVyTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IHRoaXMucHJvY2Vzc1BvaW50ZXJNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdXQgPSB0aGlzLm9uUG9pbnRlck91dC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gdGhpcy5vblBvaW50ZXJPdmVyLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpY3Rpb25hcnkgb2YgaG93IGRpZmZlcmVudCBjdXJzb3IgbW9kZXMgYXJlIGhhbmRsZWQuIFN0cmluZ3MgYXJlIGhhbmRsZWQgYXMgQ1NTIGN1cnNvclxuICAgICAgICAgKiB2YWx1ZXMsIG9iamVjdHMgYXJlIGhhbmRsZWQgYXMgZGljdGlvbmFyaWVzIG9mIENTUyB2YWx1ZXMgZm9yIGludGVyYWN0aW9uRE9NRWxlbWVudCxcbiAgICAgICAgICogYW5kIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluc3RlYWQgb2YgY2hhbmdpbmcgdGhlIENTUy5cbiAgICAgICAgICogRGVmYXVsdCBDU1MgY3Vyc29yIHZhbHVlcyBhcmUgcHJvdmlkZWQgZm9yICdkZWZhdWx0JyBhbmQgJ3BvaW50ZXInIG1vZGVzLlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3QuPHN0cmluZywgKHN0cmluZ3xGdW5jdGlvbnxPYmplY3QuPHN0cmluZywgc3RyaW5nPik+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJzb3JTdHlsZXMgPSB7XG4gICAgICAgICAgICBkZWZhdWx0OiAnaW5oZXJpdCcsXG4gICAgICAgICAgICBwb2ludGVyOiAncG9pbnRlcicsXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtb2RlIG9mIHRoZSBjdXJzb3IgdGhhdCBpcyBiZWluZyB1c2VkLlxuICAgICAgICAgKiBUaGUgdmFsdWUgb2YgdGhpcyBpcyBhIGtleSBmcm9tIHRoZSBjdXJzb3JTdHlsZXMgZGljdGlvbmFyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGNhY2hlZCBsZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgY2FjaGVkIGxldC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludH1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY3VycmVudCByZXNvbHV0aW9uIC8gZGV2aWNlIHBpeGVsIHJhdGlvLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDFcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IDE7XG5cbiAgICAgICAgdGhpcy5zZXRUYXJnZXRFbGVtZW50KHRoaXMucmVuZGVyZXIudmlldywgdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIG9uIHRoZSBkaXNwbGF5XG4gICAgICAgICAqIG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlZG93blxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2V1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyBwcmVzc2VkIGFuZCByZWxlYXNlZCBvblxuICAgICAgICAgKiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3JpZ2h0Y2xpY2tcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcmVsZWFzZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICogZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFttb3VzZWRvd25de0BsaW5rIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNtb3VzZXVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHJlbGVhc2VkXG4gICAgICAgICAqIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5IHJlZ2lzdGVyZWQgYVxuICAgICAgICAgKiBbcmlnaHRkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcmlnaHR1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjbW91c2Vtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3ZlclxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIG9mZiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI21vdXNlb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHByZXNzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcmRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcmVsZWFzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnRcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcnRhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseVxuICAgICAgICAgKiByZWdpc3RlcmVkIGEgW3BvaW50ZXJkb3duXXtAbGluayBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciNwb2ludGVydXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgd2hpbGUgb3ZlciB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJtb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb250byB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3BvaW50ZXJvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjcG9pbnRlcm91dFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHBsYWNlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaHN0YXJ0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyI3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaFxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0YXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyByZW1vdmVkIG91dHNpZGUgb2YgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbdG91Y2hzdGFydF17QGxpbmsgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaGVuZG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBtb3ZlZCBhbG9uZyB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uTWFuYWdlciN0b3VjaG1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheS5cbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZWRvd25cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBzZWNvbmRhcnkgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgcmlnaHQtYnV0dG9uKSBpcyBwcmVzc2VkXG4gICAgICAgICAqIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uICh1c3VhbGx5IGEgbW91c2UgbGVmdC1idXR0b24pIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXlcbiAgICAgICAgICogb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZXVwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3ZlciB0aGUgZGlzcGxheSBvYmplY3QuIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JpZ2h0dXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSBsZWZ0LWJ1dHRvbikgaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb25cbiAgICAgICAgICogdGhlIGRpc3BsYXkgb2JqZWN0LiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIHNlY29uZGFyeSBidXR0b24gKHVzdWFsbHkgYSBtb3VzZSByaWdodC1idXR0b24pIGlzIHByZXNzZWRcbiAgICAgICAgICogYW5kIHJlbGVhc2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC4gRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcmlnaHRjbGlja1xuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlIGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIGxlZnQtYnV0dG9uKSBpcyByZWxlYXNlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgKiBkaXNwbGF5IG9iamVjdCB0aGF0IGluaXRpYWxseSByZWdpc3RlcmVkIGFcbiAgICAgICAgICogW21vdXNlZG93bl17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2V2ZW50Om1vdXNlZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I21vdXNldXBvdXRzaWRlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2Ugc2Vjb25kYXJ5IGJ1dHRvbiAodXN1YWxseSBhIG1vdXNlIHJpZ2h0LWJ1dHRvbikgaXMgcmVsZWFzZWRcbiAgICAgICAgICogb3V0c2lkZSB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHkgcmVnaXN0ZXJlZCBhXG4gICAgICAgICAqIFtyaWdodGRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpyaWdodGRvd259LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNyaWdodHVwb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHBvaW50ZXIgZGV2aWNlICh1c3VhbGx5IGEgbW91c2UpIGlzIG1vdmVkIHdoaWxlIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNtb3VzZW1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSAodXN1YWxseSBhIG1vdXNlKSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdmVyXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgKHVzdWFsbHkgYSBtb3VzZSkgaXMgbW92ZWQgb2ZmIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjbW91c2VvdXRcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBvbiB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJkb3duXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG92ZXIgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydXBcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhlIG9wZXJhdGluZyBzeXN0ZW0gY2FuY2VscyBhIHBvaW50ZXIgZXZlbnQuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBidXR0b24gaXMgcHJlc3NlZCBhbmQgcmVsZWFzZWQgb24gdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVydGFwXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgcG9pbnRlciBkZXZpY2UgYnV0dG9uIGlzIHJlbGVhc2VkIG91dHNpZGUgdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgaW5pdGlhbGx5XG4gICAgICAgICAqIHJlZ2lzdGVyZWQgYSBbcG9pbnRlcmRvd25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNldmVudDpwb2ludGVyZG93bn0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3BvaW50ZXJ1cG91dHNpZGVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCB3aGlsZSBvdmVyIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm1vdmVcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvbnRvIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjcG9pbnRlcm92ZXJcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSBwb2ludGVyIGRldmljZSBpcyBtb3ZlZCBvZmYgdGhlIGRpc3BsYXkgb2JqZWN0LlxuICAgICAgICAgKiBEaXNwbGF5T2JqZWN0J3MgYGludGVyYWN0aXZlYCBwcm9wZXJ0eSBtdXN0IGJlIHNldCB0byBgdHJ1ZWAgdG8gZmlyZSBldmVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGV2ZW50IFBJWEkuRGlzcGxheU9iamVjdCNwb2ludGVyb3V0XG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIGEgdG91Y2ggcG9pbnQgaXMgcGxhY2VkIG9uIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hzdGFydFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoZSBvcGVyYXRpbmcgc3lzdGVtIGNhbmNlbHMgYSB0b3VjaC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2hjYW5jZWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gSW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgICAgICovXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gYSB0b3VjaCBwb2ludCBpcyBwbGFjZWQgYW5kIHJlbW92ZWQgZnJvbSB0aGUgZGlzcGxheSBvYmplY3QuXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RhcFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIHJlbW92ZWQgb3V0c2lkZSBvZiB0aGUgZGlzcGxheSBvYmplY3QgdGhhdCBpbml0aWFsbHlcbiAgICAgICAgICogcmVnaXN0ZXJlZCBhIFt0b3VjaHN0YXJ0XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjZXZlbnQ6dG91Y2hzdGFydH0uXG4gICAgICAgICAqIERpc3BsYXlPYmplY3QncyBgaW50ZXJhY3RpdmVgIHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIGB0cnVlYCB0byBmaXJlIGV2ZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3RvdWNoZW5kb3V0c2lkZVxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gZXZlbnQgLSBJbnRlcmFjdGlvbiBldmVudFxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIHRvdWNoIHBvaW50IGlzIG1vdmVkIGFsb25nIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgICAgICogRGlzcGxheU9iamVjdCdzIGBpbnRlcmFjdGl2ZWAgcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gYHRydWVgIHRvIGZpcmUgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBldmVudCBQSVhJLkRpc3BsYXlPYmplY3QjdG91Y2htb3ZlXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBldmVudCAtIEludGVyYWN0aW9uIGV2ZW50XG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIGlmICggRXZlbnRFbWl0dGVyJCQxICkgSW50ZXJhY3Rpb25NYW5hZ2VyLl9fcHJvdG9fXyA9IEV2ZW50RW1pdHRlciQkMTtcbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRXZlbnRFbWl0dGVyJCQxICYmIEV2ZW50RW1pdHRlciQkMS5wcm90b3R5cGUgKTtcbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW50ZXJhY3Rpb25NYW5hZ2VyO1xuXG4gICAgLyoqXG4gICAgICogSGl0IHRlc3RzIGEgcG9pbnQgYWdhaW5zdCB0aGUgZGlzcGxheSB0cmVlLCByZXR1cm5pbmcgdGhlIGZpcnN0IGludGVyYWN0aXZlIG9iamVjdCB0aGF0IGlzIGhpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gZ2xvYmFsUG9pbnQgLSBBIHBvaW50IHRvIGhpdCB0ZXN0IHdpdGgsIGluIGdsb2JhbCBzcGFjZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBbcm9vdF0gLSBUaGUgcm9vdCBkaXNwbGF5IG9iamVjdCB0byBzdGFydCBmcm9tLiBJZiBvbWl0dGVkLCBkZWZhdWx0c1xuICAgICAqIHRvIHRoZSBsYXN0IHJlbmRlcmVkIHJvb3Qgb2YgdGhlIGFzc29jaWF0ZWQgcmVuZGVyZXIuXG4gICAgICogQHJldHVybiB7UElYSS5EaXNwbGF5T2JqZWN0fSBUaGUgaGl0IGRpc3BsYXkgb2JqZWN0LCBpZiBhbnkuXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5oaXRUZXN0ID0gZnVuY3Rpb24gaGl0VGVzdCAoZ2xvYmFsUG9pbnQsIHJvb3QpXG4gICAge1xuICAgICAgICAvLyBjbGVhciB0aGUgdGFyZ2V0IGZvciBvdXIgaGl0IHRlc3RcbiAgICAgICAgaGl0VGVzdEV2ZW50LnRhcmdldCA9IG51bGw7XG4gICAgICAgIC8vIGFzc2lnbiB0aGUgZ2xvYmFsIHBvaW50XG4gICAgICAgIGhpdFRlc3RFdmVudC5kYXRhLmdsb2JhbCA9IGdsb2JhbFBvaW50O1xuICAgICAgICAvLyBlbnN1cmUgc2FmZXR5IG9mIHRoZSByb290XG4gICAgICAgIGlmICghcm9vdClcbiAgICAgICAge1xuICAgICAgICAgICAgcm9vdCA9IHRoaXMucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBydW4gdGhlIGhpdCB0ZXN0XG4gICAgICAgIHRoaXMucHJvY2Vzc0ludGVyYWN0aXZlKGhpdFRlc3RFdmVudCwgcm9vdCwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgIC8vIHJldHVybiBvdXIgZm91bmQgb2JqZWN0IC0gaXQnbGwgYmUgbnVsbCBpZiB3ZSBkaWRuJ3QgaGl0IGFueXRoaW5nXG5cbiAgICAgICAgcmV0dXJuIGhpdFRlc3RFdmVudC50YXJnZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIERPTSBlbGVtZW50IHdoaWNoIHdpbGwgcmVjZWl2ZSBtb3VzZS90b3VjaCBldmVudHMuIFRoaXMgaXMgdXNlZnVsIGZvciB3aGVuIHlvdSBoYXZlXG4gICAgICogb3RoZXIgRE9NIGVsZW1lbnRzIG9uIHRvcCBvZiB0aGUgcmVuZGVyZXJzIENhbnZhcyBlbGVtZW50LiBXaXRoIHRoaXMgeW91J2xsIGJlIGJhbGUgdG8gZGVsZWdhdGVcbiAgICAgKiBhbm90aGVyIERPTSBlbGVtZW50IHRvIHJlY2VpdmUgdGhvc2UgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gZWxlbWVudCAtIHRoZSBET00gZWxlbWVudCB3aGljaCB3aWxsIHJlY2VpdmUgbW91c2UgYW5kIHRvdWNoIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Jlc29sdXRpb249MV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgbmV3IGVsZW1lbnQgKHJlbGF0aXZlIHRvIHRoZSBjYW52YXMpLlxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuc2V0VGFyZ2V0RWxlbWVudCA9IGZ1bmN0aW9uIHNldFRhcmdldEVsZW1lbnQgKGVsZW1lbnQsIHJlc29sdXRpb24pXG4gICAge1xuICAgICAgICBpZiAoIHJlc29sdXRpb24gPT09IHZvaWQgMCApIHJlc29sdXRpb24gPSAxO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlRXZlbnRzKCk7XG5cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb247XG5cbiAgICAgICAgdGhpcy5hZGRFdmVudHMoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGFsbCB0aGUgRE9NIGV2ZW50c1xuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmFkZEV2ZW50cyA9IGZ1bmN0aW9uIGFkZEV2ZW50cyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgVGlja2VyLnNoYXJlZC5hZGQodGhpcy51cGRhdGUsIHRoaXMsIFVQREFURV9QUklPUklUWS5JTlRFUkFDVElPTik7XG5cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJy1tcy1jb250ZW50LXpvb21pbmcnXSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyd0b3VjaC1hY3Rpb24nXSA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGVzZSBldmVudHMgYXJlIGFkZGVkIGZpcnN0LCBzbyB0aGF0IGlmIHBvaW50ZXIgZXZlbnRzIGFyZSBub3JtYWxpemVkLCB0aGV5IGFyZSBmaXJlZFxuICAgICAgICAgKiBpbiB0aGUgc2FtZSBvcmRlciBhcyBub24tbm9ybWFsaXplZCBldmVudHMuIGllLiBwb2ludGVyIGV2ZW50IDFzdCwgbW91c2UgLyB0b3VjaCAybmRcbiAgICAgICAgICovXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIHBvaW50ZXJvdXQgaXMgZmlyZWQgaW4gYWRkaXRpb24gdG8gcG9pbnRlcnVwIChmb3IgdG91Y2ggZXZlbnRzKSBhbmQgcG9pbnRlcmNhbmNlbFxuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBoYW5kbGUgdGhvc2UsIHNvIGZvciB0aGUgcHVycG9zZXMgb2Ygd2hhdCB3ZSBkbyBpbiBvblBvaW50ZXJPdXQsIHdlIG9ubHlcbiAgICAgICAgICAgIC8vIGNhcmUgYWJvdXQgdGhlIHBvaW50ZXJsZWF2ZSBldmVudFxuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm92ZXInLCB0aGlzLm9uUG9pbnRlck92ZXIsIHRydWUpO1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJjYW5jZWwnLCB0aGlzLm9uUG9pbnRlckNhbmNlbCwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblBvaW50ZXJNb3ZlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Qb2ludGVyT3V0LCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Qb2ludGVyVXAsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWx3YXlzIGxvb2sgZGlyZWN0bHkgZm9yIHRvdWNoIGV2ZW50cyBzbyB0aGF0IHdlIGNhbiBwcm92aWRlIG9yaWdpbmFsIGRhdGFcbiAgICAgICAgLy8gSW4gYSBmdXR1cmUgdmVyc2lvbiB3ZSBzaG91bGQgY2hhbmdlIHRoaXMgdG8gYmVpbmcganVzdCBhIGZhbGxiYWNrIGFuZCByZWx5IHNvbGVseSBvblxuICAgICAgICAvLyBQb2ludGVyRXZlbnRzIHdoZW5ldmVyIGF2YWlsYWJsZVxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmV2ZW50c0FkZGVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdGhlIERPTSBldmVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgcmVnaXN0ZXJlZFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50cyA9IGZ1bmN0aW9uIHJlbW92ZUV2ZW50cyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgVGlja2VyLnNoYXJlZC5yZW1vdmUodGhpcy51cGRhdGUsIHRoaXMpO1xuXG4gICAgICAgIGlmICh3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtY29udGVudC16b29taW5nJ10gPSAnJztcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnN0eWxlWyctbXMtdG91Y2gtYWN0aW9uJ10gPSAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGVbJ3RvdWNoLWFjdGlvbiddID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1BvaW50ZXJFdmVudHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyZG93bicsIHRoaXMub25Qb2ludGVyRG93biwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCB0aGlzLm9uUG9pbnRlck91dCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVyb3ZlcicsIHRoaXMub25Qb2ludGVyT3ZlciwgdHJ1ZSk7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmNhbmNlbCcsIHRoaXMub25Qb2ludGVyQ2FuY2VsLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uUG9pbnRlck1vdmUsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5vblBvaW50ZXJPdXQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5vblBvaW50ZXJPdmVyLCB0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vblBvaW50ZXJVcCwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5vblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5vblBvaW50ZXJDYW5jZWwsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLm9uUG9pbnRlclVwLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMub25Qb2ludGVyTW92ZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5ldmVudHNBZGRlZCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBzdGF0ZSBvZiBpbnRlcmFjdGl2ZSBvYmplY3RzLlxuICAgICAqIEludm9rZWQgYnkgYSB0aHJvdHRsZWQgdGlja2VyIHVwZGF0ZSBmcm9tIHtAbGluayBQSVhJLlRpY2tlci5zaGFyZWR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIHRpbWUgZGVsdGEgc2luY2UgbGFzdCB0aWNrXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGRlbHRhVGltZSlcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSArPSBkZWx0YVRpbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2RlbHRhVGltZSA8IHRoaXMuaW50ZXJhY3Rpb25GcmVxdWVuY3kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RlbHRhVGltZSA9IDA7XG5cbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlIHVzZXIgbW92ZSB0aGUgbW91c2UgdGhpcyBjaGVjayBoYXMgYWxyZWFkeSBiZWVuIGRvbmUgdXNpbmcgdGhlIG1vdXNlIG1vdmUhXG4gICAgICAgIGlmICh0aGlzLmRpZE1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnNvciA9IG51bGw7XG5cbiAgICAgICAgLy8gUmVzZXRzIHRoZSBmbGFnIGFzIHNldCBieSBhIHN0b3BQcm9wYWdhdGlvbiBjYWxsLiBUaGlzIGZsYWcgaXMgdXN1YWxseSByZXNldCBieSBhIHVzZXIgaW50ZXJhY3Rpb24gb2YgYW55IGtpbmQsXG4gICAgICAgIC8vIGJ1dCB0aGVyZSB3YXMgYSBzY2VuYXJpbyBvZiBhIGRpc3BsYXkgb2JqZWN0IG1vdmluZyB1bmRlciBhIHN0YXRpYyBtb3VzZSBjdXJzb3IuXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSwgbW91c2VvdmVyIGFuZCBtb3VzZWV2ZW50cyB3b3VsZCBub3QgcGFzcyB0aGUgZmxhZyB0ZXN0IGluIGRpc3BhdGNoRXZlbnQgZnVuY3Rpb25cbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzJDEuYWN0aXZlSW50ZXJhY3Rpb25EYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgICAgICBpZiAodGhpcyQxLmFjdGl2ZUludGVyYWN0aW9uRGF0YS5oYXNPd25Qcm9wZXJ0eShrKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcyQxLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtrXTtcblxuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbkRhdGEub3JpZ2luYWxFdmVudCAmJiBpbnRlcmFjdGlvbkRhdGEucG9pbnRlclR5cGUgIT09ICd0b3VjaCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMkMS5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzJDEuZXZlbnREYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGFcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzJDEucHJvY2Vzc0ludGVyYWN0aXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMkMS5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyQxLnByb2Nlc3NQb2ludGVyT3Zlck91dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuXG4gICAgICAgIC8vIFRPRE9cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgY3VycmVudCBjdXJzb3IgbW9kZSwgaGFuZGxpbmcgYW55IGNhbGxiYWNrcyBvciBDU1Mgc3R5bGUgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlIC0gY3Vyc29yIG1vZGUsIGEga2V5IGZyb20gdGhlIGN1cnNvclN0eWxlcyBkaWN0aW9uYXJ5XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5zZXRDdXJzb3JNb2RlID0gZnVuY3Rpb24gc2V0Q3Vyc29yTW9kZSAobW9kZSlcbiAgICB7XG4gICAgICAgIG1vZGUgPSBtb2RlIHx8ICdkZWZhdWx0JztcbiAgICAgICAgLy8gaWYgdGhlIG1vZGUgZGlkbid0IGFjdHVhbGx5IGNoYW5nZSwgYmFpbCBlYXJseVxuICAgICAgICBpZiAodGhpcy5jdXJyZW50Q3Vyc29yTW9kZSA9PT0gbW9kZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudEN1cnNvck1vZGUgPSBtb2RlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmN1cnNvclN0eWxlc1ttb2RlXTtcblxuICAgICAgICAvLyBvbmx5IGRvIHRoaW5ncyBpZiB0aGVyZSBpcyBhIGN1cnNvciBzdHlsZSBmb3IgaXRcbiAgICAgICAgaWYgKHN0eWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzdHlsZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgICAgICAgICAvLyBzdHJpbmcgc3R5bGVzIGFyZSBoYW5kbGVkIGFzIGN1cnNvciBDU1NcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gc3R5bGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb25zIGFyZSBqdXN0IGNhbGxlZCwgYW5kIHBhc3NlZCB0aGUgY3Vyc29yIG1vZGVcbiAgICAgICAgICAgICAgICAgICAgc3R5bGUobW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0IGlzIGFuIG9iamVjdCwgYXNzdW1lIHRoYXQgaXQgaXMgYSBkaWN0aW9uYXJ5IG9mIENTUyBzdHlsZXMsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFwcGx5IGl0IHRvIHRoZSBpbnRlcmFjdGlvbkRPTUVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZSwgc3R5bGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgbW9kZSA9PT0gJ3N0cmluZycgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmN1cnNvclN0eWxlcywgbW9kZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIGl0IG1vZGUgaXMgYSBzdHJpbmcgKG5vdCBhIFN5bWJvbCkgYW5kIGN1cnNvclN0eWxlcyBkb2Vzbid0IGhhdmUgYW55IGVudHJ5XG4gICAgICAgICAgICAvLyBmb3IgdGhlIG1vZGUsIHRoZW4gYXNzdW1lIHRoYXQgdGhlIGRldiB3YW50cyBpdCB0byBiZSBDU1MgZm9yIHRoZSBjdXJzb3IuXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5zdHlsZS5jdXJzb3IgPSBtb2RlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgb24gdGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIGludGVyYWN0ZWQgd2l0aFxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIHRoZSBkaXNwbGF5IG9iamVjdCBpbiBxdWVzdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFN0cmluZyAtIHRoZSBuYW1lIG9mIHRoZSBldmVudCAoZS5nLCBtb3VzZWRvd24pXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGV2ZW50RGF0YSAtIHRoZSBldmVudCBkYXRhIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gZGlzcGF0Y2hFdmVudCAoZGlzcGxheU9iamVjdCwgZXZlbnRTdHJpbmcsIGV2ZW50RGF0YSlcbiAgICB7XG4gICAgICAgIGlmICghZXZlbnREYXRhLnN0b3BwZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgIGV2ZW50RGF0YS50eXBlID0gZXZlbnRTdHJpbmc7XG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuZW1pdChldmVudFN0cmluZywgZXZlbnREYXRhKTtcblxuICAgICAgICAgICAgaWYgKGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3RbZXZlbnRTdHJpbmddKGV2ZW50RGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTWFwcyB4IGFuZCB5IGNvb3JkcyBmcm9tIGEgRE9NIG9iamVjdCBhbmQgbWFwcyB0aGVtIGNvcnJlY3RseSB0byB0aGUgUGl4aUpTIHZpZXcuIFRoZVxuICAgICAqIHJlc3VsdGluZyB2YWx1ZSBpcyBzdG9yZWQgaW4gdGhlIHBvaW50LiBUaGlzIHRha2VzIGludG8gYWNjb3VudCB0aGUgZmFjdCB0aGF0IHRoZSBET01cbiAgICAgKiBlbGVtZW50IGNvdWxkIGJlIHNjYWxlZCBhbmQgcG9zaXRpb25lZCBhbnl3aGVyZSBvbiB0aGUgc2NyZWVuLlxuICAgICAqXG4gICAgICogQHBhcmFtICB7UElYSS5Qb2ludH0gcG9pbnQgLSB0aGUgcG9pbnQgdGhhdCB0aGUgcmVzdWx0IHdpbGwgYmUgc3RvcmVkIGluXG4gICAgICogQHBhcmFtICB7bnVtYmVyfSB4IC0gdGhlIHggY29vcmQgb2YgdGhlIHBvc2l0aW9uIHRvIG1hcFxuICAgICAqIEBwYXJhbSAge251bWJlcn0geSAtIHRoZSB5IGNvb3JkIG9mIHRoZSBwb3NpdGlvbiB0byBtYXBcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm1hcFBvc2l0aW9uVG9Qb2ludCA9IGZ1bmN0aW9uIG1hcFBvc2l0aW9uVG9Qb2ludCAocG9pbnQsIHgsIHkpXG4gICAge1xuICAgICAgICB2YXIgcmVjdDtcblxuICAgICAgICAvLyBJRSAxMSBmaXhcbiAgICAgICAgaWYgKCF0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudC5wYXJlbnRFbGVtZW50KVxuICAgICAgICB7XG4gICAgICAgICAgICByZWN0ID0geyB4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzb2x1dGlvbk11bHRpcGxpZXIgPSBuYXZpZ2F0b3IuaXNDb2Nvb25KUyA/IHRoaXMucmVzb2x1dGlvbiA6ICgxLjAgLyB0aGlzLnJlc29sdXRpb24pO1xuXG4gICAgICAgIHBvaW50LnggPSAoKHggLSByZWN0LmxlZnQpICogKHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50LndpZHRoIC8gcmVjdC53aWR0aCkpICogcmVzb2x1dGlvbk11bHRpcGxpZXI7XG4gICAgICAgIHBvaW50LnkgPSAoKHkgLSByZWN0LnRvcCkgKiAodGhpcy5pbnRlcmFjdGlvbkRPTUVsZW1lbnQuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpKSAqIHJlc29sdXRpb25NdWx0aXBsaWVyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHByb3ZpZGVzIGEgbmVhdCB3YXkgb2YgY3Jhd2xpbmcgdGhyb3VnaCB0aGUgc2NlbmUgZ3JhcGggYW5kIHJ1bm5pbmcgYVxuICAgICAqIHNwZWNpZmllZCBmdW5jdGlvbiBvbiBhbGwgaW50ZXJhY3RpdmUgb2JqZWN0cyBpdCBmaW5kcy4gSXQgd2lsbCBhbHNvIHRha2UgY2FyZSBvZiBoaXRcbiAgICAgKiB0ZXN0aW5nIHRoZSBpbnRlcmFjdGl2ZSBvYmplY3RzIGFuZCBwYXNzZXMgdGhlIGhpdCBhY3Jvc3MgaW4gdGhlIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIGV2ZW50IGNvbnRhaW5pbmcgdGhlIHBvaW50IHRoYXRcbiAgICAgKiAgaXMgdGVzdGVkIGZvciBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gdGhlIGRpc3BsYXlPYmplY3RcbiAgICAgKiAgdGhhdCB3aWxsIGJlIGhpdCB0ZXN0IChyZWN1cnNpdmVseSBjcmF3bHMgaXRzIGNoaWxkcmVuKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtmdW5jXSAtIHRoZSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIG9uIGVhY2ggaW50ZXJhY3RpdmUgb2JqZWN0LiBUaGVcbiAgICAgKiAgaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCBhbmQgaGl0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hpdFRlc3RdIC0gdGhpcyBpbmRpY2F0ZXMgaWYgdGhlIG9iamVjdHMgaW5zaWRlIHNob3VsZCBiZSBoaXQgdGVzdCBhZ2FpbnN0IHRoZSBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ludGVyYWN0aXZlXSAtIFdoZXRoZXIgdGhlIGRpc3BsYXlPYmplY3QgaXMgaW50ZXJhY3RpdmVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSByZXR1cm5zIHRydWUgaWYgdGhlIGRpc3BsYXlPYmplY3QgaGl0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc0ludGVyYWN0aXZlID0gZnVuY3Rpb24gcHJvY2Vzc0ludGVyYWN0aXZlIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0LCBmdW5jLCBoaXRUZXN0LCBpbnRlcmFjdGl2ZSlcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIGlmICghZGlzcGxheU9iamVjdCB8fCAhZGlzcGxheU9iamVjdC52aXNpYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcG9pbnQgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGEuZ2xvYmFsO1xuXG4gICAgICAgIC8vIFRvb2sgYSBsaXR0bGUgd2hpbGUgdG8gcmV3b3JrIHRoaXMgZnVuY3Rpb24gY29ycmVjdGx5ISBCdXQgbm93IGl0IGlzIGRvbmUgYW5kIG5pY2UgYW5kIG9wdGltaXplZCEgXl9eXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gd2lsbCBub3cgbG9vcCB0aHJvdWdoIGFsbCBvYmplY3RzIGFuZCB0aGVuIG9ubHkgaGl0IHRlc3QgdGhlIG9iamVjdHMgaXQgSEFTXG4gICAgICAgIC8vIHRvLCBub3QgYWxsIG9mIHRoZW0uIE1VQ0ggZmFzdGVyLi5cbiAgICAgICAgLy8gQW4gb2JqZWN0IHdpbGwgYmUgaGl0IHRlc3QgaWYgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAgICAvL1xuICAgICAgICAvLyAxOiBJdCBpcyBpbnRlcmFjdGl2ZS5cbiAgICAgICAgLy8gMjogSXQgYmVsb25ncyB0byBhIHBhcmVudCB0aGF0IGlzIGludGVyYWN0aXZlIEFORCBvbmUgb2YgdGhlIHBhcmVudHMgY2hpbGRyZW4gaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGhpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gQXMgYW5vdGhlciBsaXR0bGUgb3B0aW1pemF0aW9uIG9uY2UgYW4gaW50ZXJhY3RpdmUgb2JqZWN0IGhhcyBiZWVuIGhpdCB3ZSBjYW4gY2Fycnkgb25cbiAgICAgICAgLy8gdGhyb3VnaCB0aGUgc2NlbmVncmFwaCwgYnV0IHdlIGtub3cgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgaGl0cyEgU28gd2UgY2FuIGF2b2lkIGV4dHJhIGhpdCB0ZXN0c1xuICAgICAgICAvLyBBIGZpbmFsIG9wdGltaXphdGlvbiBpcyB0aGF0IGFuIG9iamVjdCBpcyBub3QgaGl0IHRlc3QgZGlyZWN0bHkgaWYgYSBjaGlsZCBoYXMgYWxyZWFkeSBiZWVuIGhpdC5cblxuICAgICAgICBpbnRlcmFjdGl2ZSA9IGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmUgfHwgaW50ZXJhY3RpdmU7XG5cbiAgICAgICAgdmFyIGhpdCA9IGZhbHNlO1xuICAgICAgICB2YXIgaW50ZXJhY3RpdmVQYXJlbnQgPSBpbnRlcmFjdGl2ZTtcblxuICAgICAgICAvLyBGbGFnIGhlcmUgY2FuIHNldCB0byBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgb3V0c2lkZSB0aGUgcGFyZW50cyBoaXRBcmVhIG9yIG1hc2tcbiAgICAgICAgdmFyIGhpdFRlc3RDaGlsZHJlbiA9IHRydWU7XG5cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBoaXRBcmVhLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIGhpdEFyZWFcbiAgICAgICAgLy8gVGhlcmUgaXMgYWxzbyBubyBsb25nZXIgYSBuZWVkIHRvIGhpdFRlc3QgY2hpbGRyZW4uXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmhpdEFyZWEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChoaXRUZXN0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Qud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvaW50LCB0aGlzLl90ZW1wUG9pbnQpO1xuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhLmNvbnRhaW5zKHRoaXMuX3RlbXBQb2ludC54LCB0aGlzLl90ZW1wUG9pbnQueSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGhpdFRlc3RDaGlsZHJlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBtYXNrLCBubyBuZWVkIHRvIHRlc3QgYWdhaW5zdCBhbnl0aGluZyBlbHNlIGlmIHRoZSBwb2ludGVyIGlzIG5vdCB3aXRoaW4gdGhlIG1hc2tcbiAgICAgICAgZWxzZSBpZiAoZGlzcGxheU9iamVjdC5fbWFzaylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGhpdFRlc3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZGlzcGxheU9iamVjdC5fbWFzay5jb250YWluc1BvaW50ICYmIGRpc3BsYXlPYmplY3QuX21hc2suY29udGFpbnNQb2ludChwb2ludCkpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBoaXRUZXN0Q2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyAqKiBGUkVFIFRJUCAqKiEgSWYgYW4gb2JqZWN0IGlzIG5vdCBpbnRlcmFjdGl2ZSBvciBoYXMgbm8gYnV0dG9ucyBpbiBpdFxuICAgICAgICAvLyAoc3VjaCBhcyBhIGdhbWUgc2NlbmUhKSBzZXQgaW50ZXJhY3RpdmVDaGlsZHJlbiB0byBmYWxzZSBmb3IgdGhhdCBkaXNwbGF5T2JqZWN0LlxuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgUGl4aUpTIHRvIGNvbXBsZXRlbHkgaWdub3JlIGFuZCBieXBhc3MgY2hlY2tpbmcgdGhlIGRpc3BsYXlPYmplY3RzIGNoaWxkcmVuLlxuICAgICAgICBpZiAoaGl0VGVzdENoaWxkcmVuICYmIGRpc3BsYXlPYmplY3QuaW50ZXJhY3RpdmVDaGlsZHJlbiAmJiBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBkaXNwbGF5T2JqZWN0LmNoaWxkcmVuO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIGdldCByZWN1cnNpdmUuLiBpZiB0aGlzIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGlmIHNvbWV0aGluZyBpcyBoaXQuLlxuICAgICAgICAgICAgICAgIHZhciBjaGlsZEhpdCA9IHRoaXMkMS5wcm9jZXNzSW50ZXJhY3RpdmUoaW50ZXJhY3Rpb25FdmVudCwgY2hpbGQsIGZ1bmMsIGhpdFRlc3QsIGludGVyYWN0aXZlUGFyZW50KTtcblxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEhpdClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGl0cyBhIGdvb2QgaWRlYSB0byBjaGVjayBpZiBhIGNoaWxkIGhhcyBsb3N0IGl0cyBwYXJlbnQuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgbWVhbnMgaXQgaGFzIGJlZW4gcmVtb3ZlZCB3aGlsc3QgbG9vcGluZyBzbyBpdHMgYmVzdFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkLnBhcmVudClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnkgbW9yZSBvYmplY3RzIGluIHRoaXMgY29udGFpbmVyIGFzIHdlIHdlXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdyBrbm93IHRoZSBwYXJlbnQgaGFzIGJlZW4gaGl0XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aXZlUGFyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNoaWxkIGlzIGludGVyYWN0aXZlICwgdGhhdCBtZWFucyB0aGF0IHRoZSBvYmplY3QgaGl0IHdhcyBhY3R1YWxseVxuICAgICAgICAgICAgICAgICAgICAvLyBpbnRlcmFjdGl2ZSBhbmQgbm90IGp1c3QgdGhlIGNoaWxkIG9mIGFuIGludGVyYWN0aXZlIG9iamVjdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB3ZSBubyBsb25nZXIgbmVlZCB0byBoaXQgdGVzdCBhbnl0aGluZyBlbHNlLiBXZSBzdGlsbCBuZWVkIHRvIHJ1blxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdWdoIGFsbCBvYmplY3RzLCBidXQgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFueSBoaXQgdGVzdHMuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkSGl0KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb25FdmVudC50YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0VGVzdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaGl0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG5vIHBvaW50IHJ1bm5pbmcgdGhpcyBpZiB0aGUgaXRlbSBpcyBub3QgaW50ZXJhY3RpdmUgb3IgZG9lcyBub3QgaGF2ZSBhbiBpbnRlcmFjdGl2ZSBwYXJlbnQuXG4gICAgICAgIGlmIChpbnRlcmFjdGl2ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhpdCB0ZXN0aW5nIChhcyBpbiB3ZSBoYXZlIG5vIGhpdCBhbnkgb2JqZWN0cyB5ZXQpXG4gICAgICAgICAgICAvLyBXZSBhbHNvIGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaGl0IHRlc3RpbmcgaWYgb25jZSBvZiB0aGUgZGlzcGxheU9iamVjdHMgY2hpbGRyZW5cbiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gaGl0IC0gYnV0IG9ubHkgaWYgaXQgd2FzIGludGVyYWN0aXZlLCBvdGhlcndpc2Ugd2UgbmVlZCB0byBrZWVwXG4gICAgICAgICAgICAvLyBsb29raW5nIGZvciBhbiBpbnRlcmFjdGl2ZSBjaGlsZCwganVzdCBpbiBjYXNlIHdlIGhpdCBvbmVcbiAgICAgICAgICAgIGlmIChoaXRUZXN0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IHRlc3RlZCBhZ2FpbnN0IGhpdEFyZWEgaWYgaXQgaXMgZGVmaW5lZFxuICAgICAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC5oaXRBcmVhICYmIGRpc3BsYXlPYmplY3QuY29udGFpbnNQb2ludClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmNvbnRhaW5zUG9pbnQocG9pbnQpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZGlzcGxheU9iamVjdC5pbnRlcmFjdGl2ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoaGl0ICYmICFpbnRlcmFjdGlvbkV2ZW50LnRhcmdldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQudGFyZ2V0ID0gZGlzcGxheU9iamVjdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZnVuYylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmMoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgISFoaXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoaXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyBwcmVzc2VkIGRvd24gb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgcHJlc3NlZCBkb3duXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJEb3duID0gZnVuY3Rpb24gb25Qb2ludGVyRG93biAob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTm8gbmVlZCB0byBwcmV2ZW50IGRlZmF1bHQgb24gbmF0dXJhbCBwb2ludGVyIGV2ZW50cywgYXMgdGhlcmUgYXJlIG5vIHNpZGUgZWZmZWN0c1xuICAgICAgICAgKiBOb3JtYWxpemVkIGV2ZW50cywgaG93ZXZlciwgbWF5IGhhdmUgdGhlIGRvdWJsZSBtb3VzZWRvd24vdG91Y2hzdGFydCBpc3N1ZSBvbiB0aGUgbmF0aXZlIGFuZHJvaWQgYnJvd3NlcixcbiAgICAgICAgICogc28gc3RpbGwgbmVlZCB0byBiZSBwcmV2ZW50ZWQuXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8vIEd1YXJhbnRlZWQgdGhhdCB0aGVyZSB3aWxsIGJlIGF0IGxlYXN0IG9uZSBldmVudCBpbiBldmVudHMsIGFuZCBhbGwgZXZlbnRzIG11c3QgaGF2ZSB0aGUgc2FtZSBwb2ludGVyIHR5cGVcblxuICAgICAgICBpZiAodGhpcy5hdXRvUHJldmVudERlZmF1bHQgJiYgZXZlbnRzWzBdLmlzTm9ybWFsaXplZClcbiAgICAgICAge1xuICAgICAgICAgICAgb3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGV2ZW50TGVuID0gZXZlbnRzLmxlbmd0aDtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50TGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IGV2ZW50c1tpXTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMkMS5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25FdmVudCA9IHRoaXMkMS5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcyQxLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gb3JpZ2luYWxFdmVudDtcblxuICAgICAgICAgICAgdGhpcyQxLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzJDEucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgdGhpcyQxLnByb2Nlc3NQb2ludGVyRG93biwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMkMS5lbWl0KCdwb2ludGVyZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5lbWl0KCd0b3VjaHN0YXJ0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlbWl0IGEgbW91c2UgZXZlbnQgZm9yIFwicGVuXCIgcG9pbnRlcnMsIHRoZSB3YXkgYSBicm93c2VyIHdvdWxkIGVtaXQgYSBmYWxsYmFjayBldmVudFxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZXZlbnQucG9pbnRlclR5cGUgPT09ICdwZW4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpc1JpZ2h0QnV0dG9uID0gZXZlbnQuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgdGhpcyQxLmVtaXQoaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIHRoaXMkMS5ldmVudERhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIGRvd24gY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICogQHBhcmFtIHtib29sZWFufSBoaXQgLSB0aGUgcmVzdWx0IG9mIHRoZSBoaXQgdGVzdCBvbiB0aGUgZGlzcGxheSBvYmplY3RcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLnByb2Nlc3NQb2ludGVyRG93biA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyRG93biAoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIGlmIChoaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSA9IG5ldyBJbnRlcmFjdGlvblRyYWNraW5nRGF0YShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJkb3duJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hzdGFydCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBkYXRhLnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF0ucmlnaHREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdLmxlZnREb3duID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodGRvd24nIDogJ21vdXNlZG93bicsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGJ1dHRvbiBpcyByZWxlYXNlZCBvbiB0aGUgcmVuZGVyZXIgZWxlbWVudFxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BvaW50ZXJFdmVudH0gb3JpZ2luYWxFdmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2FuY2VsbGVkIC0gdHJ1ZSBpZiB0aGUgcG9pbnRlciBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIC0gRnVuY3Rpb24gcGFzc2VkIHRvIHtAbGluayBwcm9jZXNzSW50ZXJhY3RpdmV9XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJDb21wbGV0ZSA9IGZ1bmN0aW9uIG9uUG9pbnRlckNvbXBsZXRlIChvcmlnaW5hbEV2ZW50LCBjYW5jZWxsZWQsIGZ1bmMpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgLy8gaWYgdGhlIGV2ZW50IHdhc24ndCB0YXJnZXRpbmcgb3VyIGNhbnZhcywgdGhlbiBjb25zaWRlciBpdCB0byBiZSBwb2ludGVydXBvdXRzaWRlXG4gICAgICAgIC8vIGluIGFsbCBjYXNlcyAodW5sZXNzIGl0IHdhcyBhIHBvaW50ZXJjYW5jZWwpXG4gICAgICAgIHZhciBldmVudEFwcGVuZCA9IG9yaWdpbmFsRXZlbnQudGFyZ2V0ICE9PSB0aGlzLmludGVyYWN0aW9uRE9NRWxlbWVudCA/ICdvdXRzaWRlJyA6ICcnO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRMZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcyQxLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcyQxLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzJDEuZXZlbnREYXRhLCBldmVudCwgaW50ZXJhY3Rpb25EYXRhKTtcblxuICAgICAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBvcmlnaW5hbEV2ZW50O1xuXG4gICAgICAgICAgICAvLyBwZXJmb3JtIGhpdCB0ZXN0aW5nIGZvciBldmVudHMgdGFyZ2V0aW5nIG91ciBjYW52YXMgb3IgY2FuY2VsIGV2ZW50c1xuICAgICAgICAgICAgdGhpcyQxLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzJDEucmVuZGVyZXIuX2xhc3RPYmplY3RSZW5kZXJlZCwgZnVuYywgY2FuY2VsbGVkIHx8ICFldmVudEFwcGVuZCk7XG5cbiAgICAgICAgICAgIHRoaXMkMS5lbWl0KGNhbmNlbGxlZCA/ICdwb2ludGVyY2FuY2VsJyA6IChcInBvaW50ZXJ1cFwiICsgZXZlbnRBcHBlbmQpLCBpbnRlcmFjdGlvbkV2ZW50KTtcblxuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGV2ZW50LmJ1dHRvbiA9PT0gMjtcblxuICAgICAgICAgICAgICAgIHRoaXMkMS5lbWl0KGlzUmlnaHRCdXR0b24gPyAoXCJyaWdodHVwXCIgKyBldmVudEFwcGVuZCkgOiAoXCJtb3VzZXVwXCIgKyBldmVudEFwcGVuZCksIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLmVtaXQoY2FuY2VsbGVkID8gJ3RvdWNoY2FuY2VsJyA6IChcInRvdWNoZW5kXCIgKyBldmVudEFwcGVuZCksIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMkMS5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50LnBvaW50ZXJJZCwgaW50ZXJhY3Rpb25EYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgY2FuY2VsbGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBldmVudCAtIFRoZSBET00gZXZlbnQgb2YgYSBwb2ludGVyIGJ1dHRvbiBiZWluZyByZWxlYXNlZFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyQ2FuY2VsID0gZnVuY3Rpb24gb25Qb2ludGVyQ2FuY2VsIChldmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIHRydWUsIHRoaXMucHJvY2Vzc1BvaW50ZXJDYW5jZWwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBjYW5jZWwgY2hlY2sgYW5kIGRpc3BhdGNoZXMgdGhlIGV2ZW50IGlmIG5lZWQgYmVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IGludGVyYWN0aW9uRXZlbnQgLSBUaGUgaW50ZXJhY3Rpb24gZXZlbnQgd3JhcHBpbmcgdGhlIERPTSBldmVudFxuICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ8UElYSS5TcHJpdGV8UElYSS5UaWxpbmdTcHJpdGV9IGRpc3BsYXlPYmplY3QgLSBUaGUgZGlzcGxheSBvYmplY3QgdGhhdCB3YXMgdGVzdGVkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlckNhbmNlbCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyQ2FuY2VsIChpbnRlcmFjdGlvbkV2ZW50LCBkaXNwbGF5T2JqZWN0KVxuICAgIHtcbiAgICAgICAgdmFyIGRhdGEgPSBpbnRlcmFjdGlvbkV2ZW50LmRhdGE7XG5cbiAgICAgICAgdmFyIGlkID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhLmlkZW50aWZpZXI7XG5cbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QudHJhY2tlZFBvaW50ZXJzW2lkXSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyY2FuY2VsJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgIGlmIChkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hjYW5jZWwnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBidXR0b24gaXMgcmVsZWFzZWQgb24gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgYnV0dG9uIGJlaW5nIHJlbGVhc2VkXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJVcCA9IGZ1bmN0aW9uIG9uUG9pbnRlclVwIChldmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSB7IHJldHVybjsgfVxuXG4gICAgICAgIHRoaXMub25Qb2ludGVyQ29tcGxldGUoZXZlbnQsIGZhbHNlLCB0aGlzLnByb2Nlc3NQb2ludGVyVXApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciB1cCBjaGVjayBhbmQgZGlzcGF0Y2hlcyB0aGUgZXZlbnQgaWYgbmVlZCBiZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBpbnRlcmFjdGlvbiBldmVudCB3cmFwcGluZyB0aGUgRE9NIGV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcnxQSVhJLlNwcml0ZXxQSVhJLlRpbGluZ1Nwcml0ZX0gZGlzcGxheU9iamVjdCAtIFRoZSBkaXNwbGF5IG9iamVjdCB0aGF0IHdhcyB0ZXN0ZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhpdCAtIHRoZSByZXN1bHQgb2YgdGhlIGhpdCB0ZXN0IG9uIHRoZSBkaXNwbGF5IG9iamVjdFxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUucHJvY2Vzc1BvaW50ZXJVcCA9IGZ1bmN0aW9uIHByb2Nlc3NQb2ludGVyVXAgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgdmFyIGlzVG91Y2ggPSBkYXRhLnBvaW50ZXJUeXBlID09PSAndG91Y2gnO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuICAgICAgICAvLyBuZWVkIHRvIHRyYWNrIG1vdXNlIGRvd24gc3RhdHVzIGluIHRoZSBtb3VzZSBibG9jayBzbyB0aGF0IHdlIGNhbiBlbWl0XG4gICAgICAgIC8vIGV2ZW50IGluIGEgbGF0ZXIgYmxvY2tcbiAgICAgICAgdmFyIGlzTW91c2VUYXAgPSBmYWxzZTtcblxuICAgICAgICAvLyBNb3VzZSBvbmx5XG4gICAgICAgIGlmIChpc01vdXNlKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgaXNSaWdodEJ1dHRvbiA9IGRhdGEuYnV0dG9uID09PSAyO1xuXG4gICAgICAgICAgICB2YXIgZmxhZ3MgPSBJbnRlcmFjdGlvblRyYWNraW5nRGF0YS5GTEFHUztcblxuICAgICAgICAgICAgdmFyIHRlc3QgPSBpc1JpZ2h0QnV0dG9uID8gZmxhZ3MuUklHSFRfRE9XTiA6IGZsYWdzLkxFRlRfRE9XTjtcblxuICAgICAgICAgICAgdmFyIGlzRG93biA9IHRyYWNraW5nRGF0YSAhPT0gdW5kZWZpbmVkICYmICh0cmFja2luZ0RhdGEuZmxhZ3MgJiB0ZXN0KTtcblxuICAgICAgICAgICAgaWYgKGhpdClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgaXNSaWdodEJ1dHRvbiA/ICdyaWdodHVwJyA6ICdtb3VzZXVwJywgaW50ZXJhY3Rpb25FdmVudCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNEb3duKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHRjbGljaycgOiAnY2xpY2snLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSBjYW4gY29uZmlybSB0aGF0IHRoZSBtb3VzZWRvd24gaGFwcGVuZWQgb24gdGhpcyBvYmplY3QsIGZsYWcgZm9yIGxhdGVyIGVtaXQgb2YgcG9pbnRlcnRhcFxuICAgICAgICAgICAgICAgICAgICBpc01vdXNlVGFwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Rvd24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsIGlzUmlnaHRCdXR0b24gPyAncmlnaHR1cG91dHNpZGUnIDogJ21vdXNldXBvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGRvd24gc3RhdGUgb2YgdGhlIHRyYWNraW5nIGRhdGFcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmlnaHRCdXR0b24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0cmFja2luZ0RhdGEucmlnaHREb3duID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nRGF0YS5sZWZ0RG93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBvaW50ZXJzIGFuZCBUb3VjaGVzLCBhbmQgTW91c2VcbiAgICAgICAgaWYgKGhpdClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVydXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmQnLCBpbnRlcmFjdGlvbkV2ZW50KTsgfVxuXG4gICAgICAgICAgICBpZiAodHJhY2tpbmdEYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGVtaXQgcG9pbnRlcnRhcCBpZiBub3QgYSBtb3VzZSwgb3IgaWYgdGhlIG1vdXNlIGJsb2NrIGRlY2lkZWQgaXQgd2FzIGEgdGFwXG4gICAgICAgICAgICAgICAgaWYgKCFpc01vdXNlIHx8IGlzTW91c2VUYXApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ0YXAnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzVG91Y2gpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3RhcCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b3VjaGVzIGFyZSBubyBsb25nZXIgb3ZlciAoaWYgdGhleSBldmVyIHdlcmUpIHdoZW4gd2UgZ2V0IHRoZSB0b3VjaGVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBzaG91bGQgZW5zdXJlIHRoYXQgd2UgZG9uJ3Qga2VlcCBwcmV0ZW5kaW5nIHRoYXQgdGhleSBhcmVcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhY2tpbmdEYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZGlzcGxheU9iamVjdCwgJ3BvaW50ZXJ1cG91dHNpZGUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2hlbmRvdXRzaWRlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPbmx5IHJlbW92ZSB0aGUgdHJhY2tpbmcgZGF0YSBpZiB0aGVyZSBpcyBubyBvdmVyL2Rvd24gc3RhdGUgc3RpbGwgYXNzb2NpYXRlZCB3aXRoIGl0XG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgJiYgdHJhY2tpbmdEYXRhLm5vbmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSXMgY2FsbGVkIHdoZW4gdGhlIHBvaW50ZXIgbW92ZXMgYWNyb3NzIHRoZSByZW5kZXJlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UG9pbnRlckV2ZW50fSBvcmlnaW5hbEV2ZW50IC0gVGhlIERPTSBldmVudCBvZiBhIHBvaW50ZXIgbW92aW5nXG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5vblBvaW50ZXJNb3ZlID0gZnVuY3Rpb24gb25Qb2ludGVyTW92ZSAob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50c1swXS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlkTW92ZSA9IHRydWU7XG5cbiAgICAgICAgICAgIHRoaXMuY3Vyc29yID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBldmVudExlbiA9IGV2ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudExlbjsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzJDEuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkKGV2ZW50KTtcblxuICAgICAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzJDEuY29uZmlndXJlSW50ZXJhY3Rpb25FdmVudEZvckRPTUV2ZW50KHRoaXMkMS5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCA9IG9yaWdpbmFsRXZlbnQ7XG5cbiAgICAgICAgICAgIHZhciBpbnRlcmFjdGl2ZSA9IGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnID8gdGhpcyQxLm1vdmVXaGVuSW5zaWRlIDogdHJ1ZTtcblxuICAgICAgICAgICAgdGhpcyQxLnByb2Nlc3NJbnRlcmFjdGl2ZShcbiAgICAgICAgICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LFxuICAgICAgICAgICAgICAgIHRoaXMkMS5yZW5kZXJlci5fbGFzdE9iamVjdFJlbmRlcmVkLFxuICAgICAgICAgICAgICAgIHRoaXMkMS5wcm9jZXNzUG9pbnRlck1vdmUsXG4gICAgICAgICAgICAgICAgaW50ZXJhY3RpdmVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzJDEuZW1pdCgncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJykgeyB0aGlzJDEuZW1pdCgndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpIHsgdGhpcyQxLmVtaXQoJ21vdXNlbW92ZScsIGludGVyYWN0aW9uRXZlbnQpOyB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzWzBdLnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvck1vZGUodGhpcy5jdXJzb3IpO1xuXG4gICAgICAgICAgICAvLyBUT0RPIEJVRyBmb3IgcGFyZW50cyBpbnRlcmFjdGl2ZSBvYmplY3QgKGJvcmRlciBvcmRlciBpc3N1ZSlcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9jZXNzZXMgdGhlIHJlc3VsdCBvZiB0aGUgcG9pbnRlciBtb3ZlIGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck1vdmUgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlck1vdmUgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpc1RvdWNoID0gZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJztcblxuICAgICAgICB2YXIgaXNNb3VzZSA9IChkYXRhLnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGRhdGEucG9pbnRlclR5cGUgPT09ICdwZW4nKTtcblxuICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzUG9pbnRlck92ZXJPdXQoaW50ZXJhY3Rpb25FdmVudCwgZGlzcGxheU9iamVjdCwgaGl0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tb3ZlV2hlbkluc2lkZSB8fCBoaXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm1vdmUnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgIGlmIChpc1RvdWNoKSB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAndG91Y2htb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgICAgIGlmIChpc01vdXNlKSB7IHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2Vtb3ZlJywgaW50ZXJhY3Rpb25FdmVudCk7IH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJcyBjYWxsZWQgd2hlbiB0aGUgcG9pbnRlciBpcyBtb3ZlZCBvdXQgb2YgdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBiZWluZyBtb3ZlZCBvdXRcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm9uUG9pbnRlck91dCA9IGZ1bmN0aW9uIG9uUG9pbnRlck91dCAob3JpZ2luYWxFdmVudClcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIHN1cHBvcnQgdG91Y2ggZXZlbnRzLCB0aGVuIG9ubHkgdXNlIHRob3NlIGZvciB0b3VjaCBldmVudHMsIG5vdCBwb2ludGVyIGV2ZW50c1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0c1RvdWNoRXZlbnRzICYmIG9yaWdpbmFsRXZlbnQucG9pbnRlclR5cGUgPT09ICd0b3VjaCcpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIGV2ZW50cyA9IHRoaXMubm9ybWFsaXplVG9Qb2ludGVyRGF0YShvcmlnaW5hbEV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IG1vdXNlIGFuZCBwb2ludGVyIGNhbiBjYWxsIG9uUG9pbnRlck91dCwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICBpZiAoZXZlbnQucG9pbnRlclR5cGUgPT09ICdtb3VzZScpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW91c2VPdmVyUmVuZGVyZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q3Vyc29yTW9kZShudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmdldEludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZChldmVudCk7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRXZlbnQgPSB0aGlzLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCh0aGlzLmV2ZW50RGF0YSwgZXZlbnQsIGludGVyYWN0aW9uRGF0YSk7XG5cbiAgICAgICAgaW50ZXJhY3Rpb25FdmVudC5kYXRhLm9yaWdpbmFsRXZlbnQgPSBldmVudDtcblxuICAgICAgICB0aGlzLnByb2Nlc3NJbnRlcmFjdGl2ZShpbnRlcmFjdGlvbkV2ZW50LCB0aGlzLnJlbmRlcmVyLl9sYXN0T2JqZWN0UmVuZGVyZWQsIHRoaXMucHJvY2Vzc1BvaW50ZXJPdmVyT3V0LCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5lbWl0KCdwb2ludGVyb3V0JywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgIGlmIChldmVudC5wb2ludGVyVHlwZSA9PT0gJ21vdXNlJyB8fCBldmVudC5wb2ludGVyVHlwZSA9PT0gJ3BlbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnbW91c2VvdXQnLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdlIGNhbiBnZXQgdG91Y2hsZWF2ZSBldmVudHMgYWZ0ZXIgdG91Y2hlbmQsIHNvIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBpbnRyb2R1Y2UgbWVtb3J5IGxlYWtzXG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgcmVzdWx0IG9mIHRoZSBwb2ludGVyIG92ZXIvb3V0IGNoZWNrIGFuZCBkaXNwYXRjaGVzIHRoZSBldmVudCBpZiBuZWVkIGJlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkV2ZW50fSBpbnRlcmFjdGlvbkV2ZW50IC0gVGhlIGludGVyYWN0aW9uIGV2ZW50IHdyYXBwaW5nIHRoZSBET00gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfFBJWEkuU3ByaXRlfFBJWEkuVGlsaW5nU3ByaXRlfSBkaXNwbGF5T2JqZWN0IC0gVGhlIGRpc3BsYXkgb2JqZWN0IHRoYXQgd2FzIHRlc3RlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaGl0IC0gdGhlIHJlc3VsdCBvZiB0aGUgaGl0IHRlc3Qgb24gdGhlIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5wcm9jZXNzUG9pbnRlck92ZXJPdXQgPSBmdW5jdGlvbiBwcm9jZXNzUG9pbnRlck92ZXJPdXQgKGludGVyYWN0aW9uRXZlbnQsIGRpc3BsYXlPYmplY3QsIGhpdClcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0gaW50ZXJhY3Rpb25FdmVudC5kYXRhO1xuXG4gICAgICAgIHZhciBpZCA9IGludGVyYWN0aW9uRXZlbnQuZGF0YS5pZGVudGlmaWVyO1xuXG4gICAgICAgIHZhciBpc01vdXNlID0gKGRhdGEucG9pbnRlclR5cGUgPT09ICdtb3VzZScgfHwgZGF0YS5wb2ludGVyVHlwZSA9PT0gJ3BlbicpO1xuXG4gICAgICAgIHZhciB0cmFja2luZ0RhdGEgPSBkaXNwbGF5T2JqZWN0LnRyYWNrZWRQb2ludGVyc1tpZF07XG5cbiAgICAgICAgLy8gaWYgd2UganVzdCBtb3VzZWQgb3ZlciB0aGUgZGlzcGxheSBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byB0cmFjayB0aGF0IHN0YXRlXG4gICAgICAgIGlmIChoaXQgJiYgIXRyYWNraW5nRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgdHJhY2tpbmdEYXRhID0gZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdID0gbmV3IEludGVyYWN0aW9uVHJhY2tpbmdEYXRhKGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFja2luZ0RhdGEgPT09IHVuZGVmaW5lZCkgeyByZXR1cm47IH1cblxuICAgICAgICBpZiAoaGl0ICYmIHRoaXMubW91c2VPdmVyUmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdHJhY2tpbmdEYXRhLm92ZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdEYXRhLm92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3VzZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChkaXNwbGF5T2JqZWN0LCAnbW91c2VvdmVyJywgaW50ZXJhY3Rpb25FdmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBvbmx5IGNoYW5nZSB0aGUgY3Vyc29yIGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNoYW5nZWQgKGJ5IHNvbWV0aGluZyBkZWVwZXIgaW4gdGhlXG4gICAgICAgICAgICAvLyBkaXNwbGF5IHRyZWUpXG4gICAgICAgICAgICBpZiAoaXNNb3VzZSAmJiB0aGlzLmN1cnNvciA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IGRpc3BsYXlPYmplY3QuY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRyYWNraW5nRGF0YS5vdmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmFja2luZ0RhdGEub3ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdwb2ludGVyb3V0JywgdGhpcy5ldmVudERhdGEpO1xuICAgICAgICAgICAgaWYgKGlzTW91c2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGRpc3BsYXlPYmplY3QsICdtb3VzZW91dCcsIGludGVyYWN0aW9uRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgbm8gbW91c2UgZG93biBpbmZvcm1hdGlvbiBmb3IgdGhlIHBvaW50ZXIsIHRoZW4gaXQgaXMgc2FmZSB0byBkZWxldGVcbiAgICAgICAgICAgIGlmICh0cmFja2luZ0RhdGEubm9uZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgZGlzcGxheU9iamVjdC50cmFja2VkUG9pbnRlcnNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIElzIGNhbGxlZCB3aGVuIHRoZSBwb2ludGVyIGlzIG1vdmVkIGludG8gdGhlIHJlbmRlcmVyIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IG9yaWdpbmFsRXZlbnQgLSBUaGUgRE9NIGV2ZW50IG9mIGEgcG9pbnRlciBidXR0b24gYmVpbmcgbW92ZWQgaW50byB0aGUgcmVuZGVyZXIgdmlld1xuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUub25Qb2ludGVyT3ZlciA9IGZ1bmN0aW9uIG9uUG9pbnRlck92ZXIgKG9yaWdpbmFsRXZlbnQpXG4gICAge1xuICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ub3JtYWxpemVUb1BvaW50ZXJEYXRhKG9yaWdpbmFsRXZlbnQpO1xuXG4gICAgICAgIC8vIE9ubHkgbW91c2UgYW5kIHBvaW50ZXIgY2FuIGNhbGwgb25Qb2ludGVyT3Zlciwgc28gZXZlbnRzIHdpbGwgYWx3YXlzIGJlIGxlbmd0aCAxXG4gICAgICAgIHZhciBldmVudCA9IGV2ZW50c1swXTtcblxuICAgICAgICB2YXIgaW50ZXJhY3Rpb25EYXRhID0gdGhpcy5nZXRJbnRlcmFjdGlvbkRhdGFGb3JQb2ludGVySWQoZXZlbnQpO1xuXG4gICAgICAgIHZhciBpbnRlcmFjdGlvbkV2ZW50ID0gdGhpcy5jb25maWd1cmVJbnRlcmFjdGlvbkV2ZW50Rm9yRE9NRXZlbnQodGhpcy5ldmVudERhdGEsIGV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpO1xuXG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQuZGF0YS5vcmlnaW5hbEV2ZW50ID0gZXZlbnQ7XG5cbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlT3ZlclJlbmRlcmVyID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW1pdCgncG9pbnRlcm92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAncGVuJylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdtb3VzZW92ZXInLCBpbnRlcmFjdGlvbkV2ZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgSW50ZXJhY3Rpb25EYXRhIGZvciBhIGdpdmVuIHBvaW50ZXJJZC4gU3RvcmUgdGhhdCBkYXRhIGFzIHdlbGxcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IGV2ZW50IC0gTm9ybWFsaXplZCBwb2ludGVyIGV2ZW50LCBvdXRwdXQgZnJvbSBub3JtYWxpemVUb1BvaW50ZXJEYXRhXG4gICAgICogQHJldHVybiB7UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbkRhdGF9IC0gSW50ZXJhY3Rpb24gZGF0YSBmb3IgdGhlIGdpdmVuIHBvaW50ZXIgaWRlbnRpZmllclxuICAgICAqL1xuICAgIEludGVyYWN0aW9uTWFuYWdlci5wcm90b3R5cGUuZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gZ2V0SW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkIChldmVudClcbiAgICB7XG4gICAgICAgIHZhciBwb2ludGVySWQgPSBldmVudC5wb2ludGVySWQ7XG5cbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YTtcblxuICAgICAgICBpZiAocG9pbnRlcklkID09PSBNT1VTRV9QT0lOVEVSX0lEIHx8IGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLm1vdXNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEgPSB0aGlzLmludGVyYWN0aW9uRGF0YVBvb2wucG9wKCkgfHwgbmV3IEludGVyYWN0aW9uRGF0YSgpO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmlkZW50aWZpZXIgPSBwb2ludGVySWQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUludGVyYWN0aW9uRGF0YVtwb2ludGVySWRdID0gaW50ZXJhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvcHkgcHJvcGVydGllcyBmcm9tIHRoZSBldmVudCwgc28gdGhhdCB3ZSBjYW4gbWFrZSBzdXJlIHRoYXQgdG91Y2gvcG9pbnRlciBzcGVjaWZpY1xuICAgICAgICAvLyBkYXRhIGlzIGF2YWlsYWJsZVxuICAgICAgICBpbnRlcmFjdGlvbkRhdGEuY29weUV2ZW50KGV2ZW50KTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25EYXRhO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdW51c2VkIEludGVyYWN0aW9uRGF0YSB0byB0aGUgcG9vbCwgZm9yIGEgZ2l2ZW4gcG9pbnRlcklkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb2ludGVySWQgLSBJZGVudGlmaWVyIGZyb20gYSBwb2ludGVyIGV2ZW50XG4gICAgICovXG4gICAgSW50ZXJhY3Rpb25NYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJhY3Rpb25EYXRhRm9yUG9pbnRlcklkID0gZnVuY3Rpb24gcmVsZWFzZUludGVyYWN0aW9uRGF0YUZvclBvaW50ZXJJZCAocG9pbnRlcklkKVxuICAgIHtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uRGF0YSA9IHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG5cbiAgICAgICAgaWYgKGludGVyYWN0aW9uRGF0YSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlSW50ZXJhY3Rpb25EYXRhW3BvaW50ZXJJZF07XG4gICAgICAgICAgICBpbnRlcmFjdGlvbkRhdGEucmVzZXQoKTtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25EYXRhUG9vbC5wdXNoKGludGVyYWN0aW9uRGF0YSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uZmlndXJlIGFuIEludGVyYWN0aW9uRXZlbnQgdG8gd3JhcCBhIERPTSBQb2ludGVyRXZlbnQgYW5kIEludGVyYWN0aW9uRGF0YVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25FdmVudH0gaW50ZXJhY3Rpb25FdmVudCAtIFRoZSBldmVudCB0byBiZSBjb25maWd1cmVkXG4gICAgICogQHBhcmFtIHtQb2ludGVyRXZlbnR9IHBvaW50ZXJFdmVudCAtIFRoZSBET00gZXZlbnQgdGhhdCB3aWxsIGJlIHBhaXJlZCB3aXRoIHRoZSBJbnRlcmFjdGlvbkV2ZW50XG4gICAgICogQHBhcmFtIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRGF0YX0gaW50ZXJhY3Rpb25EYXRhIC0gVGhlIEludGVyYWN0aW9uRGF0YSB0aGF0IHdpbGwgYmUgcGFpcmVkXG4gICAgICogICAgICAgIHdpdGggdGhlIEludGVyYWN0aW9uRXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLmludGVyYWN0aW9uLkludGVyYWN0aW9uRXZlbnR9IHRoZSBpbnRlcmFjdGlvbiBldmVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCA9IGZ1bmN0aW9uIGNvbmZpZ3VyZUludGVyYWN0aW9uRXZlbnRGb3JET01FdmVudCAoaW50ZXJhY3Rpb25FdmVudCwgcG9pbnRlckV2ZW50LCBpbnRlcmFjdGlvbkRhdGEpXG4gICAge1xuICAgICAgICBpbnRlcmFjdGlvbkV2ZW50LmRhdGEgPSBpbnRlcmFjdGlvbkRhdGE7XG5cbiAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQoaW50ZXJhY3Rpb25EYXRhLmdsb2JhbCwgcG9pbnRlckV2ZW50LmNsaWVudFgsIHBvaW50ZXJFdmVudC5jbGllbnRZKTtcblxuICAgICAgICAvLyBUaGlzIGlzIHRoZSB3YXkgSW50ZXJhY3Rpb25NYW5hZ2VyIHByb2Nlc3NlZCB0b3VjaCBldmVudHMgYmVmb3JlIHRoZSByZWZhY3RvcmluZywgc28gSSd2ZSBrZXB0XG4gICAgICAgIC8vIGl0IGhlcmUuIEJ1dCBpdCBkb2Vzbid0IG1ha2UgdGhhdCBtdWNoIHNlbnNlIHRvIG1lLCBzaW5jZSBtYXBQb3NpdGlvblRvUG9pbnQgYWxyZWFkeSBmYWN0b3JzXG4gICAgICAgIC8vIGluIHRoaXMucmVzb2x1dGlvbiwgc28gdGhpcyBqdXN0IGRpdmlkZXMgYnkgdGhpcy5yZXNvbHV0aW9uIHR3aWNlIGZvciB0b3VjaCBldmVudHMuLi5cbiAgICAgICAgaWYgKG5hdmlnYXRvci5pc0NvY29vbkpTICYmIHBvaW50ZXJFdmVudC5wb2ludGVyVHlwZSA9PT0gJ3RvdWNoJylcbiAgICAgICAge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54ID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC54IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55ID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHJlYWxseSBzdXJlIHdoeSB0aGlzIGlzIGhhcHBlbmluZywgYnV0IGl0J3MgaG93IGEgcHJldmlvdXMgdmVyc2lvbiBoYW5kbGVkIHRoaW5nc1xuICAgICAgICBpZiAocG9pbnRlckV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKVxuICAgICAgICB7XG4gICAgICAgICAgICBwb2ludGVyRXZlbnQuZ2xvYmFsWCA9IGludGVyYWN0aW9uRGF0YS5nbG9iYWwueDtcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudC5nbG9iYWxZID0gaW50ZXJhY3Rpb25EYXRhLmdsb2JhbC55O1xuICAgICAgICB9XG5cbiAgICAgICAgaW50ZXJhY3Rpb25EYXRhLm9yaWdpbmFsRXZlbnQgPSBwb2ludGVyRXZlbnQ7XG4gICAgICAgIGludGVyYWN0aW9uRXZlbnQucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gaW50ZXJhY3Rpb25FdmVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IHRoZSBvcmlnaW5hbCBldmVudCBvYmplY3QgY29udGFpbnMgYWxsIGRhdGEgdGhhdCBhIHJlZ3VsYXIgcG9pbnRlciBldmVudCB3b3VsZCBoYXZlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7VG91Y2hFdmVudHxNb3VzZUV2ZW50fFBvaW50ZXJFdmVudH0gZXZlbnQgLSBUaGUgb3JpZ2luYWwgZXZlbnQgZGF0YSBmcm9tIGEgdG91Y2ggb3IgbW91c2UgZXZlbnRcbiAgICAgKiBAcmV0dXJuIHtQb2ludGVyRXZlbnRbXX0gQW4gYXJyYXkgY29udGFpbmluZyBhIHNpbmdsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnQsIGluIHRoZSBjYXNlIG9mIGEgcG9pbnRlclxuICAgICAqICBvciBtb3VzZSBldmVudCwgb3IgYSBtdWx0aXBsZSBub3JtYWxpemVkIHBvaW50ZXIgZXZlbnRzIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSBjaGFuZ2VkIHRvdWNoZXNcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLm5vcm1hbGl6ZVRvUG9pbnRlckRhdGEgPSBmdW5jdGlvbiBub3JtYWxpemVUb1BvaW50ZXJEYXRhIChldmVudClcbiAgICB7XG4gICAgICAgIHZhciBub3JtYWxpemVkRXZlbnRzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHNUb3VjaEV2ZW50cyAmJiBldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsaSA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSA8IGxpOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV07XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmJ1dHRvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2guYnV0dG9uID0gZXZlbnQudG91Y2hlcy5sZW5ndGggPyAxIDogMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2guYnV0dG9ucyA9PT0gJ3VuZGVmaW5lZCcpIHsgdG91Y2guYnV0dG9ucyA9IGV2ZW50LnRvdWNoZXMubGVuZ3RoID8gMSA6IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaC5pc1ByaW1hcnkgPSBldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSAmJiBldmVudC50eXBlID09PSAndG91Y2hzdGFydCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gud2lkdGggPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLndpZHRoID0gdG91Y2gucmFkaXVzWCB8fCAxOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmhlaWdodCA9IHRvdWNoLnJhZGl1c1kgfHwgMTsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFggPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLnRpbHRYID0gMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gudGlsdFkgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLnRpbHRZID0gMDsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLnBvaW50ZXJUeXBlID0gJ3RvdWNoJzsgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdG91Y2gucG9pbnRlcklkID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5wb2ludGVySWQgPSB0b3VjaC5pZGVudGlmaWVyIHx8IDA7IH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvdWNoLnByZXNzdXJlID09PSAndW5kZWZpbmVkJykgeyB0b3VjaC5wcmVzc3VyZSA9IHRvdWNoLmZvcmNlIHx8IDAuNTsgfVxuICAgICAgICAgICAgICAgIHRvdWNoLnR3aXN0ID0gMDtcbiAgICAgICAgICAgICAgICB0b3VjaC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGVzZSwgYXMgbGF5ZXJYL1kgaXMgbm90IGEgc3RhbmRhcmQsIGlzIGRlcHJlY2F0ZWQsIGhhcyB1bmV2ZW5cbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0LCBhbmQgdGhlIGZpbGwgaW5zIGFyZSBub3QgcXVpdGUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICAvLyBvZmZzZXRYL1kgbWlnaHQgYmUgb2theSwgYnV0IGlzIG5vdCB0aGUgc2FtZSBhcyBjbGllbnRYL1kgd2hlbiB0aGUgY2FudmFzJ3MgdG9wXG4gICAgICAgICAgICAgICAgLy8gbGVmdCBpcyBub3QgMCwwIG9uIHRoZSBwYWdlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclggPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmxheWVyWCA9IHRvdWNoLm9mZnNldFggPSB0b3VjaC5jbGllbnRYOyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b3VjaC5sYXllclkgPT09ICd1bmRlZmluZWQnKSB7IHRvdWNoLmxheWVyWSA9IHRvdWNoLm9mZnNldFkgPSB0b3VjaC5jbGllbnRZOyB9XG5cbiAgICAgICAgICAgICAgICAvLyBtYXJrIHRoZSB0b3VjaCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgICAgICB0b3VjaC5pc05vcm1hbGl6ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50cy5wdXNoKHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhcHBhcmVudGx5IFBvaW50ZXJFdmVudCBzdWJjbGFzc2VzIE1vdXNlRXZlbnQsIHNvIHlheVxuICAgICAgICBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQgJiYgKCF0aGlzLnN1cHBvcnRzUG9pbnRlckV2ZW50cyB8fCAhKGV2ZW50IGluc3RhbmNlb2Ygd2luZG93LlBvaW50ZXJFdmVudCkpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmlzUHJpbWFyeSA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQuaXNQcmltYXJ5ID0gdHJ1ZTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC53aWR0aCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQud2lkdGggPSAxOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LmhlaWdodCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQuaGVpZ2h0ID0gMTsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC50aWx0WCA9PT0gJ3VuZGVmaW5lZCcpIHsgZXZlbnQudGlsdFggPSAwOyB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnRpbHRZID09PSAndW5kZWZpbmVkJykgeyBldmVudC50aWx0WSA9IDA7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucG9pbnRlclR5cGUgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnBvaW50ZXJUeXBlID0gJ21vdXNlJzsgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wb2ludGVySWQgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnBvaW50ZXJJZCA9IE1PVVNFX1BPSU5URVJfSUQ7IH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucHJlc3N1cmUgPT09ICd1bmRlZmluZWQnKSB7IGV2ZW50LnByZXNzdXJlID0gMC41OyB9XG4gICAgICAgICAgICBldmVudC50d2lzdCA9IDA7XG4gICAgICAgICAgICBldmVudC50YW5nZW50aWFsUHJlc3N1cmUgPSAwO1xuXG4gICAgICAgICAgICAvLyBtYXJrIHRoZSBtb3VzZSBldmVudCBhcyBub3JtYWxpemVkLCBqdXN0IHNvIHRoYXQgd2Uga25vdyB3ZSBkaWQgaXRcbiAgICAgICAgICAgIGV2ZW50LmlzTm9ybWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBub3JtYWxpemVkRXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWRFdmVudHM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBpbnRlcmFjdGlvbiBtYW5hZ2VyXG4gICAgICpcbiAgICAgKi9cbiAgICBJbnRlcmFjdGlvbk1hbmFnZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tb3VzZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5ldmVudERhdGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb25ET01FbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlckRvd24gPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyRG93biA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJVcCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvY2Vzc1BvaW50ZXJVcCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJDYW5jZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyQ2FuY2VsID0gbnVsbDtcblxuICAgICAgICB0aGlzLm9uUG9pbnRlck1vdmUgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyTW92ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdXQgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3NQb2ludGVyT3Zlck91dCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5vblBvaW50ZXJPdmVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl90ZW1wUG9pbnQgPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gSW50ZXJhY3Rpb25NYW5hZ2VyO1xufShFdmVudEVtaXR0ZXIpKTtcblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBhIHJlbmRlcmVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgbW91c2UsIHBvaW50ZXIsIGFuZCB0b3VjaCBldmVudHMuXG4gKlxuICogRG8gbm90IGluc3RhbnRpYXRlIHRoaXMgcGx1Z2luIGRpcmVjdGx5LiBJdCBpcyBhdmFpbGFibGUgZnJvbSB0aGUgYHJlbmRlcmVyLnBsdWdpbnNgIHByb3BlcnR5LlxuICogU2VlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnN9IG9yIHtAbGluayBQSVhJLlJlbmRlcmVyI3BsdWdpbnN9LlxuICogQG5hbWVzcGFjZSBQSVhJLmludGVyYWN0aW9uXG4gKi9cblxuZXhwb3J0IHsgSW50ZXJhY3Rpb25EYXRhLCBJbnRlcmFjdGlvbk1hbmFnZXIsIGludGVyYWN0aXZlVGFyZ2V0LCBJbnRlcmFjdGlvblRyYWNraW5nRGF0YSwgSW50ZXJhY3Rpb25FdmVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJhY3Rpb24uZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2xvYWRlcnMgLSB2NS4wLjAtYWxwaGEuM1xuICogQ29tcGlsZWQgVHVlLCAwMyBKdWwgMjAxOCAwNDowODoyMSBVVENcbiAqXG4gKiBAcGl4aS9sb2FkZXJzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IFJlc291cmNlTG9hZGVyLCB7IFJlc291cmNlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRlbWl0dGVyMyc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5cbmZ1bmN0aW9uIHVud3JhcEV4cG9ydHMgKHgpIHtcblx0cmV0dXJuIHggJiYgeC5fX2VzTW9kdWxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnZGVmYXVsdCcpID8geFsnZGVmYXVsdCddIDogeDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tbW9uanNNb2R1bGUoZm4sIG1vZHVsZSkge1xuXHRyZXR1cm4gbW9kdWxlID0geyBleHBvcnRzOiB7fSB9LCBmbihtb2R1bGUsIG1vZHVsZS5leHBvcnRzKSwgbW9kdWxlLmV4cG9ydHM7XG59XG5cbnZhciBwYXJzZVVyaSA9IGZ1bmN0aW9uIHBhcnNlVVJJIChzdHIsIG9wdHMpIHtcbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgdmFyIG8gPSB7XG4gICAga2V5OiBbJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXSxcbiAgICBxOiB7XG4gICAgICBuYW1lOiAncXVlcnlLZXknLFxuICAgICAgcGFyc2VyOiAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2dcbiAgICB9LFxuICAgIHBhcnNlcjoge1xuICAgICAgc3RyaWN0OiAvXig/OihbXjpcXC8/I10rKTopPyg/OlxcL1xcLygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KCgoKD86W14/I1xcL10qXFwvKSopKFtePyNdKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvLFxuICAgICAgbG9vc2U6IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pL1xuICAgIH1cbiAgfTtcblxuICB2YXIgbSA9IG8ucGFyc2VyW29wdHMuc3RyaWN0TW9kZSA/ICdzdHJpY3QnIDogJ2xvb3NlJ10uZXhlYyhzdHIpO1xuICB2YXIgdXJpID0ge307XG4gIHZhciBpID0gMTQ7XG5cbiAgd2hpbGUgKGktLSkgeyB1cmlbby5rZXlbaV1dID0gbVtpXSB8fCAnJzsgfVxuXG4gIHVyaVtvLnEubmFtZV0gPSB7fTtcbiAgdXJpW28ua2V5WzEyXV0ucmVwbGFjZShvLnEucGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkgeyB1cmlbby5xLm5hbWVdWyQxXSA9ICQyOyB9XG4gIH0pO1xuXG4gIHJldHVybiB1cmlcbn07XG5cbnZhciBtaW5pU2lnbmFscyA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIHsgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IH0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIHsgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyB9IGlmIChzdGF0aWNQcm9wcykgeyBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IH0gcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIE1pbmlTaWduYWxCaW5kaW5nID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbEJpbmRpbmcoZm4sIG9uY2UsIHRoaXNBcmcpIHtcbiAgICBpZiAob25jZSA9PT0gdW5kZWZpbmVkKSB7IG9uY2UgPSBmYWxzZTsgfVxuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1pbmlTaWduYWxCaW5kaW5nKTtcblxuICAgIHRoaXMuX2ZuID0gZm47XG4gICAgdGhpcy5fb25jZSA9IG9uY2U7XG4gICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgdGhpcy5fbmV4dCA9IHRoaXMuX3ByZXYgPSB0aGlzLl9vd25lciA9IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWluaVNpZ25hbEJpbmRpbmcsIFt7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKCkge1xuICAgICAgaWYgKHRoaXMuX293bmVyID09PSBudWxsKSB7IHJldHVybiBmYWxzZTsgfVxuICAgICAgdGhpcy5fb3duZXIuZGV0YWNoKHRoaXMpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1pbmlTaWduYWxCaW5kaW5nO1xufSkoKTtcblxuZnVuY3Rpb24gX2FkZE1pbmlTaWduYWxCaW5kaW5nKHNlbGYsIG5vZGUpIHtcbiAgaWYgKCFzZWxmLl9oZWFkKSB7XG4gICAgc2VsZi5faGVhZCA9IG5vZGU7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5fdGFpbC5fbmV4dCA9IG5vZGU7XG4gICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gIH1cblxuICBub2RlLl9vd25lciA9IHNlbGY7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbnZhciBNaW5pU2lnbmFsID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWluaVNpZ25hbCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWluaVNpZ25hbCk7XG5cbiAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNaW5pU2lnbmFsLCBbe1xuICAgIGtleTogJ2hhbmRsZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlcnMoKSB7XG4gICAgICB2YXIgZXhpc3RzID0gYXJndW1lbnRzLmxlbmd0aCA8PSAwIHx8IGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBhcmd1bWVudHNbMF07XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKGV4aXN0cykgeyByZXR1cm4gISFub2RlOyB9XG5cbiAgICAgIHZhciBlZSA9IFtdO1xuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBlZS5wdXNoKG5vZGUpO1xuICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhcyhub2RlKSB7XG4gICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgTWluaVNpZ25hbEJpbmRpbmcpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNoYXMoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBNaW5pU2lnbmFsQmluZGluZyBvYmplY3QuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub2RlLl9vd25lciA9PT0gdGhpcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkaXNwYXRjaCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcblxuICAgICAgaWYgKCFub2RlKSB7IHJldHVybiBmYWxzZTsgfVxuXG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5fb25jZSkgeyB0aGlzJDEuZGV0YWNoKG5vZGUpOyB9XG4gICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3VtZW50cyQxKTtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGFkZChmbikge1xuICAgICAgdmFyIHRoaXNBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDEgfHwgYXJndW1lbnRzWzFdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzFdO1xuXG4gICAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCBmYWxzZSwgdGhpc0FyZykpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMV07XG5cbiAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI29uY2UoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfYWRkTWluaVNpZ25hbEJpbmRpbmcodGhpcywgbmV3IE1pbmlTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGV0YWNoJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGV0YWNoKG5vZGUpIHtcbiAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBNaW5pU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIE1pbmlTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcykgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgICBpZiAobm9kZS5fcHJldikgeyBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDsgfVxuICAgICAgaWYgKG5vZGUuX25leHQpIHsgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7IH1cblxuICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgIGlmIChub2RlLl9uZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fdGFpbCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgdGhpcy5fdGFpbC5fbmV4dCA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2RldGFjaEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGRldGFjaEFsbCgpIHtcbiAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgIGlmICghbm9kZSkgeyByZXR1cm4gdGhpczsgfVxuXG4gICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTWluaVNpZ25hbDtcbn0pKCk7XG5cbk1pbmlTaWduYWwuTWluaVNpZ25hbEJpbmRpbmcgPSBNaW5pU2lnbmFsQmluZGluZztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTWluaVNpZ25hbDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xufSk7XG5cbnVud3JhcEV4cG9ydHMobWluaVNpZ25hbHMpO1xuXG52YXIgUmVzb3VyY2VfMSA9IGNyZWF0ZUNvbW1vbmpzTW9kdWxlKGZ1bmN0aW9uIChtb2R1bGUsIGV4cG9ydHMpIHtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIHsgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IH0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIHsgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyB9IGlmIChzdGF0aWNQcm9wcykgeyBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IH0gcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cblxuXG52YXIgX3BhcnNlVXJpMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocGFyc2VVcmkpO1xuXG5cblxudmFyIF9taW5pU2lnbmFsczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG1pbmlTaWduYWxzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuLy8gdGVzdHMgaXMgQ09SUyBpcyBzdXBwb3J0ZWQgaW4gWEhSLCBpZiBub3Qgd2UgbmVlZCB0byB1c2UgWERSXG52YXIgdXNlWGRyID0gISEod2luZG93LlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gbmV3IFhNTEh0dHBSZXF1ZXN0KCkpKTtcbnZhciB0ZW1wQW5jaG9yID0gbnVsbDtcblxuLy8gc29tZSBzdGF0dXMgY29uc3RhbnRzXG52YXIgU1RBVFVTX05PTkUgPSAwO1xudmFyIFNUQVRVU19PSyA9IDIwMDtcbnZhciBTVEFUVVNfRU1QVFkgPSAyMDQ7XG52YXIgU1RBVFVTX0lFX0JVR19FTVBUWSA9IDEyMjM7XG52YXIgU1RBVFVTX1RZUEVfT0sgPSAyO1xuXG4vLyBub29wXG5mdW5jdGlvbiBfbm9vcCgpIHt9IC8qIGVtcHR5ICovXG5cbi8qKlxuICogTWFuYWdlcyB0aGUgc3RhdGUgYW5kIGxvYWRpbmcgb2YgYSByZXNvdXJjZSBhbmQgYWxsIGNoaWxkIHJlc291cmNlcy5cbiAqXG4gKiBAY2xhc3NcbiAqL1xuXG52YXIgUmVzb3VyY2UkJDEgPSBmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbG9hZCB0eXBlIHRvIGJlIHVzZWQgZm9yIGEgc3BlY2lmaWMgZXh0ZW5zaW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBsb2FkVHlwZSAtIFRoZSBsb2FkIHR5cGUgdG8gc2V0IGl0IHRvLlxuICAgICAqL1xuICAgIFJlc291cmNlJCQxLnNldEV4dGVuc2lvbkxvYWRUeXBlID0gZnVuY3Rpb24gc2V0RXh0ZW5zaW9uTG9hZFR5cGUoZXh0bmFtZSwgbG9hZFR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlJCQxLl9sb2FkVHlwZU1hcCwgZXh0bmFtZSwgbG9hZFR5cGUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAgICovXG5cblxuICAgIFJlc291cmNlJCQxLnNldEV4dGVuc2lvblhoclR5cGUgPSBmdW5jdGlvbiBzZXRFeHRlbnNpb25YaHJUeXBlKGV4dG5hbWUsIHhoclR5cGUpIHtcbiAgICAgICAgc2V0RXh0TWFwKFJlc291cmNlJCQxLl94aHJUeXBlTWFwLCBleHRuYW1lLCB4aHJUeXBlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuTE9BRF9UWVBFfSBbb3B0aW9ucy5sb2FkVHlwZT1SZXNvdXJjZS5MT0FEX1RZUEUuWEhSXSAtIEhvdyBzaG91bGQgdGhpcyByZXNvdXJjZVxuICAgICAqICAgICAgYmUgbG9hZGVkP1xuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zLm1ldGFkYXRhXSAtIEV4dHJhIGNvbmZpZ3VyYXRpb24gZm9yIG1pZGRsZXdhcmUgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW29wdGlvbnMubWV0YWRhdGEubG9hZEVsZW1lbnQ9bnVsbF0gLSBUaGVcbiAgICAgKiAgICAgIGVsZW1lbnQgdG8gdXNlIGZvciBsb2FkaW5nLCBpbnN0ZWFkIG9mIGNyZWF0aW5nIG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLm1ldGFkYXRhLnNraXBTb3VyY2U9ZmFsc2VdIC0gU2tpcHMgYWRkaW5nIHNvdXJjZShzKSB0byB0aGUgbG9hZCBlbGVtZW50LiBUaGlzXG4gICAgICogICAgICBpcyB1c2VmdWwgaWYgeW91IHdhbnQgdG8gcGFzcyBpbiBhIGBsb2FkRWxlbWVudGAgdGhhdCB5b3UgYWxyZWFkeSBhZGRlZCBsb2FkIHNvdXJjZXMgdG8uXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IFtvcHRpb25zLm1ldGFkYXRhLm1pbWVUeXBlXSAtIFRoZSBtaW1lIHR5cGUgdG8gdXNlIGZvciB0aGUgc291cmNlIGVsZW1lbnQgb2YgYSB2aWRlby9hdWRpb1xuICAgICAqICAgICAgZWxtZW50LiBJZiB0aGUgdXJscyBhcmUgYW4gYXJyYXksIHlvdSBjYW4gcGFzcyB0aGlzIGFzIGFuIGFycmF5IGFzIHdlbGwgd2hlcmUgZWFjaCBpbmRleCBpcyB0aGUgbWltZSB0eXBlIHRvXG4gICAgICogICAgICB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICAgKi9cblxuXG4gICAgZnVuY3Rpb24gUmVzb3VyY2UkJDEobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNvdXJjZSQkMSk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCB0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIG5hbWUgYW5kIHVybCBhcmUgcmVxdWlyZWQgZm9yIGNvbnN0cnVjdGluZyBhIHJlc291cmNlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzdGF0ZSBmbGFncyBvZiB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mbGFncyA9IDA7XG5cbiAgICAgICAgLy8gc2V0IGRhdGEgdXJsIGZsYWcsIG5lZWRzIHRvIGJlIHNldCBlYXJseSBmb3Igc29tZSBfZGV0ZXJtaW5lWCBjaGVja3MgdG8gd29yay5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZSQkMS5TVEFUVVNfRkxBR1MuREFUQV9VUkwsIHVybC5pbmRleE9mKCdkYXRhOicpID09PSAwKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB1cmwgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGV4dGVuc2lvbiB1c2VkIHRvIGxvYWQgdGhpcyByZXNvdXJjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5fZ2V0RXh0ZW5zaW9uKCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkYXRhIHRoYXQgd2FzIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2FueX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGF0YSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSBvcHRpb25zLmNyb3NzT3JpZ2luID09PSB0cnVlID8gJ2Fub255bW91cycgOiBvcHRpb25zLmNyb3NzT3JpZ2luO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWV0aG9kIG9mIGxvYWRpbmcgdG8gdXNlIGZvciB0aGlzIHJlc291cmNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5MT0FEX1RZUEV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAgICAgKiBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICAgICAqIEBwcm9wZXJ0eSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQXVkaW9FbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IFtsb2FkRWxlbWVudD1udWxsXSAtIFRoZVxuICAgICAgICAgKiAgZWxlbWVudCB0byB1c2UgZm9yIGxvYWRpbmcsIGluc3RlYWQgb2YgY3JlYXRpbmcgb25lLlxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtza2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgICAgICAgKiAgaXMgdXNlZnVsIGlmIHlvdSB3YW50IHRvIHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgIHRoYXQgeW91IGFscmVhZHkgYWRkZWQgbG9hZCBzb3VyY2VzXG4gICAgICAgICAqICB0by5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBvcHRpb25zLm1ldGFkYXRhIHx8IHt9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZCB3aGlsZSBsb2FkaW5nIChpZiBhbnkpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtFcnJvcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmVycm9yID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFhIUiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBsb2FkIHRoaXMgcmVzb3VyY2UuIFRoaXMgaXMgb25seSBzZXRcbiAgICAgICAgICogd2hlbiBgbG9hZFR5cGVgIGlzIGBSZXNvdXJjZS5MT0FEX1RZUEUuWEhSYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7WE1MSHR0cFJlcXVlc3R9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54aHIgPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2hpbGQgcmVzb3VyY2VzIHRoaXMgcmVzb3VyY2Ugb3ducy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UmVzb3VyY2VbXX1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZXNvdXJjZSB0eXBlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtSZXNvdXJjZS5UWVBFfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlJCQxLlRZUEUuVU5LTk9XTjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzQ2h1bmsgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAgICAgKiB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtmdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RlcXVldWUgPSBfbm9vcDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge2Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblByb2dyZXNzYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7ZnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8geGhyIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uRXJyb3IgPSB0aGlzLl94aHJPbkVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25BYm9ydCA9IHRoaXMuX3hock9uQWJvcnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkxvYWQgPSB0aGlzLl94aHJPbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRYZHJPblRpbWVvdXQgPSB0aGlzLl94ZHJPblRpbWVvdXQuYmluZCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2hlZCB3aGVuIHRoZSByZXNvdXJjZSBiZWluZ3MgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uU3RhcnRTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgZWFjaCB0aW1lIHByb2dyZXNzIG9mIHRoaXMgcmVzb3VyY2UgbG9hZCB1cGRhdGVzLlxuICAgICAgICAgKiBOb3QgYWxsIHJlc291cmNlcyB0eXBlcyBhbmQgbG9hZGVyIHN5c3RlbXMgY2FuIHN1cHBvcnQgdGhpcyBldmVudFxuICAgICAgICAgKiBzbyBzb21ldGltZXMgaXQgbWF5IG5vdCBiZSBhdmFpbGFibGUuIElmIHRoZSByZXNvdXJjZVxuICAgICAgICAgKiBpcyBiZWluZyBsb2FkZWQgb24gYSBtb2Rlcm4gYnJvd3NlciwgdXNpbmcgWEhSLCBhbmQgdGhlIHJlbW90ZSBzZXJ2ZXJcbiAgICAgICAgICogcHJvcGVybHkgc2V0cyBDb250ZW50LUxlbmd0aCBoZWFkZXJzLCB0aGVuIHRoaXMgd2lsbCBiZSBhdmFpbGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayBsb29rcyBsaWtlIHtAbGluayBSZXNvdXJjZS5PblByb2dyZXNzU2lnbmFsfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7U2lnbmFsfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAgICAgKiBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUgPSBuZXcgX21pbmlTaWduYWxzMi5kZWZhdWx0KCk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3BhdGNoZWQgYWZ0ZXIgdGhpcyByZXNvdXJjZSBoYXMgaGFkIGFsbCB0aGUgKmFmdGVyKiBtaWRkbGV3YXJlIHJ1biBvbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGNhbGxiYWNrIGxvb2tzIGxpa2Uge0BsaW5rIFJlc291cmNlLk9uQ29tcGxldGVTaWduYWx9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtTaWduYWx9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm9uQWZ0ZXJNaWRkbGV3YXJlID0gbmV3IF9taW5pU2lnbmFsczIuZGVmYXVsdCgpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlcm9mIFJlc291cmNlXG4gICAgICAgICAqIEBjYWxsYmFjayBPblN0YXJ0U2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7UmVzb3VyY2V9IHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgdGhlIGV2ZW50IGhhcHBlbmVkIG9uLlxuICAgICAgICAgKi9cblxuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcmVzb3VyY2UgcmVwb3J0cyBsb2FkaW5nIHByb2dyZXNzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uUHJvZ3Jlc3NTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBmaW5pc2hlcyBsb2FkaW5nLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtSZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqL1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyB3aGV0aGVyIG9yIG5vdCB0aGlzIHVybCBpcyBhIGRhdGEgdXJsLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKi9cblxuXG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIHJlc291cmNlIGFzIGNvbXBsZXRlLlxuICAgICAqXG4gICAgICovXG4gICAgUmVzb3VyY2UkJDEucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICAgIC8vIFRPRE86IENsZWFuIHRoaXMgdXAgaW4gYSB3cmFwcGVyIG9yIHNvbWV0aGluZy4uLmdyb3NzLi4uLlxuICAgICAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9udGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25wcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcGxldGUgY2FsbGVkIGFnYWluIGZvciBhbiBhbHJlYWR5IGNvbXBsZXRlZCByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NldEZsYWcoUmVzb3VyY2UkJDEuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFLCB0cnVlKTtcbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZSQkMS5TVEFUVVNfRkxBR1MuTE9BRElORywgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMub25Db21wbGV0ZS5kaXNwYXRjaCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWJvcnRzIHRoZSBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UsIHdpdGggYW4gb3B0aW9uYWwgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gdXNlIGZvciB0aGUgZXJyb3JcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UkJDEucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gYWJvcnQobWVzc2FnZSkge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICAvLyBhYm9ydCBjYW4gYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLCBpZ25vcmUgc3Vic2VxdWVudCBjYWxscy5cbiAgICAgICAgaWYgKHRoaXMuZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3JlIGVycm9yXG4gICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG5cbiAgICAgICAgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnhkcikge1xuICAgICAgICAgICAgdGhpcy54ZHIuYWJvcnQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IFJlc291cmNlJCQxLkVNUFRZX0dJRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG11bHRpLXNvdXJjZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGEuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyQxLmRhdGEucmVtb3ZlQ2hpbGQodGhpcyQxLmRhdGEuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkb25lIG5vdy5cbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBLaWNrcyBvZmYgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLiBUaGlzIG1ldGhvZCBpcyBhc3luY2hyb25vdXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2JdIC0gT3B0aW9uYWwgY2FsbGJhY2sgdG8gY2FsbCBvbmNlIHRoZSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlJCQxLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gbG9hZChjYikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYihfdGhpcyk7XG4gICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2V0RmxhZyhSZXNvdXJjZSQkMS5TVEFUVVNfRkxBR1MuTE9BRElORywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5vblN0YXJ0LmRpc3BhdGNoKHRoaXMpO1xuXG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luID09PSBmYWxzZSB8fCB0eXBlb2YgdGhpcy5jcm9zc09yaWdpbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSB0aGlzLl9kZXRlcm1pbmVDcm9zc09yaWdpbih0aGlzLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRoaXMubG9hZFR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UkJDEuTE9BRF9UWVBFLklNQUdFOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlJCQxLlRZUEUuSU1BR0U7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZEVsZW1lbnQoJ2ltYWdlJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UkJDEuTE9BRF9UWVBFLkFVRElPOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlJCQxLlRZUEUuQVVESU87XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ2F1ZGlvJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UkJDEuTE9BRF9UWVBFLlZJREVPOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IFJlc291cmNlJCQxLlRZUEUuVklERU87XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UkJDEuTE9BRF9UWVBFLlhIUjpcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKHVzZVhkciAmJiB0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRYZHIoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkWGhyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmbGFnIC0gVGhlIGZsYWcgdG8gY2hlY2suXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZmxhZyBpcyBzZXQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlJCQxLnByb3RvdHlwZS5faGFzRmxhZyA9IGZ1bmN0aW9uIF9oYXNGbGFnKGZsYWcpIHtcbiAgICAgICAgcmV0dXJuICEhKHRoaXMuX2ZsYWdzICYgZmxhZyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIChVbilTZXRzIHRoZSBmbGFnLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZmxhZyAtIFRoZSBmbGFnIHRvICh1bilzZXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSAtIFdoZXRoZXIgdG8gc2V0IG9yICh1bilzZXQgdGhlIGZsYWcuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlJCQxLnByb3RvdHlwZS5fc2V0RmxhZyA9IGZ1bmN0aW9uIF9zZXRGbGFnKGZsYWcsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2ZsYWdzID0gdmFsdWUgPyB0aGlzLl9mbGFncyB8IGZsYWcgOiB0aGlzLl9mbGFncyAmIH5mbGFnO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIGEgc2luZ2xlIHNvdXJjZSxcbiAgICAgKiBsaWtlIGFuIEhUTUxJbWFnZUVsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudCB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlJCQxLnByb3RvdHlwZS5fbG9hZEVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZEVsZW1lbnQodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnaW1hZ2UnICYmIHR5cGVvZiB3aW5kb3cuSW1hZ2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gdGhpcy51cmw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZE9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBlbGVtZW50IHRoYXQgaGFzIG11bHRpcGxlIHNvdXJjZXMsXG4gICAgICogbGlrZSBhbiBIVE1MQXVkaW9FbGVtZW50IG9yIEhUTUxWaWRlb0VsZW1lbnQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudCB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlJCQxLnByb3RvdHlwZS5fbG9hZFNvdXJjZUVsZW1lbnQgPSBmdW5jdGlvbiBfbG9hZFNvdXJjZUVsZW1lbnQodHlwZSkge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnYXVkaW8nICYmIHR5cGVvZiB3aW5kb3cuQXVkaW8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXcgQXVkaW8oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodHlwZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5kYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCdVbnN1cHBvcnRlZCBlbGVtZW50OiAnICsgdHlwZSk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAgICAgICAvLyBzdXBwb3J0IGZvciBDb2Nvb25KUyBDYW52YXMrIHJ1bnRpbWUsIGxhY2tzIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gQXJyYXkuaXNBcnJheSh0aGlzLnVybCkgPyB0aGlzLnVybFswXSA6IHRoaXMudXJsO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRoaXMudXJsKSkge1xuICAgICAgICAgICAgICAgIHZhciBtaW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnVybC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzJDEuZGF0YS5hcHBlbmRDaGlsZCh0aGlzJDEuX2NyZWF0ZVNvdXJjZSh0eXBlLCB0aGlzJDEudXJsW2ldLCBBcnJheS5pc0FycmF5KG1pbWVUeXBlcykgPyBtaW1lVHlwZXNbaV0gOiBtaW1lVHlwZXMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBfbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmwsIEFycmF5LmlzQXJyYXkoX21pbWVUeXBlcykgPyBfbWltZVR5cGVzWzBdIDogX21pbWVUeXBlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgdGhpcy5fYm91bmRDb21wbGV0ZSwgZmFsc2UpO1xuXG4gICAgICAgIHRoaXMuZGF0YS5sb2FkKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhNTEh0dHBSZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UkJDEucHJvdG90eXBlLl9sb2FkWGhyID0gZnVuY3Rpb24gX2xvYWRYaHIoKSB7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gc2V0IHRoZSByZXF1ZXN0IHR5cGUgYW5kIHVybFxuICAgICAgICB4aHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgICAgIC8vICpjb3VnaCogc2FmYXJpICpjb3VnaCogY2FuJ3QgZGVhbCB3aXRoIGl0LlxuICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OIHx8IHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHRoaXMueGhyVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kWGhyT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCB0aGlzLl9ib3VuZFhock9uQWJvcnQsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdGhpcy5fYm91bmRYaHJPbkxvYWQsIGZhbHNlKTtcblxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGlzIHJlc291cmNlcyB1c2luZyBhbiBYRG9tYWluUmVxdWVzdC4gVGhpcyBpcyBoZXJlIGJlY2F1c2Ugd2UgbmVlZCB0byBzdXBwb3J0IElFOSAoZ3Jvc3MpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UkJDEucHJvdG90eXBlLl9sb2FkWGRyID0gZnVuY3Rpb24gX2xvYWRYZHIoKSB7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHhkciA9IHRoaXMueGhyID0gbmV3IFhEb21haW5SZXF1ZXN0KCk7XG5cbiAgICAgICAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmV3IHF1aXJrcy4gT2NjYXNpb25hbGx5IGl0IHdpbGwgYWJvcnQgcmVxdWVzdHNcbiAgICAgICAgLy8gQSB3YXkgdG8gYXZvaWQgdGhpcyBpcyB0byBtYWtlIHN1cmUgQUxMIGNhbGxiYWNrcyBhcmUgc2V0IGV2ZW4gaWYgbm90IHVzZWRcbiAgICAgICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU3ODY5NjYveGRvbWFpbnJlcXVlc3QtYWJvcnRzLXBvc3Qtb24taWUtOVxuICAgICAgICB4ZHIudGltZW91dCA9IDUwMDA7XG5cbiAgICAgICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgICAgIHhkci5vbnRpbWVvdXQgPSB0aGlzLl9ib3VuZFhkck9uVGltZW91dDtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcblxuICAgICAgICB4ZHIub3BlbignR0VUJywgdGhpcy51cmwsIHRydWUpO1xuXG4gICAgICAgIC8vIE5vdGU6IFRoZSB4ZHIuc2VuZCgpIGNhbGwgaXMgd3JhcHBlZCBpbiBhIHRpbWVvdXQgdG8gcHJldmVudCBhblxuICAgICAgICAvLyBpc3N1ZSB3aXRoIHRoZSBpbnRlcmZhY2Ugd2hlcmUgc29tZSByZXF1ZXN0cyBhcmUgbG9zdCBpZiBtdWx0aXBsZVxuICAgICAgICAvLyBYRG9tYWluUmVxdWVzdHMgYXJlIGJlaW5nIHNlbnQgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAgICAgLy8gU29tZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9waG90b25zdG9ybS9waGFzZXIvaXNzdWVzLzEyNDhcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4geGRyLnNlbmQoKTtcbiAgICAgICAgfSwgMSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzb3VyY2UgdXNlZCBpbiBsb2FkaW5nIHZpYSBhbiBlbGVtZW50LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSAtIFRoZSBlbGVtZW50IHR5cGUgKHZpZGVvIG9yIGF1ZGlvKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHNvdXJjZSBVUkwgdG8gbG9hZCBmcm9tLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbWltZV0gLSBUaGUgbWltZSB0eXBlIG9mIHRoZSB2aWRlb1xuICAgICAqIEByZXR1cm4ge0hUTUxTb3VyY2VFbGVtZW50fSBUaGUgc291cmNlIGVsZW1lbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlJCQxLnByb3RvdHlwZS5fY3JlYXRlU291cmNlID0gZnVuY3Rpb24gX2NyZWF0ZVNvdXJjZSh0eXBlLCB1cmwsIG1pbWUpIHtcbiAgICAgICAgaWYgKCFtaW1lKSB7XG4gICAgICAgICAgICBtaW1lID0gdHlwZSArICcvJyArIHRoaXMuX2dldEV4dGVuc2lvbih1cmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHNvdXJjZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpO1xuXG4gICAgICAgIHNvdXJjZS5zcmMgPSB1cmw7XG4gICAgICAgIHNvdXJjZS50eXBlID0gbWltZTtcblxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSBsb2FkIGVycm9ycyBvdXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBlcnJvciBldmVudCBmcm9tIHRoZSBlbGVtZW50IHRoYXQgZW1pdHMgaXQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UkJDEucHJvdG90eXBlLl9vbkVycm9yID0gZnVuY3Rpb24gX29uRXJyb3IoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5hYm9ydCgnRmFpbGVkIHRvIGxvYWQgZWxlbWVudCB1c2luZzogJyArIGV2ZW50LnRhcmdldC5ub2RlTmFtZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhIGxvYWQgcHJvZ3Jlc3MgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RQcm9ncmVzc0V2ZW50fEV2ZW50fSBldmVudCAtIFByb2dyZXNzIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZSQkMS5wcm90b3R5cGUuX29uUHJvZ3Jlc3MgPSBmdW5jdGlvbiBfb25Qcm9ncmVzcyhldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQgJiYgZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKHRoaXMsIGV2ZW50LmxvYWRlZCAvIGV2ZW50LnRvdGFsKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3RFcnJvckV2ZW50fEV2ZW50fSBldmVudCAtIEVycm9yIGV2ZW50LlxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZSQkMS5wcm90b3R5cGUuX3hock9uRXJyb3IgPSBmdW5jdGlvbiBfeGhyT25FcnJvcigpIHtcbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyO1xuXG4gICAgICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgJyBSZXF1ZXN0IGZhaWxlZC4gU3RhdHVzOiAnICsgeGhyLnN0YXR1cyArICcsIHRleHQ6IFwiJyArIHhoci5zdGF0dXNUZXh0ICsgJ1wiJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCBpZiBhbiBhYm9ydCBldmVudCBmaXJlcyBmb3IgeGhyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0QWJvcnRFdmVudH0gZXZlbnQgLSBBYm9ydCBFdmVudFxuICAgICAqL1xuXG5cbiAgICBSZXNvdXJjZSQkMS5wcm90b3R5cGUuX3hock9uQWJvcnQgPSBmdW5jdGlvbiBfeGhyT25BYm9ydCgpIHtcbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHRoaXMueGhyKSArICcgUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci4nKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgdGltZW91dCBldmVudCBmaXJlcyBmb3IgeGRyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRpbWVvdXQgZXZlbnQuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlJCQxLnByb3RvdHlwZS5feGRyT25UaW1lb3V0ID0gZnVuY3Rpb24gX3hkck9uVGltZW91dCgpIHtcbiAgICAgICAgdGhpcy5hYm9ydChyZXFUeXBlKHRoaXMueGhyKSArICcgUmVxdWVzdCB0aW1lZCBvdXQuJyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIGRhdGEgc3VjY2Vzc2Z1bGx5IGxvYWRzIGZyb20gYW4geGhyL3hkciByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0TG9hZEV2ZW50fEV2ZW50fSBldmVudCAtIExvYWQgZXZlbnRcbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UkJDEucHJvdG90eXBlLl94aHJPbkxvYWQgPSBmdW5jdGlvbiBfeGhyT25Mb2FkKCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgICAgIHZhciB0ZXh0ID0gJyc7XG4gICAgICAgIHZhciBzdGF0dXMgPSB0eXBlb2YgeGhyLnN0YXR1cyA9PT0gJ3VuZGVmaW5lZCcgPyBTVEFUVVNfT0sgOiB4aHIuc3RhdHVzOyAvLyBYRFIgaGFzIG5vIGAuc3RhdHVzYCwgYXNzdW1lIDIwMC5cblxuICAgICAgICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB4aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgdHlwZW9mIHhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0YXR1cyBjYW4gYmUgMCB3aGVuIHVzaW5nIHRoZSBgZmlsZTovL2AgcHJvdG9jb2wgc28gd2UgYWxzbyBjaGVjayBpZiBhIHJlc3BvbnNlIGlzIHNldC5cbiAgICAgICAgLy8gSWYgaXQgaGFzIGEgcmVzcG9uc2UsIHdlIGFzc3VtZSAyMDA7IG90aGVyd2lzZSBhIDAgc3RhdHVzIGNvZGUgd2l0aCBubyBjb250ZW50cyBpcyBhbiBhYm9ydGVkIHJlcXVlc3QuXG4gICAgICAgIGlmIChzdGF0dXMgPT09IFNUQVRVU19OT05FICYmICh0ZXh0Lmxlbmd0aCA+IDAgfHwgeGhyLnJlc3BvbnNlVHlwZSA9PT0gUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSKSkge1xuICAgICAgICAgICAgc3RhdHVzID0gU1RBVFVTX09LO1xuICAgICAgICB9XG4gICAgICAgIC8vIGhhbmRsZSBJRTkgYnVnOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwMDQ2OTcyL21zaWUtcmV0dXJucy1zdGF0dXMtY29kZS1vZi0xMjIzLWZvci1hamF4LXJlcXVlc3RcbiAgICAgICAgZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfSUVfQlVHX0VNUFRZKSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzID0gU1RBVFVTX0VNUFRZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdGF0dXNUeXBlID0gc3RhdHVzIC8gMTAwIHwgMDtcblxuICAgICAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgICAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZSQkMS5UWVBFLlRFWFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IFJlc291cmNlJCQxLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBSZXNvdXJjZSQkMS5UWVBFLkpTT047XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSBsb2FkZWQganNvbjogJyArIGUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgeG1sLCBwYXJzZSBpbnRvIGFuIHhtbCBkb2N1bWVudCBvciBkaXYgZWxlbWVudFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMueGhyVHlwZSA9PT0gUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5ET01QYXJzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRvbXBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkb21wYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L3htbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gdGV4dDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBkaXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlID0gUmVzb3VyY2UkJDEuVFlQRS5YTUw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hYm9ydCgnRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGxvYWRlZCB4bWw6ICcgKyBlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBvdGhlciB0eXBlcyBqdXN0IHJldHVybiB0aGUgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0geGhyLnJlc3BvbnNlIHx8IHRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCdbJyArIHhoci5zdGF0dXMgKyAnXSAnICsgeGhyLnN0YXR1c1RleHQgKyAnOiAnICsgeGhyLnJlc3BvbnNlVVJMKTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb21wbGV0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBgY3Jvc3NPcmlnaW5gIHByb3BlcnR5IGZvciB0aGlzIHJlc291cmNlIGJhc2VkIG9uIGlmIHRoZSB1cmxcbiAgICAgKiBmb3IgdGhpcyByZXNvdXJjZSBpcyBjcm9zcy1vcmlnaW4uIElmIGNyb3NzT3JpZ2luIHdhcyBtYW51YWxseSBzZXQsIHRoaXNcbiAgICAgKiBmdW5jdGlvbiBkb2VzIG5vdGhpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtsb2M9d2luZG93LmxvY2F0aW9uXSAtIFRoZSBsb2NhdGlvbiBvYmplY3QgdG8gdGVzdCBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNyb3NzT3JpZ2luIHZhbHVlIHRvIHVzZSAob3IgZW1wdHkgc3RyaW5nIGZvciBub25lKS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UkJDEucHJvdG90eXBlLl9kZXRlcm1pbmVDcm9zc09yaWdpbiA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVDcm9zc09yaWdpbih1cmwsIGxvYykge1xuICAgICAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgICAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRlZmF1bHQgaXMgd2luZG93LmxvY2F0aW9uXG4gICAgICAgIGxvYyA9IGxvYyB8fCB3aW5kb3cubG9jYXRpb247XG5cbiAgICAgICAgaWYgKCF0ZW1wQW5jaG9yKSB7XG4gICAgICAgICAgICB0ZW1wQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbGV0IHRoZSBicm93c2VyIGRldGVybWluZSB0aGUgZnVsbCBocmVmIGZvciB0aGUgdXJsIG9mIHRoaXMgcmVzb3VyY2UgYW5kIHRoZW5cbiAgICAgICAgLy8gcGFyc2Ugd2l0aCB0aGUgbm9kZSB1cmwgbGliLCB3ZSBjYW4ndCB1c2UgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGFuY2hvciBlbGVtZW50XG4gICAgICAgIC8vIGJlY2F1c2UgdGhleSBkb24ndCB3b3JrIGluIElFOSA6KFxuICAgICAgICB0ZW1wQW5jaG9yLmhyZWYgPSB1cmw7XG4gICAgICAgIHVybCA9ICgwLCBfcGFyc2VVcmkyLmRlZmF1bHQpKHRlbXBBbmNob3IuaHJlZiwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuXG4gICAgICAgIHZhciBzYW1lUG9ydCA9ICF1cmwucG9ydCAmJiBsb2MucG9ydCA9PT0gJycgfHwgdXJsLnBvcnQgPT09IGxvYy5wb3J0O1xuICAgICAgICB2YXIgcHJvdG9jb2wgPSB1cmwucHJvdG9jb2wgPyB1cmwucHJvdG9jb2wgKyAnOicgOiAnJztcblxuICAgICAgICAvLyBpZiBjcm9zcyBvcmlnaW5cbiAgICAgICAgaWYgKHVybC5ob3N0ICE9PSBsb2MuaG9zdG5hbWUgfHwgIXNhbWVQb3J0IHx8IHByb3RvY29sICE9PSBsb2MucHJvdG9jb2wpIHtcbiAgICAgICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgcmVzcG9uc2VUeXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSBleHRlbnNpb24gb2YgdGhlXG4gICAgICogcmVzb3VyY2UgYmVpbmcgbG9hZGVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0gVGhlIHJlc3BvbnNlVHlwZSB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlJCQxLnByb3RvdHlwZS5fZGV0ZXJtaW5lWGhyVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVYaHJUeXBlKCkge1xuICAgICAgICByZXR1cm4gUmVzb3VyY2UkJDEuX3hoclR5cGVNYXBbdGhpcy5leHRlbnNpb25dIHx8IFJlc291cmNlJCQxLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIGxvYWRUeXBlIG9mIGEgcmVzb3VyY2UgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Jlc291cmNlLkxPQURfVFlQRX0gVGhlIGxvYWRUeXBlIHRvIHVzZS5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UkJDEucHJvdG90eXBlLl9kZXRlcm1pbmVMb2FkVHlwZSA9IGZ1bmN0aW9uIF9kZXRlcm1pbmVMb2FkVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlJCQxLl9sb2FkVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgUmVzb3VyY2UkJDEuTE9BRF9UWVBFLlhIUjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIGV4dGVuc2lvbiAoc2FucyAnLicpIG9mIHRoZSBmaWxlIGJlaW5nIGxvYWRlZCBieSB0aGUgcmVzb3VyY2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGV4dGVuc2lvbi5cbiAgICAgKi9cblxuXG4gICAgUmVzb3VyY2UkJDEucHJvdG90eXBlLl9nZXRFeHRlbnNpb24gPSBmdW5jdGlvbiBfZ2V0RXh0ZW5zaW9uKCkge1xuICAgICAgICB2YXIgdXJsID0gdGhpcy51cmw7XG4gICAgICAgIHZhciBleHQgPSAnJztcblxuICAgICAgICBpZiAodGhpcy5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIHZhciBzbGFzaEluZGV4ID0gdXJsLmluZGV4T2YoJy8nKTtcblxuICAgICAgICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgdXJsLmluZGV4T2YoJzsnLCBzbGFzaEluZGV4KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICAgICAgICB2YXIgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IE1hdGgubWluKHF1ZXJ5U3RhcnQgPiAtMSA/IHF1ZXJ5U3RhcnQgOiB1cmwubGVuZ3RoLCBoYXNoU3RhcnQgPiAtMSA/IGhhc2hTdGFydCA6IHVybC5sZW5ndGgpO1xuXG4gICAgICAgICAgICB1cmwgPSB1cmwuc3Vic3RyaW5nKDAsIGluZGV4KTtcbiAgICAgICAgICAgIGV4dCA9IHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBleHQudG9Mb3dlckNhc2UoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbWltZSB0eXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSByZXNwb25zZVR5cGUgb2ZcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IHR5cGUgLSBUaGUgdHlwZSB0byBnZXQgYSBtaW1lIHR5cGUgZm9yLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIG1pbWUgdHlwZSB0byB1c2UuXG4gICAgICovXG5cblxuICAgIFJlc291cmNlJCQxLnByb3RvdHlwZS5fZ2V0TWltZUZyb21YaHJUeXBlID0gZnVuY3Rpb24gX2dldE1pbWVGcm9tWGhyVHlwZSh0eXBlKSB7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5CVUZGRVI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9vY3RldC1iaW5hcnknO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlJCQxLlhIUl9SRVNQT05TRV9UWVBFLkJMT0I6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9ibG9iJztcblxuICAgICAgICAgICAgY2FzZSBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL3htbCc7XG5cbiAgICAgICAgICAgIGNhc2UgUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2pzb24nO1xuXG4gICAgICAgICAgICBjYXNlIFJlc291cmNlJCQxLlhIUl9SRVNQT05TRV9UWVBFLkRFRkFVTFQ6XG4gICAgICAgICAgICBjYXNlIFJlc291cmNlJCQxLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQ6XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAndGV4dC9wbGFpbic7XG5cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBfY3JlYXRlQ2xhc3MoUmVzb3VyY2UkJDEsIFt7XG4gICAgICAgIGtleTogJ2lzRGF0YVVybCcsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UkJDEuU1RBVFVTX0ZMQUdTLkRBVEFfVVJMKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBoYXMgZmluaXNoZWQgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBoYXMgY29tcGxldGVseVxuICAgICAgICAgKiBsb2FkZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaXNDb21wbGV0ZScsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoUmVzb3VyY2UkJDEuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNjcmliZXMgaWYgdGhpcyByZXNvdXJjZSBpcyBjdXJyZW50bHkgbG9hZGluZy4gSXMgdHJ1ZSB3aGVuIHRoZSByZXNvdXJjZSBzdGFydHMgbG9hZGluZyxcbiAgICAgICAgICogYW5kIGlzIGZhbHNlIGFnYWluIHdoZW4gY29tcGxldGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaXNMb2FkaW5nJyxcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGFzRmxhZyhSZXNvdXJjZSQkMS5TVEFUVVNfRkxBR1MuTE9BRElORyk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gUmVzb3VyY2UkJDE7XG59KCk7XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblxuXG5leHBvcnRzLmRlZmF1bHQgPSBSZXNvdXJjZSQkMTtcblJlc291cmNlJCQxLlNUQVRVU19GTEFHUyA9IHtcbiAgICBOT05FOiAwLFxuICAgIERBVEFfVVJMOiAxIDw8IDAsXG4gICAgQ09NUExFVEU6IDEgPDwgMSxcbiAgICBMT0FESU5HOiAxIDw8IDJcbn07XG5cbi8qKlxuICogVGhlIHR5cGVzIG9mIHJlc291cmNlcyBhIHJlc291cmNlIGNvdWxkIHJlcHJlc2VudC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlJCQxLlRZUEUgPSB7XG4gICAgVU5LTk9XTjogMCxcbiAgICBKU09OOiAxLFxuICAgIFhNTDogMixcbiAgICBJTUFHRTogMyxcbiAgICBBVURJTzogNCxcbiAgICBWSURFTzogNSxcbiAgICBURVhUOiA2XG59O1xuXG4vKipcbiAqIFRoZSB0eXBlcyBvZiBsb2FkaW5nIGEgcmVzb3VyY2UgY2FuIHVzZS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKi9cblJlc291cmNlJCQxLkxPQURfVFlQRSA9IHtcbiAgICAvKiogVXNlcyBYTUxIdHRwUmVxdWVzdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBYSFI6IDEsXG4gICAgLyoqIFVzZXMgYW4gYEltYWdlYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgSU1BR0U6IDIsXG4gICAgLyoqIFVzZXMgYW4gYEF1ZGlvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgQVVESU86IDMsXG4gICAgLyoqIFVzZXMgYSBgVmlkZW9gIG9iamVjdCB0byBsb2FkIHRoZSByZXNvdXJjZS4gKi9cbiAgICBWSURFTzogNFxufTtcblxuLyoqXG4gKiBUaGUgWEhSIHJlYWR5IHN0YXRlcywgdXNlZCBpbnRlcm5hbGx5LlxuICpcbiAqIEBzdGF0aWNcbiAqIEByZWFkb25seVxuICogQGVudW0ge3N0cmluZ31cbiAqL1xuUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUgPSB7XG4gICAgLyoqIHN0cmluZyAqL1xuICAgIERFRkFVTFQ6ICd0ZXh0JyxcbiAgICAvKiogQXJyYXlCdWZmZXIgKi9cbiAgICBCVUZGRVI6ICdhcnJheWJ1ZmZlcicsXG4gICAgLyoqIEJsb2IgKi9cbiAgICBCTE9COiAnYmxvYicsXG4gICAgLyoqIERvY3VtZW50ICovXG4gICAgRE9DVU1FTlQ6ICdkb2N1bWVudCcsXG4gICAgLyoqIE9iamVjdCAqL1xuICAgIEpTT046ICdqc29uJyxcbiAgICAvKiogU3RyaW5nICovXG4gICAgVEVYVDogJ3RleHQnXG59O1xuXG5SZXNvdXJjZSQkMS5fbG9hZFR5cGVNYXAgPSB7XG4gICAgLy8gaW1hZ2VzXG4gICAgZ2lmOiBSZXNvdXJjZSQkMS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgcG5nOiBSZXNvdXJjZSQkMS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgYm1wOiBSZXNvdXJjZSQkMS5MT0FEX1RZUEUuSU1BR0UsXG4gICAganBnOiBSZXNvdXJjZSQkMS5MT0FEX1RZUEUuSU1BR0UsXG4gICAganBlZzogUmVzb3VyY2UkJDEuTE9BRF9UWVBFLklNQUdFLFxuICAgIHRpZjogUmVzb3VyY2UkJDEuTE9BRF9UWVBFLklNQUdFLFxuICAgIHRpZmY6IFJlc291cmNlJCQxLkxPQURfVFlQRS5JTUFHRSxcbiAgICB3ZWJwOiBSZXNvdXJjZSQkMS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgdGdhOiBSZXNvdXJjZSQkMS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgc3ZnOiBSZXNvdXJjZSQkMS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgJ3N2Zyt4bWwnOiBSZXNvdXJjZSQkMS5MT0FEX1RZUEUuSU1BR0UsIC8vIGZvciBTVkcgZGF0YSB1cmxzXG5cbiAgICAvLyBhdWRpb1xuICAgIG1wMzogUmVzb3VyY2UkJDEuTE9BRF9UWVBFLkFVRElPLFxuICAgIG9nZzogUmVzb3VyY2UkJDEuTE9BRF9UWVBFLkFVRElPLFxuICAgIHdhdjogUmVzb3VyY2UkJDEuTE9BRF9UWVBFLkFVRElPLFxuXG4gICAgLy8gdmlkZW9zXG4gICAgbXA0OiBSZXNvdXJjZSQkMS5MT0FEX1RZUEUuVklERU8sXG4gICAgd2VibTogUmVzb3VyY2UkJDEuTE9BRF9UWVBFLlZJREVPXG59O1xuXG5SZXNvdXJjZSQkMS5feGhyVHlwZU1hcCA9IHtcbiAgICAvLyB4bWxcbiAgICB4aHRtbDogUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtbDogUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgaHRtOiBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICB4bWw6IFJlc291cmNlJCQxLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5ULFxuICAgIHRteDogUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgc3ZnOiBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcblxuICAgIC8vIFRoaXMgd2FzIGFkZGVkIHRvIGhhbmRsZSBUaWxlZCBUaWxlc2V0IFhNTCwgYnV0IC50c3ggaXMgYWxzbyBhIFR5cGVTY3JpcHQgUmVhY3QgQ29tcG9uZW50LlxuICAgIC8vIFNpbmNlIGl0IGlzIHdheSBsZXNzIGxpa2VseSBmb3IgcGVvcGxlIHRvIGJlIGxvYWRpbmcgVHlwZVNjcmlwdCBmaWxlcyBpbnN0ZWFkIG9mIFRpbGVkIGZpbGVzLFxuICAgIC8vIHRoaXMgc2hvdWxkIHByb2JhYmx5IGJlIGZpbmUuXG4gICAgdHN4OiBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcblxuICAgIC8vIGltYWdlc1xuICAgIGdpZjogUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBwbmc6IFJlc291cmNlJCQxLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgYm1wOiBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIGpwZzogUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICBqcGVnOiBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHRpZjogUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICB0aWZmOiBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgIHdlYnA6IFJlc291cmNlJCQxLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgdGdhOiBSZXNvdXJjZSQkMS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuXG4gICAgLy8ganNvblxuICAgIGpzb246IFJlc291cmNlJCQxLlhIUl9SRVNQT05TRV9UWVBFLkpTT04sXG5cbiAgICAvLyB0ZXh0XG4gICAgdGV4dDogUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCxcbiAgICB0eHQ6IFJlc291cmNlJCQxLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG5cbiAgICAvLyBmb250c1xuICAgIHR0ZjogUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxuICAgIG90ZjogUmVzb3VyY2UkJDEuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSXG59O1xuXG4vLyBXZSBjYW4ndCBzZXQgdGhlIGBzcmNgIGF0dHJpYnV0ZSB0byBlbXB0eSBzdHJpbmcsIHNvIG9uIGFib3J0IHdlIHNldCBpdCB0byB0aGlzIDFweCB0cmFuc3BhcmVudCBnaWZcblJlc291cmNlJCQxLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09JztcblxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gc2V0IGEgdmFsdWUgb24gb25lIG9mIHRoZSBleHRlbnNpb24gbWFwcy4gRW5zdXJlcyB0aGVyZSBpcyBub1xuICogZG90IGF0IHRoZSBzdGFydCBvZiB0aGUgZXh0ZW5zaW9uLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7b2JqZWN0fSBtYXAgLSBUaGUgbWFwIHRvIHNldCBvbi5cbiAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiAob3Iga2V5KSB0byBzZXQuXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsIC0gVGhlIHZhbHVlIHRvIHNldC5cbiAqL1xuZnVuY3Rpb24gc2V0RXh0TWFwKG1hcCwgZXh0bmFtZSwgdmFsKSB7XG4gICAgaWYgKGV4dG5hbWUgJiYgZXh0bmFtZS5pbmRleE9mKCcuJykgPT09IDApIHtcbiAgICAgICAgZXh0bmFtZSA9IGV4dG5hbWUuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIGlmICghZXh0bmFtZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuXG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBnZXQgc3RyaW5nIHhociB0eXBlLlxuICpcbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R8WERvbWFpblJlcXVlc3R9IHhociAtIFRoZSByZXF1ZXN0IHRvIGNoZWNrLlxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdHlwZS5cbiAqL1xuZnVuY3Rpb24gcmVxVHlwZSh4aHIpIHtcbiAgICByZXR1cm4geGhyLnRvU3RyaW5nKCkucmVwbGFjZSgnb2JqZWN0ICcsICcnKTtcbn1cblxufSk7XG5cbnVud3JhcEV4cG9ydHMoUmVzb3VyY2VfMSk7XG5cbnZhciBiNjQgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5lbmNvZGVCaW5hcnkgPSBlbmNvZGVCaW5hcnk7XG52YXIgX2tleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG5cbmZ1bmN0aW9uIGVuY29kZUJpbmFyeShpbnB1dCkge1xuICAgIHZhciBvdXRwdXQgPSAnJztcbiAgICB2YXIgaW54ID0gMDtcblxuICAgIHdoaWxlIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgLy8gRmlsbCBieXRlIGJ1ZmZlciBhcnJheVxuICAgICAgICB2YXIgYnl0ZWJ1ZmZlciA9IFswLCAwLCAwXTtcbiAgICAgICAgdmFyIGVuY29kZWRDaGFySW5kZXhlcyA9IFswLCAwLCAwLCAwXTtcblxuICAgICAgICBmb3IgKHZhciBqbnggPSAwOyBqbnggPCBieXRlYnVmZmVyLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIGlmIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IGlucHV0LmNoYXJDb2RlQXQoaW54KyspICYgMHhmZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnl0ZWJ1ZmZlcltqbnhdID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBlYWNoIGVuY29kZWQgY2hhcmFjdGVyLCA2IGJpdHMgYXQgYSB0aW1lXG4gICAgICAgIC8vIGluZGV4IDE6IGZpcnN0IDYgYml0c1xuICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbMF0gPSBieXRlYnVmZmVyWzBdID4+IDI7XG5cbiAgICAgICAgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9IChieXRlYnVmZmVyWzBdICYgMHgzKSA8PCA0IHwgYnl0ZWJ1ZmZlclsxXSA+PiA0O1xuXG4gICAgICAgIC8vIGluZGV4IDM6IHRoaXJkIDYgYml0cyAoNCBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAyICsgMiBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMiB8IGJ5dGVidWZmZXJbMl0gPj4gNjtcblxuICAgICAgICAvLyBpbmRleCAzOiBmb3J0aCA2IGJpdHMgKDYgbGVhc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGlucHV0IGJ5dGUgMylcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzNdID0gYnl0ZWJ1ZmZlclsyXSAmIDB4M2Y7XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgcGFkZGluZyBoYXBwZW5lZCwgYW5kIGFkanVzdCBhY2NvcmRpbmdseVxuICAgICAgICB2YXIgcGFkZGluZ0J5dGVzID0gaW54IC0gKGlucHV0Lmxlbmd0aCAtIDEpO1xuXG4gICAgICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgY2hhcmFjdGVyIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBObyBwYWRkaW5nIC0gcHJvY2VlZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm93IHdlIHdpbGwgZ3JhYiBlYWNoIGFwcHJvcHJpYXRlIGNoYXJhY3RlciBvdXQgb2Ygb3VyIGtleXN0cmluZ1xuICAgICAgICAvLyBiYXNlZCBvbiBvdXIgaW5kZXggYXJyYXkgYW5kIGFwcGVuZCBpdCB0byB0aGUgb3V0cHV0IHN0cmluZ1xuICAgICAgICBmb3IgKHZhciBfam54ID0gMDsgX2pueCA8IGVuY29kZWRDaGFySW5kZXhlcy5sZW5ndGg7ICsrX2pueCkge1xuICAgICAgICAgICAgb3V0cHV0ICs9IF9rZXlTdHIuY2hhckF0KGVuY29kZWRDaGFySW5kZXhlc1tfam54XSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuXG59KTtcblxudW53cmFwRXhwb3J0cyhiNjQpO1xudmFyIGI2NF8xID0gYjY0LmVuY29kZUJpbmFyeTtcblxudmFyIGJsb2IgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlLCBleHBvcnRzKSB7XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHMuYmxvYk1pZGRsZXdhcmVGYWN0b3J5ID0gYmxvYk1pZGRsZXdhcmVGYWN0b3J5O1xuXG5cblxudmFyIF9SZXNvdXJjZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KFJlc291cmNlXzEpO1xuXG5cblxudmFyIF9iMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoYjY0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIFVybCA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTDtcblxuLy8gYSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbmZ1bmN0aW9uIGJsb2JNaWRkbGV3YXJlRmFjdG9yeSgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gYmxvYk1pZGRsZXdhcmUocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5kYXRhKSB7XG4gICAgICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHRoaXMgd2FzIGFuIFhIUiBsb2FkIG9mIGEgYmxvYlxuICAgICAgICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IF9SZXNvdXJjZTIuZGVmYXVsdC5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgICAgICAgICBpZiAoIXdpbmRvdy5CbG9iIHx8IHR5cGVvZiByZXNvdXJjZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHZhciB0eXBlID0gcmVzb3VyY2UueGhyLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LXR5cGUnKTtcblxuICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYW4gaW1hZ2UsIGNvbnZlcnQgdGhlIGJpbmFyeSBzdHJpbmcgaW50byBhIGRhdGEgdXJsXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgJiYgdHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSAnZGF0YTonICsgdHlwZSArICc7YmFzZTY0LCcgKyBfYjIuZGVmYXVsdC5lbmNvZGVCaW5hcnkocmVzb3VyY2UueGhyLnJlc3BvbnNlVGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IF9SZXNvdXJjZTIuZGVmYXVsdC5UWVBFLklNQUdFO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdhaXQgdW50aWwgdGhlIGltYWdlIGxvYWRzIGFuZCB0aGVuIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5vbmxvYWQgPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlc291cmNlLmRhdGEudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IFVybC5jcmVhdGVPYmplY3RVUkwocmVzb3VyY2UuZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmJsb2IgPSByZXNvdXJjZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UuZGF0YS5zcmMgPSBzcmM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLnR5cGUgPSBfUmVzb3VyY2UyLmRlZmF1bHQuVFlQRS5JTUFHRTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2xlYW51cCB0aGUgbm8gbG9uZ2VyIHVzZWQgYmxvYiBhZnRlciB0aGUgaW1hZ2UgbG9hZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IElzIHRoaXMgY29ycmVjdD8gV2lsbCB0aGUgaW1hZ2UgYmUgaW52YWxpZCBhZnRlciByZXZva2luZz9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVybC5yZXZva2VPYmplY3RVUkwoc3JjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IHdpbGwgYmUgY2FsbGVkIG9uIGxvYWQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHY6IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIF9yZXQgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKF9yZXQpKSA9PT0gXCJvYmplY3RcIikgeyByZXR1cm4gX3JldC52OyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbmV4dCgpO1xuICAgIH07XG59XG5cbn0pO1xuXG51bndyYXBFeHBvcnRzKGJsb2IpO1xudmFyIGJsb2JfMSA9IGJsb2IuYmxvYk1pZGRsZXdhcmVGYWN0b3J5O1xuXG4vKipcbiAqIExvYWRlciBwbHVnaW4gZm9yIGhhbmRsaW5nIFRleHR1cmUgcmVzb3VyY2VzLlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5Mb2FkZXJ+TG9hZGVyUGx1Z2luXG4gKi9cbnZhciBUZXh0dXJlTG9hZGVyID0gZnVuY3Rpb24gVGV4dHVyZUxvYWRlciAoKSB7fTtcblxuVGV4dHVyZUxvYWRlci51c2UgPSBmdW5jdGlvbiB1c2UgKHJlc291cmNlLCBuZXh0KVxue1xuICAgIC8vIGNyZWF0ZSBhIG5ldyB0ZXh0dXJlIGlmIHRoZSBkYXRhIGlzIGFuIEltYWdlIG9iamVjdFxuICAgIGlmIChyZXNvdXJjZS5kYXRhICYmIHJlc291cmNlLnR5cGUgPT09IFJlc291cmNlLlRZUEUuSU1BR0UpXG4gICAge1xuICAgICAgICByZXNvdXJjZS50ZXh0dXJlID0gVGV4dHVyZS5mcm9tTG9hZGVyKFxuICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSxcbiAgICAgICAgICAgIHJlc291cmNlLnVybCxcbiAgICAgICAgICAgIHJlc291cmNlLm5hbWVcbiAgICAgICAgKTtcbiAgICB9XG4gICAgbmV4dCgpO1xufTtcblxuLyoqXG4gKlxuICogVGhlIG5ldyBsb2FkZXIsIGV4dGVuZHMgUmVzb3VyY2UgTG9hZGVyIGJ5IENoYWQgRW5nbGVyOiBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogYGBganNcbiAqIGNvbnN0IGxvYWRlciA9IFBJWEkuTG9hZGVyLnNoYXJlZDsgLy8gUGl4aUpTIGV4cG9zZXMgYSBwcmVtYWRlIGluc3RhbmNlIGZvciB5b3UgdG8gdXNlLlxuICogLy9vclxuICogY29uc3QgbG9hZGVyID0gbmV3IFBJWEkuTG9hZGVyKCk7IC8vIHlvdSBjYW4gYWxzbyBjcmVhdGUgeW91ciBvd24gaWYgeW91IHdhbnRcbiAqXG4gKiBjb25zdCBzcHJpdGVzID0ge307XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBhZGRgIHRvIGVucXVldWUgYSByZXNvdXJjZVxuICogbG9hZGVyLmFkZCgnYnVubnknLCAnZGF0YS9idW5ueS5wbmcnKVxuICogICAgICAgLmFkZCgnc3BhY2VzaGlwJywgJ2Fzc2V0cy9zcHJpdGVzaGVldC5qc29uJyk7XG4gKiBsb2FkZXIuYWRkKCdzY29yZUZvbnQnLCAnYXNzZXRzL3Njb3JlLmZudCcpO1xuICpcbiAqIC8vIENoYWluYWJsZSBgcHJlYCB0byBhZGQgYSBtaWRkbGV3YXJlIHRoYXQgcnVucyBmb3IgZWFjaCByZXNvdXJjZSwgKmJlZm9yZSogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBjYWNoaW5nIG1vZHVsZXMgKHVzaW5nIGZpbGVzeXN0ZW0sIGluZGV4ZWRkYiwgbWVtb3J5LCBldGMpLlxuICogbG9hZGVyLnByZShjYWNoaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGB1c2VgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYWZ0ZXIqIGxvYWRpbmcgdGhhdCByZXNvdXJjZS5cbiAqIC8vIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBjdXN0b20gcGFyc2luZyBtb2R1bGVzIChsaWtlIHNwcml0ZXNoZWV0IHBhcnNlcnMsIHNwaW5lIHBhcnNlciwgZXRjKS5cbiAqIGxvYWRlci51c2UocGFyc2luZ01pZGRsZXdhcmUpO1xuICpcbiAqIC8vIFRoZSBgbG9hZGAgbWV0aG9kIGxvYWRzIHRoZSBxdWV1ZSBvZiByZXNvdXJjZXMsIGFuZCBjYWxscyB0aGUgcGFzc2VkIGluIGNhbGxiYWNrIGNhbGxlZCBvbmNlIGFsbFxuICogLy8gcmVzb3VyY2VzIGhhdmUgbG9hZGVkLlxuICogbG9hZGVyLmxvYWQoKGxvYWRlciwgcmVzb3VyY2VzKSA9PiB7XG4gKiAgICAgLy8gcmVzb3VyY2VzIGlzIGFuIG9iamVjdCB3aGVyZSB0aGUga2V5IGlzIHRoZSBuYW1lIG9mIHRoZSByZXNvdXJjZSBsb2FkZWQgYW5kIHRoZSB2YWx1ZSBpcyB0aGUgcmVzb3VyY2Ugb2JqZWN0LlxuICogICAgIC8vIFRoZXkgaGF2ZSBhIGNvdXBsZSBkZWZhdWx0IHByb3BlcnRpZXM6XG4gKiAgICAgLy8gLSBgdXJsYDogVGhlIFVSTCB0aGF0IHRoZSByZXNvdXJjZSB3YXMgbG9hZGVkIGZyb21cbiAqICAgICAvLyAtIGBlcnJvcmA6IFRoZSBlcnJvciB0aGF0IGhhcHBlbmVkIHdoZW4gdHJ5aW5nIHRvIGxvYWQgKGlmIGFueSlcbiAqICAgICAvLyAtIGBkYXRhYDogVGhlIHJhdyBkYXRhIHRoYXQgd2FzIGxvYWRlZFxuICogICAgIC8vIGFsc28gbWF5IGNvbnRhaW4gb3RoZXIgcHJvcGVydGllcyBiYXNlZCBvbiB0aGUgbWlkZGxld2FyZSB0aGF0IHJ1bnMuXG4gKiAgICAgc3ByaXRlcy5idW5ueSA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuYnVubnkudGV4dHVyZSk7XG4gKiAgICAgc3ByaXRlcy5zcGFjZXNoaXAgPSBuZXcgUElYSS5UaWxpbmdTcHJpdGUocmVzb3VyY2VzLnNwYWNlc2hpcC50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNjb3JlRm9udCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc2NvcmVGb250LnRleHR1cmUpO1xuICogfSk7XG4gKlxuICogLy8gdGhyb3VnaG91dCB0aGUgcHJvY2VzcyBtdWx0aXBsZSBzaWduYWxzIGNhbiBiZSBkaXNwYXRjaGVkLlxuICogbG9hZGVyLm9uUHJvZ3Jlc3MuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZC9lcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkVycm9yLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHBlciBlcnJvcmVkIGZpbGVcbiAqIGxvYWRlci5vbkxvYWQuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGxvYWRlZCBmaWxlXG4gKiBsb2FkZXIub25Db21wbGV0ZS5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSB3aGVuIHRoZSBxdWV1ZWQgcmVzb3VyY2VzIGFsbCBsb2FkLlxuICogYGBgXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vZW5nbGVyY2ovcmVzb3VyY2UtbG9hZGVyXG4gKlxuICogQGNsYXNzIExvYWRlclxuICogQGV4dGVuZHMgbW9kdWxlOnJlc291cmNlLWxvYWRlci5SZXNvdXJjZUxvYWRlclxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBwYXJhbSB7c3RyaW5nfSBbYmFzZVVybD0nJ10gLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICogQHBhcmFtIHtudW1iZXJ9IFtjb25jdXJyZW5jeT0xMF0gLSBUaGUgbnVtYmVyIG9mIHJlc291cmNlcyB0byBsb2FkIGNvbmN1cnJlbnRseS5cbiAqL1xudmFyIExvYWRlciA9IChmdW5jdGlvbiAoUmVzb3VyY2VMb2FkZXIkJDEpIHtcbiAgICBmdW5jdGlvbiBMb2FkZXIoYmFzZVVybCwgY29uY3VycmVuY3kpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBSZXNvdXJjZUxvYWRlciQkMS5jYWxsKHRoaXMsIGJhc2VVcmwsIGNvbmN1cnJlbmN5KTtcbiAgICAgICAgRXZlbnRFbWl0dGVyLmNhbGwodGhpcyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BsdWdpbnMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBMb2FkZXIuX3BsdWdpbnNbaV07XG4gICAgICAgICAgICB2YXIgcHJlID0gcGx1Z2luLnByZTtcbiAgICAgICAgICAgIHZhciB1c2UgPSBwbHVnaW4udXNlO1xuXG4gICAgICAgICAgICBpZiAocHJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5wcmUocHJlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHVzZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEudXNlKHVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb21wYXQgbGF5ZXIsIHRyYW5zbGF0ZSB0aGUgbmV3IHYyIHNpZ25hbHMgaW50byBvbGQgdjEgZXZlbnRzLlxuICAgICAgICB0aGlzLm9uU3RhcnQuYWRkKGZ1bmN0aW9uIChsKSB7IHJldHVybiB0aGlzJDEuZW1pdCgnc3RhcnQnLCBsKTsgfSk7XG4gICAgICAgIHRoaXMub25Qcm9ncmVzcy5hZGQoZnVuY3Rpb24gKGwsIHIpIHsgcmV0dXJuIHRoaXMkMS5lbWl0KCdwcm9ncmVzcycsIGwsIHIpOyB9KTtcbiAgICAgICAgdGhpcy5vbkVycm9yLmFkZChmdW5jdGlvbiAoZSwgbCwgcikgeyByZXR1cm4gdGhpcyQxLmVtaXQoJ2Vycm9yJywgZSwgbCwgcik7IH0pO1xuICAgICAgICB0aGlzLm9uTG9hZC5hZGQoZnVuY3Rpb24gKGwsIHIpIHsgcmV0dXJuIHRoaXMkMS5lbWl0KCdsb2FkJywgbCwgcik7IH0pO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuYWRkKGZ1bmN0aW9uIChsLCByKSB7IHJldHVybiB0aGlzJDEuZW1pdCgnY29tcGxldGUnLCBsLCByKTsgfSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRoaXMgbG9hZGVyIGNhbm5vdCBiZSBkZXN0cm95ZWQuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm90ZWN0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIFJlc291cmNlTG9hZGVyJCQxICkgTG9hZGVyLl9fcHJvdG9fXyA9IFJlc291cmNlTG9hZGVyJCQxO1xuICAgIExvYWRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBSZXNvdXJjZUxvYWRlciQkMSAmJiBSZXNvdXJjZUxvYWRlciQkMS5wcm90b3R5cGUgKTtcbiAgICBMb2FkZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTG9hZGVyO1xuXG4gICAgdmFyIHN0YXRpY0FjY2Vzc29ycyA9IHsgc2hhcmVkOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IHRoZSBsb2FkZXIsIHJlbW92ZXMgcmVmZXJlbmNlcy5cbiAgICAgKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLlxuICAgICAqIEBuYW1lIHNoYXJlZFxuICAgICAqIEB0eXBlIHtQSVhJLkxvYWRlcn1cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gICAgICovXG4gICAgc3RhdGljQWNjZXNzb3JzLnNoYXJlZC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdmFyIHNoYXJlZCA9IExvYWRlci5fc2hhcmVkO1xuXG4gICAgICAgIGlmICghc2hhcmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFyZWQgPSBuZXcgTG9hZGVyKCk7XG4gICAgICAgICAgICBzaGFyZWQuX3Byb3RlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICBMb2FkZXIuX3NoYXJlZCA9IHNoYXJlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaGFyZWQ7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBMb2FkZXIsIHN0YXRpY0FjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIExvYWRlcjtcbn0oUmVzb3VyY2VMb2FkZXIpKTtcblxuLy8gQ29weSBFRTMgcHJvdG90eXBlIChtaXhpbilcbk9iamVjdC5hc3NpZ24oTG9hZGVyLnByb3RvdHlwZSwgRXZlbnRFbWl0dGVyLnByb3RvdHlwZSk7XG5cbi8qKlxuICogQ29sbGVjdGlvbiBvZiBhbGwgaW5zdGFsbGVkIGB1c2VgIG1pZGRsZXdhcmUgZm9yIExvYWRlci5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyIHtBcnJheTxQSVhJLkxvYWRlcn5Mb2FkZXJQbHVnaW4+fVxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAcHJpdmF0ZVxuICovXG5Mb2FkZXIuX3BsdWdpbnMgPSBbXTtcblxuLyoqXG4gKiBBZGRzIGEgTG9hZGVyIHBsdWdpbiBmb3IgdGhlIGdsb2JhbCBzaGFyZWQgbG9hZGVyIGFuZCBhbGxcbiAqIG5ldyBMb2FkZXIgaW5zdGFuY2VzIGNyZWF0ZWQuXG4gKlxuICogQHN0YXRpY1xuICogQG1ldGhvZCByZWdpc3RlclBsdWdpblxuICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyXG4gKiBAcGFyYW0ge1BJWEkuTG9hZGVyfkxvYWRlclBsdWdpbn0gcGx1Z2luIC0gVGhlIHBsdWdpbiB0byBhZGRcbiAqIEByZXR1cm4ge1BJWEkuTG9hZGVyfSBSZWZlcmVuY2UgdG8gUElYSS5Mb2FkZXIgZm9yIGNoYWluaW5nXG4gKi9cbkxvYWRlci5yZWdpc3RlclBsdWdpbiA9IGZ1bmN0aW9uIHJlZ2lzdGVyUGx1Z2luKHBsdWdpbilcbntcbiAgICBMb2FkZXIuX3BsdWdpbnMucHVzaChwbHVnaW4pO1xuXG4gICAgaWYgKHBsdWdpbi5hZGQpXG4gICAge1xuICAgICAgICBwbHVnaW4uYWRkKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIExvYWRlcjtcbn07XG5cbi8vIHBhcnNlIGFueSBibG9iIGludG8gbW9yZSB1c2FibGUgb2JqZWN0cyAoZS5nLiBJbWFnZSlcbkxvYWRlci5yZWdpc3RlclBsdWdpbih7IHVzZTogYmxvYl8xKCkgfSk7XG5cbi8vIHBhcnNlIGFueSBJbWFnZSBvYmplY3RzIGludG8gdGV4dHVyZXNcbkxvYWRlci5yZWdpc3RlclBsdWdpbihUZXh0dXJlTG9hZGVyKTtcblxuLyoqXG4gKiBQbHVnaW4gdG8gYmUgaW5zdGFsbGVkIGZvciBoYW5kbGluZyBzcGVjaWZpYyBMb2FkZXIgcmVzb3VyY2VzLlxuICogQHR5cGVkZWYge29iamVjdH0gUElYSS5Mb2FkZXJ+TG9hZGVyUGx1Z2luXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9ufSBbcGx1Z2luLmFkZF0gLSBGdW5jdGlvbiB0byBjYWxsIGltbWVkaWF0ZSBhZnRlciByZWdpc3RlcmluZyBwbHVnaW4uXG4gKiBAcHJvcGVydHkge1BJWEkuTG9hZGVyfmxvYWRlck1pZGRsZXdhcmV9IFtwbHVnaW4ucHJlXSAtIE1pZGRsZXdhcmUgZnVuY3Rpb24gdG8gcnVuIGJlZm9yZSBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICogQHByb3BlcnR5IHtQSVhJLkxvYWRlcn5sb2FkZXJNaWRkbGV3YXJlfSBbcGx1Z2luLnVzZV0gLSBNaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJ1biBhZnRlciBsb2FkLCB0aGVcbiAqICAgICAgICAgICBhcmd1bWVudHMgZm9yIHRoaXMgYXJlIGAocmVzb3VyY2UsIG5leHQpYFxuICovXG5cbi8qKlxuICogQGNhbGxiYWNrIFBJWEkuTG9hZGVyfmxvYWRlck1pZGRsZXdhcmVcbiAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAqL1xuXG4vKipcbiAqIEFwcGxpY2F0aW9uIHBsdWdpbiBmb3Igc3VwcG9ydGluZyBsb2FkZXIgb3B0aW9uLiBJbnN0YWxsaW5nIHRoZSBMb2FkZXJQbHVnaW5cbiAqIGlzIG5vdCBuZWNlc3NhcnkgaWYgdXNpbmcgKipwaXhpLmpzKiogb3IgKipwaXhpLmpzLWxlZ2FjeSoqLlxuICogQGV4YW1wbGVcbiAqIGltcG9ydCB7TG9hZGVyUGx1Z2lufSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbiAqIGltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJ0BwaXhpL2FwcCc7XG4gKiBBcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihMb2FkZXJQbHVnaW4pO1xuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgTG9hZGVyUGx1Z2luID0gZnVuY3Rpb24gTG9hZGVyUGx1Z2luICgpIHt9O1xuXG5Mb2FkZXJQbHVnaW4uaW5pdCA9IGZ1bmN0aW9uIGluaXQgKG9wdGlvbnMpXG57XG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlLFxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgLyoqXG4gICAgICogTG9hZGVyIGluc3RhbmNlIHRvIGhlbHAgd2l0aCBhc3NldCBsb2FkaW5nLlxuICAgICAqIEBuYW1lIFBJWEkuQXBwbGljYXRpb24jbG9hZGVyXG4gICAgICogQHR5cGUge1BJWEkuTG9hZGVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHRoaXMubG9hZGVyID0gb3B0aW9ucy5zaGFyZWRMb2FkZXIgPyBMb2FkZXIuc2hhcmVkIDogbmV3IExvYWRlcigpO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgd2hlbiBhcHBsaWNhdGlvbiBkZXN0cm95ZWRcbiAqIEBwcml2YXRlXG4gKi9cbkxvYWRlclBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIGlmICh0aGlzLmxvYWRlcilcbiAgICB7XG4gICAgICAgIHRoaXMubG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBudWxsO1xuICAgIH1cbn07XG5cbi8qKlxuICogUmVmZXJlbmNlIHRvICoqe0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbmdsZXJjai9yZXNvdXJjZS1sb2FkZXJcbiAqIHJlc291cmNlLWxvYWRlcn0qKidzIFJlc291cmNlIGNsYXNzLlxuICogQHNlZSBodHRwOi8vZW5nbGVyY2ouZ2l0aHViLmlvL3Jlc291cmNlLWxvYWRlci9SZXNvdXJjZS5odG1sXG4gKiBAY2xhc3MgTG9hZGVyUmVzb3VyY2VcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBMb2FkZXJSZXNvdXJjZSA9IFJlc291cmNlO1xuXG5leHBvcnQgeyBMb2FkZXJSZXNvdXJjZSwgTG9hZGVyLCBUZXh0dXJlTG9hZGVyLCBMb2FkZXJQbHVnaW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlcnMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL21lc2gtZXh0cmFzIC0gdjUuMC4wLWFscGhhLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDMgSnVsIDIwMTggMDQ6MDg6MjEgVVRDXG4gKlxuICogQHBpeGkvbWVzaC1leHRyYXMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBNZXNoIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBHZW9tZXRyeSwgUHJvZ3JhbSwgU2hhZGVyLCBUZXh0dXJlLCBUZXh0dXJlTWF0cml4IH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IEJMRU5EX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IGhleDJyZ2IsIHByZW11bHRpcGx5UmdiYSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB1VGV4dHVyZU1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRleHR1cmVNYXRyaXggKiB2ZWMzKGFUZXh0dXJlQ29vcmQsIDEuMCkpLnh5O1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50ID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHVDb2xvcjtcXG59XFxuXCI7XG5cbnZhciBtZXNoUHJvZ3JhbTtcblxuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3NcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNZXNoMmQgPSAoZnVuY3Rpb24gKE1lc2gkJDEpIHtcbiAgICBmdW5jdGlvbiBNZXNoMmQodGV4dHVyZSwgdmVydGljZXMsIHV2cywgaW5kaWNlcywgZHJhd01vZGUpXG4gICAge1xuICAgICAgICBpZiAoIHRleHR1cmUgPT09IHZvaWQgMCApIHRleHR1cmUgPSBUZXh0dXJlLkVNUFRZO1xuXG4gICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuXG4gICAgICAgIGlmICghbWVzaFByb2dyYW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1lc2hQcm9ncmFtID0gbmV3IFByb2dyYW0odmVydGV4LCBmcmFnbWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBnZW9tZXRyeS5hZGRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicsIHZlcnRpY2VzKVxuICAgICAgICAgICAgLmFkZEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcsIHV2cylcbiAgICAgICAgICAgIC5hZGRJbmRleChpbmRpY2VzKTtcblxuICAgICAgICBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicpLnN0YXRpYyA9IGZhbHNlO1xuXG4gICAgICAgIHZhciB1bmlmb3JtcyA9IHtcbiAgICAgICAgICAgIHVTYW1wbGVyOiB0ZXh0dXJlLFxuICAgICAgICAgICAgdVRleHR1cmVNYXRyaXg6IE1hdHJpeC5JREVOVElUWSxcbiAgICAgICAgICAgIGFscGhhOiAxLFxuICAgICAgICAgICAgdUNvbG9yOiBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxLCAxXSksXG4gICAgICAgIH07XG5cbiAgICAgICAgTWVzaCQkMS5jYWxsKHRoaXMsIGdlb21ldHJ5LCBuZXcgU2hhZGVyKG1lc2hQcm9ncmFtLCB1bmlmb3JtcyksIG51bGwsIGRyYXdNb2RlKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIFV2cyBvZiB0aGUgTWVzaFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGbG9hdDMyQXJyYXl9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnV2cyA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZSgnYVRleHR1cmVDb29yZCcpLmRhdGE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGFycmF5IG9mIHZlcnRpY2VzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Zsb2F0MzJBcnJheX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ2FWZXJ0ZXhQb3NpdGlvbicpLmRhdGE7XG5cbiAgICAgICAgdGhpcy51bmlmb3JtcyA9IHVuaWZvcm1zO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgdGV4dHVyZSBvZiB0aGUgTWVzaFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVGV4dHVyZS5FTVBUWVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50ZXh0dXJlID0gdGV4dHVyZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgbWVzaC4gVGhpcyBpcyBhIFtyLGcsYl0gdmFsdWUuIEEgdmFsdWUgb2YgWzEsMSwxXSB3aWxsIHJlbW92ZSBhbnlcbiAgICAgICAgICogdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbnRSR0IgPSBuZXcgRmxvYXQzMkFycmF5KFsxLCAxLCAxXSk7XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgdGludFxuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcblxuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGV4dHVyZU1hdHJpeCBpbnN0YW5jZSBmb3IgdGhpcyBNZXNoLCB1c2VkIHRvIHRyYWNrIFRleHR1cmUgY2hhbmdlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmVNYXRyaXh9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IG5ldyBUZXh0dXJlTWF0cml4KHRoaXMuX3RleHR1cmUpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiB3aGV0aGVyIG9yIG5vdCB1cGxvYWQgdXZNYXRyaXggdG8gc2hhZGVyXG4gICAgICAgICAqIGlmIGl0cyBmYWxzZSwgdGhlbiB1dnMgc2hvdWxkIGJlIHByZS1tdWx0aXBsaWVkXG4gICAgICAgICAqIGlmIHlvdSBjaGFuZ2UgaXQgZm9yIGdlbmVyYXRlZCBtZXNoLCBwbGVhc2UgY2FsbCAncmVmcmVzaCh0cnVlKSdcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudXBsb2FkVXZNYXRyaXggPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBsb2FkcyB2ZXJ0aWNlcyBidWZmZXIgZXZlcnkgZnJhbWUsIGxpa2UgaW4gUGl4aUpTIFYzIGFuZCBWNC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hdXRvVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIE1lc2gkJDEgKSBNZXNoMmQuX19wcm90b19fID0gTWVzaCQkMTtcbiAgICBNZXNoMmQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWVzaCQkMSAmJiBNZXNoJCQxLnByb3RvdHlwZSApO1xuICAgIE1lc2gyZC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNZXNoMmQ7XG5cbiAgICB2YXIgcHJvdG90eXBlQWNjZXNzb3JzID0geyB0aW50OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0dXJlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBhcHBsaWVkIHRvIHRoZSBSb3BlLiBUaGlzIGlzIGEgaGV4IHZhbHVlLiBBIHZhbHVlIG9mXG4gICAgICogMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLlNwcml0ZSNcbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGludCBvZiB0aGUgcm9wZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzZXQgdG8uXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuXG4gICAgICAgIGhleDJyZ2IodGhpcy5fdGludCwgdGhpcy5fdGludFJHQik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBibGVuZCBtb2RlIHRvIGJlIGFwcGxpZWQgdG8gdGhlIHNwcml0ZS4gU2V0IHRvIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGAgdG8gcmVtb3ZlIGFueSBibGVuZCBtb2RlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IFBJWEkuQkxFTkRfTU9ERVMuTk9STUFMXG4gICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsZW5kTW9kZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuYmxlbmRNb2RlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmxlbmRNb2RlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnN0YXRlLmJsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB0aGF0IHRoZSBtZXNoIHVzZXMuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dHVyZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHR1cmUgPT09IHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl90ZXh0dXJlID0gdmFsdWU7XG4gICAgICAgIHRoaXMudW5pZm9ybXMudVNhbXBsZXIgPSB0aGlzLnRleHR1cmU7XG5cbiAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyB3YWl0IGZvciB0aGUgdGV4dHVyZSB0byBsb2FkXG4gICAgICAgICAgICBpZiAodmFsdWUuYmFzZVRleHR1cmUudmFsaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25UZXh0dXJlVXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFsdWUub25jZSgndXBkYXRlJywgdGhpcy5fb25UZXh0dXJlVXBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBNZXNoMmQucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiBfcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHZhciBiYXNlVGV4ID0gdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcblxuICAgICAgICBwcmVtdWx0aXBseVJnYmEodGhpcy5fdGludFJHQiwgdGhpcy53b3JsZEFscGhhLCB0aGlzLnVuaWZvcm1zLnVDb2xvciwgYmFzZVRleC5wcmVtdWx0aXBseUFscGhhKTtcbiAgICAgICAgTWVzaCQkMS5wcm90b3R5cGUuX3JlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdoZW4gdGhlIHRleHR1cmUgaXMgdXBkYXRlZCwgdGhpcyBldmVudCB3aWxsIGZpcmUgdG8gdXBkYXRlIHRoZSBzY2FsZSBhbmQgZnJhbWVcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWVzaDJkLnByb3RvdHlwZS5fb25UZXh0dXJlVXBkYXRlID0gZnVuY3Rpb24gX29uVGV4dHVyZVVwZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgLy8gY29uc3RydWN0b3IgdGV4dHVyZSB1cGRhdGUgc3RvcFxuICAgICAgICBpZiAoIXRoaXMudXZNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnV2TWF0cml4LnRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogbXVsdGlwbGllcyB1dnMgb25seSBpZiB1cGxvYWRVdk1hdHJpeCBpcyBmYWxzZVxuICAgICAqIGNhbGwgaXQgYWZ0ZXIgeW91IGNoYW5nZSB1dnMgbWFudWFsbHlcbiAgICAgKiBtYWtlIHN1cmUgdGhhdCB0ZXh0dXJlIGlzIHZhbGlkXG4gICAgICovXG4gICAgTWVzaDJkLnByb3RvdHlwZS5tdWx0aXBseVV2cyA9IGZ1bmN0aW9uIG11bHRpcGx5VXZzICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMudXBsb2FkVXZNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXZNYXRyaXgubXVsdGlwbHlVdnModGhpcy51dnMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyB1dnMgZm9yIGdlbmVyYXRlZCBtZXNoZXMgKHJvcGUsIHBsYW5lKVxuICAgICAqIHNvbWV0aW1lcyByZWZyZXNoZXMgdmVydGljZXMgdG9vXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmb3JjZVVwZGF0ZT1mYWxzZV0gaWYgdHJ1ZSwgbWF0cmljZXMgd2lsbCBiZSB1cGRhdGVkIGFueSBjYXNlXG4gICAgICovXG4gICAgTWVzaDJkLnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gcmVmcmVzaCAoZm9yY2VVcGRhdGUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeC51cGRhdGUoZm9yY2VVcGRhdGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIE1lc2gyZC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0udXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250YWluZXJVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogcmUtY2FsY3VsYXRlcyBtZXNoIGNvb3Jkc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWVzaDJkLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoICgpXG4gICAge1xuICAgICAgICAvKiBlbXB0eSAqL1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTWVzaDJkLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gTWVzaDJkO1xufShNZXNoKSk7XG5cbi8qKlxuICogVGhlIFBsYW5lIGFsbG93cyB5b3UgdG8gZHJhdyBhIHRleHR1cmUgYWNyb3NzIHNldmVyYWwgcG9pbnRzIGFuZCB0aGVtIG1hbmlwdWxhdGUgdGhlc2UgcG9pbnRzXG4gKlxuICpgYGBqc1xuICogZm9yIChsZXQgaSA9IDA7IGkgPCAyMDsgaSsrKSB7XG4gKiAgICAgcG9pbnRzLnB1c2gobmV3IFBJWEkuUG9pbnQoaSAqIDUwLCAwKSk7XG4gKiB9O1xuICogbGV0IFBsYW5lID0gbmV3IFBJWEkuUGxhbmUoUElYSS5UZXh0dXJlLmZyb20oXCJzbmFrZS5wbmdcIiksIHBvaW50cyk7XG4gKiAgYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLk1lc2hcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKlxuICovXG52YXIgUGxhbmUgPSAoZnVuY3Rpb24gKE1lc2gyZCQkMSkge1xuICAgIGZ1bmN0aW9uIFBsYW5lKHRleHR1cmUsIHZlcnRpY2VzWCwgdmVydGljZXNZLCBvcHRzKVxuICAgIHtcbiAgICAgICAgaWYgKCBvcHRzID09PSB2b2lkIDAgKSBvcHRzID0ge307XG5cbiAgICAgICAgTWVzaDJkJCQxLmNhbGwodGhpcywgdGV4dHVyZSwgbmV3IEZsb2F0MzJBcnJheSgxKSwgbmV3IEZsb2F0MzJBcnJheSgxKSwgbmV3IFVpbnQxNkFycmF5KDEpLCA0KTtcblxuICAgICAgICB0aGlzLnZlcnRpY2VzWCA9IHZlcnRpY2VzWCB8fCAxMDtcbiAgICAgICAgdGhpcy52ZXJ0aWNlc1kgPSB2ZXJ0aWNlc1kgfHwgMTA7XG5cbiAgICAgICAgdGhpcy5tZXNoV2lkdGggPSBvcHRzLm1lc2hXaWR0aCB8fCAwO1xuICAgICAgICB0aGlzLm1lc2hIZWlnaHQgPSBvcHRzLm1lc2hIZWlnaHQgfHwgMDtcblxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBpZiAoIE1lc2gyZCQkMSApIFBsYW5lLl9fcHJvdG9fXyA9IE1lc2gyZCQkMTtcbiAgICBQbGFuZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBNZXNoMmQkJDEgJiYgTWVzaDJkJCQxLnByb3RvdHlwZSApO1xuICAgIFBsYW5lLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBsYW5lO1xuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIHBsYW5lIGNvb3JkaW5hdGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQbGFuZS5wcm90b3R5cGUuX3JlZnJlc2ggPSBmdW5jdGlvbiBfcmVmcmVzaCAoKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgdG90YWwgPSB0aGlzLnZlcnRpY2VzWCAqIHRoaXMudmVydGljZXNZO1xuICAgICAgICB2YXIgdmVydHMgPSBbXTtcbiAgICAgICAgdmFyIHV2cyA9IFtdO1xuICAgICAgICB2YXIgaW5kaWNlcyA9IFtdO1xuXG4gICAgICAgIHZhciBzZWdtZW50c1ggPSB0aGlzLnZlcnRpY2VzWCAtIDE7XG4gICAgICAgIHZhciBzZWdtZW50c1kgPSB0aGlzLnZlcnRpY2VzWSAtIDE7XG5cbiAgICAgICAgdmFyIHNpemVYID0gKHRoaXMubWVzaFdpZHRoIHx8IHRleHR1cmUud2lkdGgpIC8gc2VnbWVudHNYO1xuICAgICAgICB2YXIgc2l6ZVkgPSAodGhpcy5tZXNoSGVpZ2h0IHx8IHRleHR1cmUuaGVpZ2h0KSAvIHNlZ21lbnRzWTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRvdGFsOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB4ID0gKGkgJSB0aGlzJDEudmVydGljZXNYKTtcbiAgICAgICAgICAgIHZhciB5ID0gKChpIC8gdGhpcyQxLnZlcnRpY2VzWCkgfCAwKTtcblxuICAgICAgICAgICAgdmVydHMucHVzaCh4ICogc2l6ZVgsIHkgKiBzaXplWSk7XG5cbiAgICAgICAgICAgIHV2cy5wdXNoKHggLyBzZWdtZW50c1gsIHkgLyBzZWdtZW50c1kpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gIGNvbnNcblxuICAgICAgICB2YXIgdG90YWxTdWIgPSBzZWdtZW50c1ggKiBzZWdtZW50c1k7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgdG90YWxTdWI7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgeHBvcyA9IGkkMSAlIHNlZ21lbnRzWDtcbiAgICAgICAgICAgIHZhciB5cG9zID0gKGkkMSAvIHNlZ21lbnRzWCkgfCAwO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSAoeXBvcyAqIHRoaXMkMS52ZXJ0aWNlc1gpICsgeHBvcztcbiAgICAgICAgICAgIHZhciB2YWx1ZTIgPSAoeXBvcyAqIHRoaXMkMS52ZXJ0aWNlc1gpICsgeHBvcyArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUzID0gKCh5cG9zICsgMSkgKiB0aGlzJDEudmVydGljZXNYKSArIHhwb3M7XG4gICAgICAgICAgICB2YXIgdmFsdWU0ID0gKCh5cG9zICsgMSkgKiB0aGlzJDEudmVydGljZXNYKSArIHhwb3MgKyAxO1xuXG4gICAgICAgICAgICBpbmRpY2VzLnB1c2godmFsdWUsIHZhbHVlMiwgdmFsdWUzKTtcbiAgICAgICAgICAgIGluZGljZXMucHVzaCh2YWx1ZTIsIHZhbHVlNCwgdmFsdWUzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KHZlcnRzKTtcbiAgICAgICAgdGhpcy51dnMgPSBuZXcgRmxvYXQzMkFycmF5KHV2cyk7XG4gICAgICAgIHRoaXMuaW5kaWNlcyA9IG5ldyBVaW50MTZBcnJheShpbmRpY2VzKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMF0uZGF0YSA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuYnVmZmVyc1sxXS5kYXRhID0gdGhpcy51dnM7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuaW5kZXhCdWZmZXIuZGF0YSA9IHRoaXMuaW5kaWNlcztcblxuICAgICAgICAvLyBlbnN1cmUgdGhhdCB0aGUgY2hhbmdlcyBhcmUgdXBsb2FkZWRcbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZ2VvbWV0cnkuaW5kZXhCdWZmZXIudXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5tdWx0aXBseVV2cygpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGxhbmU7XG59KE1lc2gyZCkpO1xuXG52YXIgREVGQVVMVF9CT1JERVJfU0laRSA9IDEwO1xuXG4vKipcbiAqIFRoZSBOaW5lU2xpY2VQbGFuZSBhbGxvd3MgeW91IHRvIHN0cmV0Y2ggYSB0ZXh0dXJlIHVzaW5nIDktc2xpY2Ugc2NhbGluZy4gVGhlIGNvcm5lcnMgd2lsbCByZW1haW4gdW5zY2FsZWQgKHVzZWZ1bFxuICogZm9yIGJ1dHRvbnMgd2l0aCByb3VuZGVkIGNvcm5lcnMgZm9yIGV4YW1wbGUpIGFuZCB0aGUgb3RoZXIgYXJlYXMgd2lsbCBiZSBzY2FsZWQgaG9yaXpvbnRhbGx5IGFuZCBvciB2ZXJ0aWNhbGx5XG4gKlxuICpgYGBqc1xuICogbGV0IFBsYW5lOSA9IG5ldyBQSVhJLk5pbmVTbGljZVBsYW5lKFBJWEkuVGV4dHVyZS5mcm9tKCdCb3hXaXRoUm91bmRlZENvcm5lcnMucG5nJyksIDE1LCAxNSwgMTUsIDE1KTtcbiAqICBgYGBcbiAqIDxwcmU+XG4gKiAgICAgIEEgICAgICAgICAgICAgICAgICAgICAgICAgIEJcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgQyB8IDEgfCAgICAgICAgICAyICAgICAgICAgICB8IDMgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcbiAqICAgIHwgICB8ICAgICAgICAgICAgICAgICAgICAgIHwgICB8XG4gKiAgICB8IDQgfCAgICAgICAgICA1ICAgICAgICAgICB8IDYgfFxuICogICAgfCAgIHwgICAgICAgICAgICAgICAgICAgICAgfCAgIHxcbiAqICAgICstLS0rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSstLS0rXG4gKiAgRCB8IDcgfCAgICAgICAgICA4ICAgICAgICAgICB8IDkgfFxuICogICAgKy0tLSstLS0tLS0tLS0tLS0tLS0tLS0tLS0tKy0tLStcblxuICogIFdoZW4gY2hhbmdpbmcgdGhpcyBvYmplY3RzIHdpZHRoIGFuZC9vciBoZWlnaHQ6XG4gKiAgICAgYXJlYXMgMSAzIDcgYW5kIDkgd2lsbCByZW1haW4gdW5zY2FsZWQuXG4gKiAgICAgYXJlYXMgMiBhbmQgOCB3aWxsIGJlIHN0cmV0Y2hlZCBob3Jpem9udGFsbHlcbiAqICAgICBhcmVhcyA0IGFuZCA2IHdpbGwgYmUgc3RyZXRjaGVkIHZlcnRpY2FsbHlcbiAqICAgICBhcmVhIDUgd2lsbCBiZSBzdHJldGNoZWQgYm90aCBob3Jpem9udGFsbHkgYW5kIHZlcnRpY2FsbHlcbiAqIDwvcHJlPlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5QbGFuZVxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBOaW5lU2xpY2VQbGFuZSA9IChmdW5jdGlvbiAoUGxhbmUkJDEpIHtcbiAgICBmdW5jdGlvbiBOaW5lU2xpY2VQbGFuZSh0ZXh0dXJlLCBsZWZ0V2lkdGgsIHRvcEhlaWdodCwgcmlnaHRXaWR0aCwgYm90dG9tSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgUGxhbmUkJDEuY2FsbCh0aGlzLCB0ZXh0dXJlLCA0LCA0KTtcblxuICAgICAgICB0aGlzLl9vcmlnV2lkdGggPSB0ZXh0dXJlLm9yaWcud2lkdGg7XG4gICAgICAgIHRoaXMuX29yaWdIZWlnaHQgPSB0ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIE5pbmVTbGljZVBsYW5lLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHZlcnRpY2VzIGFuZCBVVidzIG9mIHRoaXMgcGxhbmVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl93aWR0aCA9IHRoaXMuX29yaWdXaWR0aDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgTmluZVNsaWNlUGxhbmUsIHNldHRpbmcgdGhpcyB3aWxsIGFjdHVhbGx5IG1vZGlmeSB0aGUgdmVydGljZXMgYW5kIFVWJ3Mgb2YgdGhpcyBwbGFuZVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2hlaWdodCA9IHRoaXMuX29yaWdIZWlnaHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgbGVmdCBjb2x1bW4gKGEpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbGVmdFdpZHRoID0gdHlwZW9mIGxlZnRXaWR0aCAhPT0gJ3VuZGVmaW5lZCcgPyBsZWZ0V2lkdGggOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2lkdGggb2YgdGhlIHJpZ2h0IGNvbHVtbiAoYilcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5OaW5lU2xpY2VQbGFuZSNcbiAgICAgICAgICogQG92ZXJyaWRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9yaWdodFdpZHRoID0gdHlwZW9mIHJpZ2h0V2lkdGggIT09ICd1bmRlZmluZWQnID8gcmlnaHRXaWR0aCA6IERFRkFVTFRfQk9SREVSX1NJWkU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3cgKGMpXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTmluZVNsaWNlUGxhbmUjXG4gICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdG9wSGVpZ2h0ID0gdHlwZW9mIHRvcEhlaWdodCAhPT0gJ3VuZGVmaW5lZCcgPyB0b3BIZWlnaHQgOiBERUZBVUxUX0JPUkRFUl9TSVpFO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93IChkKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLk5pbmVTbGljZVBsYW5lI1xuICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdHRvbUhlaWdodCA9IHR5cGVvZiBib3R0b21IZWlnaHQgIT09ICd1bmRlZmluZWQnID8gYm90dG9tSGVpZ2h0IDogREVGQVVMVF9CT1JERVJfU0laRTtcblxuICAgICAgICB0aGlzLnJlZnJlc2godHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKCBQbGFuZSQkMSApIE5pbmVTbGljZVBsYW5lLl9fcHJvdG9fXyA9IFBsYW5lJCQxO1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFBsYW5lJCQxICYmIFBsYW5lJCQxLnByb3RvdHlwZSApO1xuICAgIE5pbmVTbGljZVBsYW5lLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE5pbmVTbGljZVBsYW5lO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxlZnRXaWR0aDogeyBjb25maWd1cmFibGU6IHRydWUgfSxyaWdodFdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRvcEhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxib3R0b21IZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGhvcml6b250YWwgdmVydGljZXMuXG4gICAgICpcbiAgICAgKi9cbiAgICBOaW5lU2xpY2VQbGFuZS5wcm90b3R5cGUudXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzID0gZnVuY3Rpb24gdXBkYXRlSG9yaXpvbnRhbFZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZhciBoID0gdGhpcy5fdG9wSGVpZ2h0ICsgdGhpcy5fYm90dG9tSGVpZ2h0O1xuICAgICAgICB2YXIgc2NhbGUgPSB0aGlzLl9oZWlnaHQgPiBoID8gMS4wIDogdGhpcy5faGVpZ2h0IC8gaDtcblxuICAgICAgICB2ZXJ0aWNlc1s5XSA9IHZlcnRpY2VzWzExXSA9IHZlcnRpY2VzWzEzXSA9IHZlcnRpY2VzWzE1XSA9IHRoaXMuX3RvcEhlaWdodCAqIHNjYWxlO1xuICAgICAgICB2ZXJ0aWNlc1sxN10gPSB2ZXJ0aWNlc1sxOV0gPSB2ZXJ0aWNlc1syMV0gPSB2ZXJ0aWNlc1syM10gPSB0aGlzLl9oZWlnaHQgLSAodGhpcy5fYm90dG9tSGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICB2ZXJ0aWNlc1syNV0gPSB2ZXJ0aWNlc1syN10gPSB2ZXJ0aWNlc1syOV0gPSB2ZXJ0aWNlc1szMV0gPSB0aGlzLl9oZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHZlcnRpY2FsIHZlcnRpY2VzLlxuICAgICAqXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMgPSBmdW5jdGlvbiB1cGRhdGVWZXJ0aWNhbFZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLnZlcnRpY2VzO1xuXG4gICAgICAgIHZhciB3ID0gdGhpcy5fbGVmdFdpZHRoICsgdGhpcy5fcmlnaHRXaWR0aDtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fd2lkdGggPiB3ID8gMS4wIDogdGhpcy5fd2lkdGggLyB3O1xuXG4gICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbMTBdID0gdmVydGljZXNbMThdID0gdmVydGljZXNbMjZdID0gdGhpcy5fbGVmdFdpZHRoICogc2NhbGU7XG4gICAgICAgIHZlcnRpY2VzWzRdID0gdmVydGljZXNbMTJdID0gdmVydGljZXNbMjBdID0gdmVydGljZXNbMjhdID0gdGhpcy5fd2lkdGggLSAodGhpcy5fcmlnaHRXaWR0aCAqIHNjYWxlKTtcbiAgICAgICAgdmVydGljZXNbNl0gPSB2ZXJ0aWNlc1sxNF0gPSB2ZXJ0aWNlc1syMl0gPSB2ZXJ0aWNlc1szMF0gPSB0aGlzLl93aWR0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLndpZHRoLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fd2lkdGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBOaW5lU2xpY2VQbGFuZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSB2ZXJ0aWNlcyBhbmQgVVYncyBvZiB0aGlzIHBsYW5lXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBsZWZ0IGNvbHVtblxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5sZWZ0V2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5sZWZ0V2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX2xlZnRXaWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgcmlnaHQgY29sdW1uXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJpZ2h0V2lkdGguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yaWdodFdpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucmlnaHRXaWR0aC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fcmlnaHRXaWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9yZWZyZXNoKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRvcCByb3dcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudG9wSGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9wSGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudG9wSGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl90b3BIZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcmVmcmVzaCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaGVpZ2h0IG9mIHRoZSBib3R0b20gcm93XG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJvdHRvbUhlaWdodC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdHRvbUhlaWdodDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJvdHRvbUhlaWdodC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fYm90dG9tSGVpZ2h0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX3JlZnJlc2goKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIE5pbmVTbGljZVBsYW5lIGNvb3Jkcy4gQWxsIG9mIHRoZW0uXG4gICAgICovXG4gICAgTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLl9yZWZyZXNoID0gZnVuY3Rpb24gX3JlZnJlc2ggKClcbiAgICB7XG4gICAgICAgIFBsYW5lJCQxLnByb3RvdHlwZS5fcmVmcmVzaC5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHZhciB1dnMgPSB0aGlzLnV2cztcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuXG4gICAgICAgIHRoaXMuX29yaWdXaWR0aCA9IHRleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fb3JpZ0hlaWdodCA9IHRleHR1cmUub3JpZy5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIF91dncgPSAxLjAgLyB0aGlzLl9vcmlnV2lkdGg7XG4gICAgICAgIHZhciBfdXZoID0gMS4wIC8gdGhpcy5fb3JpZ0hlaWdodDtcblxuICAgICAgICB1dnNbMF0gPSB1dnNbOF0gPSB1dnNbMTZdID0gdXZzWzI0XSA9IDA7XG4gICAgICAgIHV2c1sxXSA9IHV2c1szXSA9IHV2c1s1XSA9IHV2c1s3XSA9IDA7XG4gICAgICAgIHV2c1s2XSA9IHV2c1sxNF0gPSB1dnNbMjJdID0gdXZzWzMwXSA9IDE7XG4gICAgICAgIHV2c1syNV0gPSB1dnNbMjddID0gdXZzWzI5XSA9IHV2c1szMV0gPSAxO1xuXG4gICAgICAgIHV2c1syXSA9IHV2c1sxMF0gPSB1dnNbMThdID0gdXZzWzI2XSA9IF91dncgKiB0aGlzLl9sZWZ0V2lkdGg7XG4gICAgICAgIHV2c1s0XSA9IHV2c1sxMl0gPSB1dnNbMjBdID0gdXZzWzI4XSA9IDEgLSAoX3V2dyAqIHRoaXMuX3JpZ2h0V2lkdGgpO1xuICAgICAgICB1dnNbOV0gPSB1dnNbMTFdID0gdXZzWzEzXSA9IHV2c1sxNV0gPSBfdXZoICogdGhpcy5fdG9wSGVpZ2h0O1xuICAgICAgICB1dnNbMTddID0gdXZzWzE5XSA9IHV2c1syMV0gPSB1dnNbMjNdID0gMSAtIChfdXZoICogdGhpcy5fYm90dG9tSGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUhvcml6b250YWxWZXJ0aWNlcygpO1xuICAgICAgICB0aGlzLnVwZGF0ZVZlcnRpY2FsVmVydGljZXMoKTtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5LmJ1ZmZlcnNbMV0udXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5tdWx0aXBseVV2cygpO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggTmluZVNsaWNlUGxhbmUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBOaW5lU2xpY2VQbGFuZTtcbn0oUGxhbmUpKTtcblxuLyoqXG4gKiBUaGUgcm9wZSBhbGxvd3MgeW91IHRvIGRyYXcgYSB0ZXh0dXJlIGFjcm9zcyBzZXZlcmFsIHBvaW50cyBhbmQgdGhlbSBtYW5pcHVsYXRlIHRoZXNlIHBvaW50c1xuICpcbiAqYGBganNcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykge1xuICogICAgIHBvaW50cy5wdXNoKG5ldyBQSVhJLlBvaW50KGkgKiA1MCwgMCkpO1xuICogfTtcbiAqIGxldCByb3BlID0gbmV3IFBJWEkuUm9wZShQSVhJLlRleHR1cmUuZnJvbShcInNuYWtlLnBuZ1wiKSwgcG9pbnRzKTtcbiAqICBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuTWVzaFxuICogQG1lbWJlcm9mIFBJWElcbiAqXG4gKi9cbnZhciBSb3BlID0gKGZ1bmN0aW9uIChNZXNoMmQkJDEpIHtcbiAgICBmdW5jdGlvbiBSb3BlKHRleHR1cmUsIHBvaW50cylcbiAgICB7XG4gICAgICAgIE1lc2gyZCQkMS5jYWxsKHRoaXMsIHRleHR1cmUsIG5ldyBGbG9hdDMyQXJyYXkocG9pbnRzLmxlbmd0aCAqIDQpLFxuICAgICAgICAgICAgbmV3IEZsb2F0MzJBcnJheShwb2ludHMubGVuZ3RoICogNCksXG4gICAgICAgICAgICBuZXcgVWludDE2QXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpLFxuICAgICAgICAgICAgNSk7XG5cbiAgICAgICAgLypcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5Qb2ludFtdfSBBbiBhcnJheSBvZiBwb2ludHMgdGhhdCBkZXRlcm1pbmUgdGhlIHJvcGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBpZiAoIE1lc2gyZCQkMSApIFJvcGUuX19wcm90b19fID0gTWVzaDJkJCQxO1xuICAgIFJvcGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggTWVzaDJkJCQxICYmIE1lc2gyZCQkMS5wcm90b3R5cGUgKTtcbiAgICBSb3BlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFJvcGU7XG4gICAgLyoqXG4gICAgICogUmVmcmVzaGVzIFJvcGUgaW5kaWNlcyBhbmQgdXZzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBSb3BlLnByb3RvdHlwZS5fcmVmcmVzaCA9IGZ1bmN0aW9uIF9yZWZyZXNoICgpXG4gICAge1xuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgaWYgKCFwb2ludHMpIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHRoaXMuZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKCdhVmVydGV4UG9zaXRpb24nKTtcbiAgICAgICAgdmFyIHV2QnVmZmVyID0gdGhpcy5nZW9tZXRyeS5nZXRBdHRyaWJ1dGUoJ2FUZXh0dXJlQ29vcmQnKTtcbiAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gdGhpcy5nZW9tZXRyeS5nZXRJbmRleCgpO1xuXG4gICAgICAgIC8vIGlmIHRvbyBsaXR0bGUgcG9pbnRzLCBvciB0ZXh0dXJlIGhhc24ndCBnb3QgVVZzIHNldCB5ZXQganVzdCBtb3ZlIG9uLlxuICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA8IDEgfHwgIXRoaXMudGV4dHVyZS5fdXZzKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGUgbnVtYmVyIG9mIHBvaW50cyBoYXMgY2hhbmdlZCB3ZSB3aWxsIG5lZWQgdG8gcmVjcmVhdGUgdGhlIGFycmF5YnVmZmVyc1xuICAgICAgICBpZiAodmVydGV4QnVmZmVyLmRhdGEubGVuZ3RoIC8gNCAhPT0gcG9pbnRzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIHV2QnVmZmVyLmRhdGEgPSBuZXcgRmxvYXQzMkFycmF5KHBvaW50cy5sZW5ndGggKiA0KTtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBuZXcgVWludDE2QXJyYXkocG9pbnRzLmxlbmd0aCAqIDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHV2cyA9IHV2QnVmZmVyLmRhdGE7XG4gICAgICAgIHZhciBpbmRpY2VzID0gaW5kZXhCdWZmZXIuZGF0YTtcblxuICAgICAgICB1dnNbMF0gPSAwO1xuICAgICAgICB1dnNbMV0gPSAwO1xuICAgICAgICB1dnNbMl0gPSAwO1xuICAgICAgICB1dnNbM10gPSAxO1xuXG4gICAgICAgIGluZGljZXNbMF0gPSAwO1xuICAgICAgICBpbmRpY2VzWzFdID0gMTtcblxuICAgICAgICB2YXIgdG90YWwgPSBwb2ludHMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdG90YWw7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGltZSB0byBkbyBzb21lIHNtYXJ0IGRyYXdpbmchXG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIHZhciBhbW91bnQgPSBpIC8gKHRvdGFsIC0gMSk7XG5cbiAgICAgICAgICAgIHV2c1tpbmRleF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB1dnNbaW5kZXggKyAxXSA9IDA7XG5cbiAgICAgICAgICAgIHV2c1tpbmRleCArIDJdID0gYW1vdW50O1xuICAgICAgICAgICAgdXZzW2luZGV4ICsgM10gPSAxO1xuXG4gICAgICAgICAgICBpbmRleCA9IGkgKiAyO1xuICAgICAgICAgICAgaW5kaWNlc1tpbmRleF0gPSBpbmRleDtcbiAgICAgICAgICAgIGluZGljZXNbaW5kZXggKyAxXSA9IGluZGV4ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IHRoZSBjaGFuZ2VzIGFyZSB1cGxvYWRlZFxuICAgICAgICB1dkJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgaW5kZXhCdWZmZXIudXBkYXRlKCk7XG5cbiAgICAgICAgdGhpcy5tdWx0aXBseVV2cygpO1xuICAgICAgICB0aGlzLnJlZnJlc2hWZXJ0aWNlcygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZWZyZXNoZXMgdmVydGljZXMgb2YgUm9wZSBtZXNoXG4gICAgICovXG4gICAgUm9wZS5wcm90b3R5cGUucmVmcmVzaFZlcnRpY2VzID0gZnVuY3Rpb24gcmVmcmVzaFZlcnRpY2VzICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHM7XG5cbiAgICAgICAgaWYgKHBvaW50cy5sZW5ndGggPCAxKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGFzdFBvaW50ID0gcG9pbnRzWzBdO1xuICAgICAgICB2YXIgbmV4dFBvaW50O1xuICAgICAgICB2YXIgcGVycFggPSAwO1xuICAgICAgICB2YXIgcGVycFkgPSAwO1xuXG4gICAgICAgIC8vIHRoaXMuY291bnQgLT0gMC4yO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgIHZhciB0b3RhbCA9IHBvaW50cy5sZW5ndGg7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b3RhbDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgICB2YXIgaW5kZXggPSBpICogNDtcblxuICAgICAgICAgICAgaWYgKGkgPCBwb2ludHMubGVuZ3RoIC0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuZXh0UG9pbnQgPSBwb2ludHNbaSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5leHRQb2ludCA9IHBvaW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwZXJwWSA9IC0obmV4dFBvaW50LnggLSBsYXN0UG9pbnQueCk7XG4gICAgICAgICAgICBwZXJwWCA9IG5leHRQb2ludC55IC0gbGFzdFBvaW50Lnk7XG5cbiAgICAgICAgICAgIHZhciBwZXJwTGVuZ3RoID0gTWF0aC5zcXJ0KChwZXJwWCAqIHBlcnBYKSArIChwZXJwWSAqIHBlcnBZKSk7XG4gICAgICAgICAgICB2YXIgbnVtID0gdGhpcyQxLl90ZXh0dXJlLmhlaWdodCAvIDI7IC8vICgyMCArIE1hdGguYWJzKE1hdGguc2luKChpICsgdGhpcy5jb3VudCkgKiAwLjMpICogNTApICkqIHJhdGlvO1xuXG4gICAgICAgICAgICBwZXJwWCAvPSBwZXJwTGVuZ3RoO1xuICAgICAgICAgICAgcGVycFkgLz0gcGVycExlbmd0aDtcblxuICAgICAgICAgICAgcGVycFggKj0gbnVtO1xuICAgICAgICAgICAgcGVycFkgKj0gbnVtO1xuXG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleF0gPSBwb2ludC54ICsgcGVycFg7XG4gICAgICAgICAgICB2ZXJ0aWNlc1tpbmRleCArIDFdID0gcG9pbnQueSArIHBlcnBZO1xuICAgICAgICAgICAgdmVydGljZXNbaW5kZXggKyAyXSA9IHBvaW50LnggLSBwZXJwWDtcbiAgICAgICAgICAgIHZlcnRpY2VzW2luZGV4ICsgM10gPSBwb2ludC55IC0gcGVycFk7XG5cbiAgICAgICAgICAgIGxhc3RQb2ludCA9IHBvaW50O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nZW9tZXRyeS5idWZmZXJzWzBdLnVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgUm9wZS5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hWZXJ0aWNlcygpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBSb3BlO1xufShNZXNoMmQpKTtcblxuZXhwb3J0IHsgTWVzaDJkLCBQbGFuZSwgTmluZVNsaWNlUGxhbmUsIFJvcGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2gtZXh0cmFzLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9tZXNoIC0gdjUuMC4wLWFscGhhLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDMgSnVsIDIwMTggMDQ6MDg6MjEgVVRDXG4gKlxuICogQHBpeGkvbWVzaCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IE9iamVjdFJlbmRlcmVyLCBTdGF0ZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgRFJBV19NT0RFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBNYXRyaXgsIFBvaW50LCBQb2x5Z29uIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xudmFyIHRlbXBQb2x5Z29uID0gbmV3IFBvbHlnb24oKTtcblxuLyoqXG4gKiBCYXNlIG1lc2ggY2xhc3MuXG4gKiBUaGUgcmVhc29uIGZvciB0aGlzIGNsYXNzIGlzIHRvIGVtcG93ZXIgeW91IHRvIGhhdmUgbWF4aW11bSBmbGV4aWJpbGl0eSB0byByZW5kZXIgYW55IGtpbmQgb2Ygd2ViR0wgeW91IGNhbiB0aGluayBvZi5cbiAqIFRoaXMgY2xhc3MgYXNzdW1lcyBhIGNlcnRhaW4gbGV2ZWwgb2Ygd2ViR0wga25vd2xlZGdlLlxuICogSWYgeW91IGtub3cgYSBiaXQgdGhpcyBzaG91bGQgYWJzdHJhY3QgZW5vdWdoIGF3YXkgdG8gbWFrZSB5b3UgbGlmZSBlYXNpZXIhXG4gKiBQcmV0dHkgbXVjaCBBTEwgV2ViR0wgY2FuIGJlIGJyb2tlbiBkb3duIGludG8gdGhlIGZvbGxvd2luZzpcbiAqIEdlb21ldHJ5IC0gVGhlIHN0cnVjdHVyZSBhbmQgZGF0YSBmb3IgdGhlIG1lc2guIFRoaXMgY2FuIGluY2x1ZGUgYW55dGhpbmcgZnJvbSBwb3NpdGlvbnMsIHV2cywgbm9ybWFscywgY29sb3JzIGV0Yy4uXG4gKiBTaGFkZXIgLSBUaGlzIGlzIHRoZSBzaGFkZXIgdGhhdCBwaXhpIHdpbGwgcmVuZGVyIHRoZSBnZW9tZXRyeSB3aXRoLiAoYXR0cmlidXRlcyBpbiB0aGUgc2hhZGVyIG11c3QgbWF0Y2ggdGhlIGdlb21ldHJ5ISlcbiAqIFVuaWZvcm1zIC0gVGhlc2UgYXJlIHRoZSB2YWx1ZXMgcGFzc2VkIHRvIHRoZSBzaGFkZXIgd2hlbiB0aGUgbWVzaCBpcyByZW5kZXJlZC5cbiAqIEFzIGEgc2hhZGVyIGNhbiBiZSByZXVzZWQgYWNyb3NzIG11bHRpcGxlIG9iamVjdHMsIGl0IG1hZGUgc2Vuc2UgdG8gYWxsb3cgdW5pZm9ybXMgdG8gZXhpc3Qgb3V0c2lkZSBvZiB0aGUgc2hhZGVyXG4gKiBTdGF0ZSAtIFRoaXMgaXMgdGhlIHN0YXRlIG9mIFdlYkdMIHJlcXVpcmVkIHRvIHJlbmRlciB0aGUgbWVzaC5cbiAqIFRocm91Z2ggYSBjb21iaW5hdGlvbiBvZiB0aGUgYWJvdmUgZWxlbWVudHMgeW91IGNhbiByZW5kZXIgYW55dGhpbmcgeW91IHdhbnQsIDJEIG9yIDNEIVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBNZXNoID0gKGZ1bmN0aW9uIChDb250YWluZXIkJDEpIHtcbiAgICBmdW5jdGlvbiBNZXNoKGdlb21ldHJ5LCBzaGFkZXIsIHN0YXRlLCBkcmF3TW9kZSlcbiAgICB7XG4gICAgICAgIGlmICggZHJhd01vZGUgPT09IHZvaWQgMCApIGRyYXdNb2RlID0gRFJBV19NT0RFUy5UUklBTkdMRVM7XG5cbiAgICAgICAgQ29udGFpbmVyJCQxLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIHRoZSBnZW9tZXRyeSB0aGUgbWVzaCB3aWxsIHVzZVxuICAgICAgICAgKiBAdHlwZSB7UElYSS5HZW9tZXRyeX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2VvbWV0cnkgPSBnZW9tZXRyeTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIHNoYWRlciB0aGUgbWVzaCB3aWxsIHVzZVxuICAgICAgICAgKiBAdHlwZSB7UElYSS5TaGFkZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNoYWRlciA9IHNoYWRlcjtcblxuICAgICAgICAvKipcbiAgICAgICAgICogdGhlIHdlYkdMIHN0YXRlIHRoZSBtZXNoIHJlcXVpcmVzIHRvIHJlbmRlclxuICAgICAgICAgKiBAdHlwZSB7UElYSS5TdGF0ZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZSB8fCBuZXcgU3RhdGUoKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdheSB0aGUgTWVzaCBzaG91bGQgYmUgZHJhd24sIGNhbiBiZSBhbnkgb2YgdGhlIHtAbGluayBQSVhJLk1lc2guRFJBV19NT0RFU30gY29uc3RzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHNlZSBQSVhJLk1lc2guRFJBV19NT0RFU1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kcmF3TW9kZSA9IGRyYXdNb2RlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgd2F5IHVuaWZvcm1zIHRoYXQgd2lsbCBiZSB1c2VkIGJ5IHRoZSBtZXNoJ3Mgc2hhZGVyLlxuICAgICAgICAgKiBAbWVtYmVyIHtPYmplY3R9XG4gICAgICAgICAqL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiByZW5kZXJlciBJRHMgdG8gd2ViZ2wgcmVuZGVyIGRhdGFcbiAgICAgICAgICpcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0PG51bWJlciwgb2JqZWN0Pn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2dsRGF0YXMgPSB7fTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUGx1Z2luIHRoYXQgaXMgcmVzcG9uc2libGUgZm9yIHJlbmRlcmluZyB0aGlzIGVsZW1lbnQuXG4gICAgICAgICAqIEFsbG93cyB0byBjdXN0b21pemUgdGhlIHJlbmRlcmluZyBwcm9jZXNzIHdpdGhvdXQgb3ZlcnJpZGluZyAnX3JlbmRlcicgJiAnX3JlbmRlckNhbnZhcycgbWV0aG9kcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbWVzaCdcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGx1Z2luTmFtZSA9ICdtZXNoJztcblxuICAgICAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciQkMSApIE1lc2guX19wcm90b19fID0gQ29udGFpbmVyJCQxO1xuICAgIE1lc2gucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQ29udGFpbmVyJCQxICYmIENvbnRhaW5lciQkMS5wcm90b3R5cGUgKTtcbiAgICBNZXNoLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1lc2g7XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIGEgcmVmZXJlbmNlIHRvIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIF9yZW5kZXIgKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgcmVuZGVyZXIuYmF0Y2guc2V0T2JqZWN0UmVuZGVyZXIocmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdKTtcbiAgICAgICAgcmVuZGVyZXIucGx1Z2luc1t0aGlzLnBsdWdpbk5hbWVdLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBtZXNoIGFzIGEgcmVjdGFuZ2xlLiBUaGUgYm91bmRzIGNhbGN1bGF0aW9uIHRha2VzIHRoZSB3b3JsZFRyYW5zZm9ybSBpbnRvIGFjY291bnQuXG4gICAgICogdGhlcmUgbXVzdCBiZSBhIGFWZXJ0ZXhQb3NpdGlvbiBhdHRyaWJ1dGUgcHJlc2VudCBpbiB0aGUgZ2VvbWV0cnkgZm9yIGJvdW5kcyB0byBiZSBjYWxjdWxhdGVkIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuX2NhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVCb3VuZHMgKClcbiAgICB7XG4gICAgICAgIC8vIFRoZSBwb3NpdGlvbiBwcm9wZXJ0eSBjb3VsZCBiZSBzZXQgbWFudWFsbHk/XG4gICAgICAgIGlmICh0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMuYVZlcnRleFBvc2l0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmdldEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcblxuICAgICAgICAgICAgLy8gVE9ETyAtIHdlIGNhbiBjYWNoZSBsb2NhbCBib3VuZHMgYW5kIHVzZSB0aGVtIGlmIHRoZXkgYXJlIGRpcnR5IChsaWtlIGdyYXBoaWNzKVxuICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZFZlcnRpY2VzKHRoaXMudHJhbnNmb3JtLCB2ZXJ0aWNlcywgMCwgdmVydGljZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyBpZiBhIHBvaW50IGlzIGluc2lkZSB0aGlzIG1lc2guIFdvcmtzIG9ubHkgZm9yIFRSSUFOR0xFX01FU0hcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5Qb2ludH0gcG9pbnQgdGhlIHBvaW50IHRvIHRlc3RcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0aGUgcmVzdWx0IG9mIHRoZSB0ZXN0XG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQgKHBvaW50KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50LngsIHBvaW50LnkpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5SW52ZXJzZShwb2ludCwgdGVtcFBvaW50KTtcblxuICAgICAgICB2YXIgdmVydGljZXMgPSB0aGlzLmdlb21ldHJ5LmdldEF0dHJpYnV0ZSgnYVZlcnRleFBvc2l0aW9uJykuZGF0YTtcblxuICAgICAgICB2YXIgcG9pbnRzID0gdGVtcFBvbHlnb24ucG9pbnRzO1xuICAgICAgICB2YXIgaW5kaWNlcyA9ICB0aGlzLmdlb21ldHJ5LmdldEluZGV4KCkuZGF0YTtcbiAgICAgICAgdmFyIGxlbiA9IGluZGljZXMubGVuZ3RoO1xuICAgICAgICB2YXIgc3RlcCA9IHRoaXMuZHJhd01vZGUgPT09IDQgPyAzIDogMTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSArIDIgPCBsZW47IGkgKz0gc3RlcClcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGluZDAgPSBpbmRpY2VzW2ldICogMjtcbiAgICAgICAgICAgIHZhciBpbmQxID0gaW5kaWNlc1tpICsgMV0gKiAyO1xuICAgICAgICAgICAgdmFyIGluZDIgPSBpbmRpY2VzW2kgKyAyXSAqIDI7XG5cbiAgICAgICAgICAgIHBvaW50c1swXSA9IHZlcnRpY2VzW2luZDBdO1xuICAgICAgICAgICAgcG9pbnRzWzFdID0gdmVydGljZXNbaW5kMCArIDFdO1xuICAgICAgICAgICAgcG9pbnRzWzJdID0gdmVydGljZXNbaW5kMV07XG4gICAgICAgICAgICBwb2ludHNbM10gPSB2ZXJ0aWNlc1tpbmQxICsgMV07XG4gICAgICAgICAgICBwb2ludHNbNF0gPSB2ZXJ0aWNlc1tpbmQyXTtcbiAgICAgICAgICAgIHBvaW50c1s1XSA9IHZlcnRpY2VzW2luZDIgKyAxXTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2x5Z29uLmNvbnRhaW5zKHRlbXBQb2ludC54LCB0ZW1wUG9pbnQueSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBNZXNoIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsXG4gICAgICogIG9wdGlvbnMgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmVcbiAgICAgKiAgdGhlaXIgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgTWVzaC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICAvLyBmb3IgZWFjaCB3ZWJnbCBkYXRhIGVudHJ5LCBkZXN0cm95IHRoZSBXZWJHTEdyYXBoaWNzRGF0YVxuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzJDEuX2dsRGF0YXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcyQxLl9nbERhdGFzW2lkXTtcblxuICAgICAgICAgICAgaWYgKGRhdGEuZGVzdHJveSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS52ZXJ0ZXhCdWZmZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnZlcnRleEJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudmVydGV4QnVmZmVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuaW5kZXhCdWZmZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLmluZGV4QnVmZmVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5pbmRleEJ1ZmZlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnV2QnVmZmVyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS51dkJ1ZmZlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudXZCdWZmZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS52YW8pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnZhby5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEudmFvID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9nbERhdGFzID0gbnVsbDtcblxuICAgICAgICB0aGlzLmdlb21ldHJ5ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gbnVsbDtcblxuICAgICAgICBDb250YWluZXIkJDEucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIE1lc2g7XG59KENvbnRhaW5lcikpO1xuXG4vKipcbiAqIFdlYkdMIHJlbmRlcmVyIHBsdWdpbiBmb3IgdGlsaW5nIHNwcml0ZXNcbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLk9iamVjdFJlbmRlcmVyXG4gKi9cbnZhciBNZXNoUmVuZGVyZXIgPSAoZnVuY3Rpb24gKE9iamVjdFJlbmRlcmVyJCQxKSB7XG4gICAgZnVuY3Rpb24gTWVzaFJlbmRlcmVyKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgT2JqZWN0UmVuZGVyZXIkJDEuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICggT2JqZWN0UmVuZGVyZXIkJDEgKSBNZXNoUmVuZGVyZXIuX19wcm90b19fID0gT2JqZWN0UmVuZGVyZXIkJDE7XG4gICAgTWVzaFJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE9iamVjdFJlbmRlcmVyJCQxICYmIE9iamVjdFJlbmRlcmVyJCQxLnByb3RvdHlwZSApO1xuICAgIE1lc2hSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBNZXNoUmVuZGVyZXI7XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSByZW5kZXJlciBjb250ZXh0IGFuZCBuZWNlc3NhcnkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgTWVzaFJlbmRlcmVyLnByb3RvdHlwZS5jb250ZXh0Q2hhbmdlID0gZnVuY3Rpb24gY29udGV4dENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nbCA9IHRoaXMucmVuZGVyZXIuZ2w7XG4gICAgICAgIHRoaXMuQ09OVEVYVF9VSUQgPSB0aGlzLnJlbmRlcmVyLkNPTlRFWFRfVUlEO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiByZW5kZXJzIG1lc2hcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5NZXNofSBtZXNoIG1lc2ggaW5zdGFuY2VcbiAgICAgKi9cbiAgICBNZXNoUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAobWVzaClcbiAgICB7XG4gICAgICAgIC8vIGJpbmQgdGhlIHNoYWRlci4uXG5cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyBzZXQgdGhlIHNoYWRlciBwcm9wcy4uXG4gICAgICAgIC8vIHByb2JhYmx5IG9ubHkgbmVlZCB0byBzZXQgb25jZSFcbiAgICAgICAgLy8gYXMgaXRzIHRoZW4gYSByZWZlcmVuY2UuLlxuICAgICAgICBpZiAobWVzaC5zaGFkZXIucHJvZ3JhbS51bmlmb3JtRGF0YS50cmFuc2xhdGlvbk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gdGhlIHRyYW5zZm9ybSFcbiAgICAgICAgICAgIG1lc2guc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbWVzaC50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzaC5zaGFkZXIudW5pZm9ybXMudVRleHR1cmVNYXRyaXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChtZXNoLnVwbG9hZFV2TWF0cml4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1lc2guc2hhZGVyLnVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ID0gbWVzaC51dk1hdHJpeC5tYXBDb29yZC50b0FycmF5KHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1lc2guc2hhZGVyLnVuaWZvcm1zLnVUZXh0dXJlTWF0cml4ID0gTWF0cml4LklERU5USVRZLnRvQXJyYXkodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiaW5kIGFuZCBzeW5jIHVuaWZvcm1zLi5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZChtZXNoLnNoYWRlcik7XG5cbiAgICAgICAgLy8gc2V0IHN0YXRlLi5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXRTdGF0ZShtZXNoLnN0YXRlKTtcblxuICAgICAgICAvLyBiaW5kIHRoZSBnZW9tZXRyeS4uLlxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmJpbmQobWVzaC5nZW9tZXRyeSwgbWVzaC5zaGFkZXIpO1xuICAgICAgICAvLyB0aGVuIHJlbmRlciBpdFxuICAgICAgICB0aGlzLnJlbmRlcmVyLmdlb21ldHJ5LmRyYXcobWVzaC5kcmF3TW9kZSwgbWVzaC5zaXplLCBtZXNoLnN0YXJ0LCBtZXNoLmdlb21ldHJ5Lmluc3RhbmNlQ291bnQpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTWVzaFJlbmRlcmVyO1xufShPYmplY3RSZW5kZXJlcikpO1xuXG5leHBvcnQgeyBNZXNoLCBNZXNoUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc2guZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3BhcnRpY2xlcyAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL3BhcnRpY2xlcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEJMRU5EX01PREVTLCBUWVBFUyB9IGZyb20gJ0BwaXhpL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjb3JyZWN0QmxlbmRNb2RlLCBjcmVhdGVJbmRpY2VzRm9yUXVhZHMsIGhleDJyZ2IsIHByZW11bHRpcGx5UmdiYSwgcHJlbXVsdGlwbHlUaW50IH0gZnJvbSAnQHBpeGkvdXRpbHMnO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBCdWZmZXIsIEdlb21ldHJ5LCBPYmplY3RSZW5kZXJlciwgU2hhZGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcblxuLyoqXG4gKiBUaGUgUGFydGljbGVDb250YWluZXIgY2xhc3MgaXMgYSByZWFsbHkgZmFzdCB2ZXJzaW9uIG9mIHRoZSBDb250YWluZXIgYnVpbHQgc29sZWx5IGZvciBzcGVlZCxcbiAqIHNvIHVzZSB3aGVuIHlvdSBuZWVkIGEgbG90IG9mIHNwcml0ZXMgb3IgcGFydGljbGVzLiBUaGUgdHJhZGVvZmYgb2YgdGhlIFBhcnRpY2xlQ29udGFpbmVyIGlzIHRoYXQgbW9zdCBhZHZhbmNlZFxuICogZnVuY3Rpb25hbGl0eSB3aWxsIG5vdCB3b3JrLiBQYXJ0aWNsZUNvbnRhaW5lciBpbXBsZW1lbnRzIHRoZSBiYXNpYyBvYmplY3QgdHJhbnNmb3JtIChwb3NpdGlvbiwgc2NhbGUsIHJvdGF0aW9uKVxuICogYW5kIHNvbWUgYWR2YW5jZWQgZnVuY3Rpb25hbGl0eSBsaWtlIHRpbnQgKGFzIG9mIHY0LjUuNikuXG4gKiBPdGhlciBtb3JlIGFkdmFuY2VkIGZ1bmN0aW9uYWxpdHkgbGlrZSBtYXNraW5nLCBjaGlsZHJlbiwgZmlsdGVycywgZXRjIHdpbGwgbm90IHdvcmsgb24gc3ByaXRlcyBpbiB0aGlzIGJhdGNoLlxuICpcbiAqIEl0J3MgZXh0cmVtZWx5IGVhc3kgdG8gdXNlIDpcbiAqXG4gKiBgYGBqc1xuICogbGV0IGNvbnRhaW5lciA9IG5ldyBQYXJ0aWNsZUNvbnRhaW5lcigpO1xuICpcbiAqIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyArK2kpXG4gKiB7XG4gKiAgICAgbGV0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZS5mcm9tKFwibXlJbWFnZS5wbmdcIik7XG4gKiAgICAgY29udGFpbmVyLmFkZENoaWxkKHNwcml0ZSk7XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBBbmQgaGVyZSB5b3UgaGF2ZSBhIGh1bmRyZWQgc3ByaXRlcyB0aGF0IHdpbGwgYmUgcmVuZGVyZWQgYXQgdGhlIHNwZWVkIG9mIGxpZ2h0LlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUNvbnRhaW5lciA9IChmdW5jdGlvbiAoQ29udGFpbmVyJCQxKSB7XG4gICAgZnVuY3Rpb24gUGFydGljbGVDb250YWluZXIobWF4U2l6ZSwgcHJvcGVydGllcywgYmF0Y2hTaXplLCBhdXRvUmVzaXplKVxuICAgIHtcbiAgICAgICAgaWYgKCBtYXhTaXplID09PSB2b2lkIDAgKSBtYXhTaXplID0gMTUwMDtcbiAgICAgICAgaWYgKCBiYXRjaFNpemUgPT09IHZvaWQgMCApIGJhdGNoU2l6ZSA9IDE2Mzg0O1xuICAgICAgICBpZiAoIGF1dG9SZXNpemUgPT09IHZvaWQgMCApIGF1dG9SZXNpemUgPSBmYWxzZTtcblxuICAgICAgICBDb250YWluZXIkJDEuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBNYWtpbmcgc3VyZSB0aGUgYmF0Y2ggc2l6ZSBpcyB2YWxpZFxuICAgICAgICAvLyA2NTUzNSBpcyBtYXggdmVydGV4IGluZGV4IGluIHRoZSBpbmRleCBidWZmZXIgKHNlZSBQYXJ0aWNsZVJlbmRlcmVyKVxuICAgICAgICAvLyBzbyBtYXggbnVtYmVyIG9mIHBhcnRpY2xlcyBpcyA2NTUzNiAvIDQgPSAxNjM4NFxuICAgICAgICB2YXIgbWF4QmF0Y2hTaXplID0gMTYzODQ7XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heEJhdGNoU2l6ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgYmF0Y2hTaXplID0gbWF4QmF0Y2hTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJhdGNoU2l6ZSA+IG1heFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJhdGNoU2l6ZSA9IG1heFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHByb3BlcnRpZXMgdG8gYmUgZHluYW1pYyAodHJ1ZSkgLyBzdGF0aWMgKGZhbHNlKVxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFuW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0gW2ZhbHNlLCB0cnVlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fbWF4U2l6ZSA9IG1heFNpemU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JhdGNoU2l6ZSA9IGJhdGNoU2l6ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7QXJyYXk8UElYSS5CdWZmZXI+fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYnVmZmVycyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZvciBldmVyeSBiYXRjaCBzdG9yZXMgX3VwZGF0ZUlEIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxhc3QgY2hhbmdlIGluIHRoYXQgYmF0Y2hcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogd2hlbiBjaGlsZCBpbnNlcnRlZCwgcmVtb3ZlZCBvciBjaGFuZ2VzIHBvc2l0aW9uIHRoaXMgbnVtYmVyIGdvZXMgdXBcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyW119XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl91cGRhdGVJRCA9IDA7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGJsZW5kIG1vZGUgdG8gYmUgYXBwbGllZCB0byB0aGUgc3ByaXRlLiBBcHBseSBhIHZhbHVlIG9mIGBQSVhJLkJMRU5EX01PREVTLk5PUk1BTGBcbiAgICAgICAgICogdG8gcmVzZXQgdGhlIGJsZW5kIG1vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgUElYSS5CTEVORF9NT0RFUy5OT1JNQUxcbiAgICAgICAgICogQHNlZSBQSVhJLkJMRU5EX01PREVTXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJsZW5kTW9kZSA9IEJMRU5EX01PREVTLk5PUk1BTDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgY29udGFpbmVyIGFsbG9jYXRlcyBtb3JlIGJhdGNoZXMgaW4gY2FzZSB0aGVyZSBhcmUgbW9yZSB0aGFuIGBtYXhTaXplYCBwYXJ0aWNsZXMuXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmF1dG9SZXNpemUgPSBhdXRvUmVzaXplO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGZvciBjYW52YXMgcmVuZGVyaW5nLiBJZiB0cnVlIHRoZW4gdGhlIGVsZW1lbnRzIHdpbGwgYmUgcG9zaXRpb25lZCBhdCB0aGVcbiAgICAgICAgICogbmVhcmVzdCBwaXhlbC4gVGhpcyBwcm92aWRlcyBhIG5pY2Ugc3BlZWQgYm9vc3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWU7XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJvdW5kUGl4ZWxzID0gdHJ1ZTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRleHR1cmUgdXNlZCB0byByZW5kZXIgdGhlIGNoaWxkcmVuLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7QmFzZVRleHR1cmV9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gbnVsbDtcblxuICAgICAgICB0aGlzLnNldFByb3BlcnRpZXMocHJvcGVydGllcyk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW50IGFwcGxpZWQgdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgICAgICogVGhpcyBpcyBhIGhleCB2YWx1ZS4gQSB2YWx1ZSBvZiAweEZGRkZGRiB3aWxsIHJlbW92ZSBhbnkgdGludCBlZmZlY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMHhGRkZGRkZcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3RpbnQgPSAwO1xuICAgICAgICB0aGlzLnRpbnRSZ2IgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICB0aGlzLnRpbnQgPSAweEZGRkZGRjtcbiAgICB9XG5cbiAgICBpZiAoIENvbnRhaW5lciQkMSApIFBhcnRpY2xlQ29udGFpbmVyLl9fcHJvdG9fXyA9IENvbnRhaW5lciQkMTtcbiAgICBQYXJ0aWNsZUNvbnRhaW5lci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb250YWluZXIkJDEgJiYgQ29udGFpbmVyJCQxLnByb3RvdHlwZSApO1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBhcnRpY2xlQ29udGFpbmVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdGludDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcHJpdmF0ZSBwcm9wZXJ0aWVzIGFycmF5IHRvIGR5bmFtaWMgLyBzdGF0aWMgYmFzZWQgb24gdGhlIHBhc3NlZCBwcm9wZXJ0aWVzIG9iamVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb3BlcnRpZXMgLSBUaGUgcHJvcGVydGllcyB0byBiZSB1cGxvYWRlZFxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gc2V0UHJvcGVydGllcyAocHJvcGVydGllcylcbiAgICB7XG4gICAgICAgIGlmIChwcm9wZXJ0aWVzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzBdID0gJ3ZlcnRpY2VzJyBpbiBwcm9wZXJ0aWVzIHx8ICdzY2FsZScgaW4gcHJvcGVydGllc1xuICAgICAgICAgICAgICAgID8gISFwcm9wZXJ0aWVzLnZlcnRpY2VzIHx8ICEhcHJvcGVydGllcy5zY2FsZSA6IHRoaXMuX3Byb3BlcnRpZXNbMF07XG4gICAgICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzWzFdID0gJ3Bvc2l0aW9uJyBpbiBwcm9wZXJ0aWVzID8gISFwcm9wZXJ0aWVzLnBvc2l0aW9uIDogdGhpcy5fcHJvcGVydGllc1sxXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbMl0gPSAncm90YXRpb24nIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMucm90YXRpb24gOiB0aGlzLl9wcm9wZXJ0aWVzWzJdO1xuICAgICAgICAgICAgdGhpcy5fcHJvcGVydGllc1szXSA9ICd1dnMnIGluIHByb3BlcnRpZXMgPyAhIXByb3BlcnRpZXMudXZzIDogdGhpcy5fcHJvcGVydGllc1szXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbNF0gPSAndGludCcgaW4gcHJvcGVydGllcyB8fCAnYWxwaGEnIGluIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICA/ICEhcHJvcGVydGllcy50aW50IHx8ICEhcHJvcGVydGllcy5hbHBoYSA6IHRoaXMuX3Byb3BlcnRpZXNbNF07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgb2JqZWN0IHRyYW5zZm9ybSBmb3IgcmVuZGVyaW5nXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFBhcnRpY2xlQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiB1cGRhdGVUcmFuc2Zvcm0gKClcbiAgICB7XG4gICAgICAgIC8vIFRPRE8gZG9uJ3QgbmVlZCB0byFcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgIC8vICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtLmNhbGwoIHRoaXMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRpbnQgYXBwbGllZCB0byB0aGUgY29udGFpbmVyLiBUaGlzIGlzIGEgaGV4IHZhbHVlLlxuICAgICAqIEEgdmFsdWUgb2YgMHhGRkZGRkYgd2lsbCByZW1vdmUgYW55IHRpbnQgZWZmZWN0LlxuICAgICAqKiBJTVBPUlRBTlQ6IFRoaXMgaXMgYSB3ZWJHTCBvbmx5IGZlYXR1cmUgYW5kIHdpbGwgYmUgaWdub3JlZCBieSB0aGUgY2FudmFzIHJlbmRlcmVyLlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAweEZGRkZGRlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3RpbnQgPSB2YWx1ZTtcbiAgICAgICAgaGV4MnJnYih2YWx1ZSwgdGhpcy50aW50UmdiKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgY29udGFpbmVyIHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHdlYmdsIHJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5jaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmJhc2VUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlID0gdGhpcy5jaGlsZHJlblswXS5fdGV4dHVyZS5iYXNlVGV4dHVyZTtcbiAgICAgICAgICAgIGlmICghdGhpcy5iYXNlVGV4dHVyZS52YWxpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLm9uY2UoJ3VwZGF0ZScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMkMS5vbkNoaWxkcmVuQ2hhbmdlKDApOyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnMucGFydGljbGUpO1xuICAgICAgICByZW5kZXJlci5wbHVnaW5zLnBhcnRpY2xlLnJlbmRlcih0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBmbGFnIHRoYXQgc3RhdGljIGRhdGEgc2hvdWxkIGJlIHVwZGF0ZWQgdG8gdHJ1ZVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc21hbGxlc3RDaGlsZEluZGV4IC0gVGhlIHNtYWxsZXN0IGNoaWxkIGluZGV4XG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLm9uQ2hpbGRyZW5DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoaWxkcmVuQ2hhbmdlIChzbWFsbGVzdENoaWxkSW5kZXgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgYnVmZmVySW5kZXggPSBNYXRoLmZsb29yKHNtYWxsZXN0Q2hpbGRJbmRleCAvIHRoaXMuX2JhdGNoU2l6ZSk7XG5cbiAgICAgICAgd2hpbGUgKHRoaXMuX2J1ZmZlclVwZGF0ZUlEcy5sZW5ndGggPCBidWZmZXJJbmRleClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLl9idWZmZXJVcGRhdGVJRHMucHVzaCgwKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHNbYnVmZmVySW5kZXhdID0gKyt0aGlzLl91cGRhdGVJRDtcbiAgICB9O1xuXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiBkaXNwb3NlICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5fYnVmZmVycylcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9idWZmZXJzLmxlbmd0aDsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fYnVmZmVyc1tpXS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBjb250YWluZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGlsZHJlbj1mYWxzZV0gLSBpZiBzZXQgdG8gdHJ1ZSwgYWxsIHRoZSBjaGlsZHJlbiB3aWxsIGhhdmUgdGhlaXJcbiAgICAgKiAgZGVzdHJveSBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIHRleHR1cmUgb2YgdGhlIGNoaWxkIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuYmFzZVRleHR1cmU9ZmFsc2VdIC0gT25seSB1c2VkIGZvciBjaGlsZCBTcHJpdGVzIGlmIG9wdGlvbnMuY2hpbGRyZW4gaXMgc2V0IHRvIHRydWVcbiAgICAgKiAgU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICovXG4gICAgUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95IChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgQ29udGFpbmVyJCQxLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5kaXNwb3NlKCk7XG5cbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J1ZmZlcnMgPSBudWxsO1xuICAgICAgICB0aGlzLl9idWZmZXJVcGRhdGVJRHMgPSBudWxsO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggUGFydGljbGVDb250YWluZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBQYXJ0aWNsZUNvbnRhaW5lcjtcbn0oQ29udGFpbmVyKSk7XG5cbi8qKlxuICogQGF1dGhvciBNYXQgR3JvdmVzXG4gKlxuICogQmlnIHRoYW5rcyB0byB0aGUgdmVyeSBjbGV2ZXIgTWF0dCBEZXNMYXVyaWVycyA8bWF0dGRlc2w+IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXR0ZGVzbC9cbiAqIGZvciBjcmVhdGluZyB0aGUgb3JpZ2luYWwgUGl4aUpTIHZlcnNpb24hXG4gKiBBbHNvIGEgdGhhbmtzIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9iY2hldmFsaWVyIGZvciB0d2Vha2luZyB0aGUgdGludCBhbmQgYWxwaGEgc28gdGhhdFxuICogdGhleSBub3cgc2hhcmUgNCBieXRlcyBvbiB0aGUgdmVydGV4IGJ1ZmZlclxuICpcbiAqIEhlYXZpbHkgaW5zcGlyZWQgYnkgTGliR0RYJ3MgUGFydGljbGVCdWZmZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlQnVmZmVyLmphdmFcbiAqL1xuXG4vKipcbiAqIFRoZSBwYXJ0aWNsZSBidWZmZXIgbWFuYWdlcyB0aGUgc3RhdGljIGFuZCBkeW5hbWljIGJ1ZmZlcnMgZm9yIGEgcGFydGljbGUgY29udGFpbmVyLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBQYXJ0aWNsZUJ1ZmZlciA9IGZ1bmN0aW9uIFBhcnRpY2xlQnVmZmVyKHByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBzaXplKVxue1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSgpO1xuXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIHBhcnRpY2xlcyB0aGUgYnVmZmVyIGNhbiBob2xkXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5zaXplID0gc2l6ZTtcblxuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiB0aGUgcHJvcGVydGllcyB0aGF0IGFyZSBkeW5hbWljLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7b2JqZWN0W119XG4gICAgICovXG4gICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogQSBsaXN0IG9mIHRoZSBwcm9wZXJ0aWVzIHRoYXQgYXJlIHN0YXRpYy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge29iamVjdFtdfVxuICAgICAqL1xuICAgIHRoaXMuc3RhdGljUHJvcGVydGllcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wZXJ0aWVzLmxlbmd0aDsgKytpKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gcHJvcGVydGllc1tpXTtcblxuICAgICAgICAvLyBNYWtlIGNvcHkgb2YgcHJvcGVydGllcyBvYmplY3Qgc28gdGhhdCB3aGVuIHdlIGVkaXQgdGhlIG9mZnNldCBpdCBkb2Vzbid0XG4gICAgICAgIC8vIGNoYW5nZSBhbGwgb3RoZXIgaW5zdGFuY2VzIG9mIHRoZSBvYmplY3QgbGl0ZXJhbFxuICAgICAgICBwcm9wZXJ0eSA9IHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IHByb3BlcnR5LmF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICBzaXplOiBwcm9wZXJ0eS5zaXplLFxuICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uLFxuICAgICAgICAgICAgdHlwZTogcHJvcGVydHkudHlwZSB8fCBUWVBFUy5GTE9BVCxcbiAgICAgICAgICAgIG9mZnNldDogcHJvcGVydHkub2Zmc2V0LFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChkeW5hbWljUHJvcGVydHlGbGFnc1tpXSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLmR5bmFtaWNQcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLnN0YXRpY1Byb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnN0YXRpY1N0cmlkZSA9IDA7XG4gICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgIHRoaXMuZHluYW1pY1N0cmlkZSA9IDA7XG4gICAgdGhpcy5keW5hbWljQnVmZmVyID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhID0gbnVsbDtcbiAgICB0aGlzLmR5bmFtaWNEYXRhVWludDMyID0gbnVsbDtcblxuICAgIHRoaXMuX3VwZGF0ZUlEID0gMDtcblxuICAgIHRoaXMuaW5pdEJ1ZmZlcnMoKTtcbn07XG5cbi8qKlxuICogU2V0cyB1cCB0aGUgcmVuZGVyZXIgY29udGV4dCBhbmQgbmVjZXNzYXJ5IGJ1ZmZlcnMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuUGFydGljbGVCdWZmZXIucHJvdG90eXBlLmluaXRCdWZmZXJzID0gZnVuY3Rpb24gaW5pdEJ1ZmZlcnMgKClcbntcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5O1xuXG4gICAgdmFyIGR5bmFtaWNPZmZzZXQgPSAwO1xuXG4gICAgLyoqXG4gICAgICogSG9sZHMgdGhlIGluZGljZXMgb2YgdGhlIGdlb21ldHJ5IChxdWFkcykgdG8gZHJhd1xuICAgICAqXG4gICAgICogQG1lbWJlciB7VWludDE2QXJyYXl9XG4gICAgICovXG4gICAgdGhpcy5pbmRleEJ1ZmZlciA9IG5ldyBCdWZmZXIoY3JlYXRlSW5kaWNlc0ZvclF1YWRzKHRoaXMuc2l6ZSksIHRydWUsIHRydWUpO1xuICAgIGdlb21ldHJ5LmFkZEluZGV4KHRoaXMuaW5kZXhCdWZmZXIpO1xuXG4gICAgdGhpcy5keW5hbWljU3RyaWRlID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMkMS5keW5hbWljUHJvcGVydGllc1tpXTtcblxuICAgICAgICBwcm9wZXJ0eS5vZmZzZXQgPSBkeW5hbWljT2Zmc2V0O1xuICAgICAgICBkeW5hbWljT2Zmc2V0ICs9IHByb3BlcnR5LnNpemU7XG4gICAgICAgIHRoaXMkMS5keW5hbWljU3RyaWRlICs9IHByb3BlcnR5LnNpemU7XG4gICAgfVxuXG4gICAgdmFyIGR5bkJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLmR5bmFtaWNTdHJpZGUgKiA0ICogNCk7XG5cbiAgICB0aGlzLmR5bmFtaWNEYXRhID0gbmV3IEZsb2F0MzJBcnJheShkeW5CdWZmZXIpO1xuICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkoZHluQnVmZmVyKTtcbiAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBuZXcgQnVmZmVyKHRoaXMuZHluYW1pY0RhdGEsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAvLyBzdGF0aWMgLy9cbiAgICB2YXIgc3RhdGljT2Zmc2V0ID0gMDtcblxuICAgIHRoaXMuc3RhdGljU3RyaWRlID0gMDtcblxuICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7ICsraSQxKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5JDEgPSB0aGlzJDEuc3RhdGljUHJvcGVydGllc1tpJDFdO1xuXG4gICAgICAgIHByb3BlcnR5JDEub2Zmc2V0ID0gc3RhdGljT2Zmc2V0O1xuICAgICAgICBzdGF0aWNPZmZzZXQgKz0gcHJvcGVydHkkMS5zaXplO1xuICAgICAgICB0aGlzJDEuc3RhdGljU3RyaWRlICs9IHByb3BlcnR5JDEuc2l6ZTtcbiAgICB9XG5cbiAgICB2YXIgc3RhdEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLnNpemUgKiB0aGlzLnN0YXRpY1N0cmlkZSAqIDQgKiA0KTtcblxuICAgIHRoaXMuc3RhdGljRGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoc3RhdEJ1ZmZlcik7XG4gICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHN0YXRCdWZmZXIpO1xuICAgIHRoaXMuc3RhdGljQnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLnN0YXRpY0RhdGEsIHRydWUsIGZhbHNlKTtcblxuICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoOyArK2kkMilcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSQyID0gdGhpcyQxLmR5bmFtaWNQcm9wZXJ0aWVzW2kkMl07XG5cbiAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKFxuICAgICAgICAgICAgcHJvcGVydHkkMi5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgdGhpcyQxLmR5bmFtaWNCdWZmZXIsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgcHJvcGVydHkkMi50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgcHJvcGVydHkkMi50eXBlLFxuICAgICAgICAgICAgdGhpcyQxLmR5bmFtaWNTdHJpZGUgKiA0LFxuICAgICAgICAgICAgcHJvcGVydHkkMi5vZmZzZXQgKiA0XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSQzID0gMDsgaSQzIDwgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzLmxlbmd0aDsgKytpJDMpXG4gICAge1xuICAgICAgICB2YXIgcHJvcGVydHkkMyA9IHRoaXMkMS5zdGF0aWNQcm9wZXJ0aWVzW2kkM107XG5cbiAgICAgICAgZ2VvbWV0cnkuYWRkQXR0cmlidXRlKFxuICAgICAgICAgICAgcHJvcGVydHkkMy5hdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgdGhpcyQxLnN0YXRpY0J1ZmZlcixcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBwcm9wZXJ0eSQzLnR5cGUgPT09IFRZUEVTLlVOU0lHTkVEX0JZVEUsXG4gICAgICAgICAgICBwcm9wZXJ0eSQzLnR5cGUsXG4gICAgICAgICAgICB0aGlzJDEuc3RhdGljU3RyaWRlICogNCxcbiAgICAgICAgICAgIHByb3BlcnR5JDMub2Zmc2V0ICogNFxuICAgICAgICApO1xuICAgIH1cbn07XG5cbi8qKlxuICogVXBsb2FkcyB0aGUgZHluYW1pYyBwcm9wZXJ0aWVzLlxuICpcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gVGhlIGNoaWxkcmVuIHRvIHVwbG9hZC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gVGhlIGluZGV4IHRvIHN0YXJ0IGF0LlxuICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIFRoZSBudW1iZXIgdG8gdXBsb2FkLlxuICovXG5QYXJ0aWNsZUJ1ZmZlci5wcm90b3R5cGUudXBsb2FkRHluYW1pYyA9IGZ1bmN0aW9uIHVwbG9hZER5bmFtaWMgKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgdmFyIHByb3BlcnR5ID0gdGhpcyQxLmR5bmFtaWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsXG4gICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcyQxLmR5bmFtaWNEYXRhVWludDMyIDogdGhpcyQxLmR5bmFtaWNEYXRhLFxuICAgICAgICAgICAgdGhpcyQxLmR5bmFtaWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgfVxuXG4gICAgdGhpcy5keW5hbWljQnVmZmVyLl91cGRhdGVJRCsrO1xufTtcblxuLyoqXG4gKiBVcGxvYWRzIHRoZSBzdGF0aWMgcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIFRoZSBjaGlsZHJlbiB0byB1cGxvYWQuXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIFRoZSBpbmRleCB0byBzdGFydCBhdC5cbiAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgbnVtYmVyIHRvIHVwbG9hZC5cbiAqL1xuUGFydGljbGVCdWZmZXIucHJvdG90eXBlLnVwbG9hZFN0YXRpYyA9IGZ1bmN0aW9uIHVwbG9hZFN0YXRpYyAoY2hpbGRyZW4sIHN0YXJ0SW5kZXgsIGFtb3VudClcbntcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhdGljUHJvcGVydGllcy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMkMS5zdGF0aWNQcm9wZXJ0aWVzW2ldO1xuXG4gICAgICAgIHByb3BlcnR5LnVwbG9hZEZ1bmN0aW9uKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsXG4gICAgICAgICAgICBwcm9wZXJ0eS50eXBlID09PSBUWVBFUy5VTlNJR05FRF9CWVRFID8gdGhpcyQxLnN0YXRpY0RhdGFVaW50MzIgOiB0aGlzJDEuc3RhdGljRGF0YSxcbiAgICAgICAgICAgIHRoaXMkMS5zdGF0aWNTdHJpZGUsIHByb3BlcnR5Lm9mZnNldCk7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0aWNCdWZmZXIuX3VwZGF0ZUlEKys7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZUJ1ZmZlci5cbiAqXG4gKi9cblBhcnRpY2xlQnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIHRoaXMuaW5kZXhCdWZmZXIgPSBudWxsO1xuXG4gICAgdGhpcy5keW5hbWljUHJvcGVydGllcyA9IG51bGw7XG4gICAgLy8gdGhpcy5keW5hbWljQnVmZmVyLmRlc3Ryb3koKTtcbiAgICB0aGlzLmR5bmFtaWNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuZHluYW1pY0RhdGEgPSBudWxsO1xuICAgIHRoaXMuZHluYW1pY0RhdGFVaW50MzIgPSBudWxsO1xuXG4gICAgdGhpcy5zdGF0aWNQcm9wZXJ0aWVzID0gbnVsbDtcbiAgICAvLyB0aGlzLnN0YXRpY0J1ZmZlci5kZXN0cm95KCk7XG4gICAgdGhpcy5zdGF0aWNCdWZmZXIgPSBudWxsO1xuICAgIHRoaXMuc3RhdGljRGF0YSA9IG51bGw7XG4gICAgdGhpcy5zdGF0aWNEYXRhVWludDMyID0gbnVsbDtcbiAgICAvLyBhbGwgYnVmZmVycyBhcmUgZGVzdHJveWVkIGluc2lkZSBnZW9tZXRyeVxuICAgIHRoaXMuZ2VvbWV0cnkuZGVzdHJveSgpO1xufTtcblxudmFyIHZlcnRleCA9IFwiYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcbmF0dHJpYnV0ZSB2ZWMyIGFUZXh0dXJlQ29vcmQ7XFxuYXR0cmlidXRlIHZlYzQgYUNvbG9yO1xcblxcbmF0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbkNvb3JkO1xcbmF0dHJpYnV0ZSBmbG9hdCBhUm90YXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHRyYW5zbGF0aW9uTWF0cml4O1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxuXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudmFyeWluZyB2ZWM0IHZDb2xvcjtcXG5cXG52b2lkIG1haW4odm9pZCl7XFxuICAgIGZsb2F0IHggPSAoYVZlcnRleFBvc2l0aW9uLngpICogY29zKGFSb3RhdGlvbikgLSAoYVZlcnRleFBvc2l0aW9uLnkpICogc2luKGFSb3RhdGlvbik7XFxuICAgIGZsb2F0IHkgPSAoYVZlcnRleFBvc2l0aW9uLngpICogc2luKGFSb3RhdGlvbikgKyAoYVZlcnRleFBvc2l0aW9uLnkpICogY29zKGFSb3RhdGlvbik7XFxuXFxuICAgIHZlYzIgdiA9IHZlYzIoeCwgeSk7XFxuICAgIHYgPSB2ICsgYVBvc2l0aW9uQ29vcmQ7XFxuXFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgodHJhbnNsYXRpb25NYXRyaXggKiB2ZWMzKHYsIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbiAgICB2Q29sb3IgPSBhQ29sb3IgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcbnZhcnlpbmcgdmVjNCB2Q29sb3I7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxudm9pZCBtYWluKHZvaWQpe1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKSAqIHZDb2xvcjtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVwiO1xuXG4vKipcbiAqIEBhdXRob3IgTWF0IEdyb3Zlc1xuICpcbiAqIEJpZyB0aGFua3MgdG8gdGhlIHZlcnkgY2xldmVyIE1hdHQgRGVzTGF1cmllcnMgPG1hdHRkZXNsPiBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvXG4gKiBmb3IgY3JlYXRpbmcgdGhlIG9yaWdpbmFsIFBpeGlKUyB2ZXJzaW9uIVxuICogQWxzbyBhIHRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYmNoZXZhbGllciBmb3IgdHdlYWtpbmcgdGhlIHRpbnQgYW5kIGFscGhhIHNvIHRoYXQgdGhleSBub3dcbiAqIHNoYXJlIDQgYnl0ZXMgb24gdGhlIHZlcnRleCBidWZmZXJcbiAqXG4gKiBIZWF2aWx5IGluc3BpcmVkIGJ5IExpYkdEWCdzIFBhcnRpY2xlUmVuZGVyZXI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vbGliZ2R4L2xpYmdkeC9ibG9iL21hc3Rlci9nZHgvc3JjL2NvbS9iYWRsb2dpYy9nZHgvZ3JhcGhpY3MvZzJkL1BhcnRpY2xlUmVuZGVyZXIuamF2YVxuICovXG5cbi8qKlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFBhcnRpY2xlUmVuZGVyZXIgPSAoZnVuY3Rpb24gKE9iamVjdFJlbmRlcmVyJCQxKSB7XG4gICAgZnVuY3Rpb24gUGFydGljbGVSZW5kZXJlcihyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIE9iamVjdFJlbmRlcmVyJCQxLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuXG4gICAgICAgIC8vIDY1NTM1IGlzIG1heCB2ZXJ0ZXggaW5kZXggaW4gdGhlIGluZGV4IGJ1ZmZlciAoc2VlIFBhcnRpY2xlUmVuZGVyZXIpXG4gICAgICAgIC8vIHNvIG1heCBudW1iZXIgb2YgcGFydGljbGVzIGlzIDY1NTM2IC8gNCA9IDE2Mzg0XG4gICAgICAgIC8vIGFuZCBtYXggbnVtYmVyIG9mIGVsZW1lbnQgaW4gdGhlIGluZGV4IGJ1ZmZlciBpcyAxNjM4NCAqIDYgPSA5ODMwNFxuICAgICAgICAvLyBDcmVhdGluZyBhIGZ1bGwgaW5kZXggYnVmZmVyLCBvdmVyaGVhZCBpcyA5ODMwNCAqIDIgPSAxOTZLb1xuICAgICAgICAvLyBsZXQgbnVtSW5kaWNlcyA9IDk4MzA0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzaGFkZXIgdGhhdCBpcyB1c2VkIGlmIGEgc3ByaXRlIGRvZXNuJ3QgaGF2ZSBhIG1vcmUgc3BlY2lmaWMgb25lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNoYWRlcn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2hhZGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudGVtcE1hdHJpeCA9IG5ldyBNYXRyaXgoKTtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAvLyB2ZXJ0aWNlc0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVZlcnRleFBvc2l0aW9uJyxcbiAgICAgICAgICAgICAgICBzaXplOiAyLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFZlcnRpY2VzLFxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBwb3NpdGlvbkRhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVBvc2l0aW9uQ29vcmQnLFxuICAgICAgICAgICAgICAgIHNpemU6IDIsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUG9zaXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHJvdGF0aW9uRGF0YVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6ICdhUm90YXRpb24nLFxuICAgICAgICAgICAgICAgIHNpemU6IDEsXG4gICAgICAgICAgICAgICAgdXBsb2FkRnVuY3Rpb246IHRoaXMudXBsb2FkUm90YXRpb24sXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHV2c0RhdGFcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiAnYVRleHR1cmVDb29yZCcsXG4gICAgICAgICAgICAgICAgc2l6ZTogMixcbiAgICAgICAgICAgICAgICB1cGxvYWRGdW5jdGlvbjogdGhpcy51cGxvYWRVdnMsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIHRpbnREYXRhXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogJ2FDb2xvcicsXG4gICAgICAgICAgICAgICAgc2l6ZTogMSxcbiAgICAgICAgICAgICAgICB0eXBlOiBUWVBFUy5VTlNJR05FRF9CWVRFLFxuICAgICAgICAgICAgICAgIHVwbG9hZEZ1bmN0aW9uOiB0aGlzLnVwbG9hZFRpbnQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgfSBdO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyID0gU2hhZGVyLmZyb20odmVydGV4LCBmcmFnbWVudCwge30pO1xuICAgIH1cblxuICAgIGlmICggT2JqZWN0UmVuZGVyZXIkJDEgKSBQYXJ0aWNsZVJlbmRlcmVyLl9fcHJvdG9fXyA9IE9iamVjdFJlbmRlcmVyJCQxO1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggT2JqZWN0UmVuZGVyZXIkJDEgJiYgT2JqZWN0UmVuZGVyZXIkJDEucHJvdG90eXBlICk7XG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQYXJ0aWNsZVJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgcGFydGljbGUgY29udGFpbmVyIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChjb250YWluZXIpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIHZhciBtYXhTaXplID0gY29udGFpbmVyLl9tYXhTaXplO1xuICAgICAgICB2YXIgYmF0Y2hTaXplID0gY29udGFpbmVyLl9iYXRjaFNpemU7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciB0b3RhbENoaWxkcmVuID0gY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICAgIGlmICh0b3RhbENoaWxkcmVuID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodG90YWxDaGlsZHJlbiA+IG1heFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvdGFsQ2hpbGRyZW4gPSBtYXhTaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBjb250YWluZXIuX2J1ZmZlcnM7XG5cbiAgICAgICAgaWYgKCFidWZmZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBidWZmZXJzID0gY29udGFpbmVyLl9idWZmZXJzID0gdGhpcy5nZW5lcmF0ZUJ1ZmZlcnMoY29udGFpbmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IGNoaWxkcmVuWzBdLl90ZXh0dXJlLmJhc2VUZXh0dXJlO1xuXG4gICAgICAgIC8vIGlmIHRoZSB1dnMgaGF2ZSBub3QgdXBkYXRlZCB0aGVuIG5vIHBvaW50IHJlbmRlcmluZyBqdXN0IHlldCFcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zdGF0ZS5zZXRCbGVuZE1vZGUoY29ycmVjdEJsZW5kTW9kZShjb250YWluZXIuYmxlbmRNb2RlLCBiYXNlVGV4dHVyZS5wcmVtdWx0aXBseUFscGhhKSk7XG5cbiAgICAgICAgdmFyIGdsID0gcmVuZGVyZXIuZ2w7XG5cbiAgICAgICAgdmFyIG0gPSBjb250YWluZXIud29ybGRUcmFuc2Zvcm0uY29weVRvKHRoaXMudGVtcE1hdHJpeCk7XG5cbiAgICAgICAgbS5wcmVwZW5kKHJlbmRlcmVyLmdsb2JhbFVuaWZvcm1zLnVuaWZvcm1zLnByb2plY3Rpb25NYXRyaXgpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnRyYW5zbGF0aW9uTWF0cml4ID0gbS50b0FycmF5KHRydWUpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVDb2xvciA9IHByZW11bHRpcGx5UmdiYShjb250YWluZXIudGludFJnYixcbiAgICAgICAgICAgIGNvbnRhaW5lci53b3JsZEFscGhhLCB0aGlzLnNoYWRlci51bmlmb3Jtcy51Q29sb3IsIGJhc2VUZXh0dXJlLnByZW11bHRpcGx5QWxwaGEpO1xuXG4gICAgICAgIHRoaXMuc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gYmFzZVRleHR1cmU7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJlci5zaGFkZXIuYmluZCh0aGlzLnNoYWRlcik7XG5cbiAgICAgICAgdmFyIHVwZGF0ZVN0YXRpYyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIG5vdyBsZXRzIHVwbG9hZCBhbmQgcmVuZGVyIHRoZSBidWZmZXJzLi5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSAwOyBpIDwgdG90YWxDaGlsZHJlbjsgaSArPSBiYXRjaFNpemUsIGogKz0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9ICh0b3RhbENoaWxkcmVuIC0gaSk7XG5cbiAgICAgICAgICAgIGlmIChhbW91bnQgPiBiYXRjaFNpemUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYW1vdW50ID0gYmF0Y2hTaXplO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaiA+PSBidWZmZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lci5hdXRvUmVzaXplKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJ1ZmZlcnMucHVzaCh0aGlzJDEuX2dlbmVyYXRlT25lTW9yZUJ1ZmZlcihjb250YWluZXIpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGJ1ZmZlcnNbal07XG5cbiAgICAgICAgICAgIC8vIHdlIGFsd2F5cyB1cGxvYWQgdGhlIGR5bmFtaWNcbiAgICAgICAgICAgIGJ1ZmZlci51cGxvYWREeW5hbWljKGNoaWxkcmVuLCBpLCBhbW91bnQpO1xuXG4gICAgICAgICAgICB2YXIgYmlkID0gY29udGFpbmVyLl9idWZmZXJVcGRhdGVJRHNbal0gfHwgMDtcblxuICAgICAgICAgICAgdXBkYXRlU3RhdGljID0gdXBkYXRlU3RhdGljIHx8IChidWZmZXIuX3VwZGF0ZUlEIDwgYmlkKTtcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgdXBsb2FkIHRoZSBzdGF0aWMgY29udGVudCB3aGVuIHdlIGhhdmUgdG8hXG4gICAgICAgICAgICBpZiAodXBkYXRlU3RhdGljKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1ZmZlci5fdXBkYXRlSUQgPSBjb250YWluZXIuX3VwZGF0ZUlEO1xuICAgICAgICAgICAgICAgIGJ1ZmZlci51cGxvYWRTdGF0aWMoY2hpbGRyZW4sIGksIGFtb3VudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJpbmQgdGhlIGJ1ZmZlclxuICAgICAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuYmluZChidWZmZXIuZ2VvbWV0cnkpO1xuICAgICAgICAgICAgZ2wuZHJhd0VsZW1lbnRzKGdsLlRSSUFOR0xFUywgYW1vdW50ICogNiwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgb25lIHBhcnRpY2xlIGJ1ZmZlciBmb3IgZWFjaCBjaGlsZCBpbiB0aGUgY29udGFpbmVyIHdlIHdhbnQgdG8gcmVuZGVyIGFuZCB1cGRhdGVzIGludGVybmFsIHByb3BlcnRpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5QYXJ0aWNsZUNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdXNpbmcgdGhpcyBQYXJ0aWNsZVJlbmRlcmVyXG4gICAgICogQHJldHVybiB7UElYSS5QYXJ0aWNsZUJ1ZmZlcltdfSBUaGUgYnVmZmVyc1xuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLmdlbmVyYXRlQnVmZmVycyA9IGZ1bmN0aW9uIGdlbmVyYXRlQnVmZmVycyAoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIGJ1ZmZlcnMgPSBbXTtcbiAgICAgICAgdmFyIHNpemUgPSBjb250YWluZXIuX21heFNpemU7XG4gICAgICAgIHZhciBiYXRjaFNpemUgPSBjb250YWluZXIuX2JhdGNoU2l6ZTtcbiAgICAgICAgdmFyIGR5bmFtaWNQcm9wZXJ0eUZsYWdzID0gY29udGFpbmVyLl9wcm9wZXJ0aWVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSArPSBiYXRjaFNpemUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJ1ZmZlcnMucHVzaChuZXcgUGFydGljbGVCdWZmZXIodGhpcyQxLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBidWZmZXJzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIG9uZSBtb3JlIHBhcnRpY2xlIGJ1ZmZlciwgYmVjYXVzZSBjb250YWluZXIgaGFzIGF1dG9SZXNpemUgZmVhdHVyZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBhcnRpY2xlQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB1c2luZyB0aGlzIFBhcnRpY2xlUmVuZGVyZXJcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBhcnRpY2xlQnVmZmVyfSBnZW5lcmF0ZWQgYnVmZmVyXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS5fZ2VuZXJhdGVPbmVNb3JlQnVmZmVyID0gZnVuY3Rpb24gX2dlbmVyYXRlT25lTW9yZUJ1ZmZlciAoY29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgdmFyIGJhdGNoU2l6ZSA9IGNvbnRhaW5lci5fYmF0Y2hTaXplO1xuICAgICAgICB2YXIgZHluYW1pY1Byb3BlcnR5RmxhZ3MgPSBjb250YWluZXIuX3Byb3BlcnRpZXM7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQYXJ0aWNsZUJ1ZmZlcih0aGlzLnByb3BlcnRpZXMsIGR5bmFtaWNQcm9wZXJ0eUZsYWdzLCBiYXRjaFNpemUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGxvYWRzIHRoZSB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHZlcnRpY2VzIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRWZXJ0aWNlcyA9IGZ1bmN0aW9uIHVwbG9hZFZlcnRpY2VzIChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICB2YXIgdzAgPSAwO1xuICAgICAgICB2YXIgdzEgPSAwO1xuICAgICAgICB2YXIgaDAgPSAwO1xuICAgICAgICB2YXIgaDEgPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjaGlsZHJlbltzdGFydEluZGV4ICsgaV07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IHNwcml0ZS5fdGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBzeCA9IHNwcml0ZS5zY2FsZS54O1xuICAgICAgICAgICAgdmFyIHN5ID0gc3ByaXRlLnNjYWxlLnk7XG4gICAgICAgICAgICB2YXIgdHJpbSA9IHRleHR1cmUudHJpbTtcbiAgICAgICAgICAgIHZhciBvcmlnID0gdGV4dHVyZS5vcmlnO1xuXG4gICAgICAgICAgICBpZiAodHJpbSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWQgYW5kIGlzIG5vdCBhIHRpbGluZ3Nwcml0ZSB0aGVuIHdlIG5lZWQgdG8gYWRkIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4dHJhIHNwYWNlIGJlZm9yZSB0cmFuc2Zvcm1pbmcgdGhlIHNwcml0ZSBjb29yZHMuLlxuICAgICAgICAgICAgICAgIHcxID0gdHJpbS54IC0gKHNwcml0ZS5hbmNob3IueCAqIG9yaWcud2lkdGgpO1xuICAgICAgICAgICAgICAgIHcwID0gdzEgKyB0cmltLndpZHRoO1xuXG4gICAgICAgICAgICAgICAgaDEgPSB0cmltLnkgLSAoc3ByaXRlLmFuY2hvci55ICogb3JpZy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIGgwID0gaDEgKyB0cmltLmhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3MCA9IChvcmlnLndpZHRoKSAqICgxIC0gc3ByaXRlLmFuY2hvci54KTtcbiAgICAgICAgICAgICAgICB3MSA9IChvcmlnLndpZHRoKSAqIC1zcHJpdGUuYW5jaG9yLng7XG5cbiAgICAgICAgICAgICAgICBoMCA9IG9yaWcuaGVpZ2h0ICogKDEgLSBzcHJpdGUuYW5jaG9yLnkpO1xuICAgICAgICAgICAgICAgIGgxID0gb3JpZy5oZWlnaHQgKiAtc3ByaXRlLmFuY2hvci55O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXRdID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gaDEgKiBzeTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHcwICogc3g7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGUgKyAxXSA9IGgxICogc3k7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB3MCAqIHN4O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpICsgMV0gPSBoMCAqIHN5O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMyldID0gdzEgKiBzeDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gaDAgKiBzeTtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IHN0cmlkZSAqIDQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdFtdfSBjaGlsZHJlbiAtIHRoZSBhcnJheSBvZiBkaXNwbGF5IG9iamVjdHMgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0YXJ0SW5kZXggLSB0aGUgaW5kZXggdG8gc3RhcnQgZnJvbSBpbiB0aGUgY2hpbGRyZW4gYXJyYXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdGhlIGFtb3VudCBvZiBjaGlsZHJlbiB0aGF0IHdpbGwgaGF2ZSB0aGVpciBwb3NpdGlvbnMgdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFBvc2l0aW9uID0gZnVuY3Rpb24gdXBsb2FkUG9zaXRpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVQb3NpdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5wb3NpdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSBzcHJpdGVQb3NpdGlvbi54O1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlICsgMV0gPSBzcHJpdGVQb3NpdGlvbi55O1xuXG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMildID0gc3ByaXRlUG9zaXRpb24ueDtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gc3ByaXRlUG9zaXRpb24ueTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVBvc2l0aW9uLng7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyAoc3RyaWRlICogMykgKyAxXSA9IHNwcml0ZVBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFJvdGF0aW9uID0gZnVuY3Rpb24gdXBsb2FkUm90YXRpb24gKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBzcHJpdGVSb3RhdGlvbiA9IGNoaWxkcmVuW3N0YXJ0SW5kZXggKyBpXS5yb3RhdGlvbjtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgc3RyaWRlXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDIpXSA9IHNwcml0ZVJvdGF0aW9uO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IHNwcml0ZVJvdGF0aW9uO1xuXG4gICAgICAgICAgICBvZmZzZXQgKz0gc3RyaWRlICogNDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0W119IGNoaWxkcmVuIC0gdGhlIGFycmF5IG9mIGRpc3BsYXkgb2JqZWN0cyB0byByZW5kZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRJbmRleCAtIHRoZSBpbmRleCB0byBzdGFydCBmcm9tIGluIHRoZSBjaGlsZHJlbiBhcnJheVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSB0aGUgYW1vdW50IG9mIGNoaWxkcmVuIHRoYXQgd2lsbCBoYXZlIHRoZWlyIHJvdGF0aW9uIHVwbG9hZGVkXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYXJyYXkgLSBUaGUgdmVydGljZXMgdG8gdXBsb2FkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdHJpZGUgLSBTdHJpZGUgdG8gdXNlIGZvciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9mZnNldCB0byBzdGFydCBhdC5cbiAgICAgKi9cbiAgICBQYXJ0aWNsZVJlbmRlcmVyLnByb3RvdHlwZS51cGxvYWRVdnMgPSBmdW5jdGlvbiB1cGxvYWRVdnMgKGNoaWxkcmVuLCBzdGFydEluZGV4LCBhbW91bnQsIGFycmF5LCBzdHJpZGUsIG9mZnNldClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW1vdW50OyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlVXZzID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldLl90ZXh0dXJlLl91dnM7XG5cbiAgICAgICAgICAgIGlmICh0ZXh0dXJlVXZzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gdGV4dHVyZVV2cy55MDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gdGV4dHVyZVV2cy55MTtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gdGV4dHVyZVV2cy55MjtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gdGV4dHVyZVV2cy55MztcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8geW91IGtub3cgdGhpcyBjYW4gYmUgZWFzaWVyIVxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldF0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIHN0cmlkZSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKV0gPSAwO1xuICAgICAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAzKSArIDFdID0gMDtcblxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3RbXX0gY2hpbGRyZW4gLSB0aGUgYXJyYXkgb2YgZGlzcGxheSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydEluZGV4IC0gdGhlIGluZGV4IHRvIHN0YXJ0IGZyb20gaW4gdGhlIGNoaWxkcmVuIGFycmF5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFtb3VudCAtIHRoZSBhbW91bnQgb2YgY2hpbGRyZW4gdGhhdCB3aWxsIGhhdmUgdGhlaXIgcm90YXRpb24gdXBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBhcnJheSAtIFRoZSB2ZXJ0aWNlcyB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmlkZSAtIFN0cmlkZSB0byB1c2UgZm9yIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gT2Zmc2V0IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIFBhcnRpY2xlUmVuZGVyZXIucHJvdG90eXBlLnVwbG9hZFRpbnQgPSBmdW5jdGlvbiB1cGxvYWRUaW50IChjaGlsZHJlbiwgc3RhcnRJbmRleCwgYW1vdW50LCBhcnJheSwgc3RyaWRlLCBvZmZzZXQpXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2hpbGRyZW5bc3RhcnRJbmRleCArIGldO1xuICAgICAgICAgICAgdmFyIHByZW11bHRpcGxpZWQgPSBzcHJpdGUuX3RleHR1cmUuYmFzZVRleHR1cmUucHJlbXVsdGlwbHlBbHBoYTtcbiAgICAgICAgICAgIHZhciBhbHBoYSA9IHNwcml0ZS5hbHBoYTtcbiAgICAgICAgICAgIC8vIHdlIGRvbnQgY2FsbCBleHRyYSBmdW5jdGlvbiBpZiBhbHBoYSBpcyAxLjAsIHRoYXQncyBmYXN0ZXJcbiAgICAgICAgICAgIHZhciBhcmdiID0gYWxwaGEgPCAxLjAgJiYgcHJlbXVsdGlwbGllZCA/IHByZW11bHRpcGx5VGludChzcHJpdGUuX3RpbnRSR0IsIGFscGhhKVxuICAgICAgICAgICAgICAgIDogc3ByaXRlLl90aW50UkdCICsgKGFscGhhICogMjU1IDw8IDI0KTtcblxuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0XSA9IGFyZ2I7XG4gICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBzdHJpZGVdID0gYXJnYjtcbiAgICAgICAgICAgIGFycmF5W29mZnNldCArIChzdHJpZGUgKiAyKV0gPSBhcmdiO1xuICAgICAgICAgICAgYXJyYXlbb2Zmc2V0ICsgKHN0cmlkZSAqIDMpXSA9IGFyZ2I7XG5cbiAgICAgICAgICAgIG9mZnNldCArPSBzdHJpZGUgKiA0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoZSBQYXJ0aWNsZVJlbmRlcmVyLlxuICAgICAqXG4gICAgICovXG4gICAgUGFydGljbGVSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIE9iamVjdFJlbmRlcmVyJCQxLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuc2hhZGVyKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNoYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRlbXBNYXRyaXggPSBudWxsO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFydGljbGVSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuZXhwb3J0IHsgUGFydGljbGVDb250YWluZXIsIFBhcnRpY2xlUmVuZGVyZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpY2xlcy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGV4dCAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL3RleHQgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0IHsgVGV4dHVyZSB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgc2V0dGluZ3MkMSB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgaGV4MnN0cmluZywgc2lnbiwgdHJpbUNhbnZhcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxuLyoqXG4gKiBDb25zdGFudHMgdGhhdCBkZWZpbmUgdGhlIHR5cGUgb2YgZ3JhZGllbnQgb24gdGV4dC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBuYW1lIFRFWFRfR1JBRElFTlRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZSB7b2JqZWN0fVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9WRVJUSUNBTCBWZXJ0aWNhbCBncmFkaWVudFxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVBUl9IT1JJWk9OVEFMIExpbmVhciBncmFkaWVudFxuICovXG52YXIgVEVYVF9HUkFESUVOVCA9IHtcbiAgICBMSU5FQVJfVkVSVElDQUw6IDAsXG4gICAgTElORUFSX0hPUklaT05UQUw6IDEsXG59O1xuXG4vLyBkaXNhYmxpbmcgZXNsaW50IGZvciBub3csIGdvaW5nIHRvIHJld3JpdGUgdGhpcyBpbiB2NVxuLyogZXNsaW50LWRpc2FibGUgKi9cblxudmFyIGRlZmF1bHRTdHlsZSA9IHtcbiAgICBhbGlnbjogJ2xlZnQnLFxuICAgIGJyZWFrV29yZHM6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3c6IGZhbHNlLFxuICAgIGRyb3BTaGFkb3dBbHBoYTogMSxcbiAgICBkcm9wU2hhZG93QW5nbGU6IE1hdGguUEkgLyA2LFxuICAgIGRyb3BTaGFkb3dCbHVyOiAwLFxuICAgIGRyb3BTaGFkb3dDb2xvcjogJ2JsYWNrJyxcbiAgICBkcm9wU2hhZG93RGlzdGFuY2U6IDUsXG4gICAgZmlsbDogJ2JsYWNrJyxcbiAgICBmaWxsR3JhZGllbnRUeXBlOiBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTCxcbiAgICBmaWxsR3JhZGllbnRTdG9wczogW10sXG4gICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICBmb250U2l6ZTogMjYsXG4gICAgZm9udFN0eWxlOiAnbm9ybWFsJyxcbiAgICBmb250VmFyaWFudDogJ25vcm1hbCcsXG4gICAgZm9udFdlaWdodDogJ25vcm1hbCcsXG4gICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICBsaW5lSGVpZ2h0OiAwLFxuICAgIGxpbmVKb2luOiAnbWl0ZXInLFxuICAgIG1pdGVyTGltaXQ6IDEwLFxuICAgIHBhZGRpbmc6IDAsXG4gICAgc3Ryb2tlOiAnYmxhY2snLFxuICAgIHN0cm9rZVRoaWNrbmVzczogMCxcbiAgICB0ZXh0QmFzZWxpbmU6ICdhbHBoYWJldGljJyxcbiAgICB0cmltOiBmYWxzZSxcbiAgICB3aGl0ZVNwYWNlOiAncHJlJyxcbiAgICB3b3JkV3JhcDogZmFsc2UsXG4gICAgd29yZFdyYXBXaWR0aDogMTAwLFxuICAgIGxlYWRpbmc6IDAsXG59O1xuXG4vKipcbiAqIEEgVGV4dFN0eWxlIE9iamVjdCBkZWNvcmF0ZXMgYSBUZXh0IE9iamVjdC4gSXQgY2FuIGJlIHNoYXJlZCBiZXR3ZWVuXG4gKiBtdWx0aXBsZSBUZXh0IG9iamVjdHMuIENoYW5naW5nIHRoZSBzdHlsZSB3aWxsIHVwZGF0ZSBhbGwgdGV4dCBvYmplY3RzIHVzaW5nIGl0LlxuICogSXQgY2FuIGJlIGdlbmVyYXRlZCBbaGVyZV0oaHR0cHM6Ly9waXhpanMuaW8vcGl4aS10ZXh0LXN0eWxlKS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUZXh0U3R5bGUgPSBmdW5jdGlvbiBUZXh0U3R5bGUoc3R5bGUpXG57XG4gICAgdGhpcy5zdHlsZUlEID0gMDtcblxuICAgIHRoaXMucmVzZXQoKTtcblxuICAgIGRlZXBDb3B5UHJvcGVydGllcyh0aGlzLCBzdHlsZSwgc3R5bGUpO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYWxpZ246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sYnJlYWtXb3JkczogeyBjb25maWd1cmFibGU6IHRydWUgfSxkcm9wU2hhZG93OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRyb3BTaGFkb3dBbHBoYTogeyBjb25maWd1cmFibGU6IHRydWUgfSxkcm9wU2hhZG93QW5nbGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZHJvcFNoYWRvd0JsdXI6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZHJvcFNoYWRvd0NvbG9yOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGRyb3BTaGFkb3dEaXN0YW5jZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmaWxsOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGZpbGxHcmFkaWVudFR5cGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZmlsbEdyYWRpZW50U3RvcHM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udEZhbWlseTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250U2l6ZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxmb250U3R5bGU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udFZhcmlhbnQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udFdlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSxsZXR0ZXJTcGFjaW5nOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxpbmVIZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sbGVhZGluZzogeyBjb25maWd1cmFibGU6IHRydWUgfSxsaW5lSm9pbjogeyBjb25maWd1cmFibGU6IHRydWUgfSxtaXRlckxpbWl0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHBhZGRpbmc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc3Ryb2tlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHN0cm9rZVRoaWNrbmVzczogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0QmFzZWxpbmU6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdHJpbTogeyBjb25maWd1cmFibGU6IHRydWUgfSx3aGl0ZVNwYWNlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmRXcmFwOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHdvcmRXcmFwV2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFRleHRTdHlsZSBvYmplY3Qgd2l0aCB0aGUgc2FtZSB2YWx1ZXMgYXMgdGhpcyBvbmUuXG4gKiBOb3RlIHRoYXQgdGhlIG9ubHkgdGhlIHByb3BlcnRpZXMgb2YgdGhlIG9iamVjdCBhcmUgY2xvbmVkLlxuICpcbiAqIEByZXR1cm4ge1BJWEkuVGV4dFN0eWxlfSBOZXcgY2xvbmVkIFRleHRTdHlsZSBvYmplY3RcbiAqL1xuVGV4dFN0eWxlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uIGNsb25lICgpXG57XG4gICAgdmFyIGNsb25lZFByb3BlcnRpZXMgPSB7fTtcblxuICAgIGRlZXBDb3B5UHJvcGVydGllcyhjbG9uZWRQcm9wZXJ0aWVzLCB0aGlzLCBkZWZhdWx0U3R5bGUpO1xuXG4gICAgcmV0dXJuIG5ldyBUZXh0U3R5bGUoY2xvbmVkUHJvcGVydGllcyk7XG59O1xuXG4vKipcbiAqIFJlc2V0cyBhbGwgcHJvcGVydGllcyB0byB0aGUgZGVmYXVsdHMgc3BlY2lmaWVkIGluIFRleHRTdHlsZS5wcm90b3R5cGUuX2RlZmF1bHRcbiAqL1xuVGV4dFN0eWxlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0ICgpXG57XG4gICAgZGVlcENvcHlQcm9wZXJ0aWVzKHRoaXMsIGRlZmF1bHRTdHlsZSwgZGVmYXVsdFN0eWxlKTtcbn07XG5cbi8qKlxuICogQWxpZ25tZW50IGZvciBtdWx0aWxpbmUgdGV4dCAoJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnKSwgZG9lcyBub3QgYWZmZWN0IHNpbmdsZSBsaW5lIHRleHRcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5hbGlnbi5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9hbGlnbjtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuYWxpZ24uc2V0ID0gZnVuY3Rpb24gKGFsaWduKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fYWxpZ24gIT09IGFsaWduKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBJbmRpY2F0ZXMgaWYgbGluZXMgY2FuIGJlIHdyYXBwZWQgd2l0aGluIHdvcmRzLCBpdCBuZWVkcyB3b3JkV3JhcCB0byBiZSBzZXQgdG8gdHJ1ZVxuICpcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5icmVha1dvcmRzLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2JyZWFrV29yZHM7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmJyZWFrV29yZHMuc2V0ID0gZnVuY3Rpb24gKGJyZWFrV29yZHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9icmVha1dvcmRzICE9PSBicmVha1dvcmRzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fYnJlYWtXb3JkcyA9IGJyZWFrV29yZHM7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IGEgZHJvcCBzaGFkb3cgZm9yIHRoZSB0ZXh0XG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3cuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvdztcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvdy5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvdykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2Ryb3BTaGFkb3cgIT09IGRyb3BTaGFkb3cpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93ID0gZHJvcFNoYWRvdztcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgYWxwaGEgZm9yIHRoZSBkcm9wIHNoYWRvd1xuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dBbHBoYS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93QWxwaGE7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dBbHBoYS5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvd0FscGhhKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0FscGhhICE9PSBkcm9wU2hhZG93QWxwaGEpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93QWxwaGEgPSBkcm9wU2hhZG93QWxwaGE7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogU2V0IGEgYW5nbGUgb2YgdGhlIGRyb3Agc2hhZG93XG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0FuZ2xlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0FuZ2xlLnNldCA9IGZ1bmN0aW9uIChkcm9wU2hhZG93QW5nbGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9kcm9wU2hhZG93QW5nbGUgIT09IGRyb3BTaGFkb3dBbmdsZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dBbmdsZSA9IGRyb3BTaGFkb3dBbmdsZTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBTZXQgYSBzaGFkb3cgYmx1ciByYWRpdXNcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93Qmx1ci5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93Qmx1cjtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZHJvcFNoYWRvd0JsdXIuc2V0ID0gZnVuY3Rpb24gKGRyb3BTaGFkb3dCbHVyKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0JsdXIgIT09IGRyb3BTaGFkb3dCbHVyKVxuICAgIHtcbiAgICAgICAgdGhpcy5fZHJvcFNoYWRvd0JsdXIgPSBkcm9wU2hhZG93Qmx1cjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBBIGZpbGwgc3R5bGUgdG8gYmUgdXNlZCBvbiB0aGUgZHJvcHNoYWRvdyBlLmcgJ3JlZCcsICcjMDBGRjAwJ1xuICpcbiAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93Q29sb3IuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZHJvcFNoYWRvd0NvbG9yO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5kcm9wU2hhZG93Q29sb3Iuc2V0ID0gZnVuY3Rpb24gKGRyb3BTaGFkb3dDb2xvcikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3IoZHJvcFNoYWRvd0NvbG9yKTtcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0NvbG9yICE9PSBvdXRwdXRDb2xvcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2Ryb3BTaGFkb3dDb2xvciA9IG91dHB1dENvbG9yO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFNldCBhIGRpc3RhbmNlIG9mIHRoZSBkcm9wIHNoYWRvd1xuICpcbiAqIEBtZW1iZXIge251bWJlcn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dEaXN0YW5jZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2U7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmRyb3BTaGFkb3dEaXN0YW5jZS5zZXQgPSBmdW5jdGlvbiAoZHJvcFNoYWRvd0Rpc3RhbmNlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZHJvcFNoYWRvd0Rpc3RhbmNlICE9PSBkcm9wU2hhZG93RGlzdGFuY2UpXG4gICAge1xuICAgICAgICB0aGlzLl9kcm9wU2hhZG93RGlzdGFuY2UgPSBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogQSBjYW52YXMgZmlsbHN0eWxlIHRoYXQgd2lsbCBiZSB1c2VkIG9uIHRoZSB0ZXh0IGUuZyAncmVkJywgJyMwMEZGMDAnLlxuICogQ2FuIGJlIGFuIGFycmF5IHRvIGNyZWF0ZSBhIGdyYWRpZW50IGVnIFsnIzAwMDAwMCcsJyNGRkZGRkYnXVxuICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQvZmlsbFN0eWxlfE1ETn1cbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd8c3RyaW5nW118bnVtYmVyfG51bWJlcltdfENhbnZhc0dyYWRpZW50fENhbnZhc1BhdHRlcm59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5maWxsLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZpbGw7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZpbGwuc2V0ID0gZnVuY3Rpb24gKGZpbGwpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIHZhciBvdXRwdXRDb2xvciA9IGdldENvbG9yKGZpbGwpO1xuICAgIGlmICh0aGlzLl9maWxsICE9PSBvdXRwdXRDb2xvcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpbGwgPSBvdXRwdXRDb2xvcjtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBJZiBmaWxsIGlzIGFuIGFycmF5IG9mIGNvbG91cnMgdG8gY3JlYXRlIGEgZ3JhZGllbnQsIHRoaXMgY2FuIGNoYW5nZSB0aGUgdHlwZS9kaXJlY3Rpb24gb2YgdGhlIGdyYWRpZW50LlxuICogU2VlIHtAbGluayBQSVhJLlRFWFRfR1JBRElFTlR9XG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlsbEdyYWRpZW50VHlwZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9maWxsR3JhZGllbnRUeXBlO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5maWxsR3JhZGllbnRUeXBlLnNldCA9IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRUeXBlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZmlsbEdyYWRpZW50VHlwZSAhPT0gZmlsbEdyYWRpZW50VHlwZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZpbGxHcmFkaWVudFR5cGUgPSBmaWxsR3JhZGllbnRUeXBlO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIElmIGZpbGwgaXMgYW4gYXJyYXkgb2YgY29sb3VycyB0byBjcmVhdGUgYSBncmFkaWVudCwgdGhpcyBhcnJheSBjYW4gc2V0IHRoZSBzdG9wIHBvaW50c1xuICogKG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxKSBmb3IgdGhlIGNvbG9yLCBvdmVycmlkaW5nIHRoZSBkZWZhdWx0IGJlaGF2aW91ciBvZiBldmVubHkgc3BhY2luZyB0aGVtLlxuICpcbiAqIEBtZW1iZXIge251bWJlcltdfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZmlsbEdyYWRpZW50U3RvcHMuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZmlsbEdyYWRpZW50U3RvcHM7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZpbGxHcmFkaWVudFN0b3BzLnNldCA9IGZ1bmN0aW9uIChmaWxsR3JhZGllbnRTdG9wcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKCFhcmVBcnJheXNFcXVhbCh0aGlzLl9maWxsR3JhZGllbnRTdG9wcyxmaWxsR3JhZGllbnRTdG9wcykpXG4gICAge1xuICAgICAgICB0aGlzLl9maWxsR3JhZGllbnRTdG9wcyA9IGZpbGxHcmFkaWVudFN0b3BzO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBmb250IGZhbWlseVxuICpcbiAqIEBtZW1iZXIge3N0cmluZ3xzdHJpbmdbXX1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRGYW1pbHkuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZm9udEZhbWlseTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udEZhbWlseS5zZXQgPSBmdW5jdGlvbiAoZm9udEZhbWlseSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuZm9udEZhbWlseSAhPT0gZm9udEZhbWlseSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBmb250IHNpemVcbiAqIChhcyBhIG51bWJlciBpdCBjb252ZXJ0cyB0byBweCwgYnV0IGFzIGEgc3RyaW5nLCBlcXVpdmFsZW50cyBhcmUgJzI2cHgnLCcyMHB0JywnMTYwJScgb3IgJzEuNmVtJylcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ8c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFNpemUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fZm9udFNpemU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRTaXplLnNldCA9IGZ1bmN0aW9uIChmb250U2l6ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSBmb250U2l6ZSlcbiAgICB7XG4gICAgICAgIHRoaXMuX2ZvbnRTaXplID0gZm9udFNpemU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGZvbnQgc3R5bGVcbiAqICgnbm9ybWFsJywgJ2l0YWxpYycgb3IgJ29ibGlxdWUnKVxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRTdHlsZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mb250U3R5bGU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRTdHlsZS5zZXQgPSBmdW5jdGlvbiAoZm9udFN0eWxlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZm9udFN0eWxlICE9PSBmb250U3R5bGUpXG4gICAge1xuICAgICAgICB0aGlzLl9mb250U3R5bGUgPSBmb250U3R5bGU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGZvbnQgdmFyaWFudFxuICogKCdub3JtYWwnIG9yICdzbWFsbC1jYXBzJylcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5mb250VmFyaWFudC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9mb250VmFyaWFudDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMuZm9udFZhcmlhbnQuc2V0ID0gZnVuY3Rpb24gKGZvbnRWYXJpYW50KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fZm9udFZhcmlhbnQgIT09IGZvbnRWYXJpYW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udFZhcmlhbnQgPSBmb250VmFyaWFudDtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgZm9udCB3ZWlnaHRcbiAqICgnbm9ybWFsJywgJ2JvbGQnLCAnYm9sZGVyJywgJ2xpZ2h0ZXInIGFuZCAnMTAwJywgJzIwMCcsICczMDAnLCAnNDAwJywgJzUwMCcsICc2MDAnLCAnNzAwJywgODAwJyBvciAnOTAwJylcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5mb250V2VpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2ZvbnRXZWlnaHQ7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmZvbnRXZWlnaHQuc2V0ID0gZnVuY3Rpb24gKGZvbnRXZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9mb250V2VpZ2h0ICE9PSBmb250V2VpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udFdlaWdodCA9IGZvbnRXZWlnaHQ7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycywgZGVmYXVsdCBpcyAwXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubGV0dGVyU3BhY2luZy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9sZXR0ZXJTcGFjaW5nO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5sZXR0ZXJTcGFjaW5nLnNldCA9IGZ1bmN0aW9uIChsZXR0ZXJTcGFjaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gbGV0dGVyU3BhY2luZylcbiAgICB7XG4gICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBsaW5lIGhlaWdodCwgYSBudW1iZXIgdGhhdCByZXByZXNlbnRzIHRoZSB2ZXJ0aWNhbCBzcGFjZSB0aGF0IGEgbGV0dGVyIHVzZXNcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5saW5lSGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVIZWlnaHQ7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmxpbmVIZWlnaHQuc2V0ID0gZnVuY3Rpb24gKGxpbmVIZWlnaHQpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9saW5lSGVpZ2h0ICE9PSBsaW5lSGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGluZUhlaWdodCA9IGxpbmVIZWlnaHQ7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIHNwYWNlIGJldHdlZW4gbGluZXNcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5sZWFkaW5nLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX2xlYWRpbmc7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmxlYWRpbmcuc2V0ID0gZnVuY3Rpb24gKGxlYWRpbmcpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl9sZWFkaW5nICE9PSBsZWFkaW5nKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbGVhZGluZyA9IGxlYWRpbmc7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIGxpbmVKb2luIHByb3BlcnR5IHNldHMgdGhlIHR5cGUgb2YgY29ybmVyIGNyZWF0ZWQsIGl0IGNhbiByZXNvbHZlIHNwaWtlZCB0ZXh0IGlzc3Vlcy5cbiAqIERlZmF1bHQgaXMgJ21pdGVyJyAoY3JlYXRlcyBhIHNoYXJwIGNvcm5lcikuXG4gKlxuICogQG1lbWJlciB7c3RyaW5nfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubGluZUpvaW4uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fbGluZUpvaW47XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLmxpbmVKb2luLnNldCA9IGZ1bmN0aW9uIChsaW5lSm9pbikgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX2xpbmVKb2luICE9PSBsaW5lSm9pbilcbiAgICB7XG4gICAgICAgIHRoaXMuX2xpbmVKb2luID0gbGluZUpvaW47XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVGhlIG1pdGVyIGxpbWl0IHRvIHVzZSB3aGVuIHVzaW5nIHRoZSAnbWl0ZXInIGxpbmVKb2luIG1vZGVcbiAqIFRoaXMgY2FuIHJlZHVjZSBvciBpbmNyZWFzZSB0aGUgc3Bpa2luZXNzIG9mIHJlbmRlcmVkIHRleHQuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMubWl0ZXJMaW1pdC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9taXRlckxpbWl0O1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5taXRlckxpbWl0LnNldCA9IGZ1bmN0aW9uIChtaXRlckxpbWl0KSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fbWl0ZXJMaW1pdCAhPT0gbWl0ZXJMaW1pdClcbiAgICB7XG4gICAgICAgIHRoaXMuX21pdGVyTGltaXQgPSBtaXRlckxpbWl0O1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIE9jY2FzaW9uYWxseSBzb21lIGZvbnRzIGFyZSBjcm9wcGVkLiBBZGRpbmcgc29tZSBwYWRkaW5nIHdpbGwgcHJldmVudCB0aGlzIGZyb20gaGFwcGVuaW5nXG4gKiBieSBhZGRpbmcgcGFkZGluZyB0byBhbGwgc2lkZXMgb2YgdGhlIHRleHQuXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMucGFkZGluZy5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl9wYWRkaW5nO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5wYWRkaW5nLnNldCA9IGZ1bmN0aW9uIChwYWRkaW5nKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fcGFkZGluZyAhPT0gcGFkZGluZylcbiAgICB7XG4gICAgICAgIHRoaXMuX3BhZGRpbmcgPSBwYWRkaW5nO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgY2FudmFzIGZpbGxzdHlsZSB0aGF0IHdpbGwgYmUgdXNlZCBvbiB0aGUgdGV4dCBzdHJva2VcbiAqIGUuZyAnYmx1ZScsICcjRkNGRjAwJ1xuICpcbiAqIEBtZW1iZXIge3N0cmluZ3xudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2UuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fc3Ryb2tlO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2Uuc2V0ID0gZnVuY3Rpb24gKHN0cm9rZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgdmFyIG91dHB1dENvbG9yID0gZ2V0Q29sb3Ioc3Ryb2tlKTtcbiAgICBpZiAodGhpcy5fc3Ryb2tlICE9PSBvdXRwdXRDb2xvcilcbiAgICB7XG4gICAgICAgIHRoaXMuX3N0cm9rZSA9IG91dHB1dENvbG9yO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEEgbnVtYmVyIHRoYXQgcmVwcmVzZW50cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gKiBEZWZhdWx0IGlzIDAgKG5vIHN0cm9rZSlcbiAqXG4gKiBAbWVtYmVyIHtudW1iZXJ9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2VUaGlja25lc3MuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fc3Ryb2tlVGhpY2tuZXNzO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy5zdHJva2VUaGlja25lc3Muc2V0ID0gZnVuY3Rpb24gKHN0cm9rZVRoaWNrbmVzcykgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3N0cm9rZVRoaWNrbmVzcyAhPT0gc3Ryb2tlVGhpY2tuZXNzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fc3Ryb2tlVGhpY2tuZXNzID0gc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBiYXNlbGluZSBvZiB0aGUgdGV4dCB0aGF0IGlzIHJlbmRlcmVkLlxuICpcbiAqIEBtZW1iZXIge3N0cmluZ31cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnRleHRCYXNlbGluZS5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl90ZXh0QmFzZWxpbmU7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLnRleHRCYXNlbGluZS5zZXQgPSBmdW5jdGlvbiAodGV4dEJhc2VsaW5lKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fdGV4dEJhc2VsaW5lICE9PSB0ZXh0QmFzZWxpbmUpXG4gICAge1xuICAgICAgICB0aGlzLl90ZXh0QmFzZWxpbmUgPSB0ZXh0QmFzZWxpbmU7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogVHJpbSB0cmFuc3BhcmVudCBib3JkZXJzXG4gKlxuICogQG1lbWJlciB7Ym9vbGVhbn1cbiAqL1xucHJvdG90eXBlQWNjZXNzb3JzLnRyaW0uZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gdGhpcy5fdHJpbTtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMudHJpbS5zZXQgPSBmdW5jdGlvbiAodHJpbSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG57XG4gICAgaWYgKHRoaXMuX3RyaW0gIT09IHRyaW0pXG4gICAge1xuICAgICAgICB0aGlzLl90cmltID0gdHJpbTtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBIb3cgbmV3bGluZXMgYW5kIHNwYWNlcyBzaG91bGQgYmUgaGFuZGxlZC5cbiAqIERlZmF1bHQgaXMgJ3ByZScgKHByZXNlcnZlLCBwcmVzZXJ2ZSkuXG4gKlxuICogIHZhbHVlICAgfCBOZXcgbGluZXMgfCAgIFNwYWNlc1xuICogIC0tLSAgICAgfCAtLS0gICAgICAgfCAgIC0tLVxuICogJ25vcm1hbCcgfCBDb2xsYXBzZSAgfCAgIENvbGxhcHNlXG4gKiAncHJlJyAgICB8IFByZXNlcnZlICB8ICAgUHJlc2VydmVcbiAqICdwcmUtbGluZScgICB8IFByZXNlcnZlICB8ICAgQ29sbGFwc2VcbiAqXG4gKiBAbWVtYmVyIHtzdHJpbmd9XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53aGl0ZVNwYWNlLmdldCA9IGZ1bmN0aW9uICgpXG57XG4gICAgcmV0dXJuIHRoaXMuX3doaXRlU3BhY2U7XG59O1xucHJvdG90eXBlQWNjZXNzb3JzLndoaXRlU3BhY2Uuc2V0ID0gZnVuY3Rpb24gKHdoaXRlU3BhY2UpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xue1xuICAgIGlmICh0aGlzLl93aGl0ZVNwYWNlICE9PSB3aGl0ZVNwYWNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fd2hpdGVTcGFjZSA9IHdoaXRlU3BhY2U7XG4gICAgICAgIHRoaXMuc3R5bGVJRCsrO1xuICAgIH1cbn07XG5cbi8qKlxuICogSW5kaWNhdGVzIGlmIHdvcmQgd3JhcCBzaG91bGQgYmUgdXNlZFxuICpcbiAqIEBtZW1iZXIge2Jvb2xlYW59XG4gKi9cbnByb3RvdHlwZUFjY2Vzc29ycy53b3JkV3JhcC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcDtcbn07XG5wcm90b3R5cGVBY2Nlc3NvcnMud29yZFdyYXAuc2V0ID0gZnVuY3Rpb24gKHdvcmRXcmFwKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fd29yZFdyYXAgIT09IHdvcmRXcmFwKVxuICAgIHtcbiAgICAgICAgdGhpcy5fd29yZFdyYXAgPSB3b3JkV3JhcDtcbiAgICAgICAgdGhpcy5zdHlsZUlEKys7XG4gICAgfVxufTtcblxuLyoqXG4gKiBUaGUgd2lkdGggYXQgd2hpY2ggdGV4dCB3aWxsIHdyYXAsIGl0IG5lZWRzIHdvcmRXcmFwIHRvIGJlIHNldCB0byB0cnVlXG4gKlxuICogQG1lbWJlciB7bnVtYmVyfVxuICovXG5wcm90b3R5cGVBY2Nlc3NvcnMud29yZFdyYXBXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxue1xuICAgIHJldHVybiB0aGlzLl93b3JkV3JhcFdpZHRoO1xufTtcbnByb3RvdHlwZUFjY2Vzc29ycy53b3JkV3JhcFdpZHRoLnNldCA9IGZ1bmN0aW9uICh3b3JkV3JhcFdpZHRoKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbntcbiAgICBpZiAodGhpcy5fd29yZFdyYXBXaWR0aCAhPT0gd29yZFdyYXBXaWR0aClcbiAgICB7XG4gICAgICAgIHRoaXMuX3dvcmRXcmFwV2lkdGggPSB3b3JkV3JhcFdpZHRoO1xuICAgICAgICB0aGlzLnN0eWxlSUQrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIEdlbmVyYXRlcyBhIGZvbnQgc3R5bGUgc3RyaW5nIHRvIHVzZSBmb3IgYFRleHRNZXRyaWNzLm1lYXN1cmVGb250KClgLlxuICpcbiAqIEByZXR1cm4ge3N0cmluZ30gRm9udCBzdHlsZSBzdHJpbmcsIGZvciBwYXNzaW5nIHRvIGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udCgpYFxuICovXG5UZXh0U3R5bGUucHJvdG90eXBlLnRvRm9udFN0cmluZyA9IGZ1bmN0aW9uIHRvRm9udFN0cmluZyAoKVxue1xuICAgIC8vIGJ1aWxkIGNhbnZhcyBhcGkgZm9udCBzZXR0aW5nIGZyb20gaW5kaXZpZHVhbCBjb21wb25lbnRzLiBDb252ZXJ0IGEgbnVtZXJpYyB0aGlzLmZvbnRTaXplIHRvIHB4XG4gICAgdmFyIGZvbnRTaXplU3RyaW5nID0gKHR5cGVvZiB0aGlzLmZvbnRTaXplID09PSAnbnVtYmVyJykgPyAoKHRoaXMuZm9udFNpemUpICsgXCJweFwiKSA6IHRoaXMuZm9udFNpemU7XG5cbiAgICAvLyBDbGVhbi11cCBmb250RmFtaWx5IHByb3BlcnR5IGJ5IHF1b3RpbmcgZWFjaCBmb250IG5hbWVcbiAgICAvLyB0aGlzIHdpbGwgc3VwcG9ydCBmb250IG5hbWVzIHdpdGggc3BhY2VzXG4gICAgdmFyIGZvbnRGYW1pbGllcyA9IHRoaXMuZm9udEZhbWlseTtcblxuICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmZvbnRGYW1pbHkpKVxuICAgIHtcbiAgICAgICAgZm9udEZhbWlsaWVzID0gdGhpcy5mb250RmFtaWx5LnNwbGl0KCcsJyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IGZvbnRGYW1pbGllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIC8vIFRyaW0gYW55IGV4dHJhIHdoaXRlLXNwYWNlXG4gICAgICAgIHZhciBmb250RmFtaWx5ID0gZm9udEZhbWlsaWVzW2ldLnRyaW0oKTtcblxuICAgICAgICAvLyBDaGVjayBpZiBmb250IGFscmVhZHkgY29udGFpbnMgc3RyaW5nc1xuICAgICAgICBpZiAoISgvKFtcXFwiXFwnXSlbXlxcJ1xcXCJdK1xcMS8pLnRlc3QoZm9udEZhbWlseSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHkgPSBcIlxcXCJcIiArIGZvbnRGYW1pbHkgKyBcIlxcXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBmb250RmFtaWxpZXNbaV0gPSBmb250RmFtaWx5O1xuICAgIH1cblxuICAgIHJldHVybiAoKHRoaXMuZm9udFN0eWxlKSArIFwiIFwiICsgKHRoaXMuZm9udFZhcmlhbnQpICsgXCIgXCIgKyAodGhpcy5mb250V2VpZ2h0KSArIFwiIFwiICsgZm9udFNpemVTdHJpbmcgKyBcIiBcIiArIChmb250RmFtaWxpZXMuam9pbignLCcpKSk7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVGV4dFN0eWxlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge251bWJlcnxudW1iZXJbXX0gY29sb3JcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGNvbG9yIGFzIGEgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBnZXRTaW5nbGVDb2xvcihjb2xvcilcbntcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAnbnVtYmVyJylcbiAgICB7XG4gICAgICAgIHJldHVybiBoZXgyc3RyaW5nKGNvbG9yKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIHR5cGVvZiBjb2xvciA9PT0gJ3N0cmluZycgKVxuICAgIHtcbiAgICAgICAgaWYgKCBjb2xvci5pbmRleE9mKCcweCcpID09PSAwIClcbiAgICAgICAge1xuICAgICAgICAgICAgY29sb3IgPSBjb2xvci5yZXBsYWNlKCcweCcsICcjJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29sb3I7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfG51bWJlcltdfSBjb2xvclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgY29sb3IgYXMgYSBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIGdldENvbG9yKGNvbG9yKVxue1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xvcikpXG4gICAge1xuICAgICAgICByZXR1cm4gZ2V0U2luZ2xlQ29sb3IoY29sb3IpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbG9yLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb2xvcltpXSA9IGdldFNpbmdsZUNvbG9yKGNvbG9yW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xvcjtcbiAgICB9XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBjb252ZXJ0IGhleGFkZWNpbWFsIGNvbG9ycyB0byBzdHJpbmdzLCBhbmQgc2ltcGx5IHJldHVybiB0aGUgY29sb3IgaWYgaXQncyBhIHN0cmluZy5cbiAqIFRoaXMgdmVyc2lvbiBjYW4gYWxzbyBjb252ZXJ0IGFycmF5IG9mIGNvbG9yc1xuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7QXJyYXl9IGFycmF5MSBGaXJzdCBhcnJheSB0byBjb21wYXJlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheTIgU2Vjb25kIGFycmF5IHRvIGNvbXBhcmVcbiAqIEByZXR1cm4ge2Jvb2xlYW59IERvIHRoZSBhcnJheXMgY29udGFpbiB0aGUgc2FtZSB2YWx1ZXMgaW4gdGhlIHNhbWUgb3JkZXJcbiAqL1xuZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYXJyYXkxLCBhcnJheTIpXG57XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5MSkgfHwgIUFycmF5LmlzQXJyYXkoYXJyYXkyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoYXJyYXkxLmxlbmd0aCAhPT0gYXJyYXkyLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5MS5sZW5ndGg7ICsraSlcbiAgICB7XG4gICAgICAgIGlmIChhcnJheTFbaV0gIT09IGFycmF5MltpXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBlbnN1cmUgdGhhdCBvYmplY3QgcHJvcGVydGllcyBhcmUgY29waWVkIGJ5IHZhbHVlLCBhbmQgbm90IGJ5IHJlZmVyZW5jZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgVGFyZ2V0IG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgaW50b1xuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBTb3VyY2Ugb2JqZWN0IGZvciB0aGUgcHJvcGVydGllcyB0byBjb3B5XG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHlPYmogT2JqZWN0IGNvbnRhaW5pbmcgcHJvcGVydGllcyBuYW1lcyB3ZSB3YW50IHRvIGxvb3Agb3ZlclxuICovXG5mdW5jdGlvbiBkZWVwQ29weVByb3BlcnRpZXModGFyZ2V0LCBzb3VyY2UsIHByb3BlcnR5T2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBwcm9wZXJ0eU9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzb3VyY2VbcHJvcF0pKSB7XG4gICAgICAgICAgICB0YXJnZXRbcHJvcF0gPSBzb3VyY2VbcHJvcF0uc2xpY2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgVGV4dE1ldHJpY3Mgb2JqZWN0IHJlcHJlc2VudHMgdGhlIG1lYXN1cmVtZW50IG9mIGEgYmxvY2sgb2YgdGV4dCB3aXRoIGEgc3BlY2lmaWVkIHN0eWxlLlxuICpcbiAqIGBgYGpzXG4gKiBsZXQgc3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoe2ZvbnRGYW1pbHkgOiAnQXJpYWwnLCBmb250U2l6ZTogMjQsIGZpbGwgOiAweGZmMTAxMCwgYWxpZ24gOiAnY2VudGVyJ30pXG4gKiBsZXQgdGV4dE1ldHJpY3MgPSBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KCdZb3VyIHRleHQnLCBzdHlsZSlcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlck9mIFBJWElcbiAqL1xudmFyIFRleHRNZXRyaWNzID0gZnVuY3Rpb24gVGV4dE1ldHJpY3ModGV4dCwgc3R5bGUsIHdpZHRoLCBoZWlnaHQsIGxpbmVzLCBsaW5lV2lkdGhzLCBsaW5lSGVpZ2h0LCBtYXhMaW5lV2lkdGgsIGZvbnRQcm9wZXJ0aWVzKVxue1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgdGhpcy5saW5lV2lkdGhzID0gbGluZVdpZHRocztcbiAgICB0aGlzLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0O1xuICAgIHRoaXMubWF4TGluZVdpZHRoID0gbWF4TGluZVdpZHRoO1xuICAgIHRoaXMuZm9udFByb3BlcnRpZXMgPSBmb250UHJvcGVydGllcztcbn07XG5cbi8qKlxuICogTWVhc3VyZXMgdGhlIHN1cHBsaWVkIHN0cmluZyBvZiB0ZXh0IGFuZCByZXR1cm5zIGEgUmVjdGFuZ2xlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gdGhlIHRleHQgdG8gbWVhc3VyZS5cbiAqIEBwYXJhbSB7UElYSS5UZXh0U3R5bGV9IHN0eWxlIC0gdGhlIHRleHQgc3R5bGUgdG8gdXNlIGZvciBtZWFzdXJpbmdcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3dvcmRXcmFwXSAtIG9wdGlvbmFsIG92ZXJyaWRlIGZvciBpZiB3b3JkLXdyYXAgc2hvdWxkIGJlIGFwcGxpZWQgdG8gdGhlIHRleHQuXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBbY2FudmFzXSAtIG9wdGlvbmFsIHNwZWNpZmljYXRpb24gb2YgdGhlIGNhbnZhcyB0byB1c2UgZm9yIG1lYXN1cmluZy5cbiAqIEByZXR1cm4ge1BJWEkuVGV4dE1ldHJpY3N9IG1lYXN1cmVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHRleHQuXG4gKi9cblRleHRNZXRyaWNzLm1lYXN1cmVUZXh0ID0gZnVuY3Rpb24gbWVhc3VyZVRleHQgKHRleHQsIHN0eWxlLCB3b3JkV3JhcCwgY2FudmFzKVxue1xuICAgICAgICBpZiAoIGNhbnZhcyA9PT0gdm9pZCAwICkgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcblxuICAgIHdvcmRXcmFwID0gd29yZFdyYXAgfHwgc3R5bGUud29yZFdyYXA7XG4gICAgdmFyIGZvbnQgPSBzdHlsZS50b0ZvbnRTdHJpbmcoKTtcbiAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBUZXh0TWV0cmljcy5tZWFzdXJlRm9udChmb250KTtcbiAgICB2YXIgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgY29udGV4dC5mb250ID0gZm9udDtcblxuICAgIHZhciBvdXRwdXRUZXh0ID0gd29yZFdyYXAgPyBUZXh0TWV0cmljcy53b3JkV3JhcCh0ZXh0LCBzdHlsZSwgY2FudmFzKSA6IHRleHQ7XG4gICAgdmFyIGxpbmVzID0gb3V0cHV0VGV4dC5zcGxpdCgvKD86XFxyXFxufFxccnxcXG4pLyk7XG4gICAgdmFyIGxpbmVXaWR0aHMgPSBuZXcgQXJyYXkobGluZXMubGVuZ3RoKTtcbiAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChsaW5lc1tpXSkud2lkdGggKyAoKGxpbmVzW2ldLmxlbmd0aCAtIDEpICogc3R5bGUubGV0dGVyU3BhY2luZyk7XG5cbiAgICAgICAgbGluZVdpZHRoc1tpXSA9IGxpbmVXaWR0aDtcbiAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsaW5lV2lkdGgpO1xuICAgIH1cbiAgICB2YXIgd2lkdGggPSBtYXhMaW5lV2lkdGggKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG5cbiAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdylcbiAgICB7XG4gICAgICAgIHdpZHRoICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG5cbiAgICB2YXIgbGluZUhlaWdodCA9IHN0eWxlLmxpbmVIZWlnaHQgfHwgZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgdmFyIGhlaWdodCA9IE1hdGgubWF4KGxpbmVIZWlnaHQsIGZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICArICgobGluZXMubGVuZ3RoIC0gMSkgKiAobGluZUhlaWdodCArIHN0eWxlLmxlYWRpbmcpKTtcblxuICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KVxuICAgIHtcbiAgICAgICAgaGVpZ2h0ICs9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFRleHRNZXRyaWNzKFxuICAgICAgICB0ZXh0LFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgd2lkdGgsXG4gICAgICAgIGhlaWdodCxcbiAgICAgICAgbGluZXMsXG4gICAgICAgIGxpbmVXaWR0aHMsXG4gICAgICAgIGxpbmVIZWlnaHQgKyBzdHlsZS5sZWFkaW5nLFxuICAgICAgICBtYXhMaW5lV2lkdGgsXG4gICAgICAgIGZvbnRQcm9wZXJ0aWVzXG4gICAgKTtcbn07XG5cbi8qKlxuICogQXBwbGllcyBuZXdsaW5lcyB0byBhIHN0cmluZyB0byBoYXZlIGl0IG9wdGltYWxseSBmaXQgaW50byB0aGUgaG9yaXpvbnRhbFxuICogYm91bmRzIHNldCBieSB0aGUgVGV4dCBvYmplY3QncyB3b3JkV3JhcFdpZHRoIHByb3BlcnR5LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFN0cmluZyB0byBhcHBseSB3b3JkIHdyYXBwaW5nIHRvXG4gKiBAcGFyYW0ge1BJWEkuVGV4dFN0eWxlfSBzdHlsZSAtIHRoZSBzdHlsZSB0byB1c2Ugd2hlbiB3cmFwcGluZ1xuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gW2NhbnZhc10gLSBvcHRpb25hbCBzcGVjaWZpY2F0aW9uIG9mIHRoZSBjYW52YXMgdG8gdXNlIGZvciBtZWFzdXJpbmcuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IE5ldyBzdHJpbmcgd2l0aCBuZXcgbGluZXMgYXBwbGllZCB3aGVyZSByZXF1aXJlZFxuICovXG5UZXh0TWV0cmljcy53b3JkV3JhcCA9IGZ1bmN0aW9uIHdvcmRXcmFwICh0ZXh0LCBzdHlsZSwgY2FudmFzKVxue1xuICAgICAgICBpZiAoIGNhbnZhcyA9PT0gdm9pZCAwICkgY2FudmFzID0gVGV4dE1ldHJpY3MuX2NhbnZhcztcblxuICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICB2YXIgd2lkdGggPSAwO1xuICAgIHZhciBsaW5lID0gJyc7XG4gICAgdmFyIGxpbmVzID0gJyc7XG5cbiAgICB2YXIgY2FjaGUgPSB7fTtcbiAgICB2YXIgbGV0dGVyU3BhY2luZyA9IHN0eWxlLmxldHRlclNwYWNpbmc7XG4gICAgICAgIHZhciB3aGl0ZVNwYWNlID0gc3R5bGUud2hpdGVTcGFjZTtcblxuICAgIC8vIEhvdyB0byBoYW5kbGUgd2hpdGVzcGFjZXNcbiAgICB2YXIgY29sbGFwc2VTcGFjZXMgPSBUZXh0TWV0cmljcy5jb2xsYXBzZVNwYWNlcyh3aGl0ZVNwYWNlKTtcbiAgICB2YXIgY29sbGFwc2VOZXdsaW5lcyA9IFRleHRNZXRyaWNzLmNvbGxhcHNlTmV3bGluZXMod2hpdGVTcGFjZSk7XG5cbiAgICAvLyB3aGV0aGVyIG9yIG5vdCBzcGFjZXMgbWF5IGJlIGFkZGVkIHRvIHRoZSBiZWdpbm5pbmcgb2YgbGluZXNcbiAgICB2YXIgY2FuUHJlcGVuZFNwYWNlcyA9ICFjb2xsYXBzZVNwYWNlcztcblxuICAgIC8vIFRoZXJlIGlzIGxldHRlclNwYWNpbmcgYWZ0ZXIgZXZlcnkgY2hhciBleGNlcHQgdGhlIGxhc3Qgb25lXG4gICAgLy8gdF9oX2lfc18nICdfaV9zXycgJ19hX25fJyAnX2VfeF9hX21fcF9sX2VfJyAnXyFcbiAgICAvLyBzbyBmb3IgY29udmVuaWVuY2UgdGhlIGFib3ZlIG5lZWRzIHRvIGJlIGNvbXBhcmVkIHRvIHdpZHRoICsgMSBleHRyYSBsZXR0ZXJTcGFjZVxuICAgIC8vIHRfaF9pX3NfJyAnX2lfc18nICdfYV9uXycgJ19lX3hfYV9tX3BfbF9lXycgJ18hX1xuICAgIC8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAgIC8vIEFuZCB0aGVuIHRoZSBmaW5hbCBzcGFjZSBpcyBzaW1wbHkgbm8gYXBwZW5kZWQgdG8gZWFjaCBsaW5lXG4gICAgdmFyIHdvcmRXcmFwV2lkdGggPSBzdHlsZS53b3JkV3JhcFdpZHRoICsgbGV0dGVyU3BhY2luZztcblxuICAgIC8vIGJyZWFrIHRleHQgaW50byB3b3Jkcywgc3BhY2VzIGFuZCBuZXdsaW5lIGNoYXJzXG4gICAgdmFyIHRva2VucyA9IFRleHRNZXRyaWNzLnRva2VuaXplKHRleHQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICAvLyBnZXQgdGhlIHdvcmQsIHNwYWNlIG9yIG5ld2xpbmVDaGFyXG4gICAgICAgIHZhciB0b2tlbiA9IHRva2Vuc1tpXTtcblxuICAgICAgICAvLyBpZiB3b3JkIGlzIGEgbmV3IGxpbmVcbiAgICAgICAgaWYgKFRleHRNZXRyaWNzLmlzTmV3bGluZSh0b2tlbikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGtlZXAgdGhlIG5ldyBsaW5lXG4gICAgICAgICAgICBpZiAoIWNvbGxhcHNlTmV3bGluZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lKTtcbiAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gIWNvbGxhcHNlU3BhY2VzO1xuICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHdlIHNob3VsZCBjb2xsYXBzZSBuZXcgbGluZXNcbiAgICAgICAgICAgIC8vIHdlIHNpbXBseSBjb252ZXJ0IGl0IGludG8gYSBzcGFjZVxuICAgICAgICAgICAgdG9rZW4gPSAnICc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBzaG91bGQgY29sbGFwc2UgcmVwZWF0ZWQgd2hpdGVzcGFjZXNcbiAgICAgICAgaWYgKGNvbGxhcHNlU3BhY2VzKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjaGVjayBib3RoIHRoaXMgYW5kIHRoZSBsYXN0IHRva2VucyBmb3Igc3BhY2VzXG4gICAgICAgICAgICB2YXIgY3VycklzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSh0b2tlbik7XG4gICAgICAgICAgICB2YXIgbGFzdElzQnJlYWtpbmdTcGFjZSA9IFRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShsaW5lW2xpbmUubGVuZ3RoIC0gMV0pO1xuXG4gICAgICAgICAgICBpZiAoY3VycklzQnJlYWtpbmdTcGFjZSAmJiBsYXN0SXNCcmVha2luZ1NwYWNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHdvcmQgd2lkdGggZnJvbSBjYWNoZSBpZiBwb3NzaWJsZVxuICAgICAgICB2YXIgdG9rZW5XaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZSh0b2tlbiwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpO1xuXG4gICAgICAgIC8vIHdvcmQgaXMgbG9uZ2VyIHRoYW4gZGVzaXJlZCBib3VuZHNcbiAgICAgICAgaWYgKHRva2VuV2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBhcmUgbm90IGFscmVhZHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgICAgICAgICAgIGlmIChsaW5lICE9PSAnJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBuZXdsaW5lcyBmb3Igb3ZlcmZsb3cgd29yZHNcbiAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGJyZWFrIGxhcmdlIHdvcmQgb3ZlciBtdWx0aXBsZSBsaW5lc1xuICAgICAgICAgICAgaWYgKFRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHModG9rZW4sIHN0eWxlLmJyZWFrV29yZHMpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGJyZWFrIHdvcmQgaW50byBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSB0b2tlbi5zcGxpdCgnJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBsb29wIHRoZSBjaGFyYWN0ZXJzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFyYWN0ZXJzLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXIgPSBjaGFyYWN0ZXJzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBrID0gMTtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIG5vdCBhdCB0aGUgZW5kIG9mIHRoZSB0b2tlblxuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGFyYWN0ZXJzW2ogKyBrXSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaGFyID0gY2hhcmFjdGVyc1tqICsga107XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdENoYXIgPSBjaGFyW2NoYXIubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3VsZCBub3Qgc3BsaXQgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyhsYXN0Q2hhciwgbmV4dENoYXIsIHRva2VuLCBqLCBzdHlsZS5icmVha1dvcmRzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21iaW5lIGNoYXJzICYgbW92ZSBmb3J3YXJkIG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXIgKz0gbmV4dENoYXI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGsrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGogKz0gY2hhci5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGFyYWN0ZXJXaWR0aCA9IFRleHRNZXRyaWNzLmdldEZyb21DYWNoZShjaGFyLCBsZXR0ZXJTcGFjaW5nLCBjYWNoZSwgY29udGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlcldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lcyArPSBUZXh0TWV0cmljcy5hZGRMaW5lKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGluZSArPSBjaGFyO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGFyYWN0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJ1biB3b3JkIG91dCBvZiB0aGUgYm91bmRzXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHdvcmRzIGluIHRoaXMgbGluZSBhbHJlYWR5XG4gICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoYXQgbGluZSBhbmQgc3RhcnQgYSBuZXcgb25lXG4gICAgICAgICAgICAgICAgaWYgKGxpbmUubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBpc0xhc3RUb2tlbiA9IGkgPT09IHRva2Vucy5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICAgICAgLy8gZ2l2ZSBpdCBpdHMgb3duIGxpbmUgaWYgaXQncyBub3QgdGhlIGVuZFxuICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUodG9rZW4sICFpc0xhc3RUb2tlbik7XG4gICAgICAgICAgICAgICAgY2FuUHJlcGVuZFNwYWNlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGxpbmUgPSAnJztcbiAgICAgICAgICAgICAgICB3aWR0aCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3b3JkIGNvdWxkIGZpdFxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHdvcmQgd29uJ3QgZml0IGJlY2F1c2Ugb2YgZXhpc3Rpbmcgd29yZHNcbiAgICAgICAgICAgIC8vIHN0YXJ0IGEgbmV3IGxpbmVcbiAgICAgICAgICAgIGlmICh0b2tlbldpZHRoICsgd2lkdGggPiB3b3JkV3JhcFdpZHRoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIGlmIGl0cyBhIHNwYWNlIHdlIGRvbid0IHdhbnQgaXRcbiAgICAgICAgICAgICAgICBjYW5QcmVwZW5kU3BhY2VzID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBhZGQgYSBuZXcgbGluZVxuICAgICAgICAgICAgICAgIGxpbmVzICs9IFRleHRNZXRyaWNzLmFkZExpbmUobGluZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhIG5ldyBsaW5lXG4gICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgIHdpZHRoID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZG9uJ3QgYWRkIHNwYWNlcyB0byB0aGUgYmVnaW5uaW5nIG9mIGxpbmVzXG4gICAgICAgICAgICBpZiAobGluZS5sZW5ndGggPiAwIHx8ICFUZXh0TWV0cmljcy5pc0JyZWFraW5nU3BhY2UodG9rZW4pIHx8IGNhblByZXBlbmRTcGFjZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIHRoZSB3b3JkIHRvIHRoZSBjdXJyZW50IGxpbmVcbiAgICAgICAgICAgICAgICBsaW5lICs9IHRva2VuO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHdpZHRoIGNvdW50ZXJcbiAgICAgICAgICAgICAgICB3aWR0aCArPSB0b2tlbldpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGluZXMgKz0gVGV4dE1ldHJpY3MuYWRkTGluZShsaW5lLCBmYWxzZSk7XG5cbiAgICByZXR1cm4gbGluZXM7XG59O1xuXG4vKipcbiAqIENvbnZpZW5pZW5jZSBmdW5jdGlvbiBmb3IgbG9nZ2luZyBlYWNoIGxpbmUgYWRkZWQgZHVyaW5nIHRoZSB3b3JkV3JhcFxuICogbWV0aG9kXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gICBsaW5lICAgIC0gVGhlIGxpbmUgb2YgdGV4dCB0byBhZGRcbiAqIEBwYXJhbSAge2Jvb2xlYW59ICBuZXdMaW5lIC0gQWRkIG5ldyBsaW5lIGNoYXJhY3RlciB0byBlbmRcbiAqIEByZXR1cm4ge3N0cmluZ30gICBBIGZvcm1hdHRlZCBsaW5lXG4gKi9cblRleHRNZXRyaWNzLmFkZExpbmUgPSBmdW5jdGlvbiBhZGRMaW5lIChsaW5lLCBuZXdMaW5lKVxue1xuICAgICAgICBpZiAoIG5ld0xpbmUgPT09IHZvaWQgMCApIG5ld0xpbmUgPSB0cnVlO1xuXG4gICAgbGluZSA9IFRleHRNZXRyaWNzLnRyaW1SaWdodChsaW5lKTtcblxuICAgIGxpbmUgPSAobmV3TGluZSkgPyAobGluZSArIFwiXFxuXCIpIDogbGluZTtcblxuICAgIHJldHVybiBsaW5lO1xufTtcblxuLyoqXG4gKiBHZXRzICYgc2V0cyB0aGUgd2lkdGhzIG9mIGNhbGN1bGF0ZWQgY2hhcmFjdGVycyBpbiBhIGNhY2hlIG9iamVjdFxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgICAgICAgICAgICAgIGtleSAgICAgICAgVGhlIGtleVxuICogQHBhcmFtICB7bnVtYmVyfSAgICAgICAgICAgICAgICBsZXR0ZXJTcGFjaW5nICBUaGUgbGV0dGVyIHNwYWNpbmdcbiAqIEBwYXJhbSAge29iamVjdH0gICAgICAgICAgICAgICAgY2FjaGUgICAgICBUaGUgY2FjaGVcbiAqIEBwYXJhbSAge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gIGNvbnRleHQgICAgVGhlIGNhbnZhcyBjb250ZXh0XG4gKiBAcmV0dXJuIHtudW1iZXJ9ICAgICAgICAgICAgICAgIFRoZSBmcm9tIGNhY2hlLlxuICovXG5UZXh0TWV0cmljcy5nZXRGcm9tQ2FjaGUgPSBmdW5jdGlvbiBnZXRGcm9tQ2FjaGUgKGtleSwgbGV0dGVyU3BhY2luZywgY2FjaGUsIGNvbnRleHQpXG57XG4gICAgdmFyIHdpZHRoID0gY2FjaGVba2V5XTtcblxuICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkKVxuICAgIHtcbiAgICAgICAgdmFyIHNwYWNpbmcgPSAoKGtleS5sZW5ndGgpICogbGV0dGVyU3BhY2luZyk7XG5cbiAgICAgICAgd2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGtleSkud2lkdGggKyBzcGFjaW5nO1xuICAgICAgICBjYWNoZVtrZXldID0gd2lkdGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHdpZHRoO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgd2Ugc2hvdWxkIGNvbGxhcHNlIGJyZWFraW5nIHNwYWNlc1xuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICAgd2hpdGVTcGFjZSAgVGhlIFRleHRTdHlsZSBwcm9wZXJ0eSB3aGl0ZVNwYWNlXG4gKiBAcmV0dXJuIHtib29sZWFufSAgc2hvdWxkIGNvbGxhcHNlXG4gKi9cblRleHRNZXRyaWNzLmNvbGxhcHNlU3BhY2VzID0gZnVuY3Rpb24gY29sbGFwc2VTcGFjZXMgKHdoaXRlU3BhY2UpXG57XG4gICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyB8fCB3aGl0ZVNwYWNlID09PSAncHJlLWxpbmUnKTtcbn07XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHdlIHNob3VsZCBjb2xsYXBzZSBuZXdMaW5lIGNoYXJzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gICB3aGl0ZVNwYWNlICBUaGUgd2hpdGUgc3BhY2VcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICBzaG91bGQgY29sbGFwc2VcbiAqL1xuVGV4dE1ldHJpY3MuY29sbGFwc2VOZXdsaW5lcyA9IGZ1bmN0aW9uIGNvbGxhcHNlTmV3bGluZXMgKHdoaXRlU3BhY2UpXG57XG4gICAgcmV0dXJuICh3aGl0ZVNwYWNlID09PSAnbm9ybWFsJyk7XG59O1xuXG4vKipcbiAqIHRyaW1zIGJyZWFraW5nIHdoaXRlc3BhY2VzIGZyb20gc3RyaW5nXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgIFRoZSB0ZXh0XG4gKiBAcmV0dXJuIHtzdHJpbmd9ICB0cmltbWVkIHN0cmluZ1xuICovXG5UZXh0TWV0cmljcy50cmltUmlnaHQgPSBmdW5jdGlvbiB0cmltUmlnaHQgKHRleHQpXG57XG4gICAgaWYgKHR5cGVvZiB0ZXh0ICE9PSAnc3RyaW5nJylcbiAgICB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gdGV4dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICBpZiAoIVRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZShjaGFyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgwLCAtMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRleHQ7XG59O1xuXG4vKipcbiAqIERldGVybWluZXMgaWYgY2hhciBpcyBhIG5ld2xpbmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgIFRoZSBjaGFyYWN0ZXJcbiAqIEByZXR1cm4ge2Jvb2xlYW59ICBUcnVlIGlmIG5ld2xpbmUsIEZhbHNlIG90aGVyd2lzZS5cbiAqL1xuVGV4dE1ldHJpY3MuaXNOZXdsaW5lID0gZnVuY3Rpb24gaXNOZXdsaW5lIChjaGFyKVxue1xuICAgIGlmICh0eXBlb2YgY2hhciAhPT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIChUZXh0TWV0cmljcy5fbmV3bGluZXMuaW5kZXhPZihjaGFyLmNoYXJDb2RlQXQoMCkpID49IDApO1xufTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGNoYXIgaXMgYSBicmVha2luZyB3aGl0ZXNwYWNlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICBjaGFyICBUaGUgY2hhcmFjdGVyXG4gKiBAcmV0dXJuIHtib29sZWFufSAgVHJ1ZSBpZiB3aGl0ZXNwYWNlLCBGYWxzZSBvdGhlcndpc2UuXG4gKi9cblRleHRNZXRyaWNzLmlzQnJlYWtpbmdTcGFjZSA9IGZ1bmN0aW9uIGlzQnJlYWtpbmdTcGFjZSAoY2hhcilcbntcbiAgICBpZiAodHlwZW9mIGNoYXIgIT09ICdzdHJpbmcnKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiAoVGV4dE1ldHJpY3MuX2JyZWFraW5nU3BhY2VzLmluZGV4T2YoY2hhci5jaGFyQ29kZUF0KDApKSA+PSAwKTtcbn07XG5cbi8qKlxuICogU3BsaXRzIGEgc3RyaW5nIGludG8gd29yZHMsIGJyZWFraW5nLXNwYWNlcyBhbmQgbmV3TGluZSBjaGFyYWN0ZXJzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIHRleHQgICBUaGUgdGV4dFxuICogQHJldHVybiB7YXJyYXl9ICBBIHRva2VuaXplZCBhcnJheVxuICovXG5UZXh0TWV0cmljcy50b2tlbml6ZSA9IGZ1bmN0aW9uIHRva2VuaXplICh0ZXh0KVxue1xuICAgIHZhciB0b2tlbnMgPSBbXTtcbiAgICB2YXIgdG9rZW4gPSAnJztcblxuICAgIGlmICh0eXBlb2YgdGV4dCAhPT0gJ3N0cmluZycpXG4gICAge1xuICAgICAgICByZXR1cm4gdG9rZW5zO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBjaGFyID0gdGV4dFtpXTtcblxuICAgICAgICBpZiAoVGV4dE1ldHJpY3MuaXNCcmVha2luZ1NwYWNlKGNoYXIpIHx8IFRleHRNZXRyaWNzLmlzTmV3bGluZShjaGFyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRva2VuICE9PSAnJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XG4gICAgICAgICAgICAgICAgdG9rZW4gPSAnJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG9rZW5zLnB1c2goY2hhcik7XG5cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdG9rZW4gKz0gY2hhcjtcbiAgICB9XG5cbiAgICBpZiAodG9rZW4gIT09ICcnKVxuICAgIHtcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgIH1cblxuICAgIHJldHVybiB0b2tlbnM7XG59O1xuXG4vKipcbiAqIFRoaXMgbWV0aG9kIGV4aXN0cyB0byBiZSBlYXNpbHkgb3ZlcnJpZGRlblxuICogSXQgYWxsb3dzIG9uZSB0byBjdXN0b21pc2Ugd2hpY2ggd29yZHMgc2hvdWxkIGJyZWFrXG4gKiBFeGFtcGxlcyBhcmUgaWYgdGhlIHRva2VuIGlzIENKSyBvciBudW1iZXJzLlxuICogSXQgbXVzdCByZXR1cm4gYSBib29sZWFuLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gIHtzdHJpbmd9ICB0b2tlbiAgIFRoZSB0b2tlblxuICogQHBhcmFtICB7Ym9vbGVhbn0gIGJyZWFrV29yZHMgIFRoZSBzdHlsZSBhdHRyIGJyZWFrIHdvcmRzXG4gKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIHRvIGJyZWFrIHdvcmQgb3Igbm90XG4gKi9cblRleHRNZXRyaWNzLmNhbkJyZWFrV29yZHMgPSBmdW5jdGlvbiBjYW5CcmVha1dvcmRzICh0b2tlbiwgYnJlYWtXb3JkcylcbntcbiAgICByZXR1cm4gYnJlYWtXb3Jkcztcbn07XG5cbi8qKlxuICogVGhpcyBtZXRob2QgZXhpc3RzIHRvIGJlIGVhc2lseSBvdmVycmlkZGVuXG4gKiBJdCBhbGxvd3Mgb25lIHRvIGRldGVybWluZSB3aGV0aGVyIGEgcGFpciBvZiBjaGFyYWN0ZXJzXG4gKiBzaG91bGQgYmUgYnJva2VuIGJ5IG5ld2xpbmVzXG4gKiBGb3IgZXhhbXBsZSBjZXJ0YWluIGNoYXJhY3RlcnMgaW4gQ0pLIGxhbmdzIG9yIG51bWJlcnMuXG4gKiBJdCBtdXN0IHJldHVybiBhIGJvb2xlYW4uXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSAge3N0cmluZ30gIGNoYXIgIFRoZSBjaGFyYWN0ZXJcbiAqIEBwYXJhbSAge3N0cmluZ30gIG5leHRDaGFyICBUaGUgbmV4dCBjaGFyYWN0ZXJcbiAqIEBwYXJhbSAge3N0cmluZ30gIHRva2VuIFRoZSB0b2tlbi93b3JkIHRoZSBjaGFyYWN0ZXJzIGFyZSBmcm9tXG4gKiBAcGFyYW0gIHtudW1iZXJ9ICBpbmRleCBUaGUgaW5kZXggaW4gdGhlIHRva2VuIG9mIHRoZSBjaGFyXG4gKiBAcGFyYW0gIHtib29sZWFufSAgYnJlYWtXb3JkcyAgVGhlIHN0eWxlIGF0dHIgYnJlYWsgd29yZHNcbiAqIEByZXR1cm4ge2Jvb2xlYW59IHdoZXRoZXIgdG8gYnJlYWsgd29yZCBvciBub3RcbiAqL1xuVGV4dE1ldHJpY3MuY2FuQnJlYWtDaGFycyA9IGZ1bmN0aW9uIGNhbkJyZWFrQ2hhcnMgKGNoYXIsIG5leHRDaGFyLCB0b2tlbiwgaW5kZXgsIGJyZWFrV29yZHMpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbntcbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYXNjZW50LCBkZXNjZW50IGFuZCBmb250U2l6ZSBvZiBhIGdpdmVuIGZvbnQtc3R5bGVcbiAqXG4gKiBAc3RhdGljXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9udCAtIFN0cmluZyByZXByZXNlbnRpbmcgdGhlIHN0eWxlIG9mIHRoZSBmb250XG4gKiBAcmV0dXJuIHtQSVhJLlRleHRNZXRyaWNzfkZvbnRNZXRyaWNzfSBGb250IHByb3BlcnRpZXMgb2JqZWN0XG4gKi9cblRleHRNZXRyaWNzLm1lYXN1cmVGb250ID0gZnVuY3Rpb24gbWVhc3VyZUZvbnQgKGZvbnQpXG57XG4gICAgLy8gYXMgdGhpcyBtZXRob2QgaXMgdXNlZCBmb3IgcHJlcGFyaW5nIGFzc2V0cywgZG9uJ3QgcmVjYWxjdWxhdGUgdGhpbmdzIGlmIHdlIGRvbid0IG5lZWQgdG9cbiAgICBpZiAoVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFRleHRNZXRyaWNzLl9mb250c1tmb250XTtcbiAgICB9XG5cbiAgICB2YXIgcHJvcGVydGllcyA9IHt9O1xuXG4gICAgdmFyIGNhbnZhcyA9IFRleHRNZXRyaWNzLl9jYW52YXM7XG4gICAgdmFyIGNvbnRleHQgPSBUZXh0TWV0cmljcy5fY29udGV4dDtcblxuICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG5cbiAgICB2YXIgbWV0cmljc1N0cmluZyA9IFRleHRNZXRyaWNzLk1FVFJJQ1NfU1RSSU5HICsgVGV4dE1ldHJpY3MuQkFTRUxJTkVfU1lNQk9MO1xuICAgIHZhciB3aWR0aCA9IE1hdGguY2VpbChjb250ZXh0Lm1lYXN1cmVUZXh0KG1ldHJpY3NTdHJpbmcpLndpZHRoKTtcbiAgICB2YXIgYmFzZWxpbmUgPSBNYXRoLmNlaWwoY29udGV4dC5tZWFzdXJlVGV4dChUZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wpLndpZHRoKTtcbiAgICB2YXIgaGVpZ2h0ID0gMiAqIGJhc2VsaW5lO1xuXG4gICAgYmFzZWxpbmUgPSBiYXNlbGluZSAqIFRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgfCAwO1xuXG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmMDAnO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG5cbiAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuXG4gICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnYWxwaGFiZXRpYyc7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnIzAwMCc7XG4gICAgY29udGV4dC5maWxsVGV4dChtZXRyaWNzU3RyaW5nLCAwLCBiYXNlbGluZSk7XG5cbiAgICB2YXIgaW1hZ2VkYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICB2YXIgcGl4ZWxzID0gaW1hZ2VkYXRhLmxlbmd0aDtcbiAgICB2YXIgbGluZSA9IHdpZHRoICogNDtcblxuICAgIHZhciBpID0gMDtcbiAgICB2YXIgaWR4ID0gMDtcbiAgICB2YXIgc3RvcCA9IGZhbHNlO1xuXG4gICAgLy8gYXNjZW50LiBzY2FuIGZyb20gdG9wIHRvIGJvdHRvbSB1bnRpbCB3ZSBmaW5kIGEgbm9uIHJlZCBwaXhlbFxuICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlbGluZTsgKytpKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lOyBqICs9IDQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgal0gIT09IDI1NSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0b3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkeCArPSBsaW5lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm9wZXJ0aWVzLmFzY2VudCA9IGJhc2VsaW5lIC0gaTtcblxuICAgIGlkeCA9IHBpeGVscyAtIGxpbmU7XG4gICAgc3RvcCA9IGZhbHNlO1xuXG4gICAgLy8gZGVzY2VudC4gc2NhbiBmcm9tIGJvdHRvbSB0byB0b3AgdW50aWwgd2UgZmluZCBhIG5vbiByZWQgcGl4ZWxcbiAgICBmb3IgKGkgPSBoZWlnaHQ7IGkgPiBiYXNlbGluZTsgLS1pKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaiQxID0gMDsgaiQxIDwgbGluZTsgaiQxICs9IDQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChpbWFnZWRhdGFbaWR4ICsgaiQxXSAhPT0gMjU1KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdG9wKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZHggLT0gbGluZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJvcGVydGllcy5kZXNjZW50ID0gaSAtIGJhc2VsaW5lO1xuICAgIHByb3BlcnRpZXMuZm9udFNpemUgPSBwcm9wZXJ0aWVzLmFzY2VudCArIHByb3BlcnRpZXMuZGVzY2VudDtcblxuICAgIFRleHRNZXRyaWNzLl9mb250c1tmb250XSA9IHByb3BlcnRpZXM7XG5cbiAgICByZXR1cm4gcHJvcGVydGllcztcbn07XG5cbi8qKlxuICogQ2xlYXIgZm9udCBtZXRyaWNzIGluIG1ldHJpY3MgY2FjaGUuXG4gKlxuICogQHN0YXRpY1xuICogQHBhcmFtIHtzdHJpbmd9IFtmb250XSAtIGZvbnQgbmFtZS4gSWYgZm9udCBuYW1lIG5vdCBzZXQgdGhlbiBjbGVhciBjYWNoZSBmb3IgYWxsIGZvbnRzLlxuICovXG5UZXh0TWV0cmljcy5jbGVhck1ldHJpY3MgPSBmdW5jdGlvbiBjbGVhck1ldHJpY3MgKGZvbnQpXG57XG4gICAgICAgIGlmICggZm9udCA9PT0gdm9pZCAwICkgZm9udCA9ICcnO1xuXG4gICAgaWYgKGZvbnQpXG4gICAge1xuICAgICAgICBkZWxldGUgVGV4dE1ldHJpY3MuX2ZvbnRzW2ZvbnRdO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBUZXh0TWV0cmljcy5fZm9udHMgPSB7fTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEludGVybmFsIHJldHVybiBvYmplY3QgZm9yIHtAbGluayBQSVhJLlRleHRNZXRyaWNzLm1lYXN1cmVGb250IGBUZXh0TWV0cmljcy5tZWFzdXJlRm9udGB9LlxuICogQGNsYXNzIEZvbnRNZXRyaWNzXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc35cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhc2NlbnQgLSBUaGUgYXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGVzY2VudCAtIFRoZSBkZXNjZW50IGRpc3RhbmNlXG4gKiBAcHJvcGVydHkge251bWJlcn0gZm9udFNpemUgLSBGb250IHNpemUgZnJvbSBhc2NlbnQgdG8gZGVzY2VudFxuICovXG5cbnZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuY2FudmFzLndpZHRoID0gY2FudmFzLmhlaWdodCA9IDEwO1xuXG4vKipcbiAqIENhY2hlZCBjYW52YXMgZWxlbWVudCBmb3IgbWVhc3VyaW5nIHRleHRcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7SFRNTENhbnZhc0VsZW1lbnR9XG4gKiBAcHJpdmF0ZVxuICovXG5UZXh0TWV0cmljcy5fY2FudmFzID0gY2FudmFzO1xuXG4vKipcbiAqIENhY2hlIGZvciBjb250ZXh0IHRvIHVzZS5cbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX2NvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcblxuLyoqXG4gKiBDYWNoZSBvZiBQSVhJLlRleHRNZXRyaWNzfkZvbnRNZXRyaWNzIG9iamVjdHMuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge09iamVjdH1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9mb250cyA9IHt9O1xuXG4vKipcbiAqIFN0cmluZyB1c2VkIGZvciBjYWxjdWxhdGUgZm9udCBtZXRyaWNzLlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEBuYW1lIE1FVFJJQ1NfU1RSSU5HXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgfMOJcVxuICovXG5UZXh0TWV0cmljcy5NRVRSSUNTX1NUUklORyA9ICd8w4lxJztcblxuLyoqXG4gKiBCYXNlbGluZSBzeW1ib2wgZm9yIGNhbGN1bGF0ZSBmb250IG1ldHJpY3MuXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQG5hbWUgQkFTRUxJTkVfU1lNQk9MXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQGRlZmF1bHQgTVxuICovXG5UZXh0TWV0cmljcy5CQVNFTElORV9TWU1CT0wgPSAnTSc7XG5cbi8qKlxuICogQmFzZWxpbmUgbXVsdGlwbGllciBmb3IgY2FsY3VsYXRlIGZvbnQgbWV0cmljcy5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJLlRleHRNZXRyaWNzXG4gKiBAbmFtZSBCQVNFTElORV9NVUxUSVBMSUVSXG4gKiBAdHlwZSB7bnVtYmVyfVxuICogQGRlZmF1bHQgMS40XG4gKi9cblRleHRNZXRyaWNzLkJBU0VMSU5FX01VTFRJUExJRVIgPSAxLjQ7XG5cbi8qKlxuICogQ2FjaGUgb2YgbmV3IGxpbmUgY2hhcnMuXG4gKiBAbWVtYmVyb2YgUElYSS5UZXh0TWV0cmljc1xuICogQHR5cGUge251bWJlcltdfVxuICogQHByaXZhdGVcbiAqL1xuVGV4dE1ldHJpY3MuX25ld2xpbmVzID0gW1xuICAgIDB4MDAwQSwgLy8gbGluZSBmZWVkXG4gICAgMHgwMDBEIF07XG5cbi8qKlxuICogQ2FjaGUgb2YgYnJlYWtpbmcgc3BhY2VzLlxuICogQG1lbWJlcm9mIFBJWEkuVGV4dE1ldHJpY3NcbiAqIEB0eXBlIHtudW1iZXJbXX1cbiAqIEBwcml2YXRlXG4gKi9cblRleHRNZXRyaWNzLl9icmVha2luZ1NwYWNlcyA9IFtcbiAgICAweDAwMDksIC8vIGNoYXJhY3RlciB0YWJ1bGF0aW9uXG4gICAgMHgwMDIwLCAvLyBzcGFjZVxuICAgIDB4MjAwMCwgLy8gZW4gcXVhZFxuICAgIDB4MjAwMSwgLy8gZW0gcXVhZFxuICAgIDB4MjAwMiwgLy8gZW4gc3BhY2VcbiAgICAweDIwMDMsIC8vIGVtIHNwYWNlXG4gICAgMHgyMDA0LCAvLyB0aHJlZS1wZXItZW0gc3BhY2VcbiAgICAweDIwMDUsIC8vIGZvdXItcGVyLWVtIHNwYWNlXG4gICAgMHgyMDA2LCAvLyBzaXgtcGVyLWVtIHNwYWNlXG4gICAgMHgyMDA4LCAvLyBwdW5jdHVhdGlvbiBzcGFjZVxuICAgIDB4MjAwOSwgLy8gdGhpbiBzcGFjZVxuICAgIDB4MjAwQSwgLy8gaGFpciBzcGFjZVxuICAgIDB4MjA1RiwgLy8gbWVkaXVtIG1hdGhlbWF0aWNhbCBzcGFjZVxuICAgIDB4MzAwMCBdO1xuXG4vKiBlc2xpbnQgbWF4LWRlcHRoOiBbMiwgOF0gKi9cbnZhciBkZWZhdWx0RGVzdHJveU9wdGlvbnMgPSB7XG4gICAgdGV4dHVyZTogdHJ1ZSxcbiAgICBjaGlsZHJlbjogZmFsc2UsXG4gICAgYmFzZVRleHR1cmU6IHRydWUsXG59O1xuXG4vKipcbiAqIEEgVGV4dCBPYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQuIFRvIHNwbGl0IGEgbGluZSB5b3UgY2FuIHVzZSAnXFxuJyBpbiB5b3VyIHRleHQgc3RyaW5nLFxuICogb3IgYWRkIGEgd29yZFdyYXAgcHJvcGVydHkgc2V0IHRvIHRydWUgYW5kIGFuZCB3b3JkV3JhcFdpZHRoIHByb3BlcnR5IHdpdGggYSB2YWx1ZSBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICpcbiAqIEEgVGV4dCBjYW4gYmUgY3JlYXRlZCBkaXJlY3RseSBmcm9tIGEgc3RyaW5nIGFuZCBhIHN0eWxlIG9iamVjdCxcbiAqIHdoaWNoIGNhbiBiZSBnZW5lcmF0ZWQgW2hlcmVdKGh0dHBzOi8vcGl4aWpzLmlvL3BpeGktdGV4dC1zdHlsZSkuXG4gKlxuICogYGBganNcbiAqIGxldCB0ZXh0ID0gbmV3IFBJWEkuVGV4dCgnVGhpcyBpcyBhIFBpeGlKUyB0ZXh0Jyx7Zm9udEZhbWlseSA6ICdBcmlhbCcsIGZvbnRTaXplOiAyNCwgZmlsbCA6IDB4ZmYxMDEwLCBhbGlnbiA6ICdjZW50ZXInfSk7XG4gKiBgYGBcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuU3ByaXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dCA9IChmdW5jdGlvbiAoU3ByaXRlJCQxKSB7XG4gICAgZnVuY3Rpb24gVGV4dCh0ZXh0LCBzdHlsZSwgY2FudmFzKVxuICAgIHtcbiAgICAgICAgY2FudmFzID0gY2FudmFzIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDM7XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSAzO1xuXG4gICAgICAgIHZhciB0ZXh0dXJlID0gVGV4dHVyZS5mcm9tKGNhbnZhcywgc2V0dGluZ3MkMS5TQ0FMRV9NT0RFLCAndGV4dCcpO1xuXG4gICAgICAgIHRleHR1cmUub3JpZyA9IG5ldyBSZWN0YW5nbGUoKTtcbiAgICAgICAgdGV4dHVyZS50cmltID0gbmV3IFJlY3RhbmdsZSgpO1xuXG4gICAgICAgIFNwcml0ZSQkMS5jYWxsKHRoaXMsIHRleHR1cmUpO1xuXG4gICAgICAgIC8vIGJhc2UgdGV4dHVyZSBpcyBhbHJlYWR5IGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIGNhY2hlLCBub3cgYWRkaW5nIHRoZSBhY3R1YWwgdGV4dHVyZVxuICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGhpcy5fdGV4dHVyZSwgdGhpcy5fdGV4dHVyZS5iYXNlVGV4dHVyZS50ZXh0dXJlQ2FjaGVJZHNbMF0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdGhhdCBldmVyeXRoaW5nIGlzIGRyYXduIHRvXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBjYW52YXMgMmQgY29udGV4dCB0aGF0IGV2ZXJ5dGhpbmcgaXMgZHJhd24gd2l0aFxuICAgICAgICAgKiBAbWVtYmVyIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgY2FudmFzLiBUaGlzIGlzIHNldCBhdXRvbWF0aWNhbGx5IGJ5IHRoZSByZW5kZXJlci5cbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAZGVmYXVsdCAxXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSBzZXR0aW5ncyQxLlJFU09MVVRJT047XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dCA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgbGlzdGVuZXIgdG8gdHJhY2sgc3R5bGUgY2hhbmdlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9zdHlsZUxpc3RlbmVyID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9mb250ID0gJyc7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5zdHlsZSA9IHN0eWxlO1xuXG4gICAgICAgIHRoaXMubG9jYWxTdHlsZUlEID0gLTE7XG4gICAgfVxuXG4gICAgaWYgKCBTcHJpdGUkJDEgKSBUZXh0Ll9fcHJvdG9fXyA9IFNwcml0ZSQkMTtcbiAgICBUZXh0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNwcml0ZSQkMSAmJiBTcHJpdGUkJDEucHJvdG90eXBlICk7XG4gICAgVGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUZXh0O1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHN0eWxlOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRleHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSByZXNwZWN0RGlydHkgLSBXaGV0aGVyIHRvIGFib3J0IHVwZGF0aW5nIHRoZSB0ZXh0IGlmIHRoZSBUZXh0IGlzbid0IGRpcnR5IGFuZCB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkLlxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiB1cGRhdGVUZXh0IChyZXNwZWN0RGlydHkpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBjaGVjayBpZiBzdHlsZSBoYXMgY2hhbmdlZC4uXG4gICAgICAgIGlmICh0aGlzLmxvY2FsU3R5bGVJRCAhPT0gc3R5bGUuc3R5bGVJRClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmxvY2FsU3R5bGVJRCA9IHN0eWxlLnN0eWxlSUQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuZGlydHkgJiYgcmVzcGVjdERpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9mb250ID0gdGhpcy5fc3R5bGUudG9Gb250U3RyaW5nKCk7XG5cbiAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgIHZhciBtZWFzdXJlZCA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KHRoaXMuX3RleHQsIHRoaXMuX3N0eWxlLCB0aGlzLl9zdHlsZS53b3JkV3JhcCwgdGhpcy5jYW52YXMpO1xuICAgICAgICB2YXIgd2lkdGggPSBtZWFzdXJlZC53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodCA9IG1lYXN1cmVkLmhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVzID0gbWVhc3VyZWQubGluZXM7XG4gICAgICAgIHZhciBsaW5lSGVpZ2h0ID0gbWVhc3VyZWQubGluZUhlaWdodDtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBtZWFzdXJlZC5saW5lV2lkdGhzO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gbWVhc3VyZWQubWF4TGluZVdpZHRoO1xuICAgICAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZWFzdXJlZC5mb250UHJvcGVydGllcztcblxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCgoTWF0aC5tYXgoMSwgd2lkdGgpICsgKHN0eWxlLnBhZGRpbmcgKiAyKSkgKiB0aGlzLnJlc29sdXRpb24pO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBNYXRoLmNlaWwoKE1hdGgubWF4KDEsIGhlaWdodCkgKyAoc3R5bGUucGFkZGluZyAqIDIpKSAqIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5zY2FsZSh0aGlzLnJlc29sdXRpb24sIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgY29udGV4dC5mb250ID0gdGhpcy5fZm9udDtcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgICAgICBjb250ZXh0LmxpbmVKb2luID0gc3R5bGUubGluZUpvaW47XG4gICAgICAgIGNvbnRleHQubWl0ZXJMaW1pdCA9IHN0eWxlLm1pdGVyTGltaXQ7XG5cbiAgICAgICAgdmFyIGxpbmVQb3NpdGlvblg7XG4gICAgICAgIHZhciBsaW5lUG9zaXRpb25ZO1xuXG4gICAgICAgIGlmIChzdHlsZS5kcm9wU2hhZG93KVxuICAgICAgICB7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHN0eWxlLmRyb3BTaGFkb3dDb2xvcjtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQWxwaGEgPSBzdHlsZS5kcm9wU2hhZG93QWxwaGE7XG4gICAgICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSBzdHlsZS5kcm9wU2hhZG93Qmx1cjtcblxuICAgICAgICAgICAgaWYgKHN0eWxlLmRyb3BTaGFkb3dCbHVyID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgeFNoYWRvd09mZnNldCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgICAgICB2YXIgeVNoYWRvd09mZnNldCA9IE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2U7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCA9IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDI7XG4gICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWSA9ICgoc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMikgKyAoaSAqIGxpbmVIZWlnaHQpKSArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudDtcblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5hbGlnbiA9PT0gJ3JpZ2h0JylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09ICdjZW50ZXInKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXSkgLyAyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcyQxLmRyYXdMZXR0ZXJTcGFjaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZXNbaV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25YICsgeFNoYWRvd09mZnNldCArIHN0eWxlLnBhZGRpbmcsIGxpbmVQb3NpdGlvblkgKyB5U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZ1xuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZS5zdHJva2UgJiYgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyQxLmRyYXdMZXR0ZXJTcGFjaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKyB4U2hhZG93T2Zmc2V0ICsgc3R5bGUucGFkZGluZywgbGluZVBvc2l0aW9uWSArIHlTaGFkb3dPZmZzZXQgKyBzdHlsZS5wYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3R5bGUuc3Ryb2tlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVzZXQgdGhlIHNoYWRvdyBibHVyIGFuZCBhbHBoYSB0aGF0IHdhcyBzZXQgYnkgdGhlIGRyb3Agc2hhZG93LCBmb3IgdGhlIHJlZ3VsYXIgdGV4dFxuICAgICAgICBjb250ZXh0LnNoYWRvd0JsdXIgPSAwO1xuICAgICAgICBjb250ZXh0Lmdsb2JhbEFscGhhID0gMTtcblxuICAgICAgICAvLyBzZXQgY2FudmFzIHRleHQgc3R5bGVzXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5fZ2VuZXJhdGVGaWxsU3R5bGUoc3R5bGUsIGxpbmVzKTtcblxuICAgICAgICAvLyBkcmF3IGxpbmVzIGxpbmUgYnkgbGluZVxuICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsaW5lcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsaW5lUG9zaXRpb25YID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgPSAoKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpICsgKGkkMSAqIGxpbmVIZWlnaHQpKSArIGZvbnRQcm9wZXJ0aWVzLmFzY2VudDtcblxuICAgICAgICAgICAgaWYgKHN0eWxlLmFsaWduID09PSAncmlnaHQnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpJDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGUuYWxpZ24gPT09ICdjZW50ZXInKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKz0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaSQxXSkgLyAyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc3R5bGUuc3Ryb2tlICYmIHN0eWxlLnN0cm9rZVRoaWNrbmVzcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEuZHJhd0xldHRlclNwYWNpbmcoXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzW2kkMV0sXG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblggKyBzdHlsZS5wYWRkaW5nLFxuICAgICAgICAgICAgICAgICAgICBsaW5lUG9zaXRpb25ZICsgc3R5bGUucGFkZGluZyxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdHlsZS5maWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5kcmF3TGV0dGVyU3BhY2luZyhcbiAgICAgICAgICAgICAgICAgICAgbGluZXNbaSQxXSxcbiAgICAgICAgICAgICAgICAgICAgbGluZVBvc2l0aW9uWCArIHN0eWxlLnBhZGRpbmcsXG4gICAgICAgICAgICAgICAgICAgIGxpbmVQb3NpdGlvblkgKyBzdHlsZS5wYWRkaW5nXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIHRleHQgd2l0aCBsZXR0ZXItc3BhY2luZy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCAtIFRoZSB0ZXh0IHRvIGRyYXdcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIEhvcml6b250YWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IC0gVmVydGljYWwgcG9zaXRpb24gdG8gZHJhdyB0aGUgdGV4dFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3Ryb2tlPWZhbHNlXSAtIElzIHRoaXMgZHJhd2luZyBmb3IgdGhlIG91dHNpZGUgc3Ryb2tlIG9mIHRoZVxuICAgICAqICB0ZXh0PyBJZiBub3QsIGl0J3MgZm9yIHRoZSBpbnNpZGUgZmlsbFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZHJhd0xldHRlclNwYWNpbmcgPSBmdW5jdGlvbiBkcmF3TGV0dGVyU3BhY2luZyAodGV4dCwgeCwgeSwgaXNTdHJva2UpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcbiAgICAgICAgaWYgKCBpc1N0cm9rZSA9PT0gdm9pZCAwICkgaXNTdHJva2UgPSBmYWxzZTtcblxuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcblxuICAgICAgICAvLyBsZXR0ZXJTcGFjaW5nIG9mIDAgbWVhbnMgbm9ybWFsXG4gICAgICAgIHZhciBsZXR0ZXJTcGFjaW5nID0gc3R5bGUubGV0dGVyU3BhY2luZztcblxuICAgICAgICBpZiAobGV0dGVyU3BhY2luZyA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGlzU3Ryb2tlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2VUZXh0KHRleHQsIHgsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsVGV4dCh0ZXh0LCB4LCB5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoYXJhY3RlcnMgPSBTdHJpbmcucHJvdG90eXBlLnNwbGl0LmNhbGwodGV4dCwgJycpO1xuICAgICAgICB2YXIgY3VycmVudFBvc2l0aW9uID0geDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSAnJztcblxuICAgICAgICB3aGlsZSAoaW5kZXggPCB0ZXh0Lmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgY3VycmVudCA9IGNoYXJhY3RlcnNbaW5kZXgrK107XG4gICAgICAgICAgICBpZiAoaXNTdHJva2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLmNvbnRleHQuc3Ryb2tlVGV4dChjdXJyZW50LCBjdXJyZW50UG9zaXRpb24sIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5jb250ZXh0LmZpbGxUZXh0KGN1cnJlbnQsIGN1cnJlbnRQb3NpdGlvbiwgeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50UG9zaXRpb24gKz0gdGhpcyQxLmNvbnRleHQubWVhc3VyZVRleHQoY3VycmVudCkud2lkdGggKyBsZXR0ZXJTcGFjaW5nO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dHVyZSBzaXplIGJhc2VkIG9uIGNhbnZhcyBzaXplXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHR1cmUgPSBmdW5jdGlvbiB1cGRhdGVUZXh0dXJlICgpXG4gICAge1xuICAgICAgICB2YXIgY2FudmFzID0gdGhpcy5jYW52YXM7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0eWxlLnRyaW0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0cmltbWVkID0gdHJpbUNhbnZhcyhjYW52YXMpO1xuXG4gICAgICAgICAgICBjYW52YXMud2lkdGggPSB0cmltbWVkLndpZHRoO1xuICAgICAgICAgICAgY2FudmFzLmhlaWdodCA9IHRyaW1tZWQuaGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnB1dEltYWdlRGF0YSh0cmltbWVkLmRhdGEsIDAsIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLl90ZXh0dXJlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLl9zdHlsZTtcbiAgICAgICAgdmFyIHBhZGRpbmcgPSBzdHlsZS50cmltID8gMCA6IHN0eWxlLnBhZGRpbmc7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZSA9IHRleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgdGV4dHVyZS50cmltLndpZHRoID0gdGV4dHVyZS5fZnJhbWUud2lkdGggPSBjYW52YXMud2lkdGggLyB0aGlzLnJlc29sdXRpb247XG4gICAgICAgIHRleHR1cmUudHJpbS5oZWlnaHQgPSB0ZXh0dXJlLl9mcmFtZS5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0IC8gdGhpcy5yZXNvbHV0aW9uO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueCA9IC1wYWRkaW5nO1xuICAgICAgICB0ZXh0dXJlLnRyaW0ueSA9IC1wYWRkaW5nO1xuXG4gICAgICAgIHRleHR1cmUub3JpZy53aWR0aCA9IHRleHR1cmUuX2ZyYW1lLndpZHRoIC0gKHBhZGRpbmcgKiAyKTtcbiAgICAgICAgdGV4dHVyZS5vcmlnLmhlaWdodCA9IHRleHR1cmUuX2ZyYW1lLmhlaWdodCAtIChwYWRkaW5nICogMik7XG5cbiAgICAgICAgLy8gY2FsbCBzcHJpdGUgb25UZXh0dXJlVXBkYXRlIHRvIHVwZGF0ZSBzY2FsZSBpZiBfd2lkdGggb3IgX2hlaWdodCB3ZXJlIHNldFxuICAgICAgICB0aGlzLl9vblRleHR1cmVVcGRhdGUoKTtcblxuICAgICAgICBiYXNlVGV4dHVyZS5zZXRSZWFsU2l6ZShjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQsIHRoaXMucmVzb2x1dGlvbik7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnJlc29sdXRpb24gIT09IHJlbmRlcmVyLnJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBTcHJpdGUkJDEucHJvdG90eXBlLnJlbmRlci5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBDYW52YXMgcmVuZGVyZXJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9yZW5kZXJDYW52YXMgPSBmdW5jdGlvbiBfcmVuZGVyQ2FudmFzIChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnJlc29sdXRpb24gIT09IHJlbmRlcmVyLnJlc29sdXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICBTcHJpdGUkJDEucHJvdG90eXBlLl9yZW5kZXJDYW52YXMuY2FsbCh0aGlzLCByZW5kZXJlcik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgdGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGJvdW5kcy5cbiAgICAgKi9cbiAgICBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzIChyZWN0KVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBTcHJpdGUkJDEucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgVGV4dCBhcyBhIHJlY3RhbmdsZS4gVGhlIGJvdW5kcyBjYWxjdWxhdGlvbiB0YWtlcyB0aGUgd29ybGRUcmFuc2Zvcm0gaW50byBhY2NvdW50LlxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9jYWxjdWxhdGVCb3VuZHMgPSBmdW5jdGlvbiBfY2FsY3VsYXRlQm91bmRzICgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlVmVydGljZXMoKTtcbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IGRvbmUgdGhpcyBvbiBUSElTIGZyYW1lLlxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUXVhZCh0aGlzLnZlcnRleERhdGEpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gYmUgY2FsbGVkIHVwb24gYSBUZXh0U3R5bGUgY2hhbmdlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuX29uU3R5bGVDaGFuZ2UgPSBmdW5jdGlvbiBfb25TdHlsZUNoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyB0aGUgZmlsbCBzdHlsZS4gQ2FuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgYSBncmFkaWVudCBiYXNlZCBvbiB0aGUgZmlsbCBzdHlsZSBiZWluZyBhbiBhcnJheVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gc3R5bGUgLSBUaGUgc3R5bGUuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gbGluZXMgLSBUaGUgbGluZXMgb2YgdGV4dC5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICAgICAqL1xuICAgIFRleHQucHJvdG90eXBlLl9nZW5lcmF0ZUZpbGxTdHlsZSA9IGZ1bmN0aW9uIF9nZW5lcmF0ZUZpbGxTdHlsZSAoc3R5bGUsIGxpbmVzKVxuICAgIHtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHN0eWxlLmZpbGwpKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUuZmlsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvY29vbiBvbiBjYW52YXMrIGNhbm5vdCBnZW5lcmF0ZSB0ZXh0dXJlcywgc28gdXNlIHRoZSBmaXJzdCBjb2xvdXIgaW5zdGVhZFxuICAgICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5maWxsWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIGdyYWRpZW50IHdpbGwgYmUgZXZlbmx5IHNwYWNlZCBvdXQgYWNjb3JkaW5nIHRvIGhvdyBsYXJnZSB0aGUgYXJyYXkgaXMuXG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSB3b3VsZCBjcmVhdGVkIHN0b3BzIGF0IDAuMjUsIDAuNSBhbmQgMC43NVxuICAgICAgICB2YXIgZ3JhZGllbnQ7XG4gICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgIHZhciBjdXJyZW50SXRlcmF0aW9uO1xuICAgICAgICB2YXIgc3RvcDtcblxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMucmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuY2FudmFzLmhlaWdodCAvIHRoaXMucmVzb2x1dGlvbjtcblxuICAgICAgICAvLyBtYWtlIGEgY29weSBvZiB0aGUgc3R5bGUgc2V0dGluZ3MsIHNvIHdlIGNhbiBtYW5pcHVsYXRlIHRoZW0gbGF0ZXJcbiAgICAgICAgdmFyIGZpbGwgPSBzdHlsZS5maWxsLnNsaWNlKCk7XG4gICAgICAgIHZhciBmaWxsR3JhZGllbnRTdG9wcyA9IHN0eWxlLmZpbGxHcmFkaWVudFN0b3BzLnNsaWNlKCk7XG5cbiAgICAgICAgLy8gd2FudGluZyB0byBldmVubHkgZGlzdHJpYnV0ZSB0aGUgZmlsbHMuIFNvIGFuIGFycmF5IG9mIDQgY29sb3VycyBzaG91bGQgZ2l2ZSBmaWxscyBvZiAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICAgICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0b3AgdGhlIGJsZWVkaW5nIG9mIHRoZSBsYXN0IGdyYWRpZW50IG9uIHRoZSBsaW5lIGFib3ZlIHRvIHRoZSB0b3AgZ3JhZGllbnQgb2YgdGhlIHRoaXMgbGluZVxuICAgICAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICAgICAgZmlsbC51bnNoaWZ0KHN0eWxlLmZpbGxbMF0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuXG4gICAgICAgIGZpbGwucHVzaChzdHlsZS5maWxsW3N0eWxlLmZpbGwubGVuZ3RoIC0gMV0pO1xuICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuXG4gICAgICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSBURVhUX0dSQURJRU5ULkxJTkVBUl9WRVJUSUNBTClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSB0b3AgY2VudGVyIG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICAgICAgZ3JhZGllbnQgPSB0aGlzLmNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQod2lkdGggLyAyLCAwLCB3aWR0aCAvIDIsIGhlaWdodCk7XG5cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVwZWF0IHRoZSBncmFkaWVudCBzbyB0aGF0IGVhY2ggaW5kaXZpZHVhbCBsaW5lIG9mIHRleHQgaGFzIHRoZSBzYW1lIHZlcnRpY2FsIGdyYWRpZW50IGVmZmVjdFxuICAgICAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgICAgIHRvdGFsSXRlcmF0aW9ucyA9IChmaWxsLmxlbmd0aCArIDEpICogbGluZXMubGVuZ3RoO1xuICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBsaW5lcy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24gKz0gMTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbGwubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcCA9IChmaWxsR3JhZGllbnRTdG9wc1tqXSAvIGxpbmVzLmxlbmd0aCkgKyAoaSQxIC8gbGluZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSBjdXJyZW50SXRlcmF0aW9uIC8gdG90YWxJdGVyYXRpb25zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEl0ZXJhdGlvbisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgICAgIGdyYWRpZW50ID0gdGhpcy5jb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIGhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQgLyAyKTtcblxuICAgICAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgICAgICB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uID0gMTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgZmlsbC5sZW5ndGg7IGkkMisrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaSQyXSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaSQyXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2kkMl0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgdGhpcyB0ZXh0IG9iamVjdC5cbiAgICAgKiBOb3RlKiBVbmxpa2UgYSBTcHJpdGUsIGEgVGV4dCBvYmplY3Qgd2lsbCBhdXRvbWF0aWNhbGx5IGRlc3Ryb3kgaXRzIGJhc2VUZXh0dXJlIGFuZCB0ZXh0dXJlIGFzXG4gICAgICogdGhlIG1ham9yaXR5IG9mIHRoZSB0aW1lIHRoZSB0ZXh0dXJlIHdpbGwgbm90IGJlIHNoYXJlZCB3aXRoIGFueSBvdGhlciBTcHJpdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpclxuICAgICAqICBkZXN0cm95IG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBjdXJyZW50IHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT10cnVlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGV4dC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJylcbiAgICAgICAge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHsgY2hpbGRyZW46IG9wdGlvbnMgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0RGVzdHJveU9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgICAgIFNwcml0ZSQkMS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0byByZXNldCB0aGUgdGhlIGNvbnRleHQgYW5kIGNhbnZhcy4uIGRvbnQgd2FudCB0aGlzIGhhbmdpbmcgYXJvdW5kIGluIG1lbW9yeSFcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3N0eWxlID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIHRoZSBUZXh0LCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KHRydWUpO1xuXG4gICAgICAgIHJldHVybiBNYXRoLmFicyh0aGlzLnNjYWxlLngpICogdGhpcy5fdGV4dHVyZS5vcmlnLndpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlVGV4dCh0cnVlKTtcblxuICAgICAgICB2YXIgcyA9IHNpZ24odGhpcy5zY2FsZS54KSB8fCAxO1xuXG4gICAgICAgIHRoaXMuc2NhbGUueCA9IHMgKiB2YWx1ZSAvIHRoaXMuX3RleHR1cmUub3JpZy53aWR0aDtcbiAgICAgICAgdGhpcy5fd2lkdGggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgVGV4dCwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuc2NhbGUueSkgKiB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgdmFyIHMgPSBzaWduKHRoaXMuc2NhbGUueSkgfHwgMTtcblxuICAgICAgICB0aGlzLnNjYWxlLnkgPSBzICogdmFsdWUgLyB0aGlzLl90ZXh0dXJlLm9yaWcuaGVpZ2h0O1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzdHlsZSBvZiB0aGUgdGV4dC4gU2V0IHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGxpc3RlbiBmb3IgY2hhbmdlcyBvbiB0aGUgc3R5bGVcbiAgICAgKiBvYmplY3QgYW5kIG1hcmsgdGhlIHRleHQgYXMgZGlydHkuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R8UElYSS5UZXh0U3R5bGV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnN0eWxlLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3R5bGU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zdHlsZS5zZXQgPSBmdW5jdGlvbiAoc3R5bGUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgc3R5bGUgPSBzdHlsZSB8fCB7fTtcblxuICAgICAgICBpZiAoc3R5bGUgaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3N0eWxlID0gc3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9zdHlsZSA9IG5ldyBUZXh0U3R5bGUoc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sb2NhbFN0eWxlSUQgPSAtMTtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29weSBmb3IgdGhlIHRleHQgb2JqZWN0LiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dC5zZXQgPSBmdW5jdGlvbiAodGV4dCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0ZXh0ID0gU3RyaW5nKHRleHQgPT09ICcnIHx8IHRleHQgPT09IG51bGwgfHwgdGV4dCA9PT0gdW5kZWZpbmVkID8gJyAnIDogdGV4dCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUZXh0LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gVGV4dDtcbn0oU3ByaXRlKSk7XG5cbmV4cG9ydCB7IFRleHQsIFRleHRTdHlsZSwgVGV4dE1ldHJpY3MsIFRFWFRfR1JBRElFTlQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3ByZXBhcmUgLSB2NS4wLjAtYWxwaGEuM1xuICogQ29tcGlsZWQgVHVlLCAwMyBKdWwgMjAxOCAwNDowODoyMSBVVENcbiAqXG4gKiBAcGl4aS9wcmVwYXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQmFzZVRleHR1cmUsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IEdyYXBoaWNzIH0gZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuaW1wb3J0IHsgVGlja2VyLCBVUERBVEVfUFJJT1JJVFkgfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgc2V0dGluZ3MkMSB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgVGV4dCwgVGV4dE1ldHJpY3MsIFRleHRTdHlsZSB9IGZyb20gJ0BwaXhpL3RleHQnO1xuXG4vKipcbiAqIENvdW50TGltaXRlciBsaW1pdHMgdGhlIG51bWJlciBvZiBpdGVtcyBoYW5kbGVkIGJ5IGEge0BsaW5rIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBpdGVtcyBwZXIgZnJhbWUuXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQ291bnRMaW1pdGVyID0gZnVuY3Rpb24gQ291bnRMaW1pdGVyKG1heEl0ZW1zUGVyRnJhbWUpXG57XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIHByZXBhcmVkIGVhY2ggZnJhbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLm1heEl0ZW1zUGVyRnJhbWUgPSBtYXhJdGVtc1BlckZyYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgaXRlbXMgdGhhdCBjYW4gYmUgcHJlcGFyZWQgaW4gdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaXRlbXNMZWZ0ID0gMDtcbn07XG5cbi8qKlxuICogUmVzZXRzIGFueSBjb3VudGluZyBwcm9wZXJ0aWVzIHRvIHN0YXJ0IGZyZXNoIG9uIGEgbmV3IGZyYW1lLlxuICovXG5Db3VudExpbWl0ZXIucHJvdG90eXBlLmJlZ2luRnJhbWUgPSBmdW5jdGlvbiBiZWdpbkZyYW1lICgpXG57XG4gICAgdGhpcy5pdGVtc0xlZnQgPSB0aGlzLm1heEl0ZW1zUGVyRnJhbWU7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gKi9cbkNvdW50TGltaXRlci5wcm90b3R5cGUuYWxsb3dlZFRvVXBsb2FkID0gZnVuY3Rpb24gYWxsb3dlZFRvVXBsb2FkICgpXG57XG4gICAgcmV0dXJuIHRoaXMuaXRlbXNMZWZ0LS0gPiAwO1xufTtcblxuLyoqXG4gKiBEZWZhdWx0IG51bWJlciBvZiB1cGxvYWRzIHBlciBmcmFtZSB1c2luZyBwcmVwYXJlIHBsdWdpbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSS5zZXR0aW5nc1xuICogQG5hbWUgVVBMT0FEU19QRVJfRlJBTUVcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKiBAZGVmYXVsdCA0XG4gKi9cbnNldHRpbmdzJDEuVVBMT0FEU19QRVJfRlJBTUUgPSA0O1xuXG4vKipcbiAqIFRoZSBwcmVwYXJlIG1hbmFnZXIgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byB1cGxvYWQgY29udGVudCB0byB0aGUgR1BVLiBCYXNlUHJlcGFyZSBoYW5kbGVzXG4gKiBiYXNpYyBxdWV1aW5nIGZ1bmN0aW9uYWxpdHkgYW5kIGlzIGV4dGVuZGVkIGJ5IHtAbGluayBQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlfSBhbmQge0BsaW5rIFBJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfVxuICogdG8gcHJvdmlkZSBwcmVwYXJhdGlvbiBjYXBhYmlsaXRpZXMgc3BlY2lmaWMgdG8gdGhlaXIgcmVzcGVjdGl2ZSByZW5kZXJlcnMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIHNwcml0ZVxuICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlLmZyb20oJ3NvbWV0aGluZy5wbmcnKTtcbiAqXG4gKiAvLyBMb2FkIG9iamVjdCBpbnRvIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoc3ByaXRlLCAoKSA9PiB7XG4gKlxuICogICAgIC8vVGV4dHVyZShzKSBoYXMgYmVlbiB1cGxvYWRlZCB0byBHUFVcbiAqICAgICBhcHAuc3RhZ2UuYWRkQ2hpbGQoc3ByaXRlKTtcbiAqXG4gKiB9KVxuICpcbiAqIEBhYnN0cmFjdFxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSS5wcmVwYXJlXG4gKi9cbnZhciBCYXNlUHJlcGFyZSA9IGZ1bmN0aW9uIEJhc2VQcmVwYXJlKHJlbmRlcmVyKVxue1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxpbWl0ZXIgdG8gYmUgdXNlZCB0byBjb250cm9sIGhvdyBxdWlja2x5IGl0ZW1zIGFyZSBwcmVwYXJlZC5cbiAgICAgKiBAdHlwZSB7UElYSS5wcmVwYXJlLkNvdW50TGltaXRlcnxQSVhJLnByZXBhcmUuVGltZUxpbWl0ZXJ9XG4gICAgICovXG4gICAgdGhpcy5saW1pdGVyID0gbmV3IENvdW50TGltaXRlcihzZXR0aW5ncyQxLlVQTE9BRFNfUEVSX0ZSQU1FKTtcblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcmVuZGVyZXIuXG4gICAgICogQHR5cGUge1BJWEkuQWJzdHJhY3RSZW5kZXJlcn1cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9ubHkgcmVhbCBkaWZmZXJlbmNlIGJldHdlZW4gQ2FudmFzUHJlcGFyZSBhbmQgV2ViR0xQcmVwYXJlIGlzIHdoYXQgdGhleSBwYXNzXG4gICAgICogdG8gdXBsb2FkIGhvb2tzLiBUaGF0IGRpZmZlcmVudCBwYXJhbWV0ZXIgaXMgc3RvcmVkIGhlcmUuXG4gICAgICogQHR5cGUge1BJWEkucHJlcGFyZS5DYW52YXNQcmVwYXJlfFBJWEkuUmVuZGVyZXJ9XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIHRoaXMudXBsb2FkSG9va0hlbHBlciA9IG51bGw7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZHMgYXQgb25jZS5cbiAgICAgKiBAdHlwZSB7QXJyYXk8Kj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnF1ZXVlID0gW107XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgYXNzZXRzLlxuICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmFkZEhvb2tzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGFkZGl0aW9uYWwgaG9va3MgZm9yIHByb2Nlc3NpbmcgYXNzZXRzLlxuICAgICAqIEB0eXBlIHtBcnJheTxGdW5jdGlvbj59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnVwbG9hZEhvb2tzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB0byBjYWxsIGFmdGVyIGNvbXBsZXRlZC5cbiAgICAgKiBAdHlwZSB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jb21wbGV0ZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIElmIHByZXBhcmUgaXMgdGlja2luZyAocnVubmluZykuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqICdib3VuZCcgY2FsbCBmb3IgcHJlcGFyZUl0ZW1zKCkuXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5kZWxheWVkVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdW5saWtlbHksIGJ1dCBpbiBjYXNlIHdlIHdlcmUgZGVzdHJveWVkIGJldHdlZW4gdGljaygpIGFuZCBkZWxheWVkVGljaygpXG4gICAgICAgIGlmICghdGhpcyQxLnF1ZXVlKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcyQxLnByZXBhcmVJdGVtcygpO1xuICAgIH07XG5cbiAgICAvLyBob29rcyB0byBmaW5kIHRoZSBjb3JyZWN0IHRleHR1cmVcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHQpO1xuICAgIHRoaXMucmVnaXN0ZXJGaW5kSG9vayhmaW5kVGV4dFN0eWxlKTtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZE11bHRpcGxlQmFzZVRleHR1cmVzKTtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEJhc2VUZXh0dXJlKTtcbiAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZFRleHR1cmUpO1xuXG4gICAgLy8gdXBsb2FkIGhvb2tzXG4gICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2soZHJhd1RleHQpO1xuICAgIHRoaXMucmVnaXN0ZXJVcGxvYWRIb29rKGNhbGN1bGF0ZVRleHRTdHlsZSk7XG59O1xuXG4vKipcbiAqIFVwbG9hZCBhbGwgdGhlIHRleHR1cmVzIGFuZCBncmFwaGljcyB0byB0aGUgR1BVLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuQ29udGFpbmVyfFBJWEkuQmFzZVRleHR1cmV8UElYSS5UZXh0dXJlfFBJWEkuR3JhcGhpY3N8UElYSS5UZXh0fSBpdGVtIC1cbiAqICAgIEVpdGhlciB0aGUgY29udGFpbmVyIG9yIGRpc3BsYXkgb2JqZWN0IHRvIHNlYXJjaCBmb3IgaXRlbXMgdG8gdXBsb2FkLCB0aGUgaXRlbXMgdG8gdXBsb2FkIHRoZW1zZWx2ZXMsXG4gKiAgICBvciB0aGUgY2FsbGJhY2sgZnVuY3Rpb24sIGlmIGl0ZW1zIGhhdmUgYmVlbiBhZGRlZCB1c2luZyBgcHJlcGFyZS5hZGRgLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2RvbmVdIC0gT3B0aW9uYWwgY2FsbGJhY2sgd2hlbiBhbGwgcXVldWVkIHVwbG9hZHMgaGF2ZSBjb21wbGV0ZWRcbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnVwbG9hZCA9IGZ1bmN0aW9uIHVwbG9hZCAoaXRlbSwgZG9uZSlcbntcbiAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdmdW5jdGlvbicpXG4gICAge1xuICAgICAgICBkb25lID0gaXRlbTtcbiAgICAgICAgaXRlbSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gSWYgYSBkaXNwbGF5IG9iamVjdCwgc2VhcmNoIGZvciBpdGVtc1xuICAgIC8vIHRoYXQgd2UgY291bGQgdXBsb2FkXG4gICAgaWYgKGl0ZW0pXG4gICAge1xuICAgICAgICB0aGlzLmFkZChpdGVtKTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGl0ZW1zIGZvciB1cGxvYWQgZnJvbSB0aGUgZGlzcGxheVxuICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aClcbiAgICB7XG4gICAgICAgIGlmIChkb25lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlcy5wdXNoKGRvbmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnRpY2tpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudGlja2luZyA9IHRydWU7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZE9uY2UodGhpcy50aWNrLCB0aGlzLCBVUERBVEVfUFJJT1JJVFkuVVRJTElUWSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZG9uZSlcbiAgICB7XG4gICAgICAgIGRvbmUoKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEhhbmRsZSB0aWNrIHVwZGF0ZVxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkJhc2VQcmVwYXJlLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24gdGljayAoKVxue1xuICAgIHNldFRpbWVvdXQodGhpcy5kZWxheWVkVGljaywgMCk7XG59O1xuXG4vKipcbiAqIEFjdHVhbGx5IHByZXBhcmUgaXRlbXMuIFRoaXMgaXMgaGFuZGxlZCBvdXRzaWRlIG9mIHRoZSB0aWNrIGJlY2F1c2UgaXQgd2lsbCB0YWtlIGEgd2hpbGVcbiAqIGFuZCB3ZSBkbyBOT1Qgd2FudCB0byBibG9jayB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUgZnJvbSByZW5kZXJpbmcuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnByZXBhcmVJdGVtcyA9IGZ1bmN0aW9uIHByZXBhcmVJdGVtcyAoKVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHRoaXMubGltaXRlci5iZWdpbkZyYW1lKCk7XG4gICAgLy8gVXBsb2FkIHRoZSBncmFwaGljc1xuICAgIHdoaWxlICh0aGlzLnF1ZXVlLmxlbmd0aCAmJiB0aGlzLmxpbWl0ZXIuYWxsb3dlZFRvVXBsb2FkKCkpXG4gICAge1xuICAgICAgICB2YXIgaXRlbSA9IHRoaXMkMS5xdWV1ZVswXTtcbiAgICAgICAgdmFyIHVwbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGl0ZW0gJiYgIWl0ZW0uX2Rlc3Ryb3llZClcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMudXBsb2FkSG9va3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMkMS51cGxvYWRIb29rc1tpXSh0aGlzJDEudXBsb2FkSG9va0hlbHBlciwgaXRlbSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzJDEucXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgdXBsb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXVwbG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzJDEucXVldWUuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdlJ3JlIGZpbmlzaGVkXG4gICAgaWYgKCF0aGlzLnF1ZXVlLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHRoaXMudGlja2luZyA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBjb21wbGV0ZXMgPSB0aGlzLmNvbXBsZXRlcy5zbGljZSgwKTtcblxuICAgICAgICB0aGlzLmNvbXBsZXRlcy5sZW5ndGggPSAwO1xuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDAsIGxlbiQxID0gY29tcGxldGVzLmxlbmd0aDsgaSQxIDwgbGVuJDE7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb21wbGV0ZXNbaSQxXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIGlmIHdlIGFyZSBub3QgZmluaXNoZWQsIG9uIHRoZSBuZXh0IHJBRiBkbyB0aGlzIGFnYWluXG4gICAgICAgIFRpY2tlci5zaGFyZWQuYWRkT25jZSh0aGlzLnRpY2ssIHRoaXMsIFVQREFURV9QUklPUklUWS5VVElMSVRZKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEFkZHMgaG9va3MgZm9yIGZpbmRpbmcgaXRlbXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gYWRkSG9vayAtIEZ1bmN0aW9uIGNhbGwgdGhhdCB0YWtlcyB0d28gcGFyYW1ldGVyczogYGl0ZW06KiwgcXVldWU6QXJyYXlgXG4gKiAgICAgIGZ1bmN0aW9uIG11c3QgcmV0dXJuIGB0cnVlYCBpZiBpdCB3YXMgYWJsZSB0byBhZGQgaXRlbSB0byB0aGUgcXVldWUuXG4gKiBAcmV0dXJuIHtQSVhJLkJhc2VQcmVwYXJlfSBJbnN0YW5jZSBvZiBwbHVnaW4gZm9yIGNoYWluaW5nLlxuICovXG5CYXNlUHJlcGFyZS5wcm90b3R5cGUucmVnaXN0ZXJGaW5kSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyRmluZEhvb2sgKGFkZEhvb2spXG57XG4gICAgaWYgKGFkZEhvb2spXG4gICAge1xuICAgICAgICB0aGlzLmFkZEhvb2tzLnB1c2goYWRkSG9vayk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgaG9va3MgZm9yIHVwbG9hZGluZyBpdGVtcy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGxvYWRIb29rIC0gRnVuY3Rpb24gY2FsbCB0aGF0IHRha2VzIHR3byBwYXJhbWV0ZXJzOiBgcHJlcGFyZTpDYW52YXNQcmVwYXJlLCBpdGVtOipgIGFuZFxuICogICAgICBmdW5jdGlvbiBtdXN0IHJldHVybiBgdHJ1ZWAgaWYgaXQgd2FzIGFibGUgdG8gaGFuZGxlIHVwbG9hZCBvZiBpdGVtLlxuICogQHJldHVybiB7UElYSS5CYXNlUHJlcGFyZX0gSW5zdGFuY2Ugb2YgcGx1Z2luIGZvciBjaGFpbmluZy5cbiAqL1xuQmFzZVByZXBhcmUucHJvdG90eXBlLnJlZ2lzdGVyVXBsb2FkSG9vayA9IGZ1bmN0aW9uIHJlZ2lzdGVyVXBsb2FkSG9vayAodXBsb2FkSG9vaylcbntcbiAgICBpZiAodXBsb2FkSG9vaylcbiAgICB7XG4gICAgICAgIHRoaXMudXBsb2FkSG9va3MucHVzaCh1cGxvYWRIb29rKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogTWFudWFsbHkgYWRkIGFuIGl0ZW0gdG8gdGhlIHVwbG9hZGluZyBxdWV1ZS5cbiAqXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdHxQSVhJLkNvbnRhaW5lcnxQSVhJLkJhc2VUZXh0dXJlfFBJWEkuVGV4dHVyZXxQSVhJLkdyYXBoaWNzfFBJWEkuVGV4dHwqfSBpdGVtIC0gT2JqZWN0IHRvXG4gKiAgICBhZGQgdG8gdGhlIHF1ZXVlXG4gKiBAcmV0dXJuIHtQSVhJLkNhbnZhc1ByZXBhcmV9IEluc3RhbmNlIG9mIHBsdWdpbiBmb3IgY2hhaW5pbmcuXG4gKi9cbkJhc2VQcmVwYXJlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQgKGl0ZW0pXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLy8gQWRkIGFkZGl0aW9uYWwgaG9va3MgZm9yIGZpbmRpbmcgZWxlbWVudHMgb24gc3BlY2lhbFxuICAgIC8vIHR5cGVzIG9mIG9iamVjdHMgdGhhdFxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLmFkZEhvb2tzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMkMS5hZGRIb29rc1tpXShpdGVtLCB0aGlzJDEucXVldWUpKVxuICAgICAgICB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdldCBjaGlsZHJlbiByZWN1cnNpdmVseVxuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQ29udGFpbmVyKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSQxID0gaXRlbS5jaGlsZHJlbi5sZW5ndGggLSAxOyBpJDEgPj0gMDsgaSQxLS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMkMS5hZGQoaXRlbS5jaGlsZHJlbltpJDFdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgcGx1Z2luLCBkb24ndCB1c2UgYWZ0ZXIgdGhpcy5cbiAqXG4gKi9cbkJhc2VQcmVwYXJlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoKVxue1xuICAgIGlmICh0aGlzLnRpY2tpbmcpXG4gICAge1xuICAgICAgICBUaWNrZXIuc2hhcmVkLnJlbW92ZSh0aGlzLnRpY2ssIHRoaXMpO1xuICAgIH1cbiAgICB0aGlzLnRpY2tpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmFkZEhvb2tzID0gbnVsbDtcbiAgICB0aGlzLnVwbG9hZEhvb2tzID0gbnVsbDtcbiAgICB0aGlzLnJlbmRlcmVyID0gbnVsbDtcbiAgICB0aGlzLmNvbXBsZXRlcyA9IG51bGw7XG4gICAgdGhpcy5xdWV1ZSA9IG51bGw7XG4gICAgdGhpcy5saW1pdGVyID0gbnVsbDtcbiAgICB0aGlzLnVwbG9hZEhvb2tIZWxwZXIgPSBudWxsO1xufTtcblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgbXVsdGlwbGUgdGV4dHVyZXMgZnJvbSBvYmplY3RzIGxpa2UgQW5pbWF0ZWRTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kTXVsdGlwbGVCYXNlVGV4dHVyZXMoaXRlbSwgcXVldWUpXG57XG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgLy8gT2JqZWN0cyB3aXRoIG11bHRpcGxlIHRleHR1cmVzXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5fdGV4dHVyZXMgJiYgaXRlbS5fdGV4dHVyZXMubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLl90ZXh0dXJlcy5sZW5ndGg7IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGl0ZW0uX3RleHR1cmVzW2ldIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFzZVRleHR1cmUgPSBpdGVtLl90ZXh0dXJlc1tpXS5iYXNlVGV4dHVyZTtcblxuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGJhc2VUZXh0dXJlKSA9PT0gLTEpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBxdWV1ZS5wdXNoKGJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBCYXNlVGV4dHVyZXMgZnJvbSBTcHJpdGVzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dHVyZSBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kQmFzZVRleHR1cmUoaXRlbSwgcXVldWUpXG57XG4gICAgLy8gT2JqZWN0cyB3aXRoIHRleHR1cmVzLCBsaWtlIFNwcml0ZXMvVGV4dFxuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byBmaW5kIHRleHR1cmVzIGZyb20gb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBEaXNwbGF5IG9iamVjdCB0byBjaGVja1xuICogQHBhcmFtIHtBcnJheTwqPn0gcXVldWUgLSBDb2xsZWN0aW9uIG9mIGl0ZW1zIHRvIHVwbG9hZFxuICogQHJldHVybiB7Ym9vbGVhbn0gaWYgYSBQSVhJLlRleHR1cmUgb2JqZWN0IHdhcyBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gZmluZFRleHR1cmUoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0uX3RleHR1cmUgJiYgaXRlbS5fdGV4dHVyZSBpbnN0YW5jZW9mIFRleHR1cmUpXG4gICAge1xuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZHJhdyBQSVhJLlRleHQgdG8gaXRzIHRleHR1cmUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcnxQSVhJLkNhbnZhc1ByZXBhcmV9IGhlbHBlciAtIE5vdCB1c2VkIGJ5IHRoaXMgdXBsb2FkIGhhbmRsZXJcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gSXRlbSB0byBjaGVja1xuICogQHJldHVybiB7Ym9vbGVhbn0gSWYgaXRlbSB3YXMgdXBsb2FkZWQuXG4gKi9cbmZ1bmN0aW9uIGRyYXdUZXh0KGhlbHBlciwgaXRlbSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpXG4gICAge1xuICAgICAgICAvLyB1cGRhdGluZyB0ZXh0IHdpbGwgcmV0dXJuIGVhcmx5IGlmIGl0IGlzIG5vdCBkaXJ0eVxuICAgICAgICBpdGVtLnVwZGF0ZVRleHQodHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gY2FsY3VsYXRlIGEgdGV4dCBzdHlsZSBmb3IgYSBQSVhJLlRleHQgb2JqZWN0LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ8UElYSS5DYW52YXNQcmVwYXJlfSBoZWxwZXIgLSBOb3QgdXNlZCBieSB0aGlzIHVwbG9hZCBoYW5kbGVyXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIEl0ZW0gdG8gY2hlY2tcbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIGl0ZW0gd2FzIHVwbG9hZGVkLlxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUZXh0U3R5bGUoaGVscGVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgVGV4dFN0eWxlKVxuICAgIHtcbiAgICAgICAgdmFyIGZvbnQgPSBpdGVtLnRvRm9udFN0cmluZygpO1xuXG4gICAgICAgIFRleHRNZXRyaWNzLm1lYXN1cmVGb250KGZvbnQpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgVGV4dCBvYmplY3RzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dCBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kVGV4dChpdGVtLCBxdWV1ZSlcbntcbiAgICBpZiAoaXRlbSBpbnN0YW5jZW9mIFRleHQpXG4gICAge1xuICAgICAgICAvLyBwdXNoIHRoZSB0ZXh0IHN0eWxlIHRvIHByZXBhcmUgaXQgLSB0aGlzIGNhbiBiZSByZWFsbHkgZXhwZW5zaXZlXG4gICAgICAgIGlmIChxdWV1ZS5pbmRleE9mKGl0ZW0uc3R5bGUpID09PSAtMSlcbiAgICAgICAge1xuICAgICAgICAgICAgcXVldWUucHVzaChpdGVtLnN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhbHNvIHB1c2ggdGhlIHRleHQgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIHJlbmRlciBpdCAodG8gY2FudmFzL3RleHR1cmUpIGlmIG5lZWRlZFxuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWxzbyBwdXNoIHRoZSBUZXh0J3MgdGV4dHVyZSBmb3IgdXBsb2FkIHRvIEdQVVxuICAgICAgICB2YXIgdGV4dHVyZSA9IGl0ZW0uX3RleHR1cmUuYmFzZVRleHR1cmU7XG5cbiAgICAgICAgaWYgKHF1ZXVlLmluZGV4T2YodGV4dHVyZSkgPT09IC0xKVxuICAgICAgICB7XG4gICAgICAgICAgICBxdWV1ZS5wdXNoKHRleHR1cmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gZmluZCBUZXh0U3R5bGUgb2JqZWN0cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlRleHRTdHlsZX0gaXRlbSAtIERpc3BsYXkgb2JqZWN0IHRvIGNoZWNrXG4gKiBAcGFyYW0ge0FycmF5PCo+fSBxdWV1ZSAtIENvbGxlY3Rpb24gb2YgaXRlbXMgdG8gdXBsb2FkXG4gKiBAcmV0dXJuIHtib29sZWFufSBpZiBhIFBJWEkuVGV4dFN0eWxlIG9iamVjdCB3YXMgZm91bmQuXG4gKi9cbmZ1bmN0aW9uIGZpbmRUZXh0U3R5bGUoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBUZXh0U3R5bGUpXG4gICAge1xuICAgICAgICBpZiAocXVldWUuaW5kZXhPZihpdGVtKSA9PT0gLTEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogVGhlIHByZXBhcmUgbWFuYWdlciBwcm92aWRlcyBmdW5jdGlvbmFsaXR5IHRvIHVwbG9hZCBjb250ZW50IHRvIHRoZSBHUFUuXG4gKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGNyZWF0ZWQgYnkgZGVmYXVsdCwgYW5kIGNhbiBiZSBmb3VuZCBhdCByZW5kZXJlci5wbHVnaW5zLnByZXBhcmVcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucHJlcGFyZS5CYXNlUHJlcGFyZVxuICogQG1lbWJlcm9mIFBJWEkucHJlcGFyZVxuICovXG52YXIgUHJlcGFyZSA9IChmdW5jdGlvbiAoQmFzZVByZXBhcmUkJDEpIHtcbiAgICBmdW5jdGlvbiBQcmVwYXJlKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgQmFzZVByZXBhcmUkJDEuY2FsbCh0aGlzLCByZW5kZXJlcik7XG5cbiAgICAgICAgdGhpcy51cGxvYWRIb29rSGVscGVyID0gdGhpcy5yZW5kZXJlcjtcblxuICAgICAgICAvLyBBZGQgdGV4dHVyZXMgYW5kIGdyYXBoaWNzIHRvIHVwbG9hZFxuICAgICAgICB0aGlzLnJlZ2lzdGVyRmluZEhvb2soZmluZEdyYXBoaWNzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkQmFzZVRleHR1cmVzKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlclVwbG9hZEhvb2sodXBsb2FkR3JhcGhpY3MpO1xuICAgIH1cblxuICAgIGlmICggQmFzZVByZXBhcmUkJDEgKSBQcmVwYXJlLl9fcHJvdG9fXyA9IEJhc2VQcmVwYXJlJCQxO1xuICAgIFByZXBhcmUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggQmFzZVByZXBhcmUkJDEgJiYgQmFzZVByZXBhcmUkJDEucHJvdG90eXBlICk7XG4gICAgUHJlcGFyZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQcmVwYXJlO1xuXG4gICAgcmV0dXJuIFByZXBhcmU7XG59KEJhc2VQcmVwYXJlKSk7XG5cbi8qKlxuICogQnVpbHQtaW4gaG9vayB0byB1cGxvYWQgUElYSS5UZXh0dXJlIG9iamVjdHMgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkQmFzZVRleHR1cmVzKHJlbmRlcmVyLCBpdGVtKVxue1xuICAgIGlmIChpdGVtIGluc3RhbmNlb2YgQmFzZVRleHR1cmUpXG4gICAge1xuICAgICAgICAvLyBpZiB0aGUgdGV4dHVyZSBhbHJlYWR5IGhhcyBhIEdMIHRleHR1cmUsIHRoZW4gdGhlIHRleHR1cmUgaGFzIGJlZW4gcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdy4gSWYgdGhlIHRleHR1cmUgY2hhbmdlZCwgdGhlbiB0aGUgY2hhbmdlciBzaG91bGQgYmUgY2FsbGluZyB0ZXh0dXJlLnVwZGF0ZSgpIHdoaWNoXG4gICAgICAgIC8vIHJldXBsb2FkcyB0aGUgdGV4dHVyZSB3aXRob3V0IG5lZWQgZm9yIHByZXBhcmluZyBpdCBhZ2FpblxuICAgICAgICBpZiAoIWl0ZW0uX2dsVGV4dHVyZXNbcmVuZGVyZXIuQ09OVEVYVF9VSURdKVxuICAgICAgICB7XG4gICAgICAgICAgICByZW5kZXJlci50ZXh0dXJlTWFuYWdlci51cGRhdGVUZXh0dXJlKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEJ1aWx0LWluIGhvb2sgdG8gdXBsb2FkIFBJWEkuR3JhcGhpY3MgdG8gdGhlIEdQVS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIGluc3RhbmNlIG9mIHRoZSB3ZWJnbCByZW5kZXJlclxuICogQHBhcmFtIHtQSVhJLkRpc3BsYXlPYmplY3R9IGl0ZW0gLSBJdGVtIHRvIGNoZWNrXG4gKiBAcmV0dXJuIHtib29sZWFufSBJZiBpdGVtIHdhcyB1cGxvYWRlZC5cbiAqL1xuZnVuY3Rpb24gdXBsb2FkR3JhcGhpY3MocmVuZGVyZXIsIGl0ZW0pXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcylcbiAgICB7XG4gICAgICAgIC8vIGlmIHRoZSBpdGVtIGlzIG5vdCBkaXJ0eSBhbmQgYWxyZWFkeSBoYXMgd2ViZ2wgZGF0YSwgdGhlbiBpdCBnb3QgcHJlcGFyZWQgb3IgcmVuZGVyZWRcbiAgICAgICAgLy8gYmVmb3JlIG5vdyBhbmQgd2Ugc2hvdWxkbid0IHdhc3RlIHRpbWUgdXBkYXRpbmcgaXQgYWdhaW5cbiAgICAgICAgaWYgKGl0ZW0uZGlydHkgfHwgaXRlbS5jbGVhckRpcnR5IHx8ICFpdGVtLl93ZWJHTFtyZW5kZXJlci5wbHVnaW5zLmdyYXBoaWNzLkNPTlRFWFRfVUlEXSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVuZGVyZXIucGx1Z2lucy5ncmFwaGljcy51cGRhdGVHcmFwaGljcyhpdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBCdWlsdC1pbiBob29rIHRvIGZpbmQgZ3JhcGhpY3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBpdGVtIC0gRGlzcGxheSBvYmplY3QgdG8gY2hlY2tcbiAqIEBwYXJhbSB7QXJyYXk8Kj59IHF1ZXVlIC0gQ29sbGVjdGlvbiBvZiBpdGVtcyB0byB1cGxvYWRcbiAqIEByZXR1cm4ge2Jvb2xlYW59IGlmIGEgUElYSS5HcmFwaGljcyBvYmplY3Qgd2FzIGZvdW5kLlxuICovXG5mdW5jdGlvbiBmaW5kR3JhcGhpY3MoaXRlbSwgcXVldWUpXG57XG4gICAgaWYgKGl0ZW0gaW5zdGFuY2VvZiBHcmFwaGljcylcbiAgICB7XG4gICAgICAgIHF1ZXVlLnB1c2goaXRlbSk7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFRpbWVMaW1pdGVyIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGl0ZW1zIGhhbmRsZWQgYnkgYSB7QGxpbmsgUElYSS5CYXNlUHJlcGFyZX0gdG8gYSBzcGVjaWZpZWRcbiAqIG51bWJlciBvZiBtaWxsaXNlY29uZHMgcGVyIGZyYW1lLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFRpbWVMaW1pdGVyID0gZnVuY3Rpb24gVGltZUxpbWl0ZXIobWF4TWlsbGlzZWNvbmRzKVxue1xuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIG1pbGxpc2Vjb25kcyB0aGF0IGNhbiBiZSBzcGVudCBwcmVwYXJpbmcgaXRlbXMgZWFjaCBmcmFtZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMubWF4TWlsbGlzZWNvbmRzID0gbWF4TWlsbGlzZWNvbmRzO1xuICAgIC8qKlxuICAgICAqIFRoZSBzdGFydCB0aW1lIG9mIHRoZSBjdXJyZW50IGZyYW1lLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmZyYW1lU3RhcnQgPSAwO1xufTtcblxuLyoqXG4gKiBSZXNldHMgYW55IGNvdW50aW5nIHByb3BlcnRpZXMgdG8gc3RhcnQgZnJlc2ggb24gYSBuZXcgZnJhbWUuXG4gKi9cblRpbWVMaW1pdGVyLnByb3RvdHlwZS5iZWdpbkZyYW1lID0gZnVuY3Rpb24gYmVnaW5GcmFtZSAoKVxue1xuICAgIHRoaXMuZnJhbWVTdGFydCA9IERhdGUubm93KCk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaWYgYW5vdGhlciBpdGVtIGNhbiBiZSB1cGxvYWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZSBwZXIgaXRlbS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IElmIHRoZSBpdGVtIGlzIGFsbG93ZWQgdG8gYmUgdXBsb2FkZWQuXG4gKi9cblRpbWVMaW1pdGVyLnByb3RvdHlwZS5hbGxvd2VkVG9VcGxvYWQgPSBmdW5jdGlvbiBhbGxvd2VkVG9VcGxvYWQgKClcbntcbiAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMuZnJhbWVTdGFydCA8IHRoaXMubWF4TWlsbGlzZWNvbmRzO1xufTtcblxuLyoqXG4gKiBUaGUgcHJlcGFyZSBuYW1lc3BhY2UgcHJvdmlkZXMgcmVuZGVyZXItc3BlY2lmaWMgcGx1Z2lucyBmb3IgcHJlLXJlbmRlcmluZyBEaXNwbGF5T2JqZWN0cy4gVGhlc2UgcGx1Z2lucyBhcmUgdXNlZnVsIGZvclxuICogYXN5bmNocm9ub3VzbHkgcHJlcGFyaW5nIGFzc2V0cywgdGV4dHVyZXMsIGdyYXBoaWNzIHdhaXRpbmcgdG8gYmUgZGlzcGxheWVkLlxuICpcbiAqIERvIG5vdCBpbnN0YW50aWF0ZSB0aGVzZSBwbHVnaW5zIGRpcmVjdGx5LiBJdCBpcyBhdmFpbGFibGUgZnJvbSB0aGUgYHJlbmRlcmVyLnBsdWdpbnNgIHByb3BlcnR5LlxuICogU2VlIHtAbGluayBQSVhJLkNhbnZhc1JlbmRlcmVyI3BsdWdpbnN9IG9yIHtAbGluayBQSVhJLlJlbmRlcmVyI3BsdWdpbnN9LlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSBhIG5ldyBhcHBsaWNhdGlvblxuICogY29uc3QgYXBwID0gbmV3IFBJWEkuQXBwbGljYXRpb24oKTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICpcbiAqIC8vIERvbid0IHN0YXJ0IHJlbmRlcmluZyByaWdodCBhd2F5XG4gKiBhcHAuc3RvcCgpO1xuICpcbiAqIC8vIGNyZWF0ZSBhIGRpc3BsYXkgb2JqZWN0XG4gKiBjb25zdCByZWN0ID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogICAgIC5iZWdpbkZpbGwoMHgwMGZmMDApXG4gKiAgICAgLmRyYXdSZWN0KDQwLCA0MCwgMjAwLCAyMDApO1xuICpcbiAqIC8vIEFkZCB0byB0aGUgc3RhZ2VcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqXG4gKiAvLyBEb24ndCBzdGFydCByZW5kZXJpbmcgdW50aWwgdGhlIGdyYXBoaWMgaXMgdXBsb2FkZWQgdG8gdGhlIEdQVVxuICogYXBwLnJlbmRlcmVyLnBsdWdpbnMucHJlcGFyZS51cGxvYWQoYXBwLnN0YWdlLCAoKSA9PiB7XG4gKiAgICAgYXBwLnN0YXJ0KCk7XG4gKiB9KTtcbiAqIEBuYW1lc3BhY2UgUElYSS5wcmVwYXJlXG4gKi9cblxuZXhwb3J0IHsgUHJlcGFyZSwgQmFzZVByZXBhcmUsIENvdW50TGltaXRlciwgVGltZUxpbWl0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZXBhcmUuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL3Nwcml0ZS1hbmltYXRlZCAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZS1hbmltYXRlZCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBUaWNrZXIsIFVQREFURV9QUklPUklUWSB9IGZyb20gJ0BwaXhpL3RpY2tlcic7XG5cbi8qKlxuICogQHR5cGVkZWYgUElYSS5leHRyYXMuQW5pbWF0ZWRTcHJpdGV+RnJhbWVPYmplY3RcbiAqIEB0eXBlIHtvYmplY3R9XG4gKiBAcHJvcGVydHkge1BJWEkuVGV4dHVyZX0gdGV4dHVyZSAtIFRoZSB7QGxpbmsgUElYSS5UZXh0dXJlfSBvZiB0aGUgZnJhbWVcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lIC0gdGhlIGR1cmF0aW9uIG9mIHRoZSBmcmFtZSBpbiBtc1xuICovXG5cbi8qKlxuICogQW4gQW5pbWF0ZWRTcHJpdGUgaXMgYSBzaW1wbGUgd2F5IHRvIGRpc3BsYXkgYW4gYW5pbWF0aW9uIGRlcGljdGVkIGJ5IGEgbGlzdCBvZiB0ZXh0dXJlcy5cbiAqXG4gKiBgYGBqc1xuICogbGV0IGFsaWVuSW1hZ2VzID0gW1wiaW1hZ2Vfc2VxdWVuY2VfMDEucG5nXCIsXCJpbWFnZV9zZXF1ZW5jZV8wMi5wbmdcIixcImltYWdlX3NlcXVlbmNlXzAzLnBuZ1wiLFwiaW1hZ2Vfc2VxdWVuY2VfMDQucG5nXCJdO1xuICogbGV0IHRleHR1cmVBcnJheSA9IFtdO1xuICpcbiAqIGZvciAobGV0IGk9MDsgaSA8IDQ7IGkrKylcbiAqIHtcbiAqICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLlRleHR1cmUuZnJvbShhbGllbkltYWdlc1tpXSk7XG4gKiAgICAgIHRleHR1cmVBcnJheS5wdXNoKHRleHR1cmUpO1xuICogfTtcbiAqXG4gKiBsZXQgbWMgPSBuZXcgUElYSS5BbmltYXRlZFNwcml0ZSh0ZXh0dXJlQXJyYXkpO1xuICogYGBgXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLlNwcml0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFuaW1hdGVkU3ByaXRlID0gKGZ1bmN0aW9uIChTcHJpdGUkJDEpIHtcbiAgICBmdW5jdGlvbiBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcywgYXV0b1VwZGF0ZSlcbiAgICB7XG4gICAgICAgIFNwcml0ZSQkMS5jYWxsKHRoaXMsIHRleHR1cmVzWzBdIGluc3RhbmNlb2YgVGV4dHVyZSA/IHRleHR1cmVzWzBdIDogdGV4dHVyZXNbMF0udGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9kdXJhdGlvbnMgPSBudWxsO1xuXG4gICAgICAgIHRoaXMudGV4dHVyZXMgPSB0ZXh0dXJlcztcblxuICAgICAgICAvKipcbiAgICAgICAgICogYHRydWVgIHVzZXMgUElYSS5UaWNrZXIuc2hhcmVkIHRvIGF1dG8gdXBkYXRlIGFuaW1hdGlvbiB0aW1lLlxuICAgICAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYXV0b1VwZGF0ZSA9IGF1dG9VcGRhdGUgIT09IGZhbHNlO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc3BlZWQgdGhhdCB0aGUgQW5pbWF0ZWRTcHJpdGUgd2lsbCBwbGF5IGF0LiBIaWdoZXIgaXMgZmFzdGVyLCBsb3dlciBpcyBzbG93ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbmltYXRpb25TcGVlZCA9IDE7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRlIHNwcml0ZSByZXBlYXRzIGFmdGVyIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubG9vcCA9IHRydWU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIEFuaW1hdGVkU3ByaXRlIGZpbmlzaGVzIHBsYXlpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgQW5pbWF0ZWRTcHJpdGUgY2hhbmdlcyB3aGljaCB0ZXh0dXJlIGlzIGJlaW5nIHJlbmRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSA9IG51bGw7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBgbG9vcGAgaXMgdHJ1ZSwgYW5kIGFuIEFuaW1hdGVkU3ByaXRlIGlzIHBsYXllZCBhbmQgbG9vcHMgYXJvdW5kIHRvIHN0YXJ0IGFnYWluLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub25Mb29wID0gbnVsbDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRWxhcHNlZCB0aW1lIHNpbmNlIGFuaW1hdGlvbiBoYXMgYmVlbiBzdGFydGVkLCB1c2VkIGludGVybmFsbHkgdG8gZGlzcGxheSBjdXJyZW50IHRleHR1cmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW5kaWNhdGVzIGlmIHRoZSBBbmltYXRlZFNwcml0ZSBpcyBjdXJyZW50bHkgcGxheWluZy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIFNwcml0ZSQkMSApIEFuaW1hdGVkU3ByaXRlLl9fcHJvdG9fXyA9IFNwcml0ZSQkMTtcbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTcHJpdGUkJDEgJiYgU3ByaXRlJCQxLnByb3RvdHlwZSApO1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFuaW1hdGVkU3ByaXRlO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdG90YWxGcmFtZXM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGV4dHVyZXM6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sY3VycmVudEZyYW1lOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIHN0b3AgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5wbGF5aW5nKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9VcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFRpY2tlci5zaGFyZWQucmVtb3ZlKHRoaXMudXBkYXRlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQbGF5cyB0aGUgQW5pbWF0ZWRTcHJpdGUuXG4gICAgICpcbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uIHBsYXkgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLnBsYXlpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGxheWluZyA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLl9hdXRvVXBkYXRlKVxuICAgICAgICB7XG4gICAgICAgICAgICBUaWNrZXIuc2hhcmVkLmFkZCh0aGlzLnVwZGF0ZSwgdGhpcywgVVBEQVRFX1BSSU9SSVRZLkhJR0gpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN0b3BzIHRoZSBBbmltYXRlZFNwcml0ZSBhbmQgZ29lcyB0byBhIHNwZWNpZmljIGZyYW1lLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGZyYW1lTnVtYmVyIC0gRnJhbWUgaW5kZXggdG8gc3RvcCBhdC5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5wcm90b3R5cGUuZ290b0FuZFN0b3AgPSBmdW5jdGlvbiBnb3RvQW5kU3RvcCAoZnJhbWVOdW1iZXIpXG4gICAge1xuICAgICAgICB0aGlzLnN0b3AoKTtcblxuICAgICAgICB2YXIgcHJldmlvdXNGcmFtZSA9IHRoaXMuY3VycmVudEZyYW1lO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lID0gZnJhbWVOdW1iZXI7XG5cbiAgICAgICAgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHR1cmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHb2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUgYW5kIGJlZ2lucyBwbGF5aW5nIHRoZSBBbmltYXRlZFNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBmcmFtZU51bWJlciAtIEZyYW1lIGluZGV4IHRvIHN0YXJ0IGF0LlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5nb3RvQW5kUGxheSA9IGZ1bmN0aW9uIGdvdG9BbmRQbGF5IChmcmFtZU51bWJlcilcbiAgICB7XG4gICAgICAgIHZhciBwcmV2aW91c0ZyYW1lID0gdGhpcy5jdXJyZW50RnJhbWU7XG5cbiAgICAgICAgdGhpcy5fY3VycmVudFRpbWUgPSBmcmFtZU51bWJlcjtcblxuICAgICAgICBpZiAocHJldmlvdXNGcmFtZSAhPT0gdGhpcy5jdXJyZW50RnJhbWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGV4dHVyZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG9iamVjdCB0cmFuc2Zvcm0gZm9yIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZSAtIFRpbWUgc2luY2UgbGFzdCB0aWNrLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGRlbHRhVGltZSlcbiAgICB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIHZhciBlbGFwc2VkID0gdGhpcy5hbmltYXRpb25TcGVlZCAqIGRlbHRhVGltZTtcbiAgICAgICAgdmFyIHByZXZpb3VzRnJhbWUgPSB0aGlzLmN1cnJlbnRGcmFtZTtcblxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb25zICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbGFnID0gdGhpcy5fY3VycmVudFRpbWUgJSAxICogdGhpcy5fZHVyYXRpb25zW3RoaXMuY3VycmVudEZyYW1lXTtcblxuICAgICAgICAgICAgbGFnICs9IGVsYXBzZWQgLyA2MCAqIDEwMDA7XG5cbiAgICAgICAgICAgIHdoaWxlIChsYWcgPCAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fY3VycmVudFRpbWUtLTtcbiAgICAgICAgICAgICAgICBsYWcgKz0gdGhpcyQxLl9kdXJhdGlvbnNbdGhpcyQxLmN1cnJlbnRGcmFtZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzaWduID0gTWF0aC5zaWduKHRoaXMuYW5pbWF0aW9uU3BlZWQgKiBkZWx0YVRpbWUpO1xuXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpO1xuXG4gICAgICAgICAgICB3aGlsZSAobGFnID49IHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGFnIC09IHRoaXMkMS5fZHVyYXRpb25zW3RoaXMkMS5jdXJyZW50RnJhbWVdICogc2lnbjtcbiAgICAgICAgICAgICAgICB0aGlzJDEuX2N1cnJlbnRUaW1lICs9IHNpZ247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRUaW1lICs9IGxhZyAvIHRoaXMuX2R1cmF0aW9uc1t0aGlzLmN1cnJlbnRGcmFtZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50VGltZSArPSBlbGFwc2VkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnRUaW1lIDwgMCAmJiAhdGhpcy5sb29wKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKDApO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2N1cnJlbnRUaW1lID49IHRoaXMuX3RleHR1cmVzLmxlbmd0aCAmJiAhdGhpcy5sb29wKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmdvdG9BbmRTdG9wKHRoaXMuX3RleHR1cmVzLmxlbmd0aCAtIDEpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vbkNvbXBsZXRlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByZXZpb3VzRnJhbWUgIT09IHRoaXMuY3VycmVudEZyYW1lKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb29wICYmIHRoaXMub25Mb29wKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkID4gMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA8IHByZXZpb3VzRnJhbWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmFuaW1hdGlvblNwZWVkIDwgMCAmJiB0aGlzLmN1cnJlbnRGcmFtZSA+IHByZXZpb3VzRnJhbWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9vcCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZGlzcGxheWVkIHRleHR1cmUgdG8gbWF0Y2ggdGhlIGN1cnJlbnQgZnJhbWUgaW5kZXguXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlID0gZnVuY3Rpb24gdXBkYXRlVGV4dHVyZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGV4dHVyZSA9IHRoaXMuX3RleHR1cmVzW3RoaXMuY3VycmVudEZyYW1lXTtcbiAgICAgICAgdGhpcy5fdGV4dHVyZUlEID0gLTE7XG4gICAgICAgIHRoaXMuY2FjaGVkVGludCA9IDB4RkZGRkZGO1xuXG4gICAgICAgIGlmICh0aGlzLm9uRnJhbWVDaGFuZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMub25GcmFtZUNoYW5nZSh0aGlzLmN1cnJlbnRGcmFtZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIEFuaW1hdGVkU3ByaXRlIGFuZCBkZXN0cm95cyBpdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fGJvb2xlYW59IFtvcHRpb25zXSAtIE9wdGlvbnMgcGFyYW1ldGVyLiBBIGJvb2xlYW4gd2lsbCBhY3QgYXMgaWYgYWxsIG9wdGlvbnNcbiAgICAgKiAgaGF2ZSBiZWVuIHNldCB0byB0aGF0IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuY2hpbGRyZW49ZmFsc2VdIC0gSWYgc2V0IHRvIHRydWUsIGFsbCB0aGUgY2hpbGRyZW4gd2lsbCBoYXZlIHRoZWlyIGRlc3Ryb3lcbiAgICAgKiAgICAgIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBTaG91bGQgaXQgZGVzdHJveSB0aGUgY3VycmVudCB0ZXh0dXJlIG9mIHRoZSBzcHJpdGUgYXMgd2VsbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsLlxuICAgICAqL1xuICAgIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICBTcHJpdGUkJDEucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBzaG9ydCBoYW5kIHdheSBvZiBjcmVhdGluZyBhIG1vdmllY2xpcCBmcm9tIGFuIGFycmF5IG9mIGZyYW1lIGlkcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBmcmFtZXMgLSBUaGUgYXJyYXkgb2YgZnJhbWVzIGlkcyB0aGUgbW92aWVjbGlwIHdpbGwgdXNlIGFzIGl0cyB0ZXh0dXJlIGZyYW1lcy5cbiAgICAgKiBAcmV0dXJuIHtBbmltYXRlZFNwcml0ZX0gVGhlIG5ldyBhbmltYXRlZCBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGZyYW1lcy5cbiAgICAgKi9cbiAgICBBbmltYXRlZFNwcml0ZS5mcm9tRnJhbWVzID0gZnVuY3Rpb24gZnJvbUZyYW1lcyAoZnJhbWVzKVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyArK2kpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRleHR1cmVzLnB1c2goVGV4dHVyZS5mcm9tKGZyYW1lc1tpXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBBbmltYXRlZFNwcml0ZSh0ZXh0dXJlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgc2hvcnQgaGFuZCB3YXkgb2YgY3JlYXRpbmcgYSBtb3ZpZWNsaXAgZnJvbSBhbiBhcnJheSBvZiBpbWFnZSBpZHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gaW1hZ2VzIC0gVGhlIGFycmF5IG9mIGltYWdlIHVybHMgdGhlIG1vdmllY2xpcCB3aWxsIHVzZSBhcyBpdHMgdGV4dHVyZSBmcmFtZXMuXG4gICAgICogQHJldHVybiB7QW5pbWF0ZWRTcHJpdGV9IFRoZSBuZXcgYW5pbWF0ZSBzcHJpdGUgd2l0aCB0aGUgc3BlY2lmaWVkIGltYWdlcyBhcyBmcmFtZXMuXG4gICAgICovXG4gICAgQW5pbWF0ZWRTcHJpdGUuZnJvbUltYWdlcyA9IGZ1bmN0aW9uIGZyb21JbWFnZXMgKGltYWdlcylcbiAgICB7XG4gICAgICAgIHZhciB0ZXh0dXJlcyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1hZ2VzLmxlbmd0aDsgKytpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKFRleHR1cmUuZnJvbShpbWFnZXNbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgQW5pbWF0ZWRTcHJpdGUodGV4dHVyZXMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdG90YWwgbnVtYmVyIG9mIGZyYW1lcyBpbiB0aGUgQW5pbWF0ZWRTcHJpdGUuIFRoaXMgaXMgdGhlIHNhbWUgYXMgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICogYXNzaWduZWQgdG8gdGhlIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudG90YWxGcmFtZXMuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0dXJlcy5sZW5ndGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhcnJheSBvZiB0ZXh0dXJlcyB1c2VkIGZvciB0aGlzIEFuaW1hdGVkU3ByaXRlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlW119XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHR1cmVzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dHVyZXM7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0dXJlcy5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgICAgaWYgKHZhbHVlWzBdIGluc3RhbmNlb2YgVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9ucyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90ZXh0dXJlcyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5fZHVyYXRpb25zID0gW107XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl90ZXh0dXJlcy5wdXNoKHZhbHVlW2ldLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fZHVyYXRpb25zLnB1c2godmFsdWVbaV0udGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nb3RvQW5kU3RvcCgwKTtcbiAgICAgICAgdGhpcy51cGRhdGVUZXh0dXJlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICogVGhlIEFuaW1hdGVkU3ByaXRlcyBjdXJyZW50IGZyYW1lIGluZGV4LlxuICAgICpcbiAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAqIEByZWFkb25seVxuICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmN1cnJlbnRGcmFtZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdmFyIGN1cnJlbnRGcmFtZSA9IE1hdGguZmxvb3IodGhpcy5fY3VycmVudFRpbWUpICUgdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuXG4gICAgICAgIGlmIChjdXJyZW50RnJhbWUgPCAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBjdXJyZW50RnJhbWUgKz0gdGhpcy5fdGV4dHVyZXMubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRGcmFtZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEFuaW1hdGVkU3ByaXRlLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQW5pbWF0ZWRTcHJpdGU7XG59KFNwcml0ZSkpO1xuXG5leHBvcnQgeyBBbmltYXRlZFNwcml0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLWFuaW1hdGVkLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9zcHJpdGVzaGVldCAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZXNoZWV0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBnZXRSZXNvbHV0aW9uT2ZVcmwgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgdXJsIGZyb20gJ3VybCc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKipcbiAqIFV0aWxpdHkgY2xhc3MgZm9yIG1haW50YWluaW5nIHJlZmVyZW5jZSB0byBhIGNvbGxlY3Rpb25cbiAqIG9mIFRleHR1cmVzIG9uIGEgc2luZ2xlIFNwcml0ZXNoZWV0LlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNwcml0ZXNoZWV0ID0gZnVuY3Rpb24gU3ByaXRlc2hlZXQoYmFzZVRleHR1cmUsIGRhdGEsIHJlc29sdXRpb25GaWxlbmFtZSlcbntcbiAgICBpZiAoIHJlc29sdXRpb25GaWxlbmFtZSA9PT0gdm9pZCAwICkgcmVzb2x1dGlvbkZpbGVuYW1lID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIFJlZmVyZW5jZSB0byB0aHMgc291cmNlIHRleHR1cmVcbiAgICAgKiBAdHlwZSB7UElYSS5CYXNlVGV4dHVyZX1cbiAgICAgKi9cbiAgICB0aGlzLmJhc2VUZXh0dXJlID0gYmFzZVRleHR1cmU7XG5cbiAgICAvKipcbiAgICAgKiBNYXAgb2Ygc3ByaXRlc2hlZXQgdGV4dHVyZXMuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnRleHR1cmVzID0ge307XG5cbiAgICAvKipcbiAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG9yaWdpbmFsIEpTT04gZGF0YS5cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcmVzb2x1dGlvbiBvZiB0aGUgc3ByaXRlc2hlZXQuXG4gICAgICogQHR5cGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnJlc29sdXRpb24gPSB0aGlzLl91cGRhdGVSZXNvbHV0aW9uKFxuICAgICAgICByZXNvbHV0aW9uRmlsZW5hbWVcbiAgICAgICAgfHwgKHRoaXMuYmFzZVRleHR1cmUucmVzb3VyY2UgPyB0aGlzLmJhc2VUZXh0dXJlLnJlc291cmNlLnVybCA6IG51bGwpXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBzcHJpdGVzaGVldCBmcmFtZXMuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZyYW1lcyA9IHRoaXMuZGF0YS5mcmFtZXM7XG5cbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGZyYW1lIG5hbWVzLlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuX2ZyYW1lS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX2ZyYW1lcyk7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGJhdGNoIGluZGV4IGJlaW5nIHByb2Nlc3NlZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayB3aGVuIHBhcnNlIGlzIGNvbXBsZXRlZC5cbiAgICAgKiBAdHlwZSB7RnVuY3Rpb259XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG59O1xuXG52YXIgc3RhdGljQWNjZXNzb3JzID0geyBCQVRDSF9TSVpFOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbi8qKlxuICogR2VuZXJhdGUgdGhlIHJlc29sdXRpb24gZnJvbSB0aGUgZmlsZW5hbWUgb3IgZmFsbGJhY2tcbiAqIHRvIHRoZSBtZXRhLnNjYWxlIGZpZWxkIG9mIHRoZSBKU09OIGRhdGEuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXNvbHV0aW9uRmlsZW5hbWUgLSBUaGUgZmlsZW5hbWUgdG8gdXNlIGZvciByZXNvbHZpbmdcbiAqICAgIHRoZSBkZWZhdWx0IHJlc29sdXRpb24uXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFJlc29sdXRpb24gdG8gdXNlIGZvciBzcHJpdGVzaGVldC5cbiAqL1xuc3RhdGljQWNjZXNzb3JzLkJBVENIX1NJWkUuZ2V0ID0gZnVuY3Rpb24gKClcbntcbiAgICByZXR1cm4gMTAwMDtcbn07XG5cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5fdXBkYXRlUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIF91cGRhdGVSZXNvbHV0aW9uIChyZXNvbHV0aW9uRmlsZW5hbWUpXG57XG4gICAgdmFyIHNjYWxlID0gdGhpcy5kYXRhLm1ldGEuc2NhbGU7XG5cbiAgICAvLyBVc2UgYSBkZWZhdWx0VmFsdWUgb2YgYG51bGxgIHRvIGNoZWNrIGlmIGEgdXJsLWJhc2VkIHJlc29sdXRpb24gaXMgc2V0XG4gICAgdmFyIHJlc29sdXRpb24gPSBnZXRSZXNvbHV0aW9uT2ZVcmwocmVzb2x1dGlvbkZpbGVuYW1lLCBudWxsKTtcblxuICAgIC8vIE5vIHJlc29sdXRpb24gZm91bmQgdmlhIFVSTFxuICAgIGlmIChyZXNvbHV0aW9uID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgLy8gVXNlIHRoZSBzY2FsZSB2YWx1ZSBvciBkZWZhdWx0IHRvIDFcbiAgICAgICAgcmVzb2x1dGlvbiA9IHNjYWxlICE9PSB1bmRlZmluZWQgPyBwYXJzZUZsb2F0KHNjYWxlKSA6IDE7XG4gICAgfVxuXG4gICAgLy8gRm9yIG5vbi0xIHJlc29sdXRpb25zLCB1cGRhdGUgYmFzZVRleHR1cmVcbiAgICBpZiAocmVzb2x1dGlvbiAhPT0gMSlcbiAgICB7XG4gICAgICAgIHRoaXMuYmFzZVRleHR1cmUuc2V0UmVzb2x1dGlvbihyZXNvbHV0aW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzb2x1dGlvbjtcbn07XG5cbi8qKlxuICogUGFyc2VyIHNwcml0ZXNoZWV0IGZyb20gbG9hZGVkIGRhdGEuIFRoaXMgaXMgZG9uZSBhc3luY2hyb25vdXNseVxuICogdG8gcHJldmVudCBjcmVhdGluZyB0b28gbWFueSBUZXh0dXJlIHdpdGhpbiBhIHNpbmdsZSBwcm9jZXNzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZSByZXR1cm5zXG4gKiAgICBhIG1hcCBvZiB0aGUgVGV4dHVyZXMgZm9yIHRoaXMgc3ByaXRlc2hlZXQuXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIHBhcnNlIChjYWxsYmFjaylcbntcbiAgICB0aGlzLl9iYXRjaEluZGV4ID0gMDtcbiAgICB0aGlzLl9jYWxsYmFjayA9IGNhbGxiYWNrO1xuXG4gICAgaWYgKHRoaXMuX2ZyYW1lS2V5cy5sZW5ndGggPD0gU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSlcbiAgICB7XG4gICAgICAgIHRoaXMuX3Byb2Nlc3NGcmFtZXMoMCk7XG4gICAgICAgIHRoaXMuX3BhcnNlQ29tcGxldGUoKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGhpcy5fbmV4dEJhdGNoKCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBQcm9jZXNzIGEgYmF0Y2ggb2YgZnJhbWVzXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbml0aWFsRnJhbWVJbmRleCAtIFRoZSBpbmRleCBvZiBmcmFtZSB0byBzdGFydC5cbiAqL1xuU3ByaXRlc2hlZXQucHJvdG90eXBlLl9wcm9jZXNzRnJhbWVzID0gZnVuY3Rpb24gX3Byb2Nlc3NGcmFtZXMgKGluaXRpYWxGcmFtZUluZGV4KVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBmcmFtZUluZGV4ID0gaW5pdGlhbEZyYW1lSW5kZXg7XG4gICAgdmFyIG1heEZyYW1lcyA9IFNwcml0ZXNoZWV0LkJBVENIX1NJWkU7XG5cbiAgICB3aGlsZSAoZnJhbWVJbmRleCAtIGluaXRpYWxGcmFtZUluZGV4IDwgbWF4RnJhbWVzICYmIGZyYW1lSW5kZXggPCB0aGlzLl9mcmFtZUtleXMubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgdmFyIGkgPSB0aGlzJDEuX2ZyYW1lS2V5c1tmcmFtZUluZGV4XTtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzJDEuX2ZyYW1lc1tpXTtcbiAgICAgICAgdmFyIHJlY3QgPSBkYXRhLmZyYW1lO1xuXG4gICAgICAgIGlmIChyZWN0KVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgZnJhbWUgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHRyaW0gPSBudWxsO1xuICAgICAgICAgICAgdmFyIHNvdXJjZVNpemUgPSBkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc291cmNlU2l6ZVxuICAgICAgICAgICAgICAgID8gZGF0YS5zb3VyY2VTaXplIDogZGF0YS5mcmFtZTtcblxuICAgICAgICAgICAgdmFyIG9yaWcgPSBuZXcgUmVjdGFuZ2xlKFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHNvdXJjZVNpemUudykgLyB0aGlzJDEucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHNvdXJjZVNpemUuaCkgLyB0aGlzJDEucmVzb2x1dGlvblxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYgKGRhdGEucm90YXRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMkMS5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzJDEucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LmgpIC8gdGhpcyQxLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC53KSAvIHRoaXMkMS5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmcmFtZSA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC54KSAvIHRoaXMkMS5yZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKHJlY3QueSkgLyB0aGlzJDEucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcyQxLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMkMS5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gIENoZWNrIHRvIHNlZSBpZiB0aGUgc3ByaXRlIGlzIHRyaW1tZWRcbiAgICAgICAgICAgIGlmIChkYXRhLnRyaW1tZWQgIT09IGZhbHNlICYmIGRhdGEuc3ByaXRlU291cmNlU2l6ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0cmltID0gbmV3IFJlY3RhbmdsZShcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueCkgLyB0aGlzJDEucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihkYXRhLnNwcml0ZVNvdXJjZVNpemUueSkgLyB0aGlzJDEucmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihyZWN0LncpIC8gdGhpcyQxLnJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IocmVjdC5oKSAvIHRoaXMkMS5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcyQxLnRleHR1cmVzW2ldID0gbmV3IFRleHR1cmUoXG4gICAgICAgICAgICAgICAgdGhpcyQxLmJhc2VUZXh0dXJlLFxuICAgICAgICAgICAgICAgIGZyYW1lLFxuICAgICAgICAgICAgICAgIG9yaWcsXG4gICAgICAgICAgICAgICAgdHJpbSxcbiAgICAgICAgICAgICAgICBkYXRhLnJvdGF0ZWQgPyAyIDogMFxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgLy8gbGV0cyBhbHNvIGFkZCB0aGUgZnJhbWUgdG8gcGl4aSdzIGdsb2JhbCBjYWNoZSBmb3IgZnJvbUZyYW1lIGFuZCBmcm9tSW1hZ2UgZnVuY3Rpb25zXG4gICAgICAgICAgICBUZXh0dXJlLmFkZFRvQ2FjaGUodGhpcyQxLnRleHR1cmVzW2ldLCBpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICB9XG59O1xuXG4vKipcbiAqIFRoZSBwYXJzZSBoYXMgY29tcGxldGVkLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5fcGFyc2VDb21wbGV0ZSA9IGZ1bmN0aW9uIF9wYXJzZUNvbXBsZXRlICgpXG57XG4gICAgdmFyIGNhbGxiYWNrID0gdGhpcy5fY2FsbGJhY2s7XG5cbiAgICB0aGlzLl9jYWxsYmFjayA9IG51bGw7XG4gICAgdGhpcy5fYmF0Y2hJbmRleCA9IDA7XG4gICAgY2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLnRleHR1cmVzKTtcbn07XG5cbi8qKlxuICogQmVnaW4gdGhlIG5leHQgYmF0Y2ggb2YgdGV4dHVyZXMuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuU3ByaXRlc2hlZXQucHJvdG90eXBlLl9uZXh0QmF0Y2ggPSBmdW5jdGlvbiBfbmV4dEJhdGNoICgpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdGhpcy5fcHJvY2Vzc0ZyYW1lcyh0aGlzLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSk7XG4gICAgdGhpcy5fYmF0Y2hJbmRleCsrO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcyQxLl9iYXRjaEluZGV4ICogU3ByaXRlc2hlZXQuQkFUQ0hfU0laRSA8IHRoaXMkMS5fZnJhbWVLZXlzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLl9uZXh0QmF0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMkMS5fcGFyc2VDb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfSwgMCk7XG59O1xuXG4vKipcbiAqIERlc3Ryb3kgU3ByaXRlc2hlZXQgYW5kIGRvbid0IHVzZSBhZnRlciB0aGlzLlxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Rlc3Ryb3lCYXNlPWZhbHNlXSBXaGV0aGVyIHRvIGRlc3Ryb3kgdGhlIGJhc2UgdGV4dHVyZSBhcyB3ZWxsXG4gKi9cblNwcml0ZXNoZWV0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAoZGVzdHJveUJhc2UpXG57XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuICAgICAgICBpZiAoIGRlc3Ryb3lCYXNlID09PSB2b2lkIDAgKSBkZXN0cm95QmFzZSA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSBpbiB0aGlzJDEudGV4dHVyZXMpXG4gICAge1xuICAgICAgICB0aGlzJDEudGV4dHVyZXNbaV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICB0aGlzLl9mcmFtZXMgPSBudWxsO1xuICAgIHRoaXMuX2ZyYW1lS2V5cyA9IG51bGw7XG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB0aGlzLnRleHR1cmVzID0gbnVsbDtcbiAgICBpZiAoZGVzdHJveUJhc2UpXG4gICAge1xuICAgICAgICB0aGlzLmJhc2VUZXh0dXJlLmRlc3Ryb3koKTtcbiAgICB9XG4gICAgdGhpcy5iYXNlVGV4dHVyZSA9IG51bGw7XG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggU3ByaXRlc2hlZXQsIHN0YXRpY0FjY2Vzc29ycyApO1xuXG4vKipcbiAqIHtAbGluayBQSVhJLkxvYWRlciBMb2FkZXJ9IG1pZGRsZXdhcmUgZm9yIGxvYWRpbmdcbiAqIHRleHR1cmUgYXRsYXNlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGggVGV4dHVyZVBhY2tlciBvclxuICogc2ltaWxhciBKU09OLWJhc2VkIHNwcml0ZXNoZWV0LiBUaGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzXG4gKiBUZXh0dXJlIHJlc291cmNlcy5cbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBleHRlbmRzIFBJWEkuTG9hZGVyfkxvYWRlclBsdWdpblxuICovXG52YXIgU3ByaXRlc2hlZXRMb2FkZXIgPSBmdW5jdGlvbiBTcHJpdGVzaGVldExvYWRlciAoKSB7fTtcblxuU3ByaXRlc2hlZXRMb2FkZXIudXNlID0gZnVuY3Rpb24gdXNlIChyZXNvdXJjZSwgbmV4dClcbntcbiAgICB2YXIgaW1hZ2VSZXNvdXJjZU5hbWUgPSAocmVzb3VyY2UubmFtZSkgKyBcIl9pbWFnZVwiO1xuXG4gICAgLy8gc2tpcCBpZiBubyBkYXRhLCBpdHMgbm90IGpzb24sIGl0IGlzbid0IHNwcml0ZXNoZWV0IGRhdGEsIG9yIHRoZSBpbWFnZSByZXNvdXJjZSBhbHJlYWR5IGV4aXN0c1xuICAgIGlmICghcmVzb3VyY2UuZGF0YVxuICAgICAgICB8fCByZXNvdXJjZS50eXBlICE9PSBMb2FkZXJSZXNvdXJjZS5UWVBFLkpTT05cbiAgICAgICAgfHwgIXJlc291cmNlLmRhdGEuZnJhbWVzXG4gICAgICAgIHx8IHRoaXMucmVzb3VyY2VzW2ltYWdlUmVzb3VyY2VOYW1lXVxuICAgIClcbiAgICB7XG4gICAgICAgIG5leHQoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGxvYWRPcHRpb25zID0ge1xuICAgICAgICBjcm9zc09yaWdpbjogcmVzb3VyY2UuY3Jvc3NPcmlnaW4sXG4gICAgICAgIG1ldGFkYXRhOiByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhLFxuICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgfTtcblxuICAgIHZhciByZXNvdXJjZVBhdGggPSBTcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGgocmVzb3VyY2UsIHRoaXMuYmFzZVVybCk7XG5cbiAgICAvLyBsb2FkIHRoZSBpbWFnZSBmb3IgdGhpcyBzaGVldFxuICAgIHRoaXMuYWRkKGltYWdlUmVzb3VyY2VOYW1lLCByZXNvdXJjZVBhdGgsIGxvYWRPcHRpb25zLCBmdW5jdGlvbiBvbkltYWdlTG9hZChyZXMpXG4gICAge1xuICAgICAgICBpZiAocmVzLmVycm9yKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KHJlcy5lcnJvcik7XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzcHJpdGVzaGVldCA9IG5ldyBTcHJpdGVzaGVldChcbiAgICAgICAgICAgIHJlcy50ZXh0dXJlLmJhc2VUZXh0dXJlLFxuICAgICAgICAgICAgcmVzb3VyY2UuZGF0YSxcbiAgICAgICAgICAgIHJlc291cmNlLnVybFxuICAgICAgICApO1xuXG4gICAgICAgIHNwcml0ZXNoZWV0LnBhcnNlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJlc291cmNlLnNwcml0ZXNoZWV0ID0gc3ByaXRlc2hlZXQ7XG4gICAgICAgICAgICByZXNvdXJjZS50ZXh0dXJlcyA9IHNwcml0ZXNoZWV0LnRleHR1cmVzO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSBzcHJpdGVzaGVldHMgcm9vdCBwYXRoXG4gKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2V9IHJlc291cmNlIC0gUmVzb3VyY2UgdG8gY2hlY2sgcGF0aFxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVcmwgLSBCYXNlIHJvb3QgdXJsXG4gKi9cblNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aCA9IGZ1bmN0aW9uIGdldFJlc291cmNlUGF0aCAocmVzb3VyY2UsIGJhc2VVcmwpXG57XG4gICAgLy8gUHJlcGVuZCB1cmwgcGF0aCB1bmxlc3MgdGhlIHJlc291cmNlIGltYWdlIGlzIGEgZGF0YSB1cmxcbiAgICBpZiAocmVzb3VyY2UuaXNEYXRhVXJsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHJlc291cmNlLmRhdGEubWV0YS5pbWFnZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsLnJlc29sdmUocmVzb3VyY2UudXJsLnJlcGxhY2UoYmFzZVVybCwgJycpLCByZXNvdXJjZS5kYXRhLm1ldGEuaW1hZ2UpO1xufTtcblxuZXhwb3J0IHsgU3ByaXRlc2hlZXQsIFNwcml0ZXNoZWV0TG9hZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcHJpdGVzaGVldC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvc3ByaXRlLXRpbGluZyAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL3Nwcml0ZS10aWxpbmcgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBPYmplY3RSZW5kZXJlciwgUXVhZFV2LCBTaGFkZXIsIFRleHR1cmUsIFRleHR1cmVNYXRyaXggfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IE1hdHJpeCwgUG9pbnQsIFJlY3RhbmdsZSwgVHJhbnNmb3JtIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBUZXh0dXJlQ2FjaGUsIGNvcnJlY3RCbGVuZE1vZGUsIHByZW11bHRpcGx5VGludFRvUmdiYSB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBXUkFQX01PREVTIH0gZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcblxudmFyIHRlbXBQb2ludCA9IG5ldyBQb2ludCgpO1xuXG4vKipcbiAqIEEgdGlsaW5nIHNwcml0ZSBpcyBhIGZhc3Qgd2F5IG9mIHJlbmRlcmluZyBhIHRpbGluZyBpbWFnZVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5TcHJpdGVcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBUaWxpbmdTcHJpdGUgPSAoZnVuY3Rpb24gKFNwcml0ZSQkMSkge1xuICAgIGZ1bmN0aW9uIFRpbGluZ1Nwcml0ZSh0ZXh0dXJlLCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgaWYgKCB3aWR0aCA9PT0gdm9pZCAwICkgd2lkdGggPSAxMDA7XG4gICAgICAgIGlmICggaGVpZ2h0ID09PSB2b2lkIDAgKSBoZWlnaHQgPSAxMDA7XG5cbiAgICAgICAgU3ByaXRlJCQxLmNhbGwodGhpcywgdGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbGUgdHJhbnNmb3JtXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuVHJhbnNmb3JtfVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtID0gbmV3IFRyYW5zZm9ybSgpO1xuXG4gICAgICAgIC8vIC8vLyBwcml2YXRlXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB3aXRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYW52YXMgcGF0dGVyblxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7Q2FudmFzUGF0dGVybn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NhbnZhc1BhdHRlcm4gPSBudWxsO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtYXRyaXggdGhhdCBpcyBhcHBsaWVkIHRvIFVWIHRvIGdldCB0aGUgY29vcmRzIGluIFRleHR1cmUgbm9ybWFsaXplZCBzcGFjZSB0byBjb29yZHMgaW4gQmFzZVRleHR1cmUgc3BhY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5UZXh0dXJlTWF0cml4fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dk1hdHJpeCA9IHRleHR1cmUudXZNYXRyaXggfHwgbmV3IFRleHR1cmVNYXRyaXgodGV4dHVyZSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsdWdpbiB0aGF0IGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgdGhpcyBlbGVtZW50LlxuICAgICAgICAgKiBBbGxvd3MgdG8gY3VzdG9taXplIHRoZSByZW5kZXJpbmcgcHJvY2VzcyB3aXRob3V0IG92ZXJyaWRpbmcgJ19yZW5kZXInIG1ldGhvZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAndGlsaW5nU3ByaXRlJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5OYW1lID0gJ3RpbGluZ1Nwcml0ZSc7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgb3Igbm90IGFuY2hvciBhZmZlY3RzIHV2c1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51dlJlc3BlY3RBbmNob3IgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIFNwcml0ZSQkMSApIFRpbGluZ1Nwcml0ZS5fX3Byb3RvX18gPSBTcHJpdGUkJDE7XG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNwcml0ZSQkMSAmJiBTcHJpdGUkJDEucHJvdG90eXBlICk7XG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRpbGluZ1Nwcml0ZTtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGNsYW1wTWFyZ2luOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LHRpbGVTY2FsZTogeyBjb25maWd1cmFibGU6IHRydWUgfSx0aWxlUG9zaXRpb246IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sd2lkdGg6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0saGVpZ2h0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyBmcmFtZSBjbGFtcGluZyBpbiBjb3JyZXNwb25kaW5nIHRleHR1cmVUcmFuc2Zvcm0sIHNob3J0Y3V0XG4gICAgICogQ2hhbmdlIHRvIC0wLjUgdG8gYWRkIGEgcGl4ZWwgdG8gdGhlIGVkZ2UsIHJlY29tbWVuZGVkIGZvciB0cmFuc3BhcmVudCB0cmltbWVkIHRleHR1cmVzIGluIGF0bGFzXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmNsYW1wTWFyZ2luLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51dk1hdHJpeC5jbGFtcE1hcmdpbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmNsYW1wTWFyZ2luLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnV2TWF0cml4LmNsYW1wTWFyZ2luID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXZNYXRyaXgudXBkYXRlKHRydWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2NhbGluZyBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVTY2FsZS5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5zY2FsZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVTY2FsZS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnNjYWxlLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9mZnNldCBvZiB0aGUgaW1hZ2UgdGhhdCBpcyBiZWluZyB0aWxlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVQb3NpdGlvbi5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGlsZVRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbGVQb3NpdGlvbi5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy50aWxlVHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUucHJvdG90eXBlLl9vblRleHR1cmVVcGRhdGUgPSBmdW5jdGlvbiBfb25UZXh0dXJlVXBkYXRlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy51dk1hdHJpeClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51dk1hdHJpeC50ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhY2hlZFRpbnQgPSAweEZGRkZGRjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0aGUgb2JqZWN0IHVzaW5nIHRoZSBXZWJHTCByZW5kZXJlclxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fcmVuZGVyID0gZnVuY3Rpb24gX3JlbmRlciAocmVuZGVyZXIpXG4gICAge1xuICAgICAgICAvLyB0d2VhayBvdXIgdGV4dHVyZSB0ZW1wb3JhcmlseS4uXG4gICAgICAgIHZhciB0ZXh0dXJlID0gdGhpcy5fdGV4dHVyZTtcblxuICAgICAgICBpZiAoIXRleHR1cmUgfHwgIXRleHR1cmUudmFsaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybS51cGRhdGVMb2NhbFRyYW5zZm9ybSgpO1xuICAgICAgICB0aGlzLnV2TWF0cml4LnVwZGF0ZSgpO1xuXG4gICAgICAgIHJlbmRlcmVyLmJhdGNoLnNldE9iamVjdFJlbmRlcmVyKHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXSk7XG4gICAgICAgIHJlbmRlcmVyLnBsdWdpbnNbdGhpcy5wbHVnaW5OYW1lXS5yZW5kZXIodGhpcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGJvdW5kcyBvZiB0aGUgdGlsaW5nIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gX2NhbGN1bGF0ZUJvdW5kcyAoKVxuICAgIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLl93aWR0aCAqIC10aGlzLl9hbmNob3IuX3g7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5faGVpZ2h0ICogLXRoaXMuX2FuY2hvci5feTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLl9oZWlnaHQgKiAoMSAtIHRoaXMuX2FuY2hvci5feSk7XG5cbiAgICAgICAgdGhpcy5fYm91bmRzLmFkZEZyYW1lKHRoaXMudHJhbnNmb3JtLCBtaW5YLCBtaW5ZLCBtYXhYLCBtYXhZKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgYm91bmRzIG9mIHRoZSBzcHJpdGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZX0gcmVjdCAtIFRoZSBvdXRwdXQgcmVjdGFuZ2xlLlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgYm91bmRzLlxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiBnZXRMb2NhbEJvdW5kcyAocmVjdClcbiAgICB7XG4gICAgICAgIC8vIHdlIGNhbiBkbyBhIGZhc3QgbG9jYWwgYm91bmRzIGlmIHRoZSBzcHJpdGUgaGFzIG5vIGNoaWxkcmVuIVxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5taW5YID0gdGhpcy5fd2lkdGggKiAtdGhpcy5fYW5jaG9yLl94O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1pblkgPSB0aGlzLl9oZWlnaHQgKiAtdGhpcy5fYW5jaG9yLl95O1xuICAgICAgICAgICAgdGhpcy5fYm91bmRzLm1heFggPSB0aGlzLl93aWR0aCAqICgxIC0gdGhpcy5fYW5jaG9yLl94KTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5tYXhZID0gdGhpcy5faGVpZ2h0ICogKDEgLSB0aGlzLl9hbmNob3IuX3kpO1xuXG4gICAgICAgICAgICBpZiAoIXJlY3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9sb2NhbEJvdW5kc1JlY3QpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBuZXcgUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2xvY2FsQm91bmRzUmVjdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU3ByaXRlJCQxLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcy5jYWxsKHRoaXMsIHJlY3QpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBwb2ludCBpcyBpbnNpZGUgdGhpcyB0aWxpbmcgc3ByaXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLlBvaW50fSBwb2ludCAtIHRoZSBwb2ludCB0byBjaGVja1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoZSBzcHJpdGUgY29udGFpbnMgdGhlIHBvaW50LlxuICAgICAqL1xuICAgIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUuY29udGFpbnNQb2ludCA9IGZ1bmN0aW9uIGNvbnRhaW5zUG9pbnQgKHBvaW50KVxuICAgIHtcbiAgICAgICAgdGhpcy53b3JsZFRyYW5zZm9ybS5hcHBseUludmVyc2UocG9pbnQsIHRlbXBQb2ludCk7XG5cbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5fd2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLl9oZWlnaHQ7XG4gICAgICAgIHZhciB4MSA9IC13aWR0aCAqIHRoaXMuYW5jaG9yLl94O1xuXG4gICAgICAgIGlmICh0ZW1wUG9pbnQueCA+PSB4MSAmJiB0ZW1wUG9pbnQueCA8IHgxICsgd2lkdGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB5MSA9IC1oZWlnaHQgKiB0aGlzLmFuY2hvci5feTtcblxuICAgICAgICAgICAgaWYgKHRlbXBQb2ludC55ID49IHkxICYmIHRlbXBQb2ludC55IDwgeTEgKyBoZWlnaHQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgc3ByaXRlIGFuZCBvcHRpb25hbGx5IGl0cyB0ZXh0dXJlIGFuZCBjaGlsZHJlblxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogICAgICBtZXRob2QgY2FsbGVkIGFzIHdlbGwuICdvcHRpb25zJyB3aWxsIGJlIHBhc3NlZCBvbiB0byB0aG9zZSBjYWxscy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRleHR1cmU9ZmFsc2VdIC0gU2hvdWxkIGl0IGRlc3Ryb3kgdGhlIGN1cnJlbnQgdGV4dHVyZSBvZiB0aGUgc3ByaXRlIGFzIHdlbGxcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmJhc2VUZXh0dXJlPWZhbHNlXSAtIFNob3VsZCBpdCBkZXN0cm95IHRoZSBiYXNlIHRleHR1cmUgb2YgdGhlIHNwcml0ZSBhcyB3ZWxsXG4gICAgICovXG4gICAgVGlsaW5nU3ByaXRlLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveSAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIFNwcml0ZSQkMS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMudGlsZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgICAgIHRoaXMudXZNYXRyaXggPSBudWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgbmV3IHRpbGluZyBzcHJpdGUgYmFzZWQgb24gdGhlIHNvdXJjZSB5b3UgcHJvdmlkZS5cbiAgICAgKiBUaGUgc291cmNlIGNhbiBiZSAtIGZyYW1lIGlkLCBpbWFnZSB1cmwsIHZpZGVvIHVybCwgY2FudmFzIGVsZW1lbnQsIHZpZGVvIGVsZW1lbnQsIGJhc2UgdGV4dHVyZVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ3xQSVhJLkJhc2VUZXh0dXJlfEhUTUxDYW52YXNFbGVtZW50fEhUTUxWaWRlb0VsZW1lbnR9IHNvdXJjZSAtIFNvdXJjZSB0byBjcmVhdGUgdGV4dHVyZSBmcm9tXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoIC0gdGhlIHdpZHRoIG9mIHRoZSB0aWxpbmcgc3ByaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCAtIHRoZSBoZWlnaHQgb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBuZXdseSBjcmVhdGVkIHRleHR1cmVcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbSA9IGZ1bmN0aW9uIGZyb20gKHNvdXJjZSwgd2lkdGgsIGhlaWdodClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShzb3VyY2UpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIHRpbGluZyBzcHJpdGUgdGhhdCB3aWxsIHVzZSBhIHRleHR1cmUgZnJvbSB0aGUgVGV4dHVyZUNhY2hlIGJhc2VkIG9uIHRoZSBmcmFtZUlkXG4gICAgICogVGhlIGZyYW1lIGlkcyBhcmUgY3JlYXRlZCB3aGVuIGEgVGV4dHVyZSBwYWNrZXIgZmlsZSBoYXMgYmVlbiBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZnJhbWVJZCAtIFRoZSBmcmFtZSBJZCBvZiB0aGUgdGV4dHVyZSBpbiB0aGUgY2FjaGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGlsaW5nU3ByaXRlfSBBIG5ldyBUaWxpbmdTcHJpdGUgdXNpbmcgYSB0ZXh0dXJlIGZyb20gdGhlIHRleHR1cmUgY2FjaGUgbWF0Y2hpbmcgdGhlIGZyYW1lSWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUZyYW1lID0gZnVuY3Rpb24gZnJvbUZyYW1lIChmcmFtZUlkLCB3aWR0aCwgaGVpZ2h0KVxuICAgIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSBUZXh0dXJlQ2FjaGVbZnJhbWVJZF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKFwiVGhlIGZyYW1lSWQgXFxcIlwiICsgZnJhbWVJZCArIFwiXFxcIiBkb2VzIG5vdCBleGlzdCBpbiB0aGUgdGV4dHVyZSBjYWNoZSBcIiArICh0aGlzKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBUaWxpbmdTcHJpdGUodGV4dHVyZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBzcHJpdGUgdGhhdCB3aWxsIGNvbnRhaW4gYSB0ZXh0dXJlIGJhc2VkIG9uIGFuIGltYWdlIHVybFxuICAgICAqIElmIHRoZSBpbWFnZSBpcyBub3QgaW4gdGhlIHRleHR1cmUgY2FjaGUgaXQgd2lsbCBiZSBsb2FkZWRcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VJZCAtIFRoZSBpbWFnZSB1cmwgb2YgdGhlIHRleHR1cmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGggLSB0aGUgd2lkdGggb2YgdGhlIHRpbGluZyBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0IC0gdGhlIGhlaWdodCBvZiB0aGUgdGlsaW5nIHNwcml0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gLSBTZWUge0BsaW5rIFBJWEkuQmFzZVRleHR1cmV9J3MgY29uc3RydWN0b3IgZm9yIG9wdGlvbnMuXG4gICAgICogQHJldHVybiB7UElYSS5UaWxpbmdTcHJpdGV9IEEgbmV3IFRpbGluZ1Nwcml0ZSB1c2luZyBhIHRleHR1cmUgZnJvbSB0aGUgdGV4dHVyZSBjYWNoZSBtYXRjaGluZyB0aGUgaW1hZ2UgaWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGUuZnJvbUltYWdlID0gZnVuY3Rpb24gZnJvbUltYWdlIChpbWFnZUlkLCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgc3VwcG9ydCBmb3IgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSBwYXJhbWV0ZXJzXG4gICAgICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0JylcbiAgICAgICAge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBzY2FsZU1vZGU6IGFyZ3VtZW50c1s0XSxcbiAgICAgICAgICAgICAgICByZXNvdXJjZU9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgY3Jvc3NvcmlnaW46IGFyZ3VtZW50c1szXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVGlsaW5nU3ByaXRlKFRleHR1cmUuZnJvbShpbWFnZUlkLCBvcHRpb25zKSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgc3ByaXRlLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldFxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy53aWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMud2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIFRpbGluZ1Nwcml0ZSwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXRcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuaGVpZ2h0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIFRpbGluZ1Nwcml0ZS5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIFRpbGluZ1Nwcml0ZTtcbn0oU3ByaXRlKSk7XG5cbnZhciB2ZXJ0ZXggPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHRyYW5zbGF0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuXFxuICAgIHZUZXh0dXJlQ29vcmQgPSAodVRyYW5zZm9ybSAqIHZlYzMoYVRleHR1cmVDb29yZCwgMS4wKSkueHk7XFxufVxcblwiO1xuXG52YXIgZnJhZ21lbnQgPSBcInZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcbnVuaWZvcm0gdmVjNCB1Q29sb3I7XFxudW5pZm9ybSBtYXQzIHVNYXBDb29yZDtcXG51bmlmb3JtIHZlYzQgdUNsYW1wRnJhbWU7XFxudW5pZm9ybSB2ZWMyIHVDbGFtcE9mZnNldDtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzIgY29vcmQgPSBtb2QodlRleHR1cmVDb29yZCAtIHVDbGFtcE9mZnNldCwgdmVjMigxLjAsIDEuMCkpICsgdUNsYW1wT2Zmc2V0O1xcbiAgICBjb29yZCA9ICh1TWFwQ29vcmQgKiB2ZWMzKGNvb3JkLCAxLjApKS54eTtcXG4gICAgY29vcmQgPSBjbGFtcChjb29yZCwgdUNsYW1wRnJhbWUueHksIHVDbGFtcEZyYW1lLnp3KTtcXG5cXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIGNvb3JkKTtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gc2FtcGxlICogdUNvbG9yO1xcbn1cXG5cIjtcblxudmFyIGZyYWdtZW50U2ltcGxlID0gXCJ2YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgdmVjNCBzYW1wbGUgPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZUZXh0dXJlQ29vcmQpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSBzYW1wbGUgKiB1Q29sb3I7XFxufVxcblwiO1xuXG52YXIgdGVtcE1hdCA9IG5ldyBNYXRyaXgoKTtcblxuLyoqXG4gKiBXZWJHTCByZW5kZXJlciBwbHVnaW4gZm9yIHRpbGluZyBzcHJpdGVzXG4gKlxuICogQGNsYXNzXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGV4dGVuZHMgUElYSS5PYmplY3RSZW5kZXJlclxuICovXG52YXIgVGlsaW5nU3ByaXRlUmVuZGVyZXIgPSAoZnVuY3Rpb24gKE9iamVjdFJlbmRlcmVyJCQxKSB7XG4gICAgZnVuY3Rpb24gVGlsaW5nU3ByaXRlUmVuZGVyZXIocmVuZGVyZXIpXG4gICAge1xuICAgICAgICBPYmplY3RSZW5kZXJlciQkMS5jYWxsKHRoaXMsIHJlbmRlcmVyKTtcblxuICAgICAgICB2YXIgdW5pZm9ybXMgPSB7IGdsb2JhbHM6IHRoaXMucmVuZGVyZXIuZ2xvYmFsVW5pZm9ybXMgfTtcblxuICAgICAgICB0aGlzLnNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnQsIHVuaWZvcm1zKTtcblxuICAgICAgICB0aGlzLnNpbXBsZVNoYWRlciA9IFNoYWRlci5mcm9tKHZlcnRleCwgZnJhZ21lbnRTaW1wbGUsIHVuaWZvcm1zKTtcblxuICAgICAgICB0aGlzLnF1YWQgPSBuZXcgUXVhZFV2KCk7XG4gICAgfVxuXG4gICAgaWYgKCBPYmplY3RSZW5kZXJlciQkMSApIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLl9fcHJvdG9fXyA9IE9iamVjdFJlbmRlcmVyJCQxO1xuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE9iamVjdFJlbmRlcmVyJCQxICYmIE9iamVjdFJlbmRlcmVyJCQxLnByb3RvdHlwZSApO1xuICAgIFRpbGluZ1Nwcml0ZVJlbmRlcmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRpbGluZ1Nwcml0ZVJlbmRlcmVyO1xuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuVGlsaW5nU3ByaXRlfSB0cyB0aWxpbmdTcHJpdGUgdG8gYmUgcmVuZGVyZWRcbiAgICAgKi9cbiAgICBUaWxpbmdTcHJpdGVSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyICh0cylcbiAgICB7XG4gICAgICAgIHZhciByZW5kZXJlciA9IHRoaXMucmVuZGVyZXI7XG4gICAgICAgIHZhciBxdWFkID0gdGhpcy5xdWFkO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNlcyA9IHF1YWQudmVydGljZXM7XG5cbiAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9ICh0cy5fd2lkdGgpICogLXRzLmFuY2hvci54O1xuICAgICAgICB2ZXJ0aWNlc1sxXSA9IHZlcnRpY2VzWzNdID0gdHMuX2hlaWdodCAqIC10cy5hbmNob3IueTtcblxuICAgICAgICB2ZXJ0aWNlc1syXSA9IHZlcnRpY2VzWzRdID0gKHRzLl93aWR0aCkgKiAoMS4wIC0gdHMuYW5jaG9yLngpO1xuICAgICAgICB2ZXJ0aWNlc1s1XSA9IHZlcnRpY2VzWzddID0gdHMuX2hlaWdodCAqICgxLjAgLSB0cy5hbmNob3IueSk7XG5cbiAgICAgICAgaWYgKHRzLnV2UmVzcGVjdEFuY2hvcilcbiAgICAgICAge1xuICAgICAgICAgICAgdmVydGljZXMgPSBxdWFkLnV2cztcblxuICAgICAgICAgICAgdmVydGljZXNbMF0gPSB2ZXJ0aWNlc1s2XSA9IC10cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzFdID0gdmVydGljZXNbM10gPSAtdHMuYW5jaG9yLnk7XG5cbiAgICAgICAgICAgIHZlcnRpY2VzWzJdID0gdmVydGljZXNbNF0gPSAxLjAgLSB0cy5hbmNob3IueDtcbiAgICAgICAgICAgIHZlcnRpY2VzWzVdID0gdmVydGljZXNbN10gPSAxLjAgLSB0cy5hbmNob3IueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHF1YWQuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHZhciB0ZXggPSB0cy5fdGV4dHVyZTtcbiAgICAgICAgdmFyIGJhc2VUZXggPSB0ZXguYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBsdCA9IHRzLnRpbGVUcmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIHZhciB1diA9IHRzLnV2TWF0cml4O1xuICAgICAgICB2YXIgaXNTaW1wbGUgPSBiYXNlVGV4LmlzUG93ZXJPZlR3b1xuICAgICAgICAgICAgJiYgdGV4LmZyYW1lLndpZHRoID09PSBiYXNlVGV4LndpZHRoICYmIHRleC5mcmFtZS5oZWlnaHQgPT09IGJhc2VUZXguaGVpZ2h0O1xuXG4gICAgICAgIC8vIGF1dG8sIGZvcmNlIHJlcGVhdCB3cmFwTW9kZSBmb3IgYmlnIHRpbGluZyB0ZXh0dXJlc1xuICAgICAgICBpZiAoaXNTaW1wbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYmFzZVRleC5fZ2xUZXh0dXJlc1tyZW5kZXJlci5DT05URVhUX1VJRF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGJhc2VUZXgud3JhcE1vZGUgPT09IFdSQVBfTU9ERVMuQ0xBTVApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBiYXNlVGV4LndyYXBNb2RlID0gV1JBUF9NT0RFUy5SRVBFQVQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlzU2ltcGxlID0gYmFzZVRleC53cmFwTW9kZSAhPT0gV1JBUF9NT0RFUy5DTEFNUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaGFkZXIgPSBpc1NpbXBsZSA/IHRoaXMuc2ltcGxlU2hhZGVyIDogdGhpcy5zaGFkZXI7XG5cbiAgICAgICAgdmFyIHcgPSB0ZXgud2lkdGg7XG4gICAgICAgIHZhciBoID0gdGV4LmhlaWdodDtcbiAgICAgICAgdmFyIFcgPSB0cy5fd2lkdGg7XG4gICAgICAgIHZhciBIID0gdHMuX2hlaWdodDtcblxuICAgICAgICB0ZW1wTWF0LnNldChsdC5hICogdyAvIFcsXG4gICAgICAgICAgICBsdC5iICogdyAvIEgsXG4gICAgICAgICAgICBsdC5jICogaCAvIFcsXG4gICAgICAgICAgICBsdC5kICogaCAvIEgsXG4gICAgICAgICAgICBsdC50eCAvIFcsXG4gICAgICAgICAgICBsdC50eSAvIEgpO1xuXG4gICAgICAgIC8vIHRoYXQgcGFydCBpcyB0aGUgc2FtZSBhcyBhYm92ZTpcbiAgICAgICAgLy8gdGVtcE1hdC5pZGVudGl0eSgpO1xuICAgICAgICAvLyB0ZW1wTWF0LnNjYWxlKHRleC53aWR0aCwgdGV4LmhlaWdodCk7XG4gICAgICAgIC8vIHRlbXBNYXQucHJlcGVuZChsdCk7XG4gICAgICAgIC8vIHRlbXBNYXQuc2NhbGUoMS4wIC8gdHMuX3dpZHRoLCAxLjAgLyB0cy5faGVpZ2h0KTtcblxuICAgICAgICB0ZW1wTWF0LmludmVydCgpO1xuICAgICAgICBpZiAoaXNTaW1wbGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRlbXBNYXQucHJlcGVuZCh1di5tYXBDb29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudU1hcENvb3JkID0gdXYubWFwQ29vcmQudG9BcnJheSh0cnVlKTtcbiAgICAgICAgICAgIHNoYWRlci51bmlmb3Jtcy51Q2xhbXBGcmFtZSA9IHV2LnVDbGFtcEZyYW1lO1xuICAgICAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVDbGFtcE9mZnNldCA9IHV2LnVDbGFtcE9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNoYWRlci51bmlmb3Jtcy51VHJhbnNmb3JtID0gdGVtcE1hdC50b0FycmF5KHRydWUpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNvbG9yID0gcHJlbXVsdGlwbHlUaW50VG9SZ2JhKHRzLnRpbnQsIHRzLndvcmxkQWxwaGEsXG4gICAgICAgICAgICBzaGFkZXIudW5pZm9ybXMudUNvbG9yLCBiYXNlVGV4LnByZW11bHRpcGx5QWxwaGEpO1xuICAgICAgICBzaGFkZXIudW5pZm9ybXMudHJhbnNsYXRpb25NYXRyaXggPSB0cy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0udG9BcnJheSh0cnVlKTtcbiAgICAgICAgc2hhZGVyLnVuaWZvcm1zLnVTYW1wbGVyID0gdGV4O1xuXG4gICAgICAgIHJlbmRlcmVyLnNoYWRlci5iaW5kKHNoYWRlcik7XG4gICAgICAgIHJlbmRlcmVyLmdlb21ldHJ5LmJpbmQocXVhZCk7Ly8gLCByZW5kZXJlci5zaGFkZXIuZ2V0R0xTaGFkZXIoKSk7XG5cbiAgICAgICAgcmVuZGVyZXIuc3RhdGUuc2V0QmxlbmRNb2RlKGNvcnJlY3RCbGVuZE1vZGUodHMuYmxlbmRNb2RlLCBiYXNlVGV4LnByZW11bHRpcGx5QWxwaGEpKTtcbiAgICAgICAgcmVuZGVyZXIuZ2VvbWV0cnkuZHJhdyh0aGlzLnJlbmRlcmVyLmdsLlRSSUFOR0xFUywgNiwgMCk7XG4gICAgfTtcblxuICAgIHJldHVybiBUaWxpbmdTcHJpdGVSZW5kZXJlcjtcbn0oT2JqZWN0UmVuZGVyZXIpKTtcblxuZXhwb3J0IHsgVGlsaW5nU3ByaXRlLCBUaWxpbmdTcHJpdGVSZW5kZXJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3ByaXRlLXRpbGluZy5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvdGV4dC1iaXRtYXAgLSB2NS4wLjAtYWxwaGEuM1xuICogQ29tcGlsZWQgVHVlLCAwMyBKdWwgMjAxOCAwNDowODoyMSBVVENcbiAqXG4gKiBAcGl4aS90ZXh0LWJpdG1hcCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZVBvaW50LCBQb2ludCwgUmVjdGFuZ2xlIH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBzZXR0aW5ncyQxIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCB7IGdldFJlc29sdXRpb25PZlVybCwgcmVtb3ZlSXRlbXMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBMb2FkZXJSZXNvdXJjZSB9IGZyb20gJ0BwaXhpL2xvYWRlcnMnO1xuXG4vKipcbiAqIEEgQml0bWFwVGV4dCBvYmplY3Qgd2lsbCBjcmVhdGUgYSBsaW5lIG9yIG11bHRpcGxlIGxpbmVzIG9mIHRleHQgdXNpbmcgYml0bWFwIGZvbnQuIFRvXG4gKiBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicsICdcXHInIG9yICdcXHJcXG4nIGluIHlvdXIgc3RyaW5nLiBZb3UgY2FuIGdlbmVyYXRlIHRoZSBmbnQgZmlsZXMgdXNpbmc6XG4gKlxuICogQSBCaXRtYXBUZXh0IGNhbiBvbmx5IGJlIGNyZWF0ZWQgd2hlbiB0aGUgZm9udCBpcyBsb2FkZWRcbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtmb250OiBcIjM1cHggRGVzeXJlbFwiLCBhbGlnbjogXCJyaWdodFwifSk7XG4gKiBgYGBcbiAqXG4gKiBodHRwOi8vd3d3LmFuZ2VsY29kZS5jb20vcHJvZHVjdHMvYm1mb250LyBmb3IgV2luZG93cyBvclxuICpcbiAqIGh0dHA6Ly93d3cuYm1nbHlwaC5jb20vIGZvciBNYWMuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcFRleHQgPSAoZnVuY3Rpb24gKENvbnRhaW5lciQkMSkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcFRleHQodGV4dCwgc3R5bGUpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcbiAgICAgICAgaWYgKCBzdHlsZSA9PT0gdm9pZCAwICkgc3R5bGUgPSB7fTtcblxuICAgICAgICBDb250YWluZXIkJDEuY2FsbCh0aGlzKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgd2lkdGggb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0V2lkdGggPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgbGV0dGVyIHNwcml0ZSBwb29sLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLlNwcml0ZVtdfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZ2x5cGhzID0gW107XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgc3R5bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2ZvbnQgPSB7XG4gICAgICAgICAgICB0aW50OiBzdHlsZS50aW50ICE9PSB1bmRlZmluZWQgPyBzdHlsZS50aW50IDogMHhGRkZGRkYsXG4gICAgICAgICAgICBhbGlnbjogc3R5bGUuYWxpZ24gfHwgJ2xlZnQnLFxuICAgICAgICAgICAgbmFtZTogbnVsbCxcbiAgICAgICAgICAgIHNpemU6IDAsXG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgZm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mb250ID0gc3R5bGUuZm9udDsgLy8gcnVuIGZvbnQgc2V0dGVyXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdGV4dCA9IHRleHQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB2YWx1ZSB0byAwXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX21heFdpZHRoID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICAgICAqIGllOiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gMDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogTGV0dGVyIHNwYWNpbmcuIFRoaXMgaXMgdXNlZnVsIGZvciBzZXR0aW5nIHRoZSBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSAwO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXh0IGFuY2hvci4gcmVhZC1vbmx5XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuT2JzZXJ2YWJsZVBvaW50fVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludChmdW5jdGlvbiAoKSB7IHRoaXMkMS5kaXJ0eSA9IHRydWU7IH0sIHRoaXMsIDAsIDApO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZGlydHkgc3RhdGUgb2YgdGhpcyBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy51cGRhdGVUZXh0KCk7XG4gICAgfVxuXG4gICAgaWYgKCBDb250YWluZXIkJDEgKSBCaXRtYXBUZXh0Ll9fcHJvdG9fXyA9IENvbnRhaW5lciQkMTtcbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbnRhaW5lciQkMSAmJiBDb250YWluZXIkJDEucHJvdG90eXBlICk7XG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCaXRtYXBUZXh0O1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgdGludDogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbGlnbjogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbmNob3I6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sZm9udDogeyBjb25maWd1cmFibGU6IHRydWUgfSx0ZXh0OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG1heFdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LG1heExpbmVIZWlnaHQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGV4dFdpZHRoOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGxldHRlclNwYWNpbmc6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sdGV4dEhlaWdodDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyB0ZXh0IGFuZCB1cGRhdGVzIGl0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRleHQgPSBmdW5jdGlvbiB1cGRhdGVUZXh0ICgpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgZGF0YSA9IEJpdG1hcFRleHQuZm9udHNbdGhpcy5fZm9udC5uYW1lXTtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZm9udC5zaXplIC8gZGF0YS5zaXplO1xuICAgICAgICB2YXIgcG9zID0gbmV3IFBvaW50KCk7XG4gICAgICAgIHZhciBjaGFycyA9IFtdO1xuICAgICAgICB2YXIgbGluZVdpZHRocyA9IFtdO1xuICAgICAgICB2YXIgdGV4dCA9IHRoaXMudGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJyk7XG4gICAgICAgIHZhciB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuX21heFdpZHRoICogZGF0YS5zaXplIC8gdGhpcy5fZm9udC5zaXplO1xuXG4gICAgICAgIHZhciBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbGluZSA9IDA7XG4gICAgICAgIHZhciBsYXN0QnJlYWtQb3MgPSAtMTtcbiAgICAgICAgdmFyIGxhc3RCcmVha1dpZHRoID0gMDtcbiAgICAgICAgdmFyIHNwYWNlc1JlbW92ZWQgPSAwO1xuICAgICAgICB2YXIgbWF4TGluZUhlaWdodCA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0TGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGV4dC5jaGFyQXQoaSk7XG5cbiAgICAgICAgICAgIGlmICgvKD86XFxzKS8udGVzdChjaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSBpO1xuICAgICAgICAgICAgICAgIGxhc3RCcmVha1dpZHRoID0gbGFzdExpbmVXaWR0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgICsrbGluZTtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG5cbiAgICAgICAgICAgICAgICBwb3MueCA9IDA7XG4gICAgICAgICAgICAgICAgcG9zLnkgKz0gZGF0YS5saW5lSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuXG4gICAgICAgICAgICBpZiAoIWNoYXJEYXRhKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocHJldkNoYXJDb2RlICYmIGNoYXJEYXRhLmtlcm5pbmdbcHJldkNoYXJDb2RlXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNoYXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IGNoYXJEYXRhLnRleHR1cmUsXG4gICAgICAgICAgICAgICAgbGluZTogbGluZSxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogY2hhckNvZGUsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBQb2ludChwb3MueCArIGNoYXJEYXRhLnhPZmZzZXQgKyAodGhpcyQxLl9sZXR0ZXJTcGFjaW5nIC8gMiksIHBvcy55ICsgY2hhckRhdGEueU9mZnNldCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlICsgdGhpcyQxLl9sZXR0ZXJTcGFjaW5nO1xuICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IHBvcy54O1xuICAgICAgICAgICAgbWF4TGluZUhlaWdodCA9IE1hdGgubWF4KG1heExpbmVIZWlnaHQsIChjaGFyRGF0YS55T2Zmc2V0ICsgY2hhckRhdGEudGV4dHVyZS5oZWlnaHQpKTtcbiAgICAgICAgICAgIHByZXZDaGFyQ29kZSA9IGNoYXJDb2RlO1xuXG4gICAgICAgICAgICBpZiAobGFzdEJyZWFrUG9zICE9PSAtMSAmJiBtYXhXaWR0aCA+IDAgJiYgcG9zLnggPiBtYXhXaWR0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICArK3NwYWNlc1JlbW92ZWQ7XG4gICAgICAgICAgICAgICAgcmVtb3ZlSXRlbXMoY2hhcnMsIDEgKyBsYXN0QnJlYWtQb3MgLSBzcGFjZXNSZW1vdmVkLCAxICsgaSAtIGxhc3RCcmVha1Bvcyk7XG4gICAgICAgICAgICAgICAgaSA9IGxhc3RCcmVha1BvcztcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtQb3MgPSAtMTtcblxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0QnJlYWtXaWR0aCk7XG4gICAgICAgICAgICAgICAgbGluZSsrO1xuXG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxhc3RDaGFyID0gdGV4dC5jaGFyQXQodGV4dC5sZW5ndGggLSAxKTtcblxuICAgICAgICBpZiAobGFzdENoYXIgIT09ICdcXHInICYmIGxhc3RDaGFyICE9PSAnXFxuJylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKC8oPzpcXHMpLy50ZXN0KGxhc3RDaGFyKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gbGFzdEJyZWFrV2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGluZUFsaWduT2Zmc2V0cyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8PSBsaW5lOyBpJDErKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGFsaWduT2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgaWYgKHRoaXMkMS5fZm9udC5hbGlnbiA9PT0gJ3JpZ2h0JylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaSQxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMkMS5fZm9udC5hbGlnbiA9PT0gJ2NlbnRlcicpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWxpZ25PZmZzZXQgPSAobWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpJDFdKSAvIDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbGVuQ2hhcnMgPSBjaGFycy5sZW5ndGg7XG4gICAgICAgIHZhciB0aW50ID0gdGhpcy50aW50O1xuXG4gICAgICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IGxlbkNoYXJzOyBpJDIrKylcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGMgPSB0aGlzJDEuX2dseXBoc1tpJDJdOyAvLyBnZXQgdGhlIG5leHQgZ2x5cGggc3ByaXRlXG5cbiAgICAgICAgICAgIGlmIChjKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGMudGV4dHVyZSA9IGNoYXJzW2kkMl0udGV4dHVyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjID0gbmV3IFNwcml0ZShjaGFyc1tpJDJdLnRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHRoaXMkMS5fZ2x5cGhzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGMucG9zaXRpb24ueCA9IChjaGFyc1tpJDJdLnBvc2l0aW9uLnggKyBsaW5lQWxpZ25PZmZzZXRzW2NoYXJzW2kkMl0ubGluZV0pICogc2NhbGU7XG4gICAgICAgICAgICBjLnBvc2l0aW9uLnkgPSBjaGFyc1tpJDJdLnBvc2l0aW9uLnkgKiBzY2FsZTtcbiAgICAgICAgICAgIGMuc2NhbGUueCA9IGMuc2NhbGUueSA9IHNjYWxlO1xuICAgICAgICAgICAgYy50aW50ID0gdGludDtcblxuICAgICAgICAgICAgaWYgKCFjLnBhcmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEuYWRkQ2hpbGQoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW1vdmUgdW5uZWNlc3NhcnkgY2hpbGRyZW4uXG4gICAgICAgIGZvciAodmFyIGkkMyA9IGxlbkNoYXJzOyBpJDMgPCB0aGlzLl9nbHlwaHMubGVuZ3RoOyArK2kkMylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcyQxLnJlbW92ZUNoaWxkKHRoaXMkMS5fZ2x5cGhzW2kkM10pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdGV4dFdpZHRoID0gbWF4TGluZVdpZHRoICogc2NhbGU7XG4gICAgICAgIHRoaXMuX3RleHRIZWlnaHQgPSAocG9zLnkgKyBkYXRhLmxpbmVIZWlnaHQpICogc2NhbGU7XG5cbiAgICAgICAgLy8gYXBwbHkgYW5jaG9yXG4gICAgICAgIGlmICh0aGlzLmFuY2hvci54ICE9PSAwIHx8IHRoaXMuYW5jaG9yLnkgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkkNCA9IDA7IGkkNCA8IGxlbkNoYXJzOyBpJDQrKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzJDEuX2dseXBoc1tpJDRdLnggLT0gdGhpcyQxLl90ZXh0V2lkdGggKiB0aGlzJDEuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgdGhpcyQxLl9nbHlwaHNbaSQ0XS55IC09IHRoaXMkMS5fdGV4dEhlaWdodCAqIHRoaXMkMS5hbmNob3IueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb2YgdGhpcyBvYmplY3RcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtID0gZnVuY3Rpb24gdXBkYXRlVHJhbnNmb3JtICgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyVXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyB0ZXh0IGJlZm9yZSBjYWxsaW5nIHBhcmVudCdzIGdldExvY2FsQm91bmRzXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlJlY3RhbmdsZX0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWFcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIGdldExvY2FsQm91bmRzICgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIENvbnRhaW5lciQkMS5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0ZXh0IHdoZW4gbmVlZGVkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGludCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRpbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250LnRpbnQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50aW50LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLl9mb250LnRpbnQgPSAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSA+PSAwKSA/IHZhbHVlIDogMHhGRkZGRkY7XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAqIEBkZWZhdWx0ICdsZWZ0J1xuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbGlnbi5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnQuYWxpZ247XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbGlnbi5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5fZm9udC5hbGlnbiA9IHZhbHVlIHx8ICdsZWZ0JztcblxuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFuY2hvciBzZXRzIHRoZSBvcmlnaW4gcG9pbnQgb2YgdGhlIHRleHQuXG4gICAgICpcbiAgICAgKiBUaGUgZGVmYXVsdCBpcyBgKDAsMClgLCB0aGlzIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgKlxuICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDEsMSlgIHdvdWxkIG1lYW4gdGhlIHRleHQncyBvcmlnaW4gcG9pbnQgd2lsbCBiZSB0aGUgYm90dG9tIHJpZ2h0IGNvcm5lci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnQgfCBudW1iZXJ9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFuY2hvci5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuY2hvcjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFuY2hvci5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2FuY2hvci5zZXQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgZm9udCBkZXNjcmlwdG9yIG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ3xvYmplY3R9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmZvbnQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb250O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuZm9udC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgdGhpcy5fZm9udC5uYW1lID0gdmFsdWUubGVuZ3RoID09PSAxID8gdmFsdWVbMF0gOiB2YWx1ZS5zbGljZSgxKS5qb2luKCcgJyk7XG4gICAgICAgICAgICB0aGlzLl9mb250LnNpemUgPSB2YWx1ZS5sZW5ndGggPj0gMiA/IHBhcnNlSW50KHZhbHVlWzBdLCAxMCkgOiBCaXRtYXBUZXh0LmZvbnRzW3RoaXMuX2ZvbnQubmFtZV0uc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ZvbnQubmFtZSA9IHZhbHVlLm5hbWU7XG4gICAgICAgICAgICB0aGlzLl9mb250LnNpemUgPSB0eXBlb2YgdmFsdWUuc2l6ZSA9PT0gJ251bWJlcicgPyB2YWx1ZS5zaXplIDogcGFyc2VJbnQodmFsdWUuc2l6ZSwgMTApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMudGV4dC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy50ZXh0LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCkgfHwgJyAnO1xuICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0ID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHRoZSB2YWx1ZSB0byAwLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXhXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21heFdpZHRoO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF4V2lkdGguc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9tYXhXaWR0aCA9PT0gdmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tYXhXaWR0aCA9IHZhbHVlO1xuICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG1heCBsaW5lIGhlaWdodC4gVGhpcyBpcyB1c2VmdWwgd2hlbiB0cnlpbmcgdG8gdXNlIHRoZSB0b3RhbCBoZWlnaHQgb2YgdGhlIFRleHQsXG4gICAgICogaS5lLiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEByZWFkb25seVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5tYXhMaW5lSGVpZ2h0LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX21heExpbmVIZWlnaHQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHRXaWR0aC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl90ZXh0V2lkdGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZGl0aW9uYWwgc3BhY2UgYmV0d2VlbiBjaGFyYWN0ZXJzLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5sZXR0ZXJTcGFjaW5nLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmxldHRlclNwYWNpbmcuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9sZXR0ZXJTcGFjaW5nICE9PSB2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fbGV0dGVyU3BhY2luZyA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQHJlYWRvbmx5XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnRleHRIZWlnaHQuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBiaXRtYXAgZm9udCB3aXRoIGRhdGEgYW5kIGEgdGV4dHVyZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcGFyYW0ge1hNTERvY3VtZW50fSB4bWwgLSBUaGUgWE1MIGRvY3VtZW50IGRhdGEuXG4gICAgICogQHBhcmFtIHtPYmplY3QuPHN0cmluZywgUElYSS5UZXh0dXJlPnxQSVhJLlRleHR1cmV8UElYSS5UZXh0dXJlW119IHRleHR1cmVzIC0gTGlzdCBvZiB0ZXh0dXJlcyBmb3IgZWFjaCBwYWdlLlxuICAgICAqICBJZiBwcm92aWRpbmcgYW4gb2JqZWN0LCB0aGUga2V5IGlzIHRoZSBgPHBhZ2U+YCBlbGVtZW50J3MgYGZpbGVgIGF0dHJpYnV0ZSBpbiB0aGUgRk5UIGZpbGUuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0IGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnJlZ2lzdGVyRm9udCA9IGZ1bmN0aW9uIHJlZ2lzdGVyRm9udCAoeG1sLCB0ZXh0dXJlcylcbiAgICB7XG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIHZhciBpbmZvID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF07XG4gICAgICAgIHZhciBjb21tb24gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NvbW1vbicpWzBdO1xuICAgICAgICB2YXIgcGFnZXMgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKTtcbiAgICAgICAgdmFyIHJlcyA9IGdldFJlc29sdXRpb25PZlVybChwYWdlc1swXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKSwgc2V0dGluZ3MkMS5SRVNPTFVUSU9OKTtcbiAgICAgICAgdmFyIHBhZ2VzVGV4dHVyZXMgPSB7fTtcblxuICAgICAgICBkYXRhLmZvbnQgPSBpbmZvLmdldEF0dHJpYnV0ZSgnZmFjZScpO1xuICAgICAgICBkYXRhLnNpemUgPSBwYXJzZUludChpbmZvLmdldEF0dHJpYnV0ZSgnc2l6ZScpLCAxMCk7XG4gICAgICAgIGRhdGEubGluZUhlaWdodCA9IHBhcnNlSW50KGNvbW1vbi5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApIC8gcmVzO1xuICAgICAgICBkYXRhLmNoYXJzID0ge307XG5cbiAgICAgICAgLy8gU2luZ2xlIHRleHR1cmUsIGNvbnZlcnQgdG8gbGlzdFxuICAgICAgICBpZiAodGV4dHVyZXMgaW5zdGFuY2VvZiBUZXh0dXJlKVxuICAgICAgICB7XG4gICAgICAgICAgICB0ZXh0dXJlcyA9IFt0ZXh0dXJlc107XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDb252ZXJ0IHRoZSBpbnB1dCBUZXh0dXJlLCBUZXh0dXJlcyBvciBvYmplY3RcbiAgICAgICAgLy8gaW50byBhIHBhZ2UgVGV4dHVyZSBsb29rdXAgYnkgXCJpZFwiXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciBpZCA9IHBhZ2VzW2ldLmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgICAgIHZhciBmaWxlID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdmaWxlJyk7XG5cbiAgICAgICAgICAgIHBhZ2VzVGV4dHVyZXNbaWRdID0gdGV4dHVyZXMgaW5zdGFuY2VvZiBBcnJheSA/IHRleHR1cmVzW2ldIDogdGV4dHVyZXNbZmlsZV07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBsZXR0ZXJzXG4gICAgICAgIHZhciBsZXR0ZXJzID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgbGV0dGVycy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgbGV0dGVyID0gbGV0dGVyc1tpJDFdO1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApO1xuICAgICAgICAgICAgdmFyIHBhZ2UgPSBsZXR0ZXIuZ2V0QXR0cmlidXRlKCdwYWdlJykgfHwgMDtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlUmVjdCA9IG5ldyBSZWN0YW5nbGUoXG4gICAgICAgICAgICAgICAgKHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3gnKSwgMTApIC8gcmVzKSArIChwYWdlc1RleHR1cmVzW3BhZ2VdLmZyYW1lLnggLyByZXMpLFxuICAgICAgICAgICAgICAgIChwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd5JyksIDEwKSAvIHJlcykgKyAocGFnZXNUZXh0dXJlc1twYWdlXS5mcmFtZS55IC8gcmVzKSxcbiAgICAgICAgICAgICAgICBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JyksIDEwKSAvIHJlc1xuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgZGF0YS5jaGFyc1tjaGFyQ29kZV0gPSB7XG4gICAgICAgICAgICAgICAgeE9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgeU9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCkgLyByZXMsXG4gICAgICAgICAgICAgICAgeEFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSAvIHJlcyxcbiAgICAgICAgICAgICAgICBrZXJuaW5nOiB7fSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBuZXcgVGV4dHVyZShwYWdlc1RleHR1cmVzW3BhZ2VdLmJhc2VUZXh0dXJlLCB0ZXh0dXJlUmVjdCksXG4gICAgICAgICAgICAgICAgcGFnZTogcGFnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYXJzZSBrZXJuaW5nc1xuICAgICAgICB2YXIga2VybmluZ3MgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2tlcm5pbmcnKTtcblxuICAgICAgICBmb3IgKHZhciBpJDIgPSAwOyBpJDIgPCBrZXJuaW5ncy5sZW5ndGg7IGkkMisrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIga2VybmluZyA9IGtlcm5pbmdzW2kkMl07XG4gICAgICAgICAgICB2YXIgZmlyc3QgPSBwYXJzZUludChrZXJuaW5nLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgdmFyIHNlY29uZCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdzZWNvbmQnKSwgMTApIC8gcmVzO1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9IHBhcnNlSW50KGtlcm5pbmcuZ2V0QXR0cmlidXRlKCdhbW91bnQnKSwgMTApIC8gcmVzO1xuXG4gICAgICAgICAgICBpZiAoZGF0YS5jaGFyc1tzZWNvbmRdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGEuY2hhcnNbc2Vjb25kXS5rZXJuaW5nW2ZpcnN0XSA9IGFtb3VudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEknbSBsZWF2aW5nIHRoaXMgYXMgYSB0ZW1wb3JhcnkgZml4IHNvIHdlIGNhbiB0ZXN0IHRoZSBiaXRtYXAgZm9udHMgaW4gdjNcbiAgICAgICAgLy8gYnV0IGl0J3MgdmVyeSBsaWtlbHkgdG8gY2hhbmdlXG4gICAgICAgIEJpdG1hcFRleHQuZm9udHNbZGF0YS5mb250XSA9IGRhdGE7XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBCaXRtYXBUZXh0LnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQml0bWFwVGV4dDtcbn0oQ29udGFpbmVyKSk7XG5cbkJpdG1hcFRleHQuZm9udHMgPSB7fTtcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nXG4gKiBiaXRtYXAtYmFzZWQgZm9udHMgc3VpdGFibGUgZm9yIHVzaW5nIHdpdGgge0BsaW5rIFBJWEkuQml0bWFwVGV4dH0uXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAZXh0ZW5kcyBQSVhJLkxvYWRlcn5Mb2FkZXJQbHVnaW5cbiAqL1xudmFyIEJpdG1hcEZvbnRMb2FkZXIgPSBmdW5jdGlvbiBCaXRtYXBGb250TG9hZGVyICgpIHt9O1xuXG5CaXRtYXBGb250TG9hZGVyLnBhcnNlID0gZnVuY3Rpb24gcGFyc2UgKHJlc291cmNlLCB0ZXh0dXJlKVxue1xuICAgIHJlc291cmNlLmJpdG1hcEZvbnQgPSBCaXRtYXBUZXh0LnJlZ2lzdGVyRm9udChyZXNvdXJjZS5kYXRhLCB0ZXh0dXJlKTtcbn07XG5cbi8qKlxuICogQ2FsbGVkIHdoZW4gdGhlIHBsdWdpbiBpcyBpbnN0YWxsZWQuXG4gKlxuICogQHNlZSBQSVhJLkxvYWRlci5yZWdpc3RlclBsdWdpblxuICovXG5CaXRtYXBGb250TG9hZGVyLmFkZCA9IGZ1bmN0aW9uIGFkZCAoKVxue1xuICAgIExvYWRlclJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUoJ2ZudCcsIExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKTtcbn07XG5cbi8qKlxuICogUmVwbGFjZW1lbnQgZm9yIE5vZGVKUydzIHBhdGguZGlybmFtZVxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUGF0aCB0byBnZXQgZGlyZWN0b3J5IGZvclxuICovXG5CaXRtYXBGb250TG9hZGVyLmRpcm5hbWUgPSBmdW5jdGlvbiBkaXJuYW1lICh1cmwpXG57XG4gICAgdmFyIGRpciA9IHVybFxuICAgICAgICAucmVwbGFjZSgvXFwvJC8sICcnKSAvLyByZXBsYWNlIHRyYWlsaW5nIHNsYXNoXG4gICAgICAgIC5yZXBsYWNlKC9cXC9bXlxcL10qJC8sICcnKTsgLy8gcmVtb3ZlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGxhc3RcblxuICAgIC8vIEZpbGUgcmVxdWVzdCBpcyByZWxhdGl2ZSwgdXNlIGN1cnJlbnQgZGlyZWN0b3J5XG4gICAgaWYgKGRpciA9PT0gdXJsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICcuJztcbiAgICB9XG4gICAgLy8gU3RhcnRlZCB3aXRoIGEgc2xhc2hcbiAgICBlbHNlIGlmIChkaXIgPT09ICcnKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICcvJztcbiAgICB9XG5cbiAgICByZXR1cm4gZGlyO1xufTtcblxuLyoqXG4gKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gKiBAc2VlIFBJWEkuTG9hZGVyfmxvYWRlck1pZGRsZXdhcmVcbiAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG5leHRcbiAqL1xuQml0bWFwRm9udExvYWRlci51c2UgPSBmdW5jdGlvbiB1c2UgKHJlc291cmNlLCBuZXh0KVxue1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIC8vIHNraXAgaWYgbm8gZGF0YSBvciBub3QgeG1sIGRhdGFcbiAgICBpZiAoIXJlc291cmNlLmRhdGEgfHwgcmVzb3VyY2UudHlwZSAhPT0gTG9hZGVyUmVzb3VyY2UuVFlQRS5YTUwpXG4gICAge1xuICAgICAgICBuZXh0KCk7XG5cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHNraXAgaWYgbm90IGJpdG1hcCBmb250IGRhdGEsIHVzaW5nIHNvbWUgc2lsbHkgZHVjay10eXBpbmdcbiAgICBpZiAocmVzb3VyY2UuZGF0YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpLmxlbmd0aCA9PT0gMFxuICAgICAgICB8fCByZXNvdXJjZS5kYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJykubGVuZ3RoID09PSAwXG4gICAgICAgIHx8IHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSA9PT0gbnVsbFxuICAgIClcbiAgICB7XG4gICAgICAgIG5leHQoKTtcblxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHhtbFVybCA9ICFyZXNvdXJjZS5pc0RhdGFVcmwgPyBCaXRtYXBGb250TG9hZGVyLmRpcm5hbWUocmVzb3VyY2UudXJsKSA6ICcnO1xuXG4gICAgaWYgKHJlc291cmNlLmlzRGF0YVVybClcbiAgICB7XG4gICAgICAgIGlmICh4bWxVcmwgPT09ICcuJylcbiAgICAgICAge1xuICAgICAgICAgICAgeG1sVXJsID0gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5iYXNlVXJsICYmIHhtbFVybClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgYmFzZXVybCBoYXMgYSB0cmFpbGluZyBzbGFzaCB0aGVuIGFkZCBvbmUgdG8geG1sVXJsIHNvIHRoZSByZXBsYWNlIHdvcmtzIGJlbG93XG4gICAgICAgICAgICBpZiAodGhpcy5iYXNlVXJsLmNoYXJBdCh0aGlzLmJhc2VVcmwubGVuZ3RoIC0gMSkgPT09ICcvJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB4bWxVcmwgKz0gJy8nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGJhc2VVcmwgZnJvbSB4bWxVcmxcbiAgICB4bWxVcmwgPSB4bWxVcmwucmVwbGFjZSh0aGlzLmJhc2VVcmwsICcnKTtcblxuICAgIC8vIGlmIHRoZXJlIGlzIGFuIHhtbFVybCBub3csIGl0IG5lZWRzIGEgdHJhaWxpbmcgc2xhc2guIEVuc3VyZSB0aGF0IGl0IGRvZXMgaWYgdGhlIHN0cmluZyBpc24ndCBlbXB0eS5cbiAgICBpZiAoeG1sVXJsICYmIHhtbFVybC5jaGFyQXQoeG1sVXJsLmxlbmd0aCAtIDEpICE9PSAnLycpXG4gICAge1xuICAgICAgICB4bWxVcmwgKz0gJy8nO1xuICAgIH1cblxuICAgIHZhciBwYWdlcyA9IHJlc291cmNlLmRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKTtcbiAgICB2YXIgdGV4dHVyZXMgPSB7fTtcblxuICAgIC8vIEhhbmRsZSBjb21wbGV0ZWQsIHdoZW4gdGhlIG51bWJlciBvZiB0ZXh0dXJlc1xuICAgIC8vIGxvYWQgaXMgdGhlIHNhbWUgbnVtYmVyIGFzIHJlZmVyZW5jZXMgaW4gdGhlIGZudCBmaWxlXG4gICAgdmFyIGNvbXBsZXRlZCA9IGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgIHRleHR1cmVzW3BhZ2UubWV0YWRhdGEucGFnZUZpbGVdID0gcGFnZS50ZXh0dXJlO1xuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0ZXh0dXJlcykubGVuZ3RoID09PSBwYWdlcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEJpdG1hcEZvbnRMb2FkZXIucGFyc2UocmVzb3VyY2UsIHRleHR1cmVzKTtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgKytpKVxuICAgIHtcbiAgICAgICAgdmFyIHBhZ2VGaWxlID0gcGFnZXNbaV0uZ2V0QXR0cmlidXRlKCdmaWxlJyk7XG4gICAgICAgIHZhciB1cmwgPSB4bWxVcmwgKyBwYWdlRmlsZTtcbiAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGluY2FzZSB0aGUgaW1hZ2UgaXMgbG9hZGVkIG91dHNpZGVcbiAgICAgICAgLy8gdXNpbmcgdGhlIHNhbWUgbG9hZGVyLCByZXNvdXJjZSB3aWxsIGJlIGF2YWlsYWJsZVxuICAgICAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMkMS5yZXNvdXJjZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0aGlzJDEucmVzb3VyY2VzW25hbWVdLnVybCA9PT0gdXJsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMkMS5yZXNvdXJjZXNbbmFtZV0ubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQodGhpcyQxLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRleHR1cmUgaXMgbm90IGxvYWRlZCwgd2UnbGwgYXR0ZW1wdCB0byBhZGRcbiAgICAgICAgLy8gaXQgdG8gdGhlIGxvYWQgYW5kIGFkZCB0aGUgdGV4dHVyZSB0byB0aGUgbGlzdFxuICAgICAgICBpZiAoIWV4aXN0cylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gU3RhbmRhcmQgbG9hZGluZyBvcHRpb25zIGZvciBpbWFnZXNcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICBsb2FkVHlwZTogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBPYmplY3QuYXNzaWduKFxuICAgICAgICAgICAgICAgICAgICB7IHBhZ2VGaWxlOiBwYWdlRmlsZSB9LFxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBwYXJlbnRSZXNvdXJjZTogcmVzb3VyY2UsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzJDEuYWRkKHVybCwgb3B0aW9ucywgY29tcGxldGVkKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbmV4cG9ydCB7IEJpdG1hcFRleHQsIEJpdG1hcEZvbnRMb2FkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQtYml0bWFwLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9mcmFnbWVudHMgLSB2NS4wLjAtYWxwaGEuM1xuICogQ29tcGlsZWQgVHVlLCAwMyBKdWwgMjAxOCAwNDowODoyMSBVVENcbiAqXG4gKiBAcGl4aS9mcmFnbWVudHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG52YXIgX2RlZmF1bHQgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxuICAgIHZUZXh0dXJlQ29vcmQgPSBhVGV4dHVyZUNvb3JkO1xcbn1cIjtcblxudmFyIGRlZmF1bHRGaWx0ZXIgPSBcImF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBvdXRwdXRGcmFtZTtcXG5cXG52ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG57XFxuICAgIHZlYzIgcG9zaXRpb24gPSBhVmVydGV4UG9zaXRpb24gKiBtYXgob3V0cHV0RnJhbWUuencsIHZlYzIoMC4pKSArIG91dHB1dEZyYW1lLnh5O1xcblxcbiAgICByZXR1cm4gdmVjNCgocHJvamVjdGlvbk1hdHJpeCAqIHZlYzMocG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XFxufVxcblxcbnZlYzIgZmlsdGVyVGV4dHVyZUNvb3JkKCB2b2lkIClcXG57XFxuICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbn1cXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIGdsX1Bvc2l0aW9uID0gZmlsdGVyVmVydGV4UG9zaXRpb24oKTtcXG4gICAgdlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbn1cXG5cIjtcblxuZXhwb3J0IHsgX2RlZmF1bHQgYXMgZGVmYXVsdFZlcnRleCwgZGVmYXVsdEZpbHRlciBhcyBkZWZhdWx0RmlsdGVyVmVydGV4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcmFnbWVudHMuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1hbHBoYSAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1hbHBoYSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgZGVmYXVsdFZlcnRleCB9IGZyb20gJ0BwaXhpL2ZyYWdtZW50cyc7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxuXFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCB1QWxwaGE7XFxuXFxudm9pZCBtYWluKHZvaWQpXFxue1xcbiAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCkgKiB1QWxwaGE7XFxufVxcblwiO1xuXG4vKipcbiAqIFNpbXBsZXN0IGZpbHRlciAtIGFwcGxpZXMgYWxwaGFcbiAqXG4gKiBVc2UgdGhpcyBpbnN0ZWFkIG9mIENvbnRhaW5lcidzIGFscGhhIHByb3BlcnR5IHRvIGF2b2lkIHZpc3VhbCBsYXllcmluZyBvZiBpbmRpdmlkdWFsIGVsZW1lbnRzLlxuICogQWxwaGFGaWx0ZXIgYXBwbGllcyBhbHBoYSBldmVubHkgYWNyb3NzIHRoZSBlbnRpcmUgZGlzcGxheSBvYmplY3QgYW5kIGFueSBvcGFxdWUgZWxlbWVudHMgaXQgY29udGFpbnMuXG4gKiBJZiBlbGVtZW50cyBhcmUgbm90IG9wYXF1ZSwgdGhleSB3aWxsIGJsZW5kIHdpdGggZWFjaCBvdGhlciBhbnl3YXkuXG4gKlxuICogVmVyeSBoYW5keSBpZiB5b3Ugd2FudCB0byB1c2UgY29tbW9uIGZlYXR1cmVzIG9mIGFsbCBmaWx0ZXJzOlxuICpcbiAqIDEuIEFzc2lnbiBhIGJsZW5kTW9kZSB0byB0aGlzIGZpbHRlciwgYmxlbmQgYWxsIGVsZW1lbnRzIGluc2lkZSBkaXNwbGF5IG9iamVjdCB3aXRoIGJhY2tncm91bmQuXG4gKlxuICogMi4gVG8gdXNlIGNsaXBwaW5nIGluIGRpc3BsYXkgY29vcmRpbmF0ZXMsIGFzc2lnbiBhIGZpbHRlckFyZWEgdG8gdGhlIHNhbWUgY29udGFpbmVyIHRoYXQgaGFzIHRoaXMgZmlsdGVyLlxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5GaWx0ZXJcbiAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIEFscGhhRmlsdGVyID0gKGZ1bmN0aW9uIChGaWx0ZXIkJDEpIHtcbiAgICBmdW5jdGlvbiBBbHBoYUZpbHRlcihhbHBoYSlcbiAgICB7XG4gICAgICAgIGlmICggYWxwaGEgPT09IHZvaWQgMCApIGFscGhhID0gMS4wO1xuXG4gICAgICAgIEZpbHRlciQkMS5jYWxsKHRoaXMsIGRlZmF1bHRWZXJ0ZXgsIGZyYWdtZW50LCB7IHVBbHBoYTogMSB9KTtcblxuICAgICAgICB0aGlzLmFscGhhID0gYWxwaGE7XG4gICAgfVxuXG4gICAgaWYgKCBGaWx0ZXIkJDEgKSBBbHBoYUZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXIkJDE7XG4gICAgQWxwaGFGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyJCQxICYmIEZpbHRlciQkMS5wcm90b3R5cGUgKTtcbiAgICBBbHBoYUZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBBbHBoYUZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IGFscGhhOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBDb2VmZmljaWVudCBmb3IgYWxwaGEgbXVsdGlwbGljYXRpb25cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFscGhhLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy51QWxwaGE7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5hbHBoYS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy51QWxwaGEgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEFscGhhRmlsdGVyLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQWxwaGFGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBBbHBoYUZpbHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmlsdGVyLWFscGhhLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItYmx1ciAtIHY1LjAuMC1hbHBoYS4zXG4gKiBDb21waWxlZCBUdWUsIDAzIEp1bCAyMDE4IDA0OjA4OjIxIFVUQ1xuICpcbiAqIEBwaXhpL2ZpbHRlci1ibHVyIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgRmlsdGVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBzZXR0aW5ncyQxIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuXG52YXIgdmVydFRlbXBsYXRlID0gXCJcXG4gICAgYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbiAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcXG5cXG4gICAgdW5pZm9ybSBmbG9hdCBzdHJlbmd0aDtcXG5cXG4gICAgdmFyeWluZyB2ZWMyIHZCbHVyVGV4Q29vcmRzWyVzaXplJV07XFxuXFxuICAgIHVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxuICAgIHVuaWZvcm0gdmVjNCBpbnB1dENsYW1wO1xcbiAgICB1bmlmb3JtIHZlYzQgb3V0cHV0RnJhbWU7XFxuICAgIFxcbiAgICB2ZWM0IGZpbHRlclZlcnRleFBvc2l0aW9uKCB2b2lkIClcXG4gICAge1xcbiAgICAgICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuICAgIFxcbiAgICAgICAgcmV0dXJuIHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB2ZWMzKHBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcbiAgICB9XFxuICAgIFxcbiAgICB2ZWMyIGZpbHRlclRleHR1cmVDb29yZCggdm9pZCApXFxuICAgIHtcXG4gICAgICAgIHJldHVybiBhVmVydGV4UG9zaXRpb24gKiAob3V0cHV0RnJhbWUuencgKiBpbnB1dFNpemUuencpO1xcbiAgICB9XFxuXFxuICAgIHZvaWQgbWFpbih2b2lkKVxcbiAgICB7XFxuICAgICAgICBnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFxuICAgICAgICB2ZWMyIHRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcbiAgICAgICAgJWJsdXIlXFxuICAgIH1cIjtcblxuZnVuY3Rpb24gZ2VuZXJhdGVWZXJ0Qmx1clNvdXJjZShrZXJuZWxTaXplLCB4KVxue1xuICAgIHZhciBoYWxmTGVuZ3RoID0gTWF0aC5jZWlsKGtlcm5lbFNpemUgLyAyKTtcblxuICAgIHZhciB2ZXJ0U291cmNlID0gdmVydFRlbXBsYXRlO1xuXG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlO1xuICAgIC8vIGxldCB2YWx1ZTtcblxuICAgIGlmICh4KVxuICAgIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgbWluKCB0ZXh0dXJlQ29vcmQgKyB2ZWMyKCVzYW1wbGVJbmRleCUgKiBzdHJlbmd0aCwgMC4wKSwgaW5wdXRDbGFtcC56dyk7JztcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgdGVtcGxhdGUgPSAndkJsdXJUZXhDb29yZHNbJWluZGV4JV0gPSAgbWluKCB0ZXh0dXJlQ29vcmQgKyB2ZWMyKDAuMCwgJXNhbXBsZUluZGV4JSAqIHN0cmVuZ3RoKSwgaW5wdXRDbGFtcC56dyk7JztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIC8vIHZhbHVlID0gaTtcblxuICAgICAgICAvLyBpZihpID49IGhhbGZMZW5ndGgpXG4gICAgICAgIC8vIHtcbiAgICAgICAgLy8gICAgIHZhbHVlID0ga2VybmVsU2l6ZSAtIGkgLSAxO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgYmx1ciA9IGJsdXIucmVwbGFjZSgnJXNhbXBsZUluZGV4JScsICgoaSAtIChoYWxmTGVuZ3RoIC0gMSkpICsgXCIuMFwiKSk7XG5cbiAgICAgICAgYmx1ckxvb3AgKz0gYmx1cjtcbiAgICAgICAgYmx1ckxvb3AgKz0gJ1xcbic7XG4gICAgfVxuXG4gICAgdmVydFNvdXJjZSA9IHZlcnRTb3VyY2UucmVwbGFjZSgnJWJsdXIlJywgYmx1ckxvb3ApO1xuICAgIHZlcnRTb3VyY2UgPSB2ZXJ0U291cmNlLnJlcGxhY2UoJyVzaXplJScsIGtlcm5lbFNpemUpO1xuXG4gICAgcmV0dXJuIHZlcnRTb3VyY2U7XG59XG5cbnZhciBHQVVTU0lBTl9WQUxVRVMgPSB7XG4gICAgNTogWzAuMTUzMzg4LCAwLjIyMTQ2MSwgMC4yNTAzMDFdLFxuICAgIDc6IFswLjA3MTMwMywgMC4xMzE1MTQsIDAuMTg5ODc5LCAwLjIxNDYwN10sXG4gICAgOTogWzAuMDI4NTMyLCAwLjA2NzIzNCwgMC4xMjQwMDksIDAuMTc5MDQ0LCAwLjIwMjM2XSxcbiAgICAxMTogWzAuMDA5MywgMC4wMjgwMDIsIDAuMDY1OTg0LCAwLjEyMTcwMywgMC4xNzU3MTMsIDAuMTk4NTk2XSxcbiAgICAxMzogWzAuMDAyNDA2LCAwLjAwOTI1NSwgMC4wMjc4NjcsIDAuMDY1NjY2LCAwLjEyMTExNywgMC4xNzQ4NjgsIDAuMTk3NjQxXSxcbiAgICAxNTogWzAuMDAwNDg5LCAwLjAwMjQwMywgMC4wMDkyNDYsIDAuMDI3ODQsIDAuMDY1NjAyLCAwLjEyMDk5OSwgMC4xNzQ2OTcsIDAuMTk3NDQ4XSxcbn07XG5cbnZhciBmcmFnVGVtcGxhdGUgPSBbXG4gICAgJ3ZhcnlpbmcgdmVjMiB2Qmx1clRleENvb3Jkc1slc2l6ZSVdOycsXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyOycsXG5cbiAgICAndm9pZCBtYWluKHZvaWQpJyxcbiAgICAneycsXG4gICAgJyAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbiAgICAnICAgICVibHVyJScsXG4gICAgJ30nIF0uam9pbignXFxuJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRnJhZ0JsdXJTb3VyY2Uoa2VybmVsU2l6ZSlcbntcbiAgICB2YXIga2VybmVsID0gR0FVU1NJQU5fVkFMVUVTW2tlcm5lbFNpemVdO1xuICAgIHZhciBoYWxmTGVuZ3RoID0ga2VybmVsLmxlbmd0aDtcblxuICAgIHZhciBmcmFnU291cmNlID0gZnJhZ1RlbXBsYXRlO1xuXG4gICAgdmFyIGJsdXJMb29wID0gJyc7XG4gICAgdmFyIHRlbXBsYXRlID0gJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodVNhbXBsZXIsIHZCbHVyVGV4Q29vcmRzWyVpbmRleCVdKSAqICV2YWx1ZSU7JztcbiAgICB2YXIgdmFsdWU7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5lbFNpemU7IGkrKylcbiAgICB7XG4gICAgICAgIHZhciBibHVyID0gdGVtcGxhdGUucmVwbGFjZSgnJWluZGV4JScsIGkpO1xuXG4gICAgICAgIHZhbHVlID0gaTtcblxuICAgICAgICBpZiAoaSA+PSBoYWxmTGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YWx1ZSA9IGtlcm5lbFNpemUgLSBpIC0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJsdXIgPSBibHVyLnJlcGxhY2UoJyV2YWx1ZSUnLCBrZXJuZWxbdmFsdWVdKTtcblxuICAgICAgICBibHVyTG9vcCArPSBibHVyO1xuICAgICAgICBibHVyTG9vcCArPSAnXFxuJztcbiAgICB9XG5cbiAgICBmcmFnU291cmNlID0gZnJhZ1NvdXJjZS5yZXBsYWNlKCclYmx1ciUnLCBibHVyTG9vcCk7XG4gICAgZnJhZ1NvdXJjZSA9IGZyYWdTb3VyY2UucmVwbGFjZSgnJXNpemUlJywga2VybmVsU2l6ZSk7XG5cbiAgICByZXR1cm4gZnJhZ1NvdXJjZTtcbn1cblxuZnVuY3Rpb24gZ2V0TWF4S2VybmVsU2l6ZShnbClcbntcbiAgICB2YXIgbWF4VmFyeWluZ3MgPSAoZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WQVJZSU5HX1ZFQ1RPUlMpKTtcbiAgICB2YXIga2VybmVsU2l6ZSA9IDE1O1xuXG4gICAgd2hpbGUgKGtlcm5lbFNpemUgPiBtYXhWYXJ5aW5ncylcbiAgICB7XG4gICAgICAgIGtlcm5lbFNpemUgLT0gMjtcbiAgICB9XG5cbiAgICByZXR1cm4ga2VybmVsU2l6ZTtcbn1cblxuLyoqXG4gKiBUaGUgQmx1ckZpbHRlclBhc3MgYXBwbGllcyBhIGhvcml6b250YWwgb3IgdmVydGljYWwgR2F1c3NpYW4gYmx1ciB0byBhbiBvYmplY3QuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlclBhc3MgPSAoZnVuY3Rpb24gKEZpbHRlciQkMSkge1xuICAgIGZ1bmN0aW9uIEJsdXJGaWx0ZXJQYXNzKGhvcml6b250YWwsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgIHtcbiAgICAgICAga2VybmVsU2l6ZSA9IGtlcm5lbFNpemUgfHwgNTtcbiAgICAgICAgdmFyIHZlcnRTcmMgPSBnZW5lcmF0ZVZlcnRCbHVyU291cmNlKGtlcm5lbFNpemUsIGhvcml6b250YWwpO1xuICAgICAgICB2YXIgZnJhZ1NyYyA9IGdlbmVyYXRlRnJhZ0JsdXJTb3VyY2Uoa2VybmVsU2l6ZSk7XG5cbiAgICAgICAgRmlsdGVyJCQxLmNhbGwoXG4gICAgICAgICAgICAvLyB2ZXJ0ZXggc2hhZGVyXG4gICAgICAgICAgICB0aGlzLCB2ZXJ0U3JjLFxuICAgICAgICAgICAgLy8gZnJhZ21lbnQgc2hhZGVyXG4gICAgICAgICAgICBmcmFnU3JjXG4gICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gaG9yaXpvbnRhbDtcblxuICAgICAgICB0aGlzLnJlc29sdXRpb24gPSByZXNvbHV0aW9uIHx8IHNldHRpbmdzJDEuUkVTT0xVVElPTjtcblxuICAgICAgICB0aGlzLl9xdWFsaXR5ID0gMDtcblxuICAgICAgICB0aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG5cbiAgICAgICAgdGhpcy5ibHVyID0gc3RyZW5ndGggfHwgODtcblxuICAgICAgICB0aGlzLmZpcnN0UnVuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciQkMSApIEJsdXJGaWx0ZXJQYXNzLl9fcHJvdG9fXyA9IEZpbHRlciQkMTtcbiAgICBCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIkJDEgJiYgRmlsdGVyJCQxLnByb3RvdHlwZSApO1xuICAgIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEJsdXJGaWx0ZXJQYXNzO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYmx1cjogeyBjb25maWd1cmFibGU6IHRydWUgfSxxdWFsaXR5OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICBCbHVyRmlsdGVyUGFzcy5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiBhcHBseSAoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCwgY2xlYXIpXG4gICAge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5maXJzdFJ1bilcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIGdsID0gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5nbDtcbiAgICAgICAgICAgIHZhciBrZXJuZWxTaXplID0gZ2V0TWF4S2VybmVsU2l6ZShnbCk7XG5cbiAgICAgICAgICAgIHRoaXMudmVydGV4U3JjID0gZ2VuZXJhdGVWZXJ0Qmx1clNvdXJjZShrZXJuZWxTaXplLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTcmMgPSBnZW5lcmF0ZUZyYWdCbHVyU291cmNlKGtlcm5lbFNpemUpO1xuXG4gICAgICAgICAgICB0aGlzLmZpcnN0UnVuID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3V0cHV0KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC53aWR0aCkgKiAob3V0cHV0LndpZHRoIC8gaW5wdXQud2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIG91dHB1dC5oZWlnaHQpICogKG91dHB1dC5oZWlnaHQgLyBpbnB1dC5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuaG9yaXpvbnRhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggPSAoMSAvIGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGgpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIud2lkdGggLyBpbnB1dC53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmlmb3Jtcy5zdHJlbmd0aCA9ICgxIC8gZmlsdGVyTWFuYWdlci5yZW5kZXJlci5oZWlnaHQpICogKGZpbHRlck1hbmFnZXIucmVuZGVyZXIuaGVpZ2h0IC8gaW5wdXQuaGVpZ2h0KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2NyZWVuIHNwYWNlIVxuICAgICAgICB0aGlzLnVuaWZvcm1zLnN0cmVuZ3RoICo9IHRoaXMuc3RyZW5ndGg7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc3RyZW5ndGggLz0gdGhpcy5wYXNzZXM7XG5cbiAgICAgICAgaWYgKHRoaXMucGFzc2VzID09PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQsIGNsZWFyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUoKTtcbiAgICAgICAgICAgIHZhciByZW5kZXJlciA9IGZpbHRlck1hbmFnZXIucmVuZGVyZXI7XG5cbiAgICAgICAgICAgIHZhciBmbGlwID0gaW5wdXQ7XG4gICAgICAgICAgICB2YXIgZmxvcCA9IHJlbmRlclRhcmdldDtcblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5ibGVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgZmlsdGVyTWFuYWdlci5hcHBseUZpbHRlcih0aGlzLCBmbGlwLCBmbG9wLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5wYXNzZXMgLSAxOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZXIucmVuZGVyVGV4dHVyZS5iaW5kKGZsaXAsIGZsaXAuZmlsdGVyRnJhbWUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcyQxLnVuaWZvcm1zLnVTYW1wbGVyID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gZmxvcDtcblxuICAgICAgICAgICAgICAgIGZsb3AgPSBmbGlwO1xuICAgICAgICAgICAgICAgIGZsaXAgPSB0ZW1wO1xuXG4gICAgICAgICAgICAgICAgcmVuZGVyZXIuc2hhZGVyLmJpbmQodGhpcyQxKTtcbiAgICAgICAgICAgICAgICByZW5kZXJlci5nZW9tZXRyeS5kcmF3KDUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnN0YXRlLmJsZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIuYXBwbHlGaWx0ZXIodGhpcywgZmxvcCwgb3V0cHV0LCBjbGVhcik7XG4gICAgICAgICAgICBmaWx0ZXJNYW5hZ2VyLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgc3RyZW5ndGggb2YgYm90aCB0aGUgYmx1ci5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAxNlxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHJlbmd0aDtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXIuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMucGFkZGluZyA9IDEgKyAoTWF0aC5hYnModmFsdWUpICogMik7XG4gICAgICAgIHRoaXMuc3RyZW5ndGggPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcXVhbGl0eSBvZiB0aGUgYmx1ciBieSBtb2RpZnlpbmcgdGhlIG51bWJlciBvZiBwYXNzZXMuIE1vcmUgcGFzc2VzIG1lYW5zIGhpZ2hlclxuICAgICAqIHF1YWlsaXR5IGJsdXJpbmcgYnV0IHRoZSBsb3dlciB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgNFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5xdWFsaXR5LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVhbGl0eTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnF1YWxpdHkuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuX3F1YWxpdHkgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5wYXNzZXMgPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJsdXJGaWx0ZXJQYXNzLnByb3RvdHlwZSwgcHJvdG90eXBlQWNjZXNzb3JzICk7XG5cbiAgICByZXR1cm4gQmx1ckZpbHRlclBhc3M7XG59KEZpbHRlcikpO1xuXG4vKipcbiAqIFRoZSBCbHVyRmlsdGVyIGFwcGxpZXMgYSBHYXVzc2lhbiBibHVyIHRvIGFuIG9iamVjdC5cbiAqIFRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1ciBjYW4gYmUgc2V0IGZvciB4LSBhbmQgeS1heGlzIHNlcGFyYXRlbHkuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQG1lbWJlcm9mIFBJWEkuZmlsdGVyc1xuICovXG52YXIgQmx1ckZpbHRlciA9IChmdW5jdGlvbiAoRmlsdGVyJCQxKSB7XG4gICAgZnVuY3Rpb24gQmx1ckZpbHRlcihzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSlcbiAgICB7XG4gICAgICAgIEZpbHRlciQkMS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlclBhc3ModHJ1ZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICB0aGlzLmJsdXJZRmlsdGVyID0gbmV3IEJsdXJGaWx0ZXJQYXNzKGZhbHNlLCBzdHJlbmd0aCwgcXVhbGl0eSwgcmVzb2x1dGlvbiwga2VybmVsU2l6ZSk7XG5cbiAgICAgICAgdGhpcy5fcGFkZGluZyA9IDA7XG4gICAgICAgIHRoaXMucmVzb2x1dGlvbiA9IHJlc29sdXRpb24gfHwgc2V0dGluZ3MkMS5SRVNPTFVUSU9OO1xuICAgICAgICB0aGlzLnF1YWxpdHkgPSBxdWFsaXR5IHx8IDQ7XG4gICAgICAgIHRoaXMuYmx1ciA9IHN0cmVuZ3RoIHx8IDg7XG5cbiAgICAgICAgdGhpcy5yZXBlYXRFZGdlUGl4ZWxzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCBGaWx0ZXIkJDEgKSBCbHVyRmlsdGVyLl9fcHJvdG9fXyA9IEZpbHRlciQkMTtcbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciQkMSAmJiBGaWx0ZXIkJDEucHJvdG90eXBlICk7XG4gICAgQmx1ckZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCbHVyRmlsdGVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgYmx1cjogeyBjb25maWd1cmFibGU6IHRydWUgfSxxdWFsaXR5OiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsdXJYOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsdXJZOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9LGJsZW5kTW9kZTogeyBjb25maWd1cmFibGU6IHRydWUgfSxyZXBlYXRFZGdlUGl4ZWxzOiB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBmaWx0ZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1BJWEkuRmlsdGVyTWFuYWdlcn0gZmlsdGVyTWFuYWdlciAtIFRoZSBtYW5hZ2VyLlxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJUYXJnZXR9IGlucHV0IC0gVGhlIGlucHV0IHRhcmdldC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBvdXRwdXQgLSBUaGUgb3V0cHV0IHRhcmdldC5cbiAgICAgKi9cbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5IChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KVxuICAgIHtcbiAgICAgICAgdmFyIHhTdHJlbmd0aCA9IE1hdGguYWJzKHRoaXMuYmx1clhGaWx0ZXIuc3RyZW5ndGgpO1xuICAgICAgICB2YXIgeVN0cmVuZ3RoID0gTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCk7XG5cbiAgICAgICAgaWYgKHhTdHJlbmd0aCAmJiB5U3RyZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJUYXJnZXQgPSBmaWx0ZXJNYW5hZ2VyLmdldEZpbHRlclRleHR1cmUodHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIHJlbmRlclRhcmdldCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmJsdXJZRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIHJlbmRlclRhcmdldCwgb3V0cHV0LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGZpbHRlck1hbmFnZXIucmV0dXJuRmlsdGVyVGV4dHVyZShyZW5kZXJUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHlTdHJlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ibHVyWUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmJsdXJYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCBvdXRwdXQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBCbHVyRmlsdGVyLnByb3RvdHlwZS51cGRhdGVQYWRkaW5nID0gZnVuY3Rpb24gdXBkYXRlUGFkZGluZyAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcGVhdEVkZ2VQaXhlbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnBhZGRpbmcgPSBNYXRoLm1heChNYXRoLmFicyh0aGlzLmJsdXJYRmlsdGVyLnN0cmVuZ3RoKSwgTWF0aC5hYnModGhpcy5ibHVyWUZpbHRlci5zdHJlbmd0aCkpICogMjtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiBib3RoIHRoZSBibHVyWCBhbmQgYmx1clkgcHJvcGVydGllcyBzaW11bHRhbmVvdXNseVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1ci5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmx1clhGaWx0ZXIuYmx1cjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXIuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1clhGaWx0ZXIuYmx1ciA9IHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhc3NlcyBmb3IgYmx1ci4gTW9yZSBwYXNzZXMgbWVhbnMgaGlnaGVyIHF1YWlsaXR5IGJsdXJpbmcuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5xdWFsaXR5LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5O1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMucXVhbGl0eS5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5xdWFsaXR5ID0gdGhpcy5ibHVyWUZpbHRlci5xdWFsaXR5ID0gdmFsdWU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyWCBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1clguZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJYRmlsdGVyLmJsdXI7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibHVyWC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy5ibHVyWEZpbHRlci5ibHVyID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlUGFkZGluZygpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBzdHJlbmd0aCBvZiB0aGUgYmx1clkgcHJvcGVydHlcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAyXG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmJsdXJZLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5ibHVyWUZpbHRlci5ibHVyO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYmx1clkuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuYmx1ciA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmxlbmRtb2RlIG9mIHRoZSBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCBQSVhJLkJMRU5EX01PREVTLk5PUk1BTFxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmJsdXJZRmlsdGVyLl9ibGVuZE1vZGU7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5ibGVuZE1vZGUuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtanNkb2NcbiAgICB7XG4gICAgICAgIHRoaXMuYmx1cllGaWx0ZXIuX2JsZW5kTW9kZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJZiBzZXQgdG8gdHJ1ZSB0aGUgZWRnZSBvZiB0aGUgdGFyZ2V0IHdpbGwgYmUgY2xhbXBlZFxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbH1cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5yZXBlYXRFZGdlUGl4ZWxzLmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVwZWF0RWRnZVBpeGVscztcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLnJlcGVhdEVkZ2VQaXhlbHMuc2V0ID0gZnVuY3Rpb24gKHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVwZWF0RWRnZVBpeGVscyA9IHZhbHVlO1xuICAgICAgICB0aGlzLnVwZGF0ZVBhZGRpbmcoKTtcbiAgICB9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoIEJsdXJGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBCbHVyRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ibHVyLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItY29sb3ItbWF0cml4IC0gdjUuMC4wLWFscGhhLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDMgSnVsIDIwMTggMDQ6MDg6MjEgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWNvbG9yLW1hdHJpeCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgZGVmYXVsdEZpbHRlclZlcnRleCB9IGZyb20gJ0BwaXhpL2ZyYWdtZW50cyc7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBmbG9hdCBtWzIwXTtcXG51bmlmb3JtIGZsb2F0IHVBbHBoYTtcXG5cXG52b2lkIG1haW4odm9pZClcXG57XFxuICAgIHZlYzQgYyA9IHRleHR1cmUyRCh1U2FtcGxlciwgdlRleHR1cmVDb29yZCk7XFxuXFxuICAgIGlmICh1QWxwaGEgPT0gMC4wKSB7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSBjO1xcbiAgICAgICAgcmV0dXJuO1xcbiAgICB9XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjLmEgPiAwLjApIHtcXG4gICAgICBjLnJnYiAvPSBjLmE7XFxuICAgIH1cXG5cXG4gICAgdmVjNCByZXN1bHQ7XFxuXFxuICAgIHJlc3VsdC5yID0gKG1bMF0gKiBjLnIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMV0gKiBjLmcpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bMl0gKiBjLmIpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gKG1bM10gKiBjLmEpO1xcbiAgICAgICAgcmVzdWx0LnIgKz0gbVs0XTtcXG5cXG4gICAgcmVzdWx0LmcgPSAobVs1XSAqIGMucik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs2XSAqIGMuZyk7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs3XSAqIGMuYik7XFxuICAgICAgICByZXN1bHQuZyArPSAobVs4XSAqIGMuYSk7XFxuICAgICAgICByZXN1bHQuZyArPSBtWzldO1xcblxcbiAgICByZXN1bHQuYiA9IChtWzEwXSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzExXSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEyXSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5iICs9IChtWzEzXSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5iICs9IG1bMTRdO1xcblxcbiAgICByZXN1bHQuYSA9IChtWzE1XSAqIGMucik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE2XSAqIGMuZyk7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE3XSAqIGMuYik7XFxuICAgICAgIHJlc3VsdC5hICs9IChtWzE4XSAqIGMuYSk7XFxuICAgICAgIHJlc3VsdC5hICs9IG1bMTldO1xcblxcbiAgICB2ZWMzIHJnYiA9IG1peChjLnJnYiwgcmVzdWx0LnJnYiwgdUFscGhhKTtcXG5cXG4gICAgLy8gUHJlbXVsdGlwbHkgYWxwaGEgYWdhaW4uXFxuICAgIHJnYiAqPSByZXN1bHQuYTtcXG5cXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChyZ2IsIHJlc3VsdC5hKTtcXG59XFxuXCI7XG5cbi8qKlxuICogVGhlIENvbG9yTWF0cml4RmlsdGVyIGNsYXNzIGxldHMgeW91IGFwcGx5IGEgNXg0IG1hdHJpeCB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgUkdCQVxuICogY29sb3IgYW5kIGFscGhhIHZhbHVlcyBvZiBldmVyeSBwaXhlbCBvbiB5b3VyIGRpc3BsYXlPYmplY3QgdG8gcHJvZHVjZSBhIHJlc3VsdFxuICogd2l0aCBhIG5ldyBzZXQgb2YgUkdCQSBjb2xvciBhbmQgYWxwaGEgdmFsdWVzLiBJdCdzIHByZXR0eSBwb3dlcmZ1bCFcbiAqXG4gKiBgYGBqc1xuICogIGxldCBjb2xvck1hdHJpeCA9IG5ldyBQSVhJLmZpbHRlcnMuQ29sb3JNYXRyaXhGaWx0ZXIoKTtcbiAqICBjb250YWluZXIuZmlsdGVycyA9IFtjb2xvck1hdHJpeF07XG4gKiAgY29sb3JNYXRyaXguY29udHJhc3QoMik7XG4gKiBgYGBcbiAqIEBhdXRob3IgQ2zDqW1lbnQgQ2hlbmViYXVsdCA8Y2xlbWVudEBnb29kYm95ZGlnaXRhbC5jb20+XG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBDb2xvck1hdHJpeEZpbHRlciA9IChmdW5jdGlvbiAoRmlsdGVyJCQxKSB7XG4gICAgZnVuY3Rpb24gQ29sb3JNYXRyaXhGaWx0ZXIoKVxuICAgIHtcbiAgICAgICAgdmFyIHVuaWZvcm1zID0ge1xuICAgICAgICAgICAgbTogbmV3IEZsb2F0MzJBcnJheShbMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgICAgIDAsIDAsIDEsIDAsIDAsXG4gICAgICAgICAgICAgICAgMCwgMCwgMCwgMSwgMF0pLFxuICAgICAgICAgICAgdUFscGhhOiAxLFxuICAgICAgICB9O1xuXG4gICAgICAgIEZpbHRlciQkMS5jYWxsKHRoaXMsIGRlZmF1bHRGaWx0ZXJWZXJ0ZXgsIGZyYWdtZW50LCB1bmlmb3Jtcyk7XG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IDE7XG4gICAgfVxuXG4gICAgaWYgKCBGaWx0ZXIkJDEgKSBDb2xvck1hdHJpeEZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXIkJDE7XG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyJCQxICYmIEZpbHRlciQkMS5wcm90b3R5cGUgKTtcbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb2xvck1hdHJpeEZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IG1hdHJpeDogeyBjb25maWd1cmFibGU6IHRydWUgfSxhbHBoYTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjdXJyZW50IG1hdHJpeCBhbmQgc2V0IHRoZSBuZXcgb25lXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcltdfSBtYXRyaXggLSA1eDQgbWF0cml4XG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9sb2FkTWF0cml4ID0gZnVuY3Rpb24gX2xvYWRNYXRyaXggKG1hdHJpeCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBpZiAoIG11bHRpcGx5ID09PSB2b2lkIDAgKSBtdWx0aXBseSA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBuZXdNYXRyaXggPSBtYXRyaXg7XG5cbiAgICAgICAgaWYgKG11bHRpcGx5KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9tdWx0aXBseShuZXdNYXRyaXgsIHRoaXMudW5pZm9ybXMubSwgbWF0cml4KTtcbiAgICAgICAgICAgIG5ld01hdHJpeCA9IHRoaXMuX2NvbG9yTWF0cml4KG5ld01hdHJpeCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXQgdGhlIG5ldyBtYXRyaXhcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tID0gbmV3TWF0cml4O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIHR3byBtYXQ1J3NcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gb3V0IC0gNXg0IG1hdHJpeCB0aGUgcmVjZWl2aW5nIG1hdHJpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGEgLSA1eDQgbWF0cml4IHRoZSBmaXJzdCBvcGVyYW5kXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gYiAtIDV4NCBtYXRyaXggdGhlIHNlY29uZCBvcGVyYW5kXG4gICAgICogQHJldHVybnMge251bWJlcltdfSA1eDQgbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLl9tdWx0aXBseSA9IGZ1bmN0aW9uIF9tdWx0aXBseSAob3V0LCBhLCBiKVxuICAgIHtcbiAgICAgICAgLy8gUmVkIENoYW5uZWxcbiAgICAgICAgb3V0WzBdID0gKGFbMF0gKiBiWzBdKSArIChhWzFdICogYls1XSkgKyAoYVsyXSAqIGJbMTBdKSArIChhWzNdICogYlsxNV0pO1xuICAgICAgICBvdXRbMV0gPSAoYVswXSAqIGJbMV0pICsgKGFbMV0gKiBiWzZdKSArIChhWzJdICogYlsxMV0pICsgKGFbM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsyXSA9IChhWzBdICogYlsyXSkgKyAoYVsxXSAqIGJbN10pICsgKGFbMl0gKiBiWzEyXSkgKyAoYVszXSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzNdID0gKGFbMF0gKiBiWzNdKSArIChhWzFdICogYls4XSkgKyAoYVsyXSAqIGJbMTNdKSArIChhWzNdICogYlsxOF0pO1xuICAgICAgICBvdXRbNF0gPSAoYVswXSAqIGJbNF0pICsgKGFbMV0gKiBiWzldKSArIChhWzJdICogYlsxNF0pICsgKGFbM10gKiBiWzE5XSkgKyBhWzRdO1xuXG4gICAgICAgIC8vIEdyZWVuIENoYW5uZWxcbiAgICAgICAgb3V0WzVdID0gKGFbNV0gKiBiWzBdKSArIChhWzZdICogYls1XSkgKyAoYVs3XSAqIGJbMTBdKSArIChhWzhdICogYlsxNV0pO1xuICAgICAgICBvdXRbNl0gPSAoYVs1XSAqIGJbMV0pICsgKGFbNl0gKiBiWzZdKSArIChhWzddICogYlsxMV0pICsgKGFbOF0gKiBiWzE2XSk7XG4gICAgICAgIG91dFs3XSA9IChhWzVdICogYlsyXSkgKyAoYVs2XSAqIGJbN10pICsgKGFbN10gKiBiWzEyXSkgKyAoYVs4XSAqIGJbMTddKTtcbiAgICAgICAgb3V0WzhdID0gKGFbNV0gKiBiWzNdKSArIChhWzZdICogYls4XSkgKyAoYVs3XSAqIGJbMTNdKSArIChhWzhdICogYlsxOF0pO1xuICAgICAgICBvdXRbOV0gPSAoYVs1XSAqIGJbNF0pICsgKGFbNl0gKiBiWzldKSArIChhWzddICogYlsxNF0pICsgKGFbOF0gKiBiWzE5XSkgKyBhWzldO1xuXG4gICAgICAgIC8vIEJsdWUgQ2hhbm5lbFxuICAgICAgICBvdXRbMTBdID0gKGFbMTBdICogYlswXSkgKyAoYVsxMV0gKiBiWzVdKSArIChhWzEyXSAqIGJbMTBdKSArIChhWzEzXSAqIGJbMTVdKTtcbiAgICAgICAgb3V0WzExXSA9IChhWzEwXSAqIGJbMV0pICsgKGFbMTFdICogYls2XSkgKyAoYVsxMl0gKiBiWzExXSkgKyAoYVsxM10gKiBiWzE2XSk7XG4gICAgICAgIG91dFsxMl0gPSAoYVsxMF0gKiBiWzJdKSArIChhWzExXSAqIGJbN10pICsgKGFbMTJdICogYlsxMl0pICsgKGFbMTNdICogYlsxN10pO1xuICAgICAgICBvdXRbMTNdID0gKGFbMTBdICogYlszXSkgKyAoYVsxMV0gKiBiWzhdKSArIChhWzEyXSAqIGJbMTNdKSArIChhWzEzXSAqIGJbMThdKTtcbiAgICAgICAgb3V0WzE0XSA9IChhWzEwXSAqIGJbNF0pICsgKGFbMTFdICogYls5XSkgKyAoYVsxMl0gKiBiWzE0XSkgKyAoYVsxM10gKiBiWzE5XSkgKyBhWzE0XTtcblxuICAgICAgICAvLyBBbHBoYSBDaGFubmVsXG4gICAgICAgIG91dFsxNV0gPSAoYVsxNV0gKiBiWzBdKSArIChhWzE2XSAqIGJbNV0pICsgKGFbMTddICogYlsxMF0pICsgKGFbMThdICogYlsxNV0pO1xuICAgICAgICBvdXRbMTZdID0gKGFbMTVdICogYlsxXSkgKyAoYVsxNl0gKiBiWzZdKSArIChhWzE3XSAqIGJbMTFdKSArIChhWzE4XSAqIGJbMTZdKTtcbiAgICAgICAgb3V0WzE3XSA9IChhWzE1XSAqIGJbMl0pICsgKGFbMTZdICogYls3XSkgKyAoYVsxN10gKiBiWzEyXSkgKyAoYVsxOF0gKiBiWzE3XSk7XG4gICAgICAgIG91dFsxOF0gPSAoYVsxNV0gKiBiWzNdKSArIChhWzE2XSAqIGJbOF0pICsgKGFbMTddICogYlsxM10pICsgKGFbMThdICogYlsxOF0pO1xuICAgICAgICBvdXRbMTldID0gKGFbMTVdICogYls0XSkgKyAoYVsxNl0gKiBiWzldKSArIChhWzE3XSAqIGJbMTRdKSArIChhWzE4XSAqIGJbMTldKSArIGFbMTldO1xuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gbWF0cml4IC0gNXg0IG1hdHJpeFxuICAgICAqIEByZXR1cm4ge251bWJlcltdfSA1eDQgbWF0cml4IHdpdGggYWxsIHZhbHVlcyBiZXR3ZWVuIDAtMVxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5fY29sb3JNYXRyaXggPSBmdW5jdGlvbiBfY29sb3JNYXRyaXggKG1hdHJpeClcbiAgICB7XG4gICAgICAgIC8vIENyZWF0ZSBhIEZsb2F0MzIgQXJyYXkgYW5kIG5vcm1hbGl6ZSB0aGUgb2Zmc2V0IGNvbXBvbmVudCB0byAwLTFcbiAgICAgICAgdmFyIG0gPSBuZXcgRmxvYXQzMkFycmF5KG1hdHJpeCk7XG5cbiAgICAgICAgbVs0XSAvPSAyNTU7XG4gICAgICAgIG1bOV0gLz0gMjU1O1xuICAgICAgICBtWzE0XSAvPSAyNTU7XG4gICAgICAgIG1bMTldIC89IDI1NTtcblxuICAgICAgICByZXR1cm4gbTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRqdXN0cyBicmlnaHRuZXNzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYiAtIHZhbHVlIG9mIHRoZSBicmlndGhuZXNzICgwLTEsIHdoZXJlIDAgaXMgYmxhY2spXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmJyaWdodG5lc3MgPSBmdW5jdGlvbiBicmlnaHRuZXNzIChiLCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICBiLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgYiwgMCwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIGIsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXRyaWNlcyBpbiBncmV5IHNjYWxlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlIC0gdmFsdWUgb2YgdGhlIGdyZXkgKDAtMSwgd2hlcmUgMCBpcyBibGFjaylcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZ3JleXNjYWxlID0gZnVuY3Rpb24gZ3JleXNjYWxlIChzY2FsZSwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgc2NhbGUsIHNjYWxlLCBzY2FsZSwgMCwgMCxcbiAgICAgICAgICAgIHNjYWxlLCBzY2FsZSwgc2NhbGUsIDAsIDAsXG4gICAgICAgICAgICBzY2FsZSwgc2NhbGUsIHNjYWxlLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgYmxhY2sgYW5kIHdoaXRlIG1hdHJpY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuYmxhY2tBbmRXaGl0ZSA9IGZ1bmN0aW9uIGJsYWNrQW5kV2hpdGUgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuMywgMC42LCAwLjEsIDAsIDAsXG4gICAgICAgICAgICAwLjMsIDAuNiwgMC4xLCAwLCAwLFxuICAgICAgICAgICAgMC4zLCAwLjYsIDAuMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGh1ZSBwcm9wZXJ0eSBvZiB0aGUgY29sb3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvbiAtIGluIGRlZ3JlZXNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuaHVlID0gZnVuY3Rpb24gaHVlIChyb3RhdGlvbiwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICByb3RhdGlvbiA9IChyb3RhdGlvbiB8fCAwKSAvIDE4MCAqIE1hdGguUEk7XG5cbiAgICAgICAgdmFyIGNvc1IgPSBNYXRoLmNvcyhyb3RhdGlvbik7XG4gICAgICAgIHZhciBzaW5SID0gTWF0aC5zaW4ocm90YXRpb24pO1xuICAgICAgICB2YXIgc3FydCA9IE1hdGguc3FydDtcblxuICAgICAgICAvKiBhIGdvb2QgYXBwcm94aW1hdGlvbiBmb3IgaHVlIHJvdGF0aW9uXG4gICAgICAgICBUaGlzIG1hdHJpeCBpcyBmYXIgYmV0dGVyIHRoYW4gdGhlIHZlcnNpb25zIHdpdGggbWFnaWMgbHVtaW5hbmNlIGNvbnN0YW50c1xuICAgICAgICAgZm9ybWVybHkgdXNlZCBoZXJlLCBidXQgYWxzbyB1c2VkIGluIHRoZSBzdGFybGluZyBmcmFtZXdvcmsgKGZsYXNoKSBhbmQga25vd24gZnJvbSB0aGlzXG4gICAgICAgICBvbGQgcGFydCBvZiB0aGUgaW50ZXJuZXQ6IHF1YXNpbW9uZG8uY29tL2FyY2hpdmVzLzAwMDU2NS5waHBcblxuICAgICAgICAgVGhpcyBuZXcgbWF0cml4IGlzIGJhc2VkIG9uIHJnYiBjdWJlIHJvdGF0aW9uIGluIHNwYWNlLiBMb29rIGhlcmUgZm9yIGEgbW9yZSBkZXNjcmlwdGl2ZVxuICAgICAgICAgaW1wbGVtZW50YXRpb24gYXMgYSBzaGFkZXIgbm90IGEgZ2VuZXJhbCBtYXRyaXg6XG4gICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iLzU4ODQxYzIzOTE5YmQ1OTc4N2VmZmMwMzMzYTQ4OTdiNDM4MzU0MTIvc3JjL2ZpbHRlcnMvYWRqdXN0L2h1ZXNhdHVyYXRpb24uanNcblxuICAgICAgICAgVGhpcyBpcyB0aGUgc291cmNlIGZvciB0aGUgY29kZTpcbiAgICAgICAgIHNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg1MDc4ODUvc2hpZnQtaHVlLW9mLWFuLXJnYi1jb2xvci84NTEwNzUxIzg1MTA3NTFcbiAgICAgICAgICovXG5cbiAgICAgICAgdmFyIHcgPSAxIC8gMztcbiAgICAgICAgdmFyIHNxclcgPSBzcXJ0KHcpOyAvLyB3ZWlnaHQgaXNcblxuICAgICAgICB2YXIgYTAwID0gY29zUiArICgoMS4wIC0gY29zUikgKiB3KTtcbiAgICAgICAgdmFyIGEwMSA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMDIgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuXG4gICAgICAgIHZhciBhMTAgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTExID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcbiAgICAgICAgdmFyIGExMiA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG5cbiAgICAgICAgdmFyIGEyMCA9ICh3ICogKDEuMCAtIGNvc1IpKSAtIChzcXJXICogc2luUik7XG4gICAgICAgIHZhciBhMjEgPSAodyAqICgxLjAgLSBjb3NSKSkgKyAoc3FyVyAqIHNpblIpO1xuICAgICAgICB2YXIgYTIyID0gY29zUiArICh3ICogKDEuMCAtIGNvc1IpKTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgYTAwLCBhMDEsIGEwMiwgMCwgMCxcbiAgICAgICAgICAgIGExMCwgYTExLCBhMTIsIDAsIDAsXG4gICAgICAgICAgICBhMjAsIGEyMSwgYTIyLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgY29udHJhc3QgbWF0cml4LCBpbmNyZWFzZSB0aGUgc2VwYXJhdGlvbiBiZXR3ZWVuIGRhcmsgYW5kIGJyaWdodFxuICAgICAqIEluY3JlYXNlIGNvbnRyYXN0IDogc2hhZG93cyBkYXJrZXIgYW5kIGhpZ2hsaWdodHMgYnJpZ2h0ZXJcbiAgICAgKiBEZWNyZWFzZSBjb250cmFzdCA6IGJyaW5nIHRoZSBzaGFkb3dzIHVwIGFuZCB0aGUgaGlnaGxpZ2h0cyBkb3duXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IC0gdmFsdWUgb2YgdGhlIGNvbnRyYXN0ICgwLTEpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmNvbnRyYXN0ID0gZnVuY3Rpb24gY29udHJhc3QgKGFtb3VudCwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgdiA9IChhbW91bnQgfHwgMCkgKyAxO1xuICAgICAgICB2YXIgbyA9IC0wLjUgKiAodiAtIDEpO1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICB2LCAwLCAwLCAwLCBvLFxuICAgICAgICAgICAgMCwgdiwgMCwgMCwgbyxcbiAgICAgICAgICAgIDAsIDAsIHYsIDAsIG8sXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBzYXR1cmF0aW9uIG1hdHJpeCwgaW5jcmVhc2UgdGhlIHNlcGFyYXRpb24gYmV0d2VlbiBjb2xvcnNcbiAgICAgKiBJbmNyZWFzZSBzYXR1cmF0aW9uIDogaW5jcmVhc2UgY29udHJhc3QsIGJyaWdodG5lc3MsIGFuZCBzaGFycG5lc3NcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBUaGUgc2F0dXJhdGlvbiBhbW91bnQgKDAtMSlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuc2F0dXJhdGUgPSBmdW5jdGlvbiBzYXR1cmF0ZSAoYW1vdW50LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIGlmICggYW1vdW50ID09PSB2b2lkIDAgKSBhbW91bnQgPSAwO1xuXG4gICAgICAgIHZhciB4ID0gKGFtb3VudCAqIDIgLyAzKSArIDE7XG4gICAgICAgIHZhciB5ID0gKCh4IC0gMSkgKiAtMC41KTtcblxuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgeCwgeSwgeSwgMCwgMCxcbiAgICAgICAgICAgIHksIHgsIHksIDAsIDAsXG4gICAgICAgICAgICB5LCB5LCB4LCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2F0dXJhdGUgaW1hZ2UgKHJlbW92ZSBjb2xvcilcbiAgICAgKlxuICAgICAqIENhbGwgdGhlIHNhdHVyYXRlIGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUuZGVzYXR1cmF0ZSA9IGZ1bmN0aW9uIGRlc2F0dXJhdGUgKCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHtcbiAgICAgICAgdGhpcy5zYXR1cmF0ZSgtMSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5lZ2F0aXZlIGltYWdlIChpbnZlcnNlIG9mIGNsYXNzaWMgcmdiIG1hdHJpeClcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5uZWdhdGl2ZSA9IGZ1bmN0aW9uIG5lZ2F0aXZlIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAtMSwgMCwgMCwgMSwgMCxcbiAgICAgICAgICAgIDAsIC0xLCAwLCAxLCAwLFxuICAgICAgICAgICAgMCwgMCwgLTEsIDEsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2VwaWEgaW1hZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5zZXBpYSA9IGZ1bmN0aW9uIHNlcGlhIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjM5MywgMC43Njg5OTk5LCAwLjE4ODk5OTk5LCAwLCAwLFxuICAgICAgICAgICAgMC4zNDksIDAuNjg1OTk5OSwgMC4xNjc5OTk5OSwgMCwgMCxcbiAgICAgICAgICAgIDAuMjcyLCAwLjUzMzk5OTksIDAuMTMwOTk5OTksIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29sb3IgbW90aW9uIHBpY3R1cmUgcHJvY2VzcyBpbnZlbnRlZCBpbiAxOTE2ICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLnRlY2huaWNvbG9yID0gZnVuY3Rpb24gdGVjaG5pY29sb3IgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEuOTEyNTI3Nzg5MTQ1NjA4MywgLTAuODU0NTM0NDk3Njk1MTY0NSwgLTAuMDkxNTU1MDg0ODI3NTU1ODUsIDAsIDExLjc5MzYwMzQzNDM3NzMzNyxcbiAgICAgICAgICAgIC0wLjMwODc4MzMzODU5MjgwOTcsIDEuNzY1ODkwODU1NTQ1ODQyOCwgLTAuMTA2MDE3NDMwNzQ3MjIyNDUsIDAsIC03MC4zNTIwNTE2MTQ2MTM5OCxcbiAgICAgICAgICAgIC0wLjIzMTEwMzM3NzU0ODYxNiwgLTAuNzUwMTg5OTE5NzQ0MDIxMiwgMS44NDc1OTc4MTYxMDgxODksIDAsIDMwLjk1MDk0MDg2OTQ5MTEzOCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQb2xhcm9pZCBmaWx0ZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5wb2xhcm9pZCA9IGZ1bmN0aW9uIHBvbGFyb2lkIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjQzOCwgLTAuMDYyLCAtMC4wNjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4xMjIsIDEuMzc4LCAtMC4xMjIsIDAsIDAsXG4gICAgICAgICAgICAtMC4wMTYsIC0wLjAxNiwgMS40ODMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHdobyB0cmFuc2Zvcm1zIDogUmVkIC0+IEJsdWUgYW5kIEJsdWUgLT4gUmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUudG9CR1IgPSBmdW5jdGlvbiB0b0JHUiAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDEsIDAsIDAsIDAsXG4gICAgICAgICAgICAxLCAwLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbG9yIHJldmVyc2FsIGZpbG0gaW50cm9kdWNlZCBieSBFYXN0bWFuIEtvZGFrIGluIDE5MzUuICh0aGFua3MgRG9taW5pYyBTemFibGV3c2tpKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmtvZGFjaHJvbWUgPSBmdW5jdGlvbiBrb2RhY2hyb21lIChtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAgICAgIC0wLjE2NDA0MzM5OTYyMjQ0NjE2LCAxLjA4MzUyNTE1NjYyOTEzMDQsIC0wLjA1NDk4ODA1MTE1NjMzMTMyLCAwLCAyNC43MzI0MDc4OTY3MDYyMDMsXG4gICAgICAgICAgICAtMC4xNjc4NjAxMDcwNjE1NTc2MywgLTAuNTYwMzQxNjI3NzY5NTI0OCwgMS42MDE0ODUwNzYxOTY0OTQzLCAwLCAzNS42Mjk4MjgwNzQ2MDk0NixcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCcm93biBkZWxpY2lvdXMgYnJvd25pIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5icm93bmkgPSBmdW5jdGlvbiBicm93bmkgKG11bHRpcGx5KVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDAuNTk5NzAyMzQ5ODE1OTcxNSwgMC4zNDU1MzI0MzA0ODM5MTI2MywgLTAuMjcwODI5ODY3NDUzODA0MiwgMCwgNDcuNDMxOTI4NTU2MDA4NzMsXG4gICAgICAgICAgICAtMC4wMzc3MDMyNDk4Mzc3ODMxNTcsIDAuODYwOTU3NzU4Nzk5MjY0MSwgMC4xNTA1OTU1MjM4ODQ1OTkxMywgMCwgLTM2Ljk2ODQxNDk4MzE5MTI3LFxuICAgICAgICAgICAgMC4yNDExMzYzNTEyODE1MzMzNSwgLTAuMDc0NDEwMzc5MDg0MjI0OTIsIDAuNDQ5NzIxODIwNjQ4NzcxNTMsIDAsIC03LjU2MjA3NTI3NzU5MTI4MyxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBWaW50YWdlIGZpbHRlciAodGhhbmtzIERvbWluaWMgU3phYmxld3NraSlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS52aW50YWdlID0gZnVuY3Rpb24gdmludGFnZSAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMC42Mjc5MzQ1NjM1NjA1OTk0LCAwLjMyMDIxODM0MjA4MTkzNjcsIC0wLjAzOTY1NDA4MjExMzEyNDUzLCAwLCA5LjY1MTI4NTgzNTI5NDEyMyxcbiAgICAgICAgICAgIDAuMDI1NzgzOTc3MDQ4MDg4NjgsIDAuNjQ0MTE4ODY0NDM3NDc3MSwgMC4wMzI1OTEyNzYxNjE0OTI5NCwgMCwgNy40NjI4MjkxNzY0NzA1OTEsXG4gICAgICAgICAgICAwLjA0NjYwNTU1NTY3ODI3MTksIC0wLjA4NTEyMzI5ODcyNDc4OTEsIDAuNTI0MTY0ODAxODcwMDQ2NSwgMCwgNS4xNTkxOTA1ODgyMzUyOTYsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogV2UgZG9uJ3Qga25vdyBleGFjdGx5IHdoYXQgaXQgZG9lcywga2luZCBvZiBncmFkaWVudCBtYXAsIGJ1dCBmdW5ueSB0byBwbGF5IHdpdGghXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVzYXR1cmF0aW9uIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRvbmVkIC0gVG9uZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpZ2h0Q29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBkYXJrQ29sb3IgLSBUb25lIHZhbHVlcywgZXhhbXBsZTogYDB4RkZFNTgwYFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gbXVsdGlwbHkgLSBpZiB0cnVlLCBjdXJyZW50IG1hdHJpeCBhbmQgbWF0cml4IGFyZSBtdWx0aXBsaWVkLiBJZiBmYWxzZSxcbiAgICAgKiAganVzdCBzZXQgdGhlIGN1cnJlbnQgbWF0cml4IHdpdGggQHBhcmFtIG1hdHJpeFxuICAgICAqL1xuICAgIENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5jb2xvclRvbmUgPSBmdW5jdGlvbiBjb2xvclRvbmUgKGRlc2F0dXJhdGlvbiwgdG9uZWQsIGxpZ2h0Q29sb3IsIGRhcmtDb2xvciwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBkZXNhdHVyYXRpb24gPSBkZXNhdHVyYXRpb24gfHwgMC4yO1xuICAgICAgICB0b25lZCA9IHRvbmVkIHx8IDAuMTU7XG4gICAgICAgIGxpZ2h0Q29sb3IgPSBsaWdodENvbG9yIHx8IDB4RkZFNTgwO1xuICAgICAgICBkYXJrQ29sb3IgPSBkYXJrQ29sb3IgfHwgMHgzMzgwMDA7XG5cbiAgICAgICAgdmFyIGxSID0gKChsaWdodENvbG9yID4+IDE2KSAmIDB4RkYpIC8gMjU1O1xuICAgICAgICB2YXIgbEcgPSAoKGxpZ2h0Q29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGxCID0gKGxpZ2h0Q29sb3IgJiAweEZGKSAvIDI1NTtcblxuICAgICAgICB2YXIgZFIgPSAoKGRhcmtDb2xvciA+PiAxNikgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRHID0gKChkYXJrQ29sb3IgPj4gOCkgJiAweEZGKSAvIDI1NTtcbiAgICAgICAgdmFyIGRCID0gKGRhcmtDb2xvciAmIDB4RkYpIC8gMjU1O1xuXG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAwLjMsIDAuNTksIDAuMTEsIDAsIDAsXG4gICAgICAgICAgICBsUiwgbEcsIGxCLCBkZXNhdHVyYXRpb24sIDAsXG4gICAgICAgICAgICBkUiwgZEcsIGRCLCB0b25lZCwgMCxcbiAgICAgICAgICAgIGxSIC0gZFIsIGxHIC0gZEcsIGxCIC0gZEIsIDAsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgbXVsdGlwbHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBOaWdodCBlZmZlY3RcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbnRlbnNpdHkgLSBUaGUgaW50ZW5zaXR5IG9mIHRoZSBuaWdodCBlZmZlY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLm5pZ2h0ID0gZnVuY3Rpb24gbmlnaHQgKGludGVuc2l0eSwgbXVsdGlwbHkpXG4gICAge1xuICAgICAgICBpbnRlbnNpdHkgPSBpbnRlbnNpdHkgfHwgMC4xO1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgaW50ZW5zaXR5ICogKC0yLjApLCAtaW50ZW5zaXR5LCAwLCAwLCAwLFxuICAgICAgICAgICAgLWludGVuc2l0eSwgMCwgaW50ZW5zaXR5LCAwLCAwLFxuICAgICAgICAgICAgMCwgaW50ZW5zaXR5LCBpbnRlbnNpdHkgKiAyLjAsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHJlZGF0b3IgZWZmZWN0XG4gICAgICpcbiAgICAgKiBFcmFzZSB0aGUgY3VycmVudCBtYXRyaXggYnkgc2V0dGluZyBhIG5ldyBpbmRlcGVudCBvbmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgLSBob3cgbXVjaCB0aGUgcHJlZGF0b3IgZmVlbHMgaGlzIGZ1dHVyZSB2aWN0aW1cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG11bHRpcGx5IC0gaWYgdHJ1ZSwgY3VycmVudCBtYXRyaXggYW5kIG1hdHJpeCBhcmUgbXVsdGlwbGllZC4gSWYgZmFsc2UsXG4gICAgICogIGp1c3Qgc2V0IHRoZSBjdXJyZW50IG1hdHJpeCB3aXRoIEBwYXJhbSBtYXRyaXhcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucHJlZGF0b3IgPSBmdW5jdGlvbiBwcmVkYXRvciAoYW1vdW50LCBtdWx0aXBseSlcbiAgICB7XG4gICAgICAgIHZhciBtYXRyaXggPSBbXG4gICAgICAgICAgICAvLyByb3cgMVxuICAgICAgICAgICAgMTEuMjI0MTMwNjMwNDkzMTY0ICogYW1vdW50LFxuICAgICAgICAgICAgLTQuNzk0NDg2OTk5NTExNzE5ICogYW1vdW50LFxuICAgICAgICAgICAgLTIuODc0NjExODU0NTUzMjIyNyAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjQwMzQyNDM4MjIwOTc3NzgzICogYW1vdW50LFxuICAgICAgICAgICAgLy8gcm93IDJcbiAgICAgICAgICAgIC0zLjYzMzA2OTc1MzY0Njg1MDYgKiBhbW91bnQsXG4gICAgICAgICAgICA5LjE5MzE1NzE5NjA0NDkyMiAqIGFtb3VudCxcbiAgICAgICAgICAgIC0yLjk1MTgxMDgzNjc5MTk5MiAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAtMS4zMTYxMzUwNDg4NjYyNzIgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgM1xuICAgICAgICAgICAgLTMuMjE4NDE5NzkwMjY3OTQ0MyAqIGFtb3VudCxcbiAgICAgICAgICAgIC00LjIzNzUwMzA1MTc1NzgxMjUgKiBhbW91bnQsXG4gICAgICAgICAgICA3LjQ3NjQ0ODA1OTA4MjAzMSAqIGFtb3VudCxcbiAgICAgICAgICAgIDAgKiBhbW91bnQsXG4gICAgICAgICAgICAwLjgwNDQ0NTkyMjM3NDcyNTMgKiBhbW91bnQsXG4gICAgICAgICAgICAvLyByb3cgNFxuICAgICAgICAgICAgMCwgMCwgMCwgMSwgMCBdO1xuXG4gICAgICAgIHRoaXMuX2xvYWRNYXRyaXgobWF0cml4LCBtdWx0aXBseSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIExTRCBlZmZlY3RcbiAgICAgKlxuICAgICAqIE11bHRpcGx5IHRoZSBjdXJyZW50IG1hdHJpeFxuICAgICAqXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtdWx0aXBseSAtIGlmIHRydWUsIGN1cnJlbnQgbWF0cml4IGFuZCBtYXRyaXggYXJlIG11bHRpcGxpZWQuIElmIGZhbHNlLFxuICAgICAqICBqdXN0IHNldCB0aGUgY3VycmVudCBtYXRyaXggd2l0aCBAcGFyYW0gbWF0cml4XG4gICAgICovXG4gICAgQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmxzZCA9IGZ1bmN0aW9uIGxzZCAobXVsdGlwbHkpXG4gICAge1xuICAgICAgICB2YXIgbWF0cml4ID0gW1xuICAgICAgICAgICAgMiwgLTAuNCwgMC41LCAwLCAwLFxuICAgICAgICAgICAgLTAuNSwgMiwgLTAuNCwgMCwgMCxcbiAgICAgICAgICAgIC0wLjQsIC0wLjUsIDMsIDAsIDAsXG4gICAgICAgICAgICAwLCAwLCAwLCAxLCAwIF07XG5cbiAgICAgICAgdGhpcy5fbG9hZE1hdHJpeChtYXRyaXgsIG11bHRpcGx5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRXJhc2UgdGhlIGN1cnJlbnQgbWF0cml4IGJ5IHNldHRpbmcgdGhlIGRlZmF1bHQgb25lXG4gICAgICpcbiAgICAgKi9cbiAgICBDb2xvck1hdHJpeEZpbHRlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiByZXNldCAoKVxuICAgIHtcbiAgICAgICAgdmFyIG1hdHJpeCA9IFtcbiAgICAgICAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAgICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgICAgIDAsIDAsIDAsIDEsIDAgXTtcblxuICAgICAgICB0aGlzLl9sb2FkTWF0cml4KG1hdHJpeCwgZmFsc2UpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWF0cml4IG9mIHRoZSBjb2xvciBtYXRyaXggZmlsdGVyXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtudW1iZXJbXX1cbiAgICAgKiBAZGVmYXVsdCBbMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMCwgMCwgMSwgMF1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF0cml4LmdldCA9IGZ1bmN0aW9uICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy51bmlmb3Jtcy5tO1xuICAgIH07XG5cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubWF0cml4LnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLm0gPSB2YWx1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIG9wYWNpdHkgdmFsdWUgdG8gdXNlIHdoZW4gbWl4aW5nIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0YW50IGNvbG9ycy5cbiAgICAgKlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDAsIHRoZSBvcmlnaW5hbCBjb2xvciBpcyB1c2VkIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgICAqIFdoZW4gdGhlIHZhbHVlIGlzIDEsIHRoZSByZXN1bHQgY29sb3IgaXMgdXNlZC5cbiAgICAgKiBXaGVuIGluIHRoZSByYW5nZSAoMCwgMSkgdGhlIGNvbG9yIGlzIGludGVycG9sYXRlZCBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgcmVzdWx0IGJ5IHRoaXMgYW1vdW50LlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuYWxwaGEuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVBbHBoYTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLmFscGhhLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVBbHBoYSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyggQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBDb2xvck1hdHJpeEZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbi8vIEFtZXJpY2FuaXplZCBhbGlhc1xuQ29sb3JNYXRyaXhGaWx0ZXIucHJvdG90eXBlLmdyYXlzY2FsZSA9IENvbG9yTWF0cml4RmlsdGVyLnByb3RvdHlwZS5ncmV5c2NhbGU7XG5cbmV4cG9ydCB7IENvbG9yTWF0cml4RmlsdGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWx0ZXItY29sb3ItbWF0cml4LmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItZGlzcGxhY2VtZW50IC0gdjUuMC4wLWFscGhhLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDMgSnVsIDIwMTggMDQ6MDg6MjEgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEZpbHRlciB9IGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0IHsgTWF0cml4LCBQb2ludCB9IGZyb20gJ0BwaXhpL21hdGgnO1xuXG52YXIgdmVydGV4ID0gXCJhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XFxuXFxudW5pZm9ybSBtYXQzIHByb2plY3Rpb25NYXRyaXg7XFxudW5pZm9ybSBtYXQzIGZpbHRlck1hdHJpeDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzIgdkZpbHRlckNvb3JkO1xcblxcbnVuaWZvcm0gdmVjNCBpbnB1dFNpemU7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudmVjMiBmaWx0ZXJUZXh0dXJlQ29vcmQoIHZvaWQgKVxcbntcXG4gICAgcmV0dXJuIGFWZXJ0ZXhQb3NpdGlvbiAqIChvdXRwdXRGcmFtZS56dyAqIGlucHV0U2l6ZS56dyk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG5cXHRnbF9Qb3NpdGlvbiA9IGZpbHRlclZlcnRleFBvc2l0aW9uKCk7XFxuXFx0dlRleHR1cmVDb29yZCA9IGZpbHRlclRleHR1cmVDb29yZCgpO1xcblxcdHZGaWx0ZXJDb29yZCA9ICggZmlsdGVyTWF0cml4ICogdmVjMyggdlRleHR1cmVDb29yZCwgMS4wKSAgKS54eTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZGaWx0ZXJDb29yZDtcXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG5cXG51bmlmb3JtIHZlYzIgc2NhbGU7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxudW5pZm9ybSBzYW1wbGVyMkQgbWFwU2FtcGxlcjtcXG5cXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRTaXplO1xcbnVuaWZvcm0gdmVjNCBpbnB1dENsYW1wO1xcblxcbnZvaWQgbWFpbih2b2lkKVxcbntcXG4gIHZlYzQgbWFwID0gIHRleHR1cmUyRChtYXBTYW1wbGVyLCB2RmlsdGVyQ29vcmQpO1xcblxcbiAgbWFwIC09IDAuNTtcXG4gIG1hcC54eSAqPSBzY2FsZSAqIGlucHV0U2l6ZS56dztcXG5cXG4gIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgY2xhbXAodmVjMih2VGV4dHVyZUNvb3JkLnggKyBtYXAueCwgdlRleHR1cmVDb29yZC55ICsgbWFwLnkpLCBpbnB1dENsYW1wLnh5LCBpbnB1dENsYW1wLnp3KSk7XFxufVxcblwiO1xuXG4vKipcbiAqIFRoZSBEaXNwbGFjZW1lbnRGaWx0ZXIgY2xhc3MgdXNlcyB0aGUgcGl4ZWwgdmFsdWVzIGZyb20gdGhlIHNwZWNpZmllZCB0ZXh0dXJlXG4gKiAoY2FsbGVkIHRoZSBkaXNwbGFjZW1lbnQgbWFwKSB0byBwZXJmb3JtIGEgZGlzcGxhY2VtZW50IG9mIGFuIG9iamVjdC4gWW91IGNhblxuICogdXNlIHRoaXMgZmlsdGVyIHRvIGFwcGx5IGFsbCBtYW5vciBvZiBjcmF6eSB3YXJwaW5nIGVmZmVjdHMuIEN1cnJlbnRseSB0aGUgclxuICogcHJvcGVydHkgb2YgdGhlIHRleHR1cmUgaXMgdXNlZCB0byBvZmZzZXQgdGhlIHggYW5kIHRoZSBnIHByb3BlcnR5IG9mIHRoZSB0ZXh0dXJlXG4gKiBpcyB1c2VkIHRvIG9mZnNldCB0aGUgeS5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBEaXNwbGFjZW1lbnRGaWx0ZXIgPSAoZnVuY3Rpb24gKEZpbHRlciQkMSkge1xuICAgIGZ1bmN0aW9uIERpc3BsYWNlbWVudEZpbHRlcihzcHJpdGUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgdmFyIG1hc2tNYXRyaXggPSBuZXcgTWF0cml4KCk7XG5cbiAgICAgICAgc3ByaXRlLnJlbmRlcmFibGUgPSBmYWxzZTtcblxuICAgICAgICBGaWx0ZXIkJDEuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50LCB7XG4gICAgICAgICAgICBtYXBTYW1wbGVyOiBzcHJpdGUuX3RleHR1cmUsXG4gICAgICAgICAgICBmaWx0ZXJNYXRyaXg6IG1hc2tNYXRyaXgsXG4gICAgICAgICAgICBzY2FsZTogeyB4OiAxLCB5OiAxIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubWFza1Nwcml0ZSA9IHNwcml0ZTtcbiAgICAgICAgdGhpcy5tYXNrTWF0cml4ID0gbWFza01hdHJpeDtcblxuICAgICAgICBpZiAoc2NhbGUgPT09IG51bGwgfHwgc2NhbGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgc2NhbGUgPSAyMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXcgUG9pbnQoc2NhbGUsIHNjYWxlKTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciQkMSApIERpc3BsYWNlbWVudEZpbHRlci5fX3Byb3RvX18gPSBGaWx0ZXIkJDE7XG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEZpbHRlciQkMSAmJiBGaWx0ZXIkJDEucHJvdG90eXBlICk7XG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERpc3BsYWNlbWVudEZpbHRlcjtcblxuICAgIHZhciBwcm90b3R5cGVBY2Nlc3NvcnMgPSB7IG1hcDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgZmlsdGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtQSVhJLkZpbHRlck1hbmFnZXJ9IGZpbHRlck1hbmFnZXIgLSBUaGUgbWFuYWdlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyVGFyZ2V0fSBpbnB1dCAtIFRoZSBpbnB1dCB0YXJnZXQuXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlclRhcmdldH0gb3V0cHV0IC0gVGhlIG91dHB1dCB0YXJnZXQuXG4gICAgICovXG4gICAgRGlzcGxhY2VtZW50RmlsdGVyLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5IChmaWx0ZXJNYW5hZ2VyLCBpbnB1dCwgb3V0cHV0KVxuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5maWx0ZXJNYXRyaXggPSBmaWx0ZXJNYW5hZ2VyLmNhbGN1bGF0ZVNwcml0ZU1hdHJpeCh0aGlzLm1hc2tNYXRyaXgsIHRoaXMubWFza1Nwcml0ZSk7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuc2NhbGUueCA9IHRoaXMuc2NhbGUueDtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5zY2FsZS55ID0gdGhpcy5zY2FsZS55O1xuXG4gICAgICAgIC8vIGRyYXcgdGhlIGZpbHRlci4uLlxuICAgICAgICBmaWx0ZXJNYW5hZ2VyLmFwcGx5RmlsdGVyKHRoaXMsIGlucHV0LCBvdXRwdXQpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dHVyZSB1c2VkIGZvciB0aGUgZGlzcGxhY2VtZW50IG1hcC4gTXVzdCBiZSBwb3dlciBvZiAyIHNpemVkIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hcC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMubWFwU2FtcGxlcjtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm1hcC5zZXQgPSBmdW5jdGlvbiAodmFsdWUpIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVxdWlyZS1qc2RvY1xuICAgIHtcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5tYXBTYW1wbGVyID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBEaXNwbGFjZW1lbnRGaWx0ZXIucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxuICAgIHJldHVybiBEaXNwbGFjZW1lbnRGaWx0ZXI7XG59KEZpbHRlcikpO1xuXG5leHBvcnQgeyBEaXNwbGFjZW1lbnRGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1kaXNwbGFjZW1lbnQuZXMuanMubWFwXG4iLCIvKiFcbiAqIEBwaXhpL2ZpbHRlci1meGFhIC0gdjUuMC4wLWFscGhhLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDMgSnVsIDIwMTggMDQ6MDg6MjEgVVRDXG4gKlxuICogQHBpeGkvZmlsdGVyLWZ4YWEgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcblxudmFyIHZlcnRleCA9IFwiXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcblxcbnZhcnlpbmcgdmVjMiB2X3JnYk5XO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk5FO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNXO1xcbnZhcnlpbmcgdmVjMiB2X3JnYlNFO1xcbnZhcnlpbmcgdmVjMiB2X3JnYk07XFxuXFxudmFyeWluZyB2ZWMyIHZGcmFnQ29vcmQ7XFxuXFxudW5pZm9ybSB2ZWM0IGlucHV0UGl4ZWw7XFxudW5pZm9ybSB2ZWM0IG91dHB1dEZyYW1lO1xcblxcbnZlYzQgZmlsdGVyVmVydGV4UG9zaXRpb24oIHZvaWQgKVxcbntcXG4gICAgdmVjMiBwb3NpdGlvbiA9IGFWZXJ0ZXhQb3NpdGlvbiAqIG1heChvdXRwdXRGcmFtZS56dywgdmVjMigwLikpICsgb3V0cHV0RnJhbWUueHk7XFxuXFxuICAgIHJldHVybiB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhwb3NpdGlvbiwgMS4wKSkueHksIDAuMCwgMS4wKTtcXG59XFxuXFxudm9pZCB0ZXhjb29yZHModmVjMiBmcmFnQ29vcmQsIHZlYzIgaW52ZXJzZVZQLFxcbiAgICAgICAgICAgICAgIG91dCB2ZWMyIHZfcmdiTlcsIG91dCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgICAgICAgb3V0IHZlYzIgdl9yZ2JTVywgb3V0IHZlYzIgdl9yZ2JTRSxcXG4gICAgICAgICAgICAgICBvdXQgdmVjMiB2X3JnYk0pIHtcXG4gICAgdl9yZ2JOVyA9IChmcmFnQ29vcmQgKyB2ZWMyKC0xLjAsIC0xLjApKSAqIGludmVyc2VWUDtcXG4gICAgdl9yZ2JORSA9IChmcmFnQ29vcmQgKyB2ZWMyKDEuMCwgLTEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYlNXID0gKGZyYWdDb29yZCArIHZlYzIoLTEuMCwgMS4wKSkgKiBpbnZlcnNlVlA7XFxuICAgIHZfcmdiU0UgPSAoZnJhZ0Nvb3JkICsgdmVjMigxLjAsIDEuMCkpICogaW52ZXJzZVZQO1xcbiAgICB2X3JnYk0gPSB2ZWMyKGZyYWdDb29yZCAqIGludmVyc2VWUCk7XFxufVxcblxcbnZvaWQgbWFpbih2b2lkKSB7XFxuXFxuICAgZ2xfUG9zaXRpb24gPSBmaWx0ZXJWZXJ0ZXhQb3NpdGlvbigpO1xcblxcbiAgIHZGcmFnQ29vcmQgPSBhVmVydGV4UG9zaXRpb24gKiBvdXRwdXRGcmFtZS56dztcXG5cXG4gICB0ZXhjb29yZHModkZyYWdDb29yZCwgaW5wdXRQaXhlbC56dywgdl9yZ2JOVywgdl9yZ2JORSwgdl9yZ2JTVywgdl9yZ2JTRSwgdl9yZ2JNKTtcXG59XFxuXCI7XG5cbnZhciBmcmFnbWVudCA9IFwidmFyeWluZyB2ZWMyIHZfcmdiTlc7XFxudmFyeWluZyB2ZWMyIHZfcmdiTkU7XFxudmFyeWluZyB2ZWMyIHZfcmdiU1c7XFxudmFyeWluZyB2ZWMyIHZfcmdiU0U7XFxudmFyeWluZyB2ZWMyIHZfcmdiTTtcXG5cXG52YXJ5aW5nIHZlYzIgdkZyYWdDb29yZDtcXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIGhpZ2hwIHZlYzQgaW5wdXRQaXhlbDtcXG5cXG5cXG4vKipcXG4gQmFzaWMgRlhBQSBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiB0aGUgY29kZSBvbiBnZWVrczNkLmNvbSB3aXRoIHRoZVxcbiBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0J3NcXG4gdW5zdXBwb3J0ZWQgYnkgV2ViR0wuXFxuXFxuIC0tXFxuXFxuIEZyb206XFxuIGh0dHBzOi8vZ2l0aHViLmNvbS9taXRzdWhpa28vd2ViZ2wtbWVpbmNyYWZ0XFxuXFxuIENvcHlyaWdodCAoYykgMjAxMSBieSBBcm1pbiBSb25hY2hlci5cXG5cXG4gU29tZSByaWdodHMgcmVzZXJ2ZWQuXFxuXFxuIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxcbiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlXFxuIG1ldDpcXG5cXG4gKiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxcbiBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXFxuXFxuICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZVxcbiBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xcbiBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWRcXG4gd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxcblxcbiAqIFRoZSBuYW1lcyBvZiB0aGUgY29udHJpYnV0b3JzIG1heSBub3QgYmUgdXNlZCB0byBlbmRvcnNlIG9yXFxuIHByb21vdGUgcHJvZHVjdHMgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpY1xcbiBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXFxuXFxuIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlNcXG4gXFxcIkFTIElTXFxcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1RcXG4gTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SXFxuIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXFxuIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLFxcbiBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UXFxuIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxcbiBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTllcXG4gVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxcbiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcXG4gT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cXG4gKi9cXG5cXG4jaWZuZGVmIEZYQUFfUkVEVUNFX01JTlxcbiNkZWZpbmUgRlhBQV9SRURVQ0VfTUlOICAgKDEuMC8gMTI4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1JFRFVDRV9NVUxcXG4jZGVmaW5lIEZYQUFfUkVEVUNFX01VTCAgICgxLjAgLyA4LjApXFxuI2VuZGlmXFxuI2lmbmRlZiBGWEFBX1NQQU5fTUFYXFxuI2RlZmluZSBGWEFBX1NQQU5fTUFYICAgICA4LjBcXG4jZW5kaWZcXG5cXG4vL29wdGltaXplZCB2ZXJzaW9uIGZvciBtb2JpbGUsIHdoZXJlIGRlcGVuZGVudFxcbi8vdGV4dHVyZSByZWFkcyBjYW4gYmUgYSBib3R0bGVuZWNrXFxudmVjNCBmeGFhKHNhbXBsZXIyRCB0ZXgsIHZlYzIgZnJhZ0Nvb3JkLCB2ZWMyIGludmVyc2VWUCxcXG4gICAgICAgICAgdmVjMiB2X3JnYk5XLCB2ZWMyIHZfcmdiTkUsXFxuICAgICAgICAgIHZlYzIgdl9yZ2JTVywgdmVjMiB2X3JnYlNFLFxcbiAgICAgICAgICB2ZWMyIHZfcmdiTSkge1xcbiAgICB2ZWM0IGNvbG9yO1xcbiAgICB2ZWMzIHJnYk5XID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JOVykueHl6O1xcbiAgICB2ZWMzIHJnYk5FID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JORSkueHl6O1xcbiAgICB2ZWMzIHJnYlNXID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTVykueHl6O1xcbiAgICB2ZWMzIHJnYlNFID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JTRSkueHl6O1xcbiAgICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHRleCwgdl9yZ2JNKTtcXG4gICAgdmVjMyByZ2JNICA9IHRleENvbG9yLnh5ejtcXG4gICAgdmVjMyBsdW1hID0gdmVjMygwLjI5OSwgMC41ODcsIDAuMTE0KTtcXG4gICAgZmxvYXQgbHVtYU5XID0gZG90KHJnYk5XLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU5FID0gZG90KHJnYk5FLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNXID0gZG90KHJnYlNXLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYVNFID0gZG90KHJnYlNFLCBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU0gID0gZG90KHJnYk0sICBsdW1hKTtcXG4gICAgZmxvYXQgbHVtYU1pbiA9IG1pbihsdW1hTSwgbWluKG1pbihsdW1hTlcsIGx1bWFORSksIG1pbihsdW1hU1csIGx1bWFTRSkpKTtcXG4gICAgZmxvYXQgbHVtYU1heCA9IG1heChsdW1hTSwgbWF4KG1heChsdW1hTlcsIGx1bWFORSksIG1heChsdW1hU1csIGx1bWFTRSkpKTtcXG5cXG4gICAgbWVkaXVtcCB2ZWMyIGRpcjtcXG4gICAgZGlyLnggPSAtKChsdW1hTlcgKyBsdW1hTkUpIC0gKGx1bWFTVyArIGx1bWFTRSkpO1xcbiAgICBkaXIueSA9ICAoKGx1bWFOVyArIGx1bWFTVykgLSAobHVtYU5FICsgbHVtYVNFKSk7XFxuXFxuICAgIGZsb2F0IGRpclJlZHVjZSA9IG1heCgobHVtYU5XICsgbHVtYU5FICsgbHVtYVNXICsgbHVtYVNFKSAqXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoMC4yNSAqIEZYQUFfUkVEVUNFX01VTCksIEZYQUFfUkVEVUNFX01JTik7XFxuXFxuICAgIGZsb2F0IHJjcERpck1pbiA9IDEuMCAvIChtaW4oYWJzKGRpci54KSwgYWJzKGRpci55KSkgKyBkaXJSZWR1Y2UpO1xcbiAgICBkaXIgPSBtaW4odmVjMihGWEFBX1NQQU5fTUFYLCBGWEFBX1NQQU5fTUFYKSxcXG4gICAgICAgICAgICAgIG1heCh2ZWMyKC1GWEFBX1NQQU5fTUFYLCAtRlhBQV9TUEFOX01BWCksXFxuICAgICAgICAgICAgICAgICAgZGlyICogcmNwRGlyTWluKSkgKiBpbnZlcnNlVlA7XFxuXFxuICAgIHZlYzMgcmdiQSA9IDAuNSAqIChcXG4gICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUyRCh0ZXgsIGZyYWdDb29yZCAqIGludmVyc2VWUCArIGRpciAqICgxLjAgLyAzLjAgLSAwLjUpKS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZTJEKHRleCwgZnJhZ0Nvb3JkICogaW52ZXJzZVZQICsgZGlyICogKDIuMCAvIDMuMCAtIDAuNSkpLnh5eik7XFxuICAgIHZlYzMgcmdiQiA9IHJnYkEgKiAwLjUgKyAwLjI1ICogKFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAtMC41KS54eXogK1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlMkQodGV4LCBmcmFnQ29vcmQgKiBpbnZlcnNlVlAgKyBkaXIgKiAwLjUpLnh5eik7XFxuXFxuICAgIGZsb2F0IGx1bWFCID0gZG90KHJnYkIsIGx1bWEpO1xcbiAgICBpZiAoKGx1bWFCIDwgbHVtYU1pbikgfHwgKGx1bWFCID4gbHVtYU1heCkpXFxuICAgICAgICBjb2xvciA9IHZlYzQocmdiQSwgdGV4Q29sb3IuYSk7XFxuICAgIGVsc2VcXG4gICAgICAgIGNvbG9yID0gdmVjNChyZ2JCLCB0ZXhDb2xvci5hKTtcXG4gICAgcmV0dXJuIGNvbG9yO1xcbn1cXG5cXG52b2lkIG1haW4oKSB7XFxuXFxuICAgICAgdmVjNCBjb2xvcjtcXG5cXG4gICAgICBjb2xvciA9IGZ4YWEodVNhbXBsZXIsIHZGcmFnQ29vcmQsIGlucHV0UGl4ZWwuencsIHZfcmdiTlcsIHZfcmdiTkUsIHZfcmdiU1csIHZfcmdiU0UsIHZfcmdiTSk7XFxuXFxuICAgICAgZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxufVxcblwiO1xuXG4vKipcbiAqXG4gKiBCYXNpYyBGWEFBIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIHRoZSBjb2RlIG9uIGdlZWtzM2QuY29tIHdpdGggdGhlXG4gKiBtb2RpZmljYXRpb24gdGhhdCB0aGUgdGV4dHVyZTJETG9kIHN0dWZmIHdhcyByZW1vdmVkIHNpbmNlIGl0J3NcbiAqIHVuc3VwcG9ydGVkIGJ5IFdlYkdMLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pdHN1aGlrby93ZWJnbC1tZWluY3JhZnRcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKlxuICovXG52YXIgRlhBQUZpbHRlciA9IChmdW5jdGlvbiAoRmlsdGVyJCQxKSB7XG4gICAgZnVuY3Rpb24gRlhBQUZpbHRlcigpXG4gICAge1xuICAgICAgICAvLyBUT0RPIC0gbmVlZHMgd29ya1xuICAgICAgICBGaWx0ZXIkJDEuY2FsbCh0aGlzLCB2ZXJ0ZXgsIGZyYWdtZW50KTtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciQkMSApIEZYQUFGaWx0ZXIuX19wcm90b19fID0gRmlsdGVyJCQxO1xuICAgIEZYQUFGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggRmlsdGVyJCQxICYmIEZpbHRlciQkMS5wcm90b3R5cGUgKTtcbiAgICBGWEFBRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZYQUFGaWx0ZXI7XG5cbiAgICByZXR1cm4gRlhBQUZpbHRlcjtcbn0oRmlsdGVyKSk7XG5cbmV4cG9ydCB7IEZYQUFGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1meGFhLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9maWx0ZXItbm9pc2UgLSB2NS4wLjAtYWxwaGEuM1xuICogQ29tcGlsZWQgVHVlLCAwMyBKdWwgMjAxOCAwNDowODoyMSBVVENcbiAqXG4gKiBAcGl4aS9maWx0ZXItbm9pc2UgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG5pbXBvcnQgeyBGaWx0ZXIgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IGRlZmF1bHRGaWx0ZXJWZXJ0ZXggfSBmcm9tICdAcGl4aS9mcmFnbWVudHMnO1xuXG52YXIgZnJhZ21lbnQgPSBcInByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG5cXG52YXJ5aW5nIHZlYzIgdlRleHR1cmVDb29yZDtcXG52YXJ5aW5nIHZlYzQgdkNvbG9yO1xcblxcbnVuaWZvcm0gZmxvYXQgdU5vaXNlO1xcbnVuaWZvcm0gZmxvYXQgdVNlZWQ7XFxudW5pZm9ybSBzYW1wbGVyMkQgdVNhbXBsZXI7XFxuXFxuZmxvYXQgcmFuZCh2ZWMyIGNvKVxcbntcXG4gICAgcmV0dXJuIGZyYWN0KHNpbihkb3QoY28ueHksIHZlYzIoMTIuOTg5OCwgNzguMjMzKSkpICogNDM3NTguNTQ1Myk7XFxufVxcblxcbnZvaWQgbWFpbigpXFxue1xcbiAgICB2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXG4gICAgZmxvYXQgcmFuZG9tVmFsdWUgPSByYW5kKGdsX0ZyYWdDb29yZC54eSAqIHVTZWVkKTtcXG4gICAgZmxvYXQgZGlmZiA9IChyYW5kb21WYWx1ZSAtIDAuNSkgKiB1Tm9pc2U7XFxuXFxuICAgIC8vIFVuLXByZW11bHRpcGx5IGFscGhhIGJlZm9yZSBhcHBseWluZyB0aGUgY29sb3IgbWF0cml4LiBTZWUgaXNzdWUgIzM1MzkuXFxuICAgIGlmIChjb2xvci5hID4gMC4wKSB7XFxuICAgICAgICBjb2xvci5yZ2IgLz0gY29sb3IuYTtcXG4gICAgfVxcblxcbiAgICBjb2xvci5yICs9IGRpZmY7XFxuICAgIGNvbG9yLmcgKz0gZGlmZjtcXG4gICAgY29sb3IuYiArPSBkaWZmO1xcblxcbiAgICAvLyBQcmVtdWx0aXBseSBhbHBoYSBhZ2Fpbi5cXG4gICAgY29sb3IucmdiICo9IGNvbG9yLmE7XFxuXFxuICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbn1cXG5cIjtcblxuLyoqXG4gKiBAYXV0aG9yIFZpY28gQHZpY29jb3RlYVxuICogb3JpZ2luYWwgZmlsdGVyOiBodHRwczovL2dpdGh1Yi5jb20vZXZhbncvZ2xmeC5qcy9ibG9iL21hc3Rlci9zcmMvZmlsdGVycy9hZGp1c3Qvbm9pc2UuanNcbiAqL1xuXG4vKipcbiAqIEEgTm9pc2UgZWZmZWN0IGZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuRmlsdGVyXG4gKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzXG4gKi9cbnZhciBOb2lzZUZpbHRlciA9IChmdW5jdGlvbiAoRmlsdGVyJCQxKSB7XG4gICAgZnVuY3Rpb24gTm9pc2VGaWx0ZXIobm9pc2UsIHNlZWQpXG4gICAge1xuICAgICAgICBpZiAoIG5vaXNlID09PSB2b2lkIDAgKSBub2lzZSA9IDAuNTtcbiAgICAgICAgaWYgKCBzZWVkID09PSB2b2lkIDAgKSBzZWVkID0gTWF0aC5yYW5kb20oKTtcblxuICAgICAgICBGaWx0ZXIkJDEuY2FsbCh0aGlzLCBkZWZhdWx0RmlsdGVyVmVydGV4LCBmcmFnbWVudCwge1xuICAgICAgICAgICAgdU5vaXNlOiAwLFxuICAgICAgICAgICAgdVNlZWQ6IDAsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubm9pc2UgPSBub2lzZTtcbiAgICAgICAgdGhpcy5zZWVkID0gc2VlZDtcbiAgICB9XG5cbiAgICBpZiAoIEZpbHRlciQkMSApIE5vaXNlRmlsdGVyLl9fcHJvdG9fXyA9IEZpbHRlciQkMTtcbiAgICBOb2lzZUZpbHRlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBGaWx0ZXIkJDEgJiYgRmlsdGVyJCQxLnByb3RvdHlwZSApO1xuICAgIE5vaXNlRmlsdGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE5vaXNlRmlsdGVyO1xuXG4gICAgdmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgbm9pc2U6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0sc2VlZDogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBub2lzZSB0byBhcHBseSwgdGhpcyB2YWx1ZSBzaG91bGQgYmUgaW4gdGhlIHJhbmdlICgwLCAxXS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKiBAZGVmYXVsdCAwLjVcbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMubm9pc2UuZ2V0ID0gZnVuY3Rpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnVuaWZvcm1zLnVOb2lzZTtcbiAgICB9O1xuXG4gICAgcHJvdG90eXBlQWNjZXNzb3JzLm5vaXNlLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVOb2lzZSA9IHZhbHVlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIHNlZWQgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIHJhbmRvbSBub2lzZSBnZW5lcmF0aW9uLiBgTWF0aC5yYW5kb20oKWAgaXMgYSBnb29kIHZhbHVlIHRvIHVzZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBwcm90b3R5cGVBY2Nlc3NvcnMuc2VlZC5nZXQgPSBmdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMudVNlZWQ7XG4gICAgfTtcblxuICAgIHByb3RvdHlwZUFjY2Vzc29ycy5zZWVkLnNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZXF1aXJlLWpzZG9jXG4gICAge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnVTZWVkID0gdmFsdWU7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBOb2lzZUZpbHRlci5wcm90b3R5cGUsIHByb3RvdHlwZUFjY2Vzc29ycyApO1xuXG4gICAgcmV0dXJuIE5vaXNlRmlsdGVyO1xufShGaWx0ZXIpKTtcblxuZXhwb3J0IHsgTm9pc2VGaWx0ZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci1ub2lzZS5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIC0gdjUuMC4wLWFscGhhLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDMgSnVsIDIwMTggMDQ6MDg6MjEgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tY2FjaGUtYXMtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgQmFzZVRleHR1cmUsIFJlbmRlclRleHR1cmUsIFRleHR1cmUgfSBmcm9tICdAcGl4aS9jb3JlJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG5pbXBvcnQgeyBEaXNwbGF5T2JqZWN0IH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICdAcGl4aS9tYXRoJztcbmltcG9ydCB7IHVpZCB9IGZyb20gJ0BwaXhpL3V0aWxzJztcblxudmFyIF90ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCgpO1xuXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fY2FjaGVBc0JpdG1hcCA9IGZhbHNlO1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlRGF0YSA9IGZhbHNlO1xuXG4vLyBmaWd1cmVkIHRoZXJlcyBubyBwb2ludCBhZGRpbmcgQUxMIHRoZSBleHRyYSB2YXJpYWJsZXMgdG8gcHJvdG90eXBlLlxuLy8gdGhpcyBtb2RlbCBjYW4gaG9sZCB0aGUgaW5mb3JtYXRpb24gbmVlZGVkLiBUaGlzIGNhbiBhbHNvIGJlIGdlbmVyYXRlZCBvbiBkZW1hbmQgYXNcbi8vIG1vc3Qgb2JqZWN0cyBhcmUgbm90IGNhY2hlZCBhcyBiaXRtYXBzLlxuLyoqXG4gKiBAY2xhc3NcbiAqIEBpZ25vcmVcbiAqL1xudmFyIENhY2hlRGF0YSA9IGZ1bmN0aW9uIENhY2hlRGF0YSgpXG57XG4gICAgdGhpcy50ZXh0dXJlQ2FjaGVJZCA9IG51bGw7XG5cbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsUmVuZGVyQ2FudmFzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsQ2FsY3VsYXRlQm91bmRzID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsR2V0TG9jYWxCb3VuZHMgPSBudWxsO1xuXG4gICAgdGhpcy5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEhpdFRlc3QgPSBudWxsO1xuICAgIHRoaXMub3JpZ2luYWxEZXN0cm95ID0gbnVsbDtcbiAgICB0aGlzLm9yaWdpbmFsTWFzayA9IG51bGw7XG4gICAgdGhpcy5vcmlnaW5hbEZpbHRlckFyZWEgPSBudWxsO1xuICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKERpc3BsYXlPYmplY3QucHJvdG90eXBlLCB7XG4gICAgLyoqXG4gICAgICogU2V0IHRoaXMgdG8gdHJ1ZSBpZiB5b3Ugd2FudCB0aGlzIGRpc3BsYXkgb2JqZWN0IHRvIGJlIGNhY2hlZCBhcyBhIGJpdG1hcC5cbiAgICAgKiBUaGlzIGJhc2ljYWxseSB0YWtlcyBhIHNuYXAgc2hvdCBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgaXQgaXMgYXQgdGhhdCBtb21lbnQuIEl0IGNhblxuICAgICAqIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBiZW5lZml0IGZvciBjb21wbGV4IHN0YXRpYyBkaXNwbGF5T2JqZWN0cy5cbiAgICAgKiBUbyByZW1vdmUgc2ltcGx5IHNldCB0aGlzIHByb3BlcnR5IHRvIGBmYWxzZWBcbiAgICAgKlxuICAgICAqIElNUE9SVEFOVCBHT1RDSEEgLSBNYWtlIHN1cmUgdGhhdCBhbGwgeW91ciB0ZXh0dXJlcyBhcmUgcHJlbG9hZGVkIEJFRk9SRSBzZXR0aW5nIHRoaXMgcHJvcGVydHkgdG8gdHJ1ZVxuICAgICAqIGFzIGl0IHdpbGwgdGFrZSBhIHNuYXBzaG90IG9mIHdoYXQgaXMgY3VycmVudGx5IHRoZXJlLiBJZiB0aGUgdGV4dHVyZXMgaGF2ZSBub3QgbG9hZGVkIHRoZW4gdGhleSB3aWxsIG5vdCBhcHBlYXIuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLkRpc3BsYXlPYmplY3QjXG4gICAgICovXG4gICAgY2FjaGVBc0JpdG1hcDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUFzQml0bWFwO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NhY2hlQXNCaXRtYXAgPT09IHZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY2FjaGVBc0JpdG1hcCA9IHZhbHVlO1xuXG4gICAgICAgICAgICB2YXIgZGF0YTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVEYXRhKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVEYXRhID0gbmV3IENhY2hlRGF0YSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsUmVuZGVyID0gdGhpcy5yZW5kZXI7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFJlbmRlckNhbnZhcyA9IHRoaXMucmVuZGVyQ2FudmFzO1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbFVwZGF0ZVRyYW5zZm9ybSA9IHRoaXMudXBkYXRlVHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxDYWxjdWxhdGVCb3VuZHMgPSB0aGlzLl9jYWxjdWxhdGVCb3VuZHM7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcztcblxuICAgICAgICAgICAgICAgIGRhdGEub3JpZ2luYWxEZXN0cm95ID0gdGhpcy5kZXN0cm95O1xuXG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQgPSB0aGlzLmNvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICBkYXRhLm9yaWdpbmFsTWFzayA9IHRoaXMuX21hc2s7XG4gICAgICAgICAgICAgICAgZGF0YS5vcmlnaW5hbEZpbHRlckFyZWEgPSB0aGlzLmZpbHRlckFyZWE7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlciA9IHRoaXMuX3JlbmRlckNhY2hlZDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IHRoaXMuX3JlbmRlckNhY2hlZENhbnZhcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSA9IHRoaXMuX2NhY2hlQXNCaXRtYXBEZXN0cm95O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9jYWNoZURhdGE7XG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zcHJpdGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZXN0cm95Q2FjaGVkRGlzcGxheU9iamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyID0gZGF0YS5vcmlnaW5hbFJlbmRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckNhbnZhcyA9IGRhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gZGF0YS5vcmlnaW5hbENhbGN1bGF0ZUJvdW5kcztcbiAgICAgICAgICAgICAgICB0aGlzLmdldExvY2FsQm91bmRzID0gZGF0YS5vcmlnaW5hbEdldExvY2FsQm91bmRzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95ID0gZGF0YS5vcmlnaW5hbERlc3Ryb3k7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSA9IGRhdGEub3JpZ2luYWxVcGRhdGVUcmFuc2Zvcm07XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluc1BvaW50ID0gZGF0YS5vcmlnaW5hbENvbnRhaW5zUG9pbnQ7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9tYXNrID0gZGF0YS5vcmlnaW5hbE1hc2s7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gZGF0YS5vcmlnaW5hbEZpbHRlckFyZWE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSxcbn0pO1xuXG4vKipcbiAqIFJlbmRlcnMgYSBjYWNoZWQgdmVyc2lvbiBvZiB0aGUgc3ByaXRlIHdpdGggV2ViR0xcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZCA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWQocmVuZGVyZXIpXG57XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdChyZW5kZXJlcik7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl90cmFuc2Zvcm1JRCA9IC0xO1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUud29ybGRBbHBoYSA9IHRoaXMud29ybGRBbHBoYTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLl9yZW5kZXIocmVuZGVyZXIpO1xufTtcblxuLyoqXG4gKiBQcmVwYXJlcyB0aGUgV2ViR0wgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3QocmVuZGVyZXIpXG57XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIG1ha2Ugc3VyZSBhbHBoYSBpcyBzZXQgdG8gMSBvdGhlcndpc2UgaXQgd2lsbCBnZXQgcmVuZGVyZWQgYXMgaW52aXNpYmxlIVxuICAgIHZhciBjYWNoZUFscGhhID0gdGhpcy5hbHBoYTtcblxuICAgIHRoaXMuYWxwaGEgPSAxO1xuXG4gICAgLy8gZmlyc3Qgd2UgZmx1c2ggYW55dGhpbmcgbGVmdCBpbiB0aGUgcmVuZGVyZXIgKG90aGVyd2lzZSBpdCB3b3VsZCBnZXQgcmVuZGVyZWQgdG8gdGhlIGNhY2hlZCB0ZXh0dXJlKVxuICAgIHJlbmRlcmVyLmJhdGNoLmZsdXNoKCk7XG4gICAgLy8gdGhpcy5maWx0ZXJzPSBbXTtcblxuICAgIC8vIG5leHQgd2UgZmluZCB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdW50cmFuc2Zvcm1lZCBvYmplY3RcbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFsc28gY2FsbHMgdXBkYXRldHJhbnNmb3JtIG9uIGFsbCBpdHMgY2hpbGRyZW4gYXMgcGFydCBvZiB0aGUgbWVhc3VyaW5nLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIHRyYW5zZm9ybSBhZ2FpbiBpbiB0aGlzIGZ1bmN0aW9uXG4gICAgLy8gVE9ETyBwYXNzIGFuIG9iamVjdCB0byBjbG9uZSB0b28/IHNhdmVzIGhhdmluZyB0byBjcmVhdGUgYSBuZXcgb25lIGVhY2ggdGltZSFcbiAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmNsb25lKCk7XG5cbiAgICAvLyBhZGQgc29tZSBwYWRkaW5nIVxuICAgIGlmICh0aGlzLmZpbHRlcnMpXG4gICAge1xuICAgICAgICB2YXIgcGFkZGluZyA9IHRoaXMuZmlsdGVyc1swXS5wYWRkaW5nO1xuXG4gICAgICAgIGJvdW5kcy5wYWQocGFkZGluZyk7XG4gICAgfVxuXG4gICAgLy8gZm9yIG5vdyB3ZSBjYWNoZSB0aGUgY3VycmVudCByZW5kZXJUYXJnZXQgdGhhdCB0aGUgd2ViR0wgcmVuZGVyZXIgaXMgY3VycmVudGx5IHVzaW5nLlxuICAgIC8vIHRoaXMgY291bGQgYmUgbW9yZSBlbGVnYW50Li5cbiAgICB2YXIgY2FjaGVkUmVuZGVyVGFyZ2V0ID0gcmVuZGVyZXIuX2FjdGl2ZVJlbmRlclRhcmdldDtcbiAgICAvLyBXZSBhbHNvIHN0b3JlIHRoZSBmaWx0ZXIgc3RhY2sgLSBJIHdpbGwgZGVmaW5pdGVseSBsb29rIHRvIGNoYW5nZSBob3cgdGhpcyB3b3JrcyBhIGxpdHRsZSBsYXRlciBkb3duIHRoZSBsaW5lLlxuICAgIC8vIGNvbnN0IHN0YWNrID0gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjaztcblxuICAgIC8vIHRoaXMgcmVuZGVyVGV4dHVyZSB3aWxsIGJlIHVzZWQgdG8gc3RvcmUgdGhlIGNhY2hlZCBEaXNwbGF5T2JqZWN0XG5cbiAgICB2YXIgcmVuZGVyVGV4dHVyZSA9IFJlbmRlclRleHR1cmUuY3JlYXRlKGJvdW5kcy53aWR0aCB8IDAsIGJvdW5kcy5oZWlnaHQgfCAwKTtcblxuICAgIHZhciB0ZXh0dXJlQ2FjaGVJZCA9IFwiY2FjaGVBc0JpdG1hcF9cIiArICh1aWQoKSk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSB0ZXh0dXJlQ2FjaGVJZDtcblxuICAgIEJhc2VUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZS5iYXNlVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUuYWRkVG9DYWNoZShyZW5kZXJUZXh0dXJlLCB0ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICAvLyBuZWVkIHRvIHNldCAvL1xuICAgIHZhciBtID0gX3RlbXBNYXRyaXg7XG5cbiAgICBtLnR4ID0gLWJvdW5kcy54O1xuICAgIG0udHkgPSAtYm91bmRzLnk7XG5cbiAgICAvLyByZXNldFxuICAgIHRoaXMudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLmlkZW50aXR5KCk7XG5cbiAgICAvLyBzZXQgYWxsIHByb3BlcnRpZXMgdG8gdGhlcmUgb3JpZ2luYWwgc28gd2UgY2FuIHJlbmRlciB0byBhIHRleHR1cmVcbiAgICB0aGlzLnJlbmRlciA9IHRoaXMuX2NhY2hlRGF0YS5vcmlnaW5hbFJlbmRlcjtcblxuICAgIHJlbmRlcmVyLnJlbmRlcih0aGlzLCByZW5kZXJUZXh0dXJlLCB0cnVlLCBtLCB0cnVlKTtcbiAgICAvLyBub3cgcmVzdG9yZSB0aGUgc3RhdGUgYmUgc2V0dGluZyB0aGUgbmV3IHByb3BlcnRpZXNcblxuICAgIHJlbmRlcmVyLnJlbmRlclRleHR1cmUuYmluZChjYWNoZWRSZW5kZXJUYXJnZXQpO1xuXG4gICAgLy8gcmVuZGVyZXIuZmlsdGVyTWFuYWdlci5maWx0ZXJTdGFjayA9IHN0YWNrO1xuXG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLl9yZW5kZXJDYWNoZWQ7XG4gICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0gPSB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm07XG5cbiAgICB0aGlzLl9tYXNrID0gbnVsbDtcbiAgICB0aGlzLmZpbHRlckFyZWEgPSBudWxsO1xuXG4gICAgLy8gY3JlYXRlIG91ciBjYWNoZWQgc3ByaXRlXG4gICAgdmFyIGNhY2hlZFNwcml0ZSA9IG5ldyBTcHJpdGUocmVuZGVyVGV4dHVyZSk7XG5cbiAgICBjYWNoZWRTcHJpdGUudHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtID0gdGhpcy50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm07XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci54ID0gLShib3VuZHMueCAvIGJvdW5kcy53aWR0aCk7XG4gICAgY2FjaGVkU3ByaXRlLmFuY2hvci55ID0gLShib3VuZHMueSAvIGJvdW5kcy5oZWlnaHQpO1xuICAgIGNhY2hlZFNwcml0ZS5hbHBoYSA9IGNhY2hlQWxwaGE7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG5cbiAgICAvLyBlYXN5IGJvdW5kcy4uXG4gICAgdGhpcy5fY2FsY3VsYXRlQm91bmRzID0gdGhpcy5fY2FsY3VsYXRlQ2FjaGVkQm91bmRzO1xuICAgIHRoaXMuZ2V0TG9jYWxCb3VuZHMgPSB0aGlzLl9nZXRDYWNoZWRMb2NhbEJvdW5kcztcblxuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUgPSBjYWNoZWRTcHJpdGU7XG5cbiAgICB0aGlzLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAvLyByZXN0b3JlIHRoZSB0cmFuc2Zvcm0gb2YgdGhlIGNhY2hlZCBzcHJpdGUgdG8gYXZvaWQgdGhlIG5hc3R5IGZsaWNrZXIuLlxuICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIC8vIG1hcCB0aGUgaGl0IHRlc3QuLlxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogUmVuZGVycyBhIGNhY2hlZCB2ZXJzaW9uIG9mIHRoZSBzcHJpdGUgd2l0aCBjYW52YXNcbiAqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSB0aGUgV2ViR0wgcmVuZGVyZXJcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlbmRlckNhY2hlZENhbnZhcyA9IGZ1bmN0aW9uIF9yZW5kZXJDYWNoZWRDYW52YXMocmVuZGVyZXIpXG57XG4gICAgaWYgKCF0aGlzLnZpc2libGUgfHwgdGhpcy53b3JsZEFscGhhIDw9IDAgfHwgIXRoaXMucmVuZGVyYWJsZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9pbml0Q2FjaGVkRGlzcGxheU9iamVjdENhbnZhcyhyZW5kZXJlcik7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLndvcmxkQWxwaGEgPSB0aGlzLndvcmxkQWxwaGE7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlLnJlbmRlckNhbnZhcyhyZW5kZXJlcik7XG59O1xuXG4vLyBUT0RPIHRoaXMgY2FuIGJlIHRoZSBzYW1lIGFzIHRoZSB3ZWJHTCB2ZXJzaW9uLi4gd2lsbCBuZWVkIHRvIGRvIGEgbGl0dGxlIHR3ZWFraW5nIGZpcnN0IHRob3VnaC4uXG4vKipcbiAqIFByZXBhcmVzIHRoZSBDYW52YXMgcmVuZGVyZXIgdG8gY2FjaGUgdGhlIHNwcml0ZVxuICpcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSS5EaXNwbGF5T2JqZWN0I1xuICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciAtIHRoZSBXZWJHTCByZW5kZXJlclxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5faW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMgPSBmdW5jdGlvbiBfaW5pdENhY2hlZERpc3BsYXlPYmplY3RDYW52YXMocmVuZGVyZXIpXG57XG4gICAgaWYgKHRoaXMuX2NhY2hlRGF0YSAmJiB0aGlzLl9jYWNoZURhdGEuc3ByaXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGdldCBib3VuZHMgYWN0dWFsbHkgdHJhbnNmb3JtcyB0aGUgb2JqZWN0IGZvciB1cyBhbHJlYWR5IVxuICAgIHZhciBib3VuZHMgPSB0aGlzLmdldExvY2FsQm91bmRzKCk7XG5cbiAgICB2YXIgY2FjaGVBbHBoYSA9IHRoaXMuYWxwaGE7XG5cbiAgICB0aGlzLmFscGhhID0gMTtcblxuICAgIHZhciBjYWNoZWRSZW5kZXJUYXJnZXQgPSByZW5kZXJlci5jb250ZXh0O1xuXG4gICAgdmFyIHJlbmRlclRleHR1cmUgPSBSZW5kZXJUZXh0dXJlLmNyZWF0ZShib3VuZHMud2lkdGggfCAwLCBib3VuZHMuaGVpZ2h0IHwgMCk7XG5cbiAgICB2YXIgdGV4dHVyZUNhY2hlSWQgPSBcImNhY2hlQXNCaXRtYXBfXCIgKyAodWlkKCkpO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnRleHR1cmVDYWNoZUlkID0gdGV4dHVyZUNhY2hlSWQ7XG5cbiAgICBCYXNlVGV4dHVyZS5hZGRUb0NhY2hlKHJlbmRlclRleHR1cmUuYmFzZVRleHR1cmUsIHRleHR1cmVDYWNoZUlkKTtcbiAgICBUZXh0dXJlLmFkZFRvQ2FjaGUocmVuZGVyVGV4dHVyZSwgdGV4dHVyZUNhY2hlSWQpO1xuXG4gICAgLy8gbmVlZCB0byBzZXQgLy9cbiAgICB2YXIgbSA9IF90ZW1wTWF0cml4O1xuXG4gICAgdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm0uY29weVRvKG0pO1xuICAgIG0uaW52ZXJ0KCk7XG5cbiAgICBtLnR4IC09IGJvdW5kcy54O1xuICAgIG0udHkgLT0gYm91bmRzLnk7XG5cbiAgICAvLyBtLmFwcGVuZCh0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybS4pXG4gICAgLy8gc2V0IGFsbCBwcm9wZXJ0aWVzIHRvIHRoZXJlIG9yaWdpbmFsIHNvIHdlIGNhbiByZW5kZXIgdG8gYSB0ZXh0dXJlXG4gICAgdGhpcy5yZW5kZXJDYW52YXMgPSB0aGlzLl9jYWNoZURhdGEub3JpZ2luYWxSZW5kZXJDYW52YXM7XG5cbiAgICAvLyByZW5kZXJUZXh0dXJlLnJlbmRlcih0aGlzLCBtLCB0cnVlKTtcbiAgICByZW5kZXJlci5yZW5kZXIodGhpcywgcmVuZGVyVGV4dHVyZSwgdHJ1ZSwgbSwgZmFsc2UpO1xuXG4gICAgLy8gbm93IHJlc3RvcmUgdGhlIHN0YXRlIGJlIHNldHRpbmcgdGhlIG5ldyBwcm9wZXJ0aWVzXG4gICAgcmVuZGVyZXIuY29udGV4dCA9IGNhY2hlZFJlbmRlclRhcmdldDtcblxuICAgIHRoaXMucmVuZGVyQ2FudmFzID0gdGhpcy5fcmVuZGVyQ2FjaGVkQ2FudmFzO1xuICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcyA9IHRoaXMuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcztcblxuICAgIHRoaXMuX21hc2sgPSBudWxsO1xuICAgIHRoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG5cbiAgICAvLyBjcmVhdGUgb3VyIGNhY2hlZCBzcHJpdGVcbiAgICB2YXIgY2FjaGVkU3ByaXRlID0gbmV3IFNwcml0ZShyZW5kZXJUZXh0dXJlKTtcblxuICAgIGNhY2hlZFNwcml0ZS50cmFuc2Zvcm0ud29ybGRUcmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnggPSAtKGJvdW5kcy54IC8gYm91bmRzLndpZHRoKTtcbiAgICBjYWNoZWRTcHJpdGUuYW5jaG9yLnkgPSAtKGJvdW5kcy55IC8gYm91bmRzLmhlaWdodCk7XG4gICAgY2FjaGVkU3ByaXRlLl9ib3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgY2FjaGVkU3ByaXRlLmFscGhhID0gY2FjaGVBbHBoYTtcblxuICAgIGlmICghdGhpcy5wYXJlbnQpXG4gICAge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHJlbmRlcmVyLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB0aGlzLnVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH1cblxuICAgIHRoaXMudXBkYXRlVHJhbnNmb3JtID0gdGhpcy5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtO1xuXG4gICAgdGhpcy5fY2FjaGVEYXRhLnNwcml0ZSA9IGNhY2hlZFNwcml0ZTtcblxuICAgIHRoaXMuY29udGFpbnNQb2ludCA9IGNhY2hlZFNwcml0ZS5jb250YWluc1BvaW50LmJpbmQoY2FjaGVkU3ByaXRlKTtcbn07XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjYWNoZWQgc3ByaXRlXG4gKlxuICogQHByaXZhdGVcbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhbGN1bGF0ZUNhY2hlZEJvdW5kcyA9IGZ1bmN0aW9uIF9jYWxjdWxhdGVDYWNoZWRCb3VuZHMoKVxue1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX2NhbGN1bGF0ZUJvdW5kcygpO1xufTtcblxuLyoqXG4gKiBHZXRzIHRoZSBib3VuZHMgb2YgdGhlIGNhY2hlZCBzcHJpdGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1JlY3RhbmdsZX0gVGhlIGxvY2FsIGJvdW5kcy5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2dldENhY2hlZExvY2FsQm91bmRzID0gZnVuY3Rpb24gX2dldENhY2hlZExvY2FsQm91bmRzKClcbntcbiAgICByZXR1cm4gdGhpcy5fY2FjaGVEYXRhLnNwcml0ZS5nZXRMb2NhbEJvdW5kcygpO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIHNwcml0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5fZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QgPSBmdW5jdGlvbiBfZGVzdHJveUNhY2hlZERpc3BsYXlPYmplY3QoKVxue1xuICAgIHRoaXMuX2NhY2hlRGF0YS5zcHJpdGUuX3RleHR1cmUuZGVzdHJveSh0cnVlKTtcbiAgICB0aGlzLl9jYWNoZURhdGEuc3ByaXRlID0gbnVsbDtcblxuICAgIEJhc2VUZXh0dXJlLnJlbW92ZUZyb21DYWNoZSh0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQpO1xuICAgIFRleHR1cmUucmVtb3ZlRnJvbUNhY2hlKHRoaXMuX2NhY2hlRGF0YS50ZXh0dXJlQ2FjaGVJZCk7XG5cbiAgICB0aGlzLl9jYWNoZURhdGEudGV4dHVyZUNhY2hlSWQgPSBudWxsO1xufTtcblxuLyoqXG4gKiBEZXN0cm95cyB0aGUgY2FjaGVkIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtvYmplY3R8Ym9vbGVhbn0gW29wdGlvbnNdIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICogIGhhdmUgYmVlbiBzZXQgdG8gdGhhdCB2YWx1ZS5cbiAqICBVc2VkIHdoZW4gZGVzdHJveWluZyBjb250YWluZXJzLCBzZWUgdGhlIENvbnRhaW5lci5kZXN0cm95IG1ldGhvZC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX2NhY2hlQXNCaXRtYXBEZXN0cm95ID0gZnVuY3Rpb24gX2NhY2hlQXNCaXRtYXBEZXN0cm95KG9wdGlvbnMpXG57XG4gICAgdGhpcy5jYWNoZUFzQml0bWFwID0gZmFsc2U7XG4gICAgdGhpcy5kZXN0cm95KG9wdGlvbnMpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWNhY2hlLWFzLWJpdG1hcC5lcy5qcy5tYXBcbiIsIi8qIVxuICogQHBpeGkvbWl4aW4tZ2V0LWNoaWxkLWJ5LW5hbWUgLSB2NS4wLjAtYWxwaGEuM1xuICogQ29tcGlsZWQgVHVlLCAwMyBKdWwgMjAxOCAwNDowODoyMSBVVENcbiAqXG4gKiBAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IENvbnRhaW5lciwgRGlzcGxheU9iamVjdCB9IGZyb20gJ0BwaXhpL2Rpc3BsYXknO1xuXG4vKipcbiAqIFRoZSBpbnN0YW5jZSBuYW1lIG9mIHRoZSBvYmplY3QuXG4gKlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZW1iZXIge3N0cmluZ30gbmFtZVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5uYW1lID0gbnVsbDtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkaXNwbGF5IG9iamVjdCBpbiB0aGUgY29udGFpbmVyLlxuICpcbiAqIEBtZXRob2QgZ2V0Q2hpbGRCeU5hbWVcbiAqIEBtZW1iZXJvZiBQSVhJLkNvbnRhaW5lciNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gSW5zdGFuY2UgbmFtZS5cbiAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gVGhlIGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lLlxuICovXG5Db250YWluZXIucHJvdG90eXBlLmdldENoaWxkQnlOYW1lID0gZnVuY3Rpb24gZ2V0Q2hpbGRCeU5hbWUobmFtZSlcbntcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGlmICh0aGlzJDEuY2hpbGRyZW5baV0ubmFtZSA9PT0gbmFtZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMkMS5jaGlsZHJlbltpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1peGluLWdldC1jaGlsZC1ieS1uYW1lLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBAcGl4aS9taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uIC0gdjUuMC4wLWFscGhhLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDMgSnVsIDIwMTggMDQ6MDg6MjEgVVRDXG4gKlxuICogQHBpeGkvbWl4aW4tZ2V0LWdsb2JhbC1wb3NpdGlvbiBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IERpc3BsYXlPYmplY3QgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5T2JqZWN0LiBEb2VzIG5vdCBkZXBlbmQgb24gb2JqZWN0IHNjYWxlLCByb3RhdGlvbiBhbmQgcGl2b3QuXG4gKlxuICogQG1ldGhvZCBnZXRHbG9iYWxQb3NpdGlvblxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBwYXJhbSB7UG9pbnR9IHBvaW50IC0gVGhlIHBvaW50IHRvIHdyaXRlIHRoZSBnbG9iYWwgdmFsdWUgdG8uIElmIG51bGwgYSBuZXcgcG9pbnQgd2lsbCBiZSByZXR1cm5lZFxuICogQHBhcmFtIHtib29sZWFufSBza2lwVXBkYXRlIC0gU2V0dGluZyB0byB0cnVlIHdpbGwgc3RvcCB0aGUgdHJhbnNmb3JtcyBvZiB0aGUgc2NlbmUgZ3JhcGggZnJvbVxuICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gKiAgbmljZSBwZXJmb3JtYW5jZSBib29zdC5cbiAqIEByZXR1cm4ge1BvaW50fSBUaGUgdXBkYXRlZCBwb2ludC5cbiAqL1xuRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0R2xvYmFsUG9zaXRpb24gPSBmdW5jdGlvbiBnZXRHbG9iYWxQb3NpdGlvbihwb2ludCwgc2tpcFVwZGF0ZSlcbntcbiAgICBpZiAoIHBvaW50ID09PSB2b2lkIDAgKSBwb2ludCA9IG5ldyBQb2ludCgpO1xuICAgIGlmICggc2tpcFVwZGF0ZSA9PT0gdm9pZCAwICkgc2tpcFVwZGF0ZSA9IGZhbHNlO1xuXG4gICAgaWYgKHRoaXMucGFyZW50KVxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJlbnQudG9HbG9iYWwodGhpcy5wb3NpdGlvbiwgcG9pbnQsIHNraXBVcGRhdGUpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBwb2ludC54ID0gdGhpcy5wb3NpdGlvbi54O1xuICAgICAgICBwb2ludC55ID0gdGhpcy5wb3NpdGlvbi55O1xuICAgIH1cblxuICAgIHJldHVybiBwb2ludDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXhpbi1nZXQtZ2xvYmFsLXBvc2l0aW9uLmVzLmpzLm1hcFxuIiwiLyohXG4gKiBwaXhpLmpzIC0gdjUuMC4wLWFscGhhLjNcbiAqIENvbXBpbGVkIFR1ZSwgMDMgSnVsIDIwMTggMDQ6MDg6MjEgVVRDXG4gKlxuICogcGl4aS5qcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKi9cbmltcG9ydCB7IEFjY2Vzc2liaWxpdHlNYW5hZ2VyIH0gZnJvbSAnQHBpeGkvYWNjZXNzaWJpbGl0eSc7XG5pbXBvcnQgKiBhcyBhY2Nlc3NpYmlsaXR5IGZyb20gJ0BwaXhpL2FjY2Vzc2liaWxpdHknO1xuaW1wb3J0IHsgQXBwbGljYXRpb24gfSBmcm9tICdAcGl4aS9hcHAnO1xuaW1wb3J0ICogYXMgYXBwIGZyb20gJ0BwaXhpL2FwcCc7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgKiBhcyBjb3JlIGZyb20gJ0BwaXhpL2NvcmUnO1xuaW1wb3J0ICogYXMgZGlzcGxheSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IEV4dHJhY3QgfSBmcm9tICdAcGl4aS9leHRyYWN0JztcbmltcG9ydCAqIGFzIGV4dHJhY3QgZnJvbSAnQHBpeGkvZXh0cmFjdCc7XG5pbXBvcnQgeyBHcmFwaGljc1JlbmRlcmVyIH0gZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuaW1wb3J0ICogYXMgZ3JhcGhpY3MgZnJvbSAnQHBpeGkvZ3JhcGhpY3MnO1xuaW1wb3J0IHsgSW50ZXJhY3Rpb25NYW5hZ2VyIH0gZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuaW1wb3J0ICogYXMgaW50ZXJhY3Rpb24gZnJvbSAnQHBpeGkvaW50ZXJhY3Rpb24nO1xuaW1wb3J0IHsgTG9hZGVyLCBMb2FkZXJQbHVnaW4gfSBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmltcG9ydCAqIGFzIGxvYWRlcnMgZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5pbXBvcnQgKiBhcyBtYXRoIGZyb20gJ0BwaXhpL21hdGgnO1xuaW1wb3J0IHsgTWVzaFJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgKiBhcyBtZXNoIGZyb20gJ0BwaXhpL21lc2gnO1xuaW1wb3J0ICogYXMgbWVzaEV4dHJhcyBmcm9tICdAcGl4aS9tZXNoLWV4dHJhcyc7XG5pbXBvcnQgeyBQYXJ0aWNsZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvcGFydGljbGVzJztcbmltcG9ydCAqIGFzIHBhcnRpY2xlcyBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuaW1wb3J0IHsgUHJlcGFyZSB9IGZyb20gJ0BwaXhpL3ByZXBhcmUnO1xuaW1wb3J0ICogYXMgcHJlcGFyZSBmcm9tICdAcGl4aS9wcmVwYXJlJztcbmltcG9ydCB7IFNwcml0ZVJlbmRlcmVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlJztcbmltcG9ydCAqIGFzIHNwcml0ZSBmcm9tICdAcGl4aS9zcHJpdGUnO1xuaW1wb3J0ICogYXMgc3ByaXRlQW5pbWF0ZWQgZnJvbSAnQHBpeGkvc3ByaXRlLWFuaW1hdGVkJztcbmltcG9ydCB7IFNwcml0ZXNoZWV0TG9hZGVyIH0gZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0ICogYXMgc3ByaXRlc2hlZXQgZnJvbSAnQHBpeGkvc3ByaXRlc2hlZXQnO1xuaW1wb3J0IHsgVGlsaW5nU3ByaXRlUmVuZGVyZXIgfSBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmltcG9ydCAqIGFzIHNwcml0ZVRpbGluZyBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmltcG9ydCAqIGFzIHRleHQgZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgeyBCaXRtYXBGb250TG9hZGVyIH0gZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuaW1wb3J0ICogYXMgdGV4dEJpdG1hcCBmcm9tICdAcGl4aS90ZXh0LWJpdG1hcCc7XG5pbXBvcnQgeyBUaWNrZXJQbHVnaW4gfSBmcm9tICdAcGl4aS90aWNrZXInO1xuaW1wb3J0ICogYXMgdGlja2VyIGZyb20gJ0BwaXhpL3RpY2tlcic7XG5pbXBvcnQgeyBtaXhpbnMgfSBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICdAcGl4aS91dGlscyc7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBzZXR0aW5ncyQxIH0gZnJvbSAnQHBpeGkvc2V0dGluZ3MnO1xuaW1wb3J0IHsgQWxwaGFGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItYWxwaGEnO1xuaW1wb3J0IHsgQmx1ckZpbHRlciwgQmx1ckZpbHRlclBhc3MgfSBmcm9tICdAcGl4aS9maWx0ZXItYmx1cic7XG5pbXBvcnQgeyBDb2xvck1hdHJpeEZpbHRlciB9IGZyb20gJ0BwaXhpL2ZpbHRlci1jb2xvci1tYXRyaXgnO1xuaW1wb3J0IHsgRGlzcGxhY2VtZW50RmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWRpc3BsYWNlbWVudCc7XG5pbXBvcnQgeyBGWEFBRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWZ4YWEnO1xuaW1wb3J0IHsgTm9pc2VGaWx0ZXIgfSBmcm9tICdAcGl4aS9maWx0ZXItbm9pc2UnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1jYWNoZS1hcy1iaXRtYXAnO1xuaW1wb3J0ICdAcGl4aS9taXhpbi1nZXQtY2hpbGQtYnktbmFtZSc7XG5pbXBvcnQgJ0BwaXhpL21peGluLWdldC1nbG9iYWwtcG9zaXRpb24nO1xuXG4vLyBBIG1hcCBvZiB3YXJuaW5nIG1lc3NhZ2VzIGFscmVhZCBmaXJlZFxudmFyIHdhcm5pbmdzID0ge307XG5cbi8vIHByb3ZpZGUgbWV0aG9kIHRvIGdpdmUgYSBzdGFjayB0cmFjayBmb3Igd2FybmluZ3Ncbi8vIHVzZWZ1bCBmb3IgdHJhY2tpbmctZG93biB3aGVyZSBkZXByZWNhdGVkIG1ldGhvZHMvcHJvcGVydGllcy9jbGFzc2VzXG4vLyBhcmUgYmVpbmcgdXNlZCB3aXRoaW4gdGhlIGNvZGVcbmZ1bmN0aW9uIHdhcm4obXNnKVxue1xuICAgIC8vIElnbm9yZSBkdXBsaWNhdFxuICAgIGlmICh3YXJuaW5nc1ttc2ddKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICB2YXIgc3RhY2sgPSBuZXcgRXJyb3IoKS5zdGFjaztcblxuICAgIC8vIEhhbmRsZSBJRSA8IDEwIGFuZCBTYWZhcmkgPCA2XG4gICAgaWYgKHR5cGVvZiBzdGFjayA9PT0gJ3VuZGVmaW5lZCcpXG4gICAge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1zZyk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIGNob3Agb2ZmIHRoZSBzdGFjayB0cmFjZSB3aGljaCBpbmNsdWRlcyBwaXhpLmpzIGludGVybmFsIGNhbGxzXG4gICAgICAgIHN0YWNrID0gc3RhY2suc3BsaXQoJ1xcbicpLnNwbGljZSgzKS5qb2luKCdcXG4nKTtcblxuICAgICAgICBpZiAoY29uc29sZS5ncm91cENvbGxhcHNlZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZChcbiAgICAgICAgICAgICAgICAnJWNEZXByZWNhdGlvbiBXYXJuaW5nOiAlYyVzJyxcbiAgICAgICAgICAgICAgICAnY29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLFxuICAgICAgICAgICAgICAgICdmb250LXdlaWdodDpub3JtYWw7Y29sb3I6IzYxNDEwODtiYWNrZ3JvdW5kOiNmZmZiZTYnLFxuICAgICAgICAgICAgICAgIG1zZ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdGFjayk7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0RlcHJlY2F0aW9uIFdhcm5pbmc6ICcsIG1zZyk7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oc3RhY2spO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29uc29sZSAqL1xuXG4gICAgd2FybmluZ3NbbXNnXSA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIGRlcHJlY2F0ZWQoUElYSSlcbntcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY29uc3RhbnRcbiAgICAgICAgICogQG5hbWUgU1ZHX1NJWkVcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWElcbiAgICAgICAgICogQHNlZSBQSVhJLlNWR1Jlc291cmNlLlNWR19TSVpFXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBTVkdfU0laRToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkudXRpbHMuU1ZHX1NJWkUgaGFzIG1vdmVkIHRvIFBJWEkuU1ZHUmVzb3VyY2UuU1ZHX1NJWkUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNWR1Jlc291cmNlLlNWR19TSVpFO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuVHJhbnNmb3JtU3RhdGljXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UcmFuc2Zvcm1cbiAgICAgICAgICovXG4gICAgICAgIFRyYW5zZm9ybVN0YXRpYzoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuVHJhbnNmb3JtU3RhdGljIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuVHJhbnNmb3JtQmFzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuVHJhbnNmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBUcmFuc2Zvcm1CYXNlOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5UcmFuc2Zvcm1CYXNlIGhhcyBiZWVuIHJlbW92ZWQsIHVzZSBQSVhJLlRyYW5zZm9ybScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVHJhbnNmb3JtO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RhbnRzIHRoYXQgc3BlY2lmeSB0aGUgdHJhbnNmb3JtIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGNvbnN0YW50XG4gICAgICAgICAqIEBuYW1lIFRSQU5TRk9STV9NT0RFXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVEFUSUNcbiAgICAgICAgICogQHByb3BlcnR5IHtudW1iZXJ9IERZTkFNSUNcbiAgICAgICAgICovXG4gICAgICAgIFRSQU5TRk9STV9NT0RFOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5UUkFOU0ZPUk1fTU9ERSBoYXMgYmVlbiByZW1vdmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyBTVEFUSUM6IDAsIERZTkFNSUM6IDEgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLldlYkdMUmVuZGVyZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBXZWJHTFJlbmRlcmVyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5XZWJHTFJlbmRlcmVyIGhhcyBtb3ZlZCB0byBQSVhJLlJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5SZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLkNhbnZhc1JlbmRlclRhcmdldFxuICAgICAgICAgKiBAc2VlIFBJWEkudXRpbHMuQ2FudmFzUmVuZGVyVGFyZ2V0XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNSZW5kZXJUYXJnZXQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkNhbnZhc1JlbmRlclRhcmdldCBoYXMgbW92ZWQgdG8gUElYSS51dGlscy5DYW52YXNSZW5kZXJUYXJnZXQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnV0aWxzLkNhbnZhc1JlbmRlclRhcmdldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJXG4gICAgICAgICAqIEBuYW1lIGxvYWRlclxuICAgICAgICAgKiBAdHlwZSB7UElYSS5Mb2FkZXJ9XG4gICAgICAgICAqIEBzZWUgUElYSS5Mb2FkZXIuc2hhcmVkXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBsb2FkZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLmxvYWRlciBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXIuc2hhcmVkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5Mb2FkZXIuc2hhcmVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcblxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuRmlsdGVyTWFuYWdlclxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEZpbHRlck1hbmFnZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLkZpbHRlck1hbmFnZXIgaGFzIG1vdmVkIHRvIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLnN5c3RlbXMuRmlsdGVyTWFuYWdlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkLiBBbGwgY2xhc3NlcyBwcmV2aW91cyBuZXN0ZWRcbiAgICAgKiB1bmRlciB0aGlzIG5hbWVzcGFjZSBoYXZlIGJlZW4gbW92ZWQgdG8gdGhlIHRvcC1sZXZlbCBgUElYSWAgb2JqZWN0LlxuICAgICAqIEBuYW1lc3BhY2UgUElYSS5leHRyYXNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkuZXh0cmFzID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLmV4dHJhcywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuVGlsaW5nU3ByaXRlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBUaWxpbmdTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGUgaGFzIG1vdmVkIHRvIFBJWEkuVGlsaW5nU3ByaXRlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5UaWxpbmdTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLlRpbGluZ1Nwcml0ZVJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgVGlsaW5nU3ByaXRlUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLmV4dHJhcy5UaWxpbmdTcHJpdGVSZW5kZXJlciBoYXMgbW92ZWQgdG8gUElYSS5UaWxpbmdTcHJpdGVSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlsaW5nU3ByaXRlUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLkFuaW1hdGVkU3ByaXRlXG4gICAgICAgICAqIEBzZWUgUElYSS5BbmltYXRlZFNwcml0ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgQW5pbWF0ZWRTcHJpdGU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLmV4dHJhcy5BbmltYXRlZFNwcml0ZSBoYXMgbW92ZWQgdG8gUElYSS5BbmltYXRlZFNwcml0ZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQW5pbWF0ZWRTcHJpdGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkuZXh0cmFzLkJpdG1hcFRleHRcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcFRleHRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIEJpdG1hcFRleHQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLmV4dHJhcy5CaXRtYXBUZXh0IGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcFRleHQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLkJpdG1hcFRleHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS51dGlscywge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkudXRpbHMuZ2V0U3ZnU2l6ZVxuICAgICAgICAgKiBAc2VlIFBJWEkuU1ZHUmVzb3VyY2UuZ2V0U2l6ZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U3ZnU2l6ZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkudXRpbHMuZ2V0U3ZnU2l6ZSBoYXMgbW92ZWQgdG8gUElYSS5TVkdSZXNvdXJjZS5nZXRTaXplJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TVkdSZXNvdXJjZS5nZXRTaXplO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEFsbCBjbGFzc2VzIG9uIHRoaXMgbmFtZXNwYWNlIGhhdmUgbW92ZWQgdG8gdGhlIGhpZ2gtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkubWVzaFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5tZXNoID0ge307XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLm1lc2gsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTWVzaFxuICAgICAgICAgKiBAc2VlIFBJWEkuTWVzaDJkXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBNZXNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5tZXNoLk1lc2ggaGFzIG1vdmVkIHRvIFBJWEkuTWVzaDJkJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoMmQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5OaW5lU2xpY2VQbGFuZVxuICAgICAgICAgKiBAc2VlIFBJWEkuTmluZVNsaWNlUGxhbmVcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE5pbmVTbGljZVBsYW5lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5tZXNoLk5pbmVTbGljZVBsYW5lIGhhcyBtb3ZlZCB0byBQSVhJLk5pbmVTbGljZVBsYW5lJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5OaW5lU2xpY2VQbGFuZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLlBsYW5lXG4gICAgICAgICAqIEBzZWUgUElYSS5QbGFuZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUGxhbmU6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLm1lc2guUGxhbmUgaGFzIG1vdmVkIHRvIFBJWEkuUGxhbmUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlBsYW5lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guUm9wZVxuICAgICAgICAgKiBAc2VlIFBJWEkuUm9wZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgUm9wZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkubWVzaC5Sb3BlIGhhcyBtb3ZlZCB0byBQSVhJLlJvcGUnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlJvcGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGNsYXNzIFBJWEkubWVzaC5SYXdNZXNoXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSYXdNZXNoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5tZXNoLlJhd01lc2ggaGFzIG1vdmVkIHRvIFBJWEkuTWVzaCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTWVzaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5tZXNoLkNhbnZhc01lc2hSZW5kZXJlclxuICAgICAgICAgKiBAc2VlIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBDYW52YXNNZXNoUmVuZGVyZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLm1lc2guQ2FudmFzTWVzaFJlbmRlcmVyIGhhcyBtb3ZlZCB0byBQSVhJLkNhbnZhc01lc2hSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuQ2FudmFzTWVzaFJlbmRlcmVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLm1lc2guTWVzaFJlbmRlcmVyXG4gICAgICAgICAqIEBzZWUgUElYSS5NZXNoUmVuZGVyZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIE1lc2hSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkubWVzaC5NZXNoUmVuZGVyZXIgaGFzIG1vdmVkIHRvIFBJWEkuTWVzaFJlbmRlcmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5NZXNoUmVuZGVyZXI7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgLypcbiAgICAgKiBUaGlzIG5hbWVzcGFjZSBoYXMgYmVlbiByZW1vdmVkIGFuZCBpdGVtcyBoYXZlIGJlZW4gbW92ZWQgdG9cbiAgICAgKiB0aGUgdG9wLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLnBhcnRpY2xlc1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICovXG4gICAgUElYSS5wYXJ0aWNsZXMgPSB7fTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkucGFydGljbGVzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVDb250YWluZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlBhcnRpY2xlQ29udGFpbmVyXG4gICAgICAgICAqL1xuICAgICAgICBQYXJ0aWNsZUNvbnRhaW5lcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlQ29udGFpbmVyIGhhcyBtb3ZlZCB0byBQSVhJLlBhcnRpY2xlQ29udGFpbmVyJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5QYXJ0aWNsZUNvbnRhaW5lcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5wYXJ0aWNsZXMuUGFydGljbGVSZW5kZXJlclxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuUGFydGljbGVSZW5kZXJlclxuICAgICAgICAgKi9cbiAgICAgICAgUGFydGljbGVSZW5kZXJlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkucGFydGljbGVzLlBhcnRpY2xlUmVuZGVyZXIgaGFzIG1vdmVkIHRvIFBJWEkuUGFydGljbGVSZW5kZXJlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuUGFydGljbGVSZW5kZXJlcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKlxuICAgICAqIFRoaXMgbmFtZXNwYWNlIGhhcyBiZWVuIHJlbW92ZWQgYW5kIGl0ZW1zIGhhdmUgYmVlbiBtb3ZlZCB0b1xuICAgICAqIHRoZSB0b3AtbGV2ZWwgYFBJWElgIG9iamVjdC5cbiAgICAgKiBAbmFtZXNwYWNlIFBJWEkudGlja2VyXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKi9cbiAgICBQSVhJLnRpY2tlciA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS50aWNrZXIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLnRpY2tlci5UaWNrZXJcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLlRpY2tlclxuICAgICAgICAgKi9cbiAgICAgICAgVGlja2VyOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS50aWNrZXIuVGlja2VyIGhhcyBtb3ZlZCB0byBQSVhJLlRpY2tlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlja2VyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkudGlja2VyLnNoYXJlZFxuICAgICAgICAgKiBAdHlwZSB7UElYSS5UaWNrZXJ9XG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqIEBzZWUgUElYSS5UaWNrZXIuc2hhcmVkXG4gICAgICAgICAqL1xuICAgICAgICBzaGFyZWQ6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnRpY2tlci5zaGFyZWQgaGFzIG1vdmVkIHRvIFBJWEkuVGlja2VyLnNoYXJlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuVGlja2VyLnNoYXJlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBbGwgY2xhc3NlcyBvbiB0aGlzIG5hbWVzcGFjZSBoYXZlIG1vdmVkIHRvIHRoZSBoaWdoLWxldmVsIGBQSVhJYCBvYmplY3QuXG4gICAgICogQG5hbWVzcGFjZSBQSVhJLmxvYWRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqL1xuICAgIFBJWEkubG9hZGVycyA9IHt9O1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoUElYSS5sb2FkZXJzLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAY2xhc3MgUElYSS5sb2FkZXJzLkxvYWRlclxuICAgICAgICAgKiBAc2VlIFBJWEkuTG9hZGVyXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBMb2FkZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLmxvYWRlcnMuTG9hZGVyIGhhcyBtb3ZlZCB0byBQSVhJLkxvYWRlcicpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBjbGFzcyBQSVhJLmxvYWRlcnMuUmVzb3VyY2VcbiAgICAgICAgICogQHNlZSBQSVhJLkxvYWRlclJlc291cmNlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBSZXNvdXJjZToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkubG9hZGVycy5SZXNvdXJjZSBoYXMgbW92ZWQgdG8gUElYSS5Mb2FkZXJSZXNvdXJjZScpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBJWEkuTG9hZGVyUmVzb3VyY2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5iaXRtYXBGb250UGFyc2VyXG4gICAgICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgYml0bWFwRm9udFBhcnNlcjoge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkubG9hZGVycy5iaXRtYXBGb250UGFyc2VyIGhhcyBtb3ZlZCB0byBQSVhJLkJpdG1hcEZvbnRMb2FkZXIudXNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBGb250TG9hZGVyLnVzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLnBhcnNlQml0bWFwRm9udERhdGFcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnRMb2FkZXIucGFyc2VcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICovXG4gICAgICAgIHBhcnNlQml0bWFwRm9udERhdGE6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLmxvYWRlcnMucGFyc2VCaXRtYXBGb250RGF0YSBoYXMgbW92ZWQgdG8gUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5CaXRtYXBGb250TG9hZGVyLnBhcnNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBmdW5jdGlvbiBQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXJcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLnVzZVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgc3ByaXRlc2hlZXRQYXJzZXI6IHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLmxvYWRlcnMuc3ByaXRlc2hlZXRQYXJzZXIgaGFzIG1vdmVkIHRvIFBJWEkuU3ByaXRlc2hlZXRMb2FkZXIudXNlJyk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUElYSS5TcHJpdGVzaGVldExvYWRlci51c2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQGZ1bmN0aW9uIFBJWEkubG9hZGVycy5nZXRSZXNvdXJjZVBhdGhcbiAgICAgICAgICogQHNlZSBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVzb3VyY2VQYXRoOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5sb2FkZXJzLmdldFJlc291cmNlUGF0aCBoYXMgbW92ZWQgdG8gUElYSS5TcHJpdGVzaGVldExvYWRlci5nZXRSZXNvdXJjZVBhdGgnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBQSVhJLlNwcml0ZXNoZWV0TG9hZGVyLmdldFJlc291cmNlUGF0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb24gUElYSS5sb2FkZXJzLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZVxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIucmVnaXN0ZXJQbHVnaW5cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IG1pZGRsZXdhcmVcbiAgICAgKi9cbiAgICBQSVhJLkxvYWRlci5hZGRQaXhpTWlkZGxld2FyZSA9IGZ1bmN0aW9uIGFkZFBpeGlNaWRkbGV3YXJlKG1pZGRsZXdhcmUpXG4gICAge1xuICAgICAgICB3YXJuKCdQSVhJLmxvYWRlcnMuTG9hZGVyLmFkZFBpeGlNaWRkbGV3YXJlIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLmxvYWRlcnMuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luJyk7XG5cbiAgICAgICAgcmV0dXJuIFBJWEkubG9hZGVycy5Mb2FkZXIucmVnaXN0ZXJQbHVnaW4oeyB1c2U6IG1pZGRsZXdhcmUoKSB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3RcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5leHRyYWN0LlByZXBhcmVcbiAgICAgKi9cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUElYSS5leHRyYWN0LCAnV2ViR0xFeHRyYWN0Jywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdhcm4oJ1BJWEkuZXh0cmFjdC5XZWJHTEV4dHJhY3QgaGFzIG1vdmVkIHRvIFBJWEkuZXh0cmFjdC5FeHRyYWN0Jyk7XG5cbiAgICAgICAgICAgIHJldHVybiBQSVhJLmV4dHJhY3QuRXh0cmFjdDtcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkucHJlcGFyZS5QcmVwYXJlXG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkucHJlcGFyZSwgJ1dlYkdMUHJlcGFyZScsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICB7XG4gICAgICAgICAgICB3YXJuKCdQSVhJLnByZXBhcmUuV2ViR0xQcmVwYXJlIGhhcyBtb3ZlZCB0byBQSVhJLnByZXBhcmUuUHJlcGFyZScpO1xuXG4gICAgICAgICAgICByZXR1cm4gUElYSS5wcmVwYXJlLlByZXBhcmU7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuQ29udGFpbmVyI19yZW5kZXJXZWJHTFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlclxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgSW5zdGFuY2Ugb2YgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBQSVhJLkNvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlcldlYkdMID0gZnVuY3Rpb24gX3JlbmRlcldlYkdMKHJlbmRlcmVyKVxuICAgIHtcbiAgICAgICAgd2FybignUElYSS5Db250YWluZXIjX3JlbmRlcldlYkdMIGhhcyBtb3ZlZCB0byBQSVhJLkNvbnRhaW5lciNfcmVuZGVyJyk7XG5cbiAgICAgICAgdGhpcy5fcmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNyZW5kZXJXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNyZW5kZXJcbiAgICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIEluc3RhbmNlIG9mIHJlbmRlcmVyXG4gICAgICovXG4gICAgUElYSS5Db250YWluZXIucHJvdG90eXBlLnJlbmRlcldlYkdMID0gZnVuY3Rpb24gcmVuZGVyV2ViR0wocmVuZGVyZXIpXG4gICAge1xuICAgICAgICB3YXJuKCdQSVhJLkNvbnRhaW5lciNyZW5kZXJXZWJHTCBoYXMgbW92ZWQgdG8gUElYSS5Db250YWluZXIjcmVuZGVyJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXIocmVuZGVyZXIpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuRGlzcGxheU9iamVjdCNyZW5kZXJXZWJHTFxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkRpc3BsYXlPYmplY3QjcmVuZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuRGlzcGxheU9iamVjdC5wcm90b3R5cGUucmVuZGVyV2ViR0wgPSBmdW5jdGlvbiByZW5kZXJXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHdhcm4oJ1BJWEkuRGlzcGxheU9iamVjdCNyZW5kZXJXZWJHTCBoYXMgbW92ZWQgdG8gUElYSS5EaXNwbGF5T2JqZWN0I3JlbmRlcicpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyKHJlbmRlcmVyKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBQSVhJLkNvbnRhaW5lciNyZW5kZXJBZHZhbmNlZFdlYkdMXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkXG4gICAgICogQHBhcmFtIHtQSVhJLlJlbmRlcmVyfSByZW5kZXJlciBJbnN0YW5jZSBvZiByZW5kZXJlclxuICAgICAqL1xuICAgIFBJWEkuQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXJBZHZhbmNlZFdlYkdMID0gZnVuY3Rpb24gcmVuZGVyQWR2YW5jZWRXZWJHTChyZW5kZXJlcilcbiAgICB7XG4gICAgICAgIHdhcm4oJ1BJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkV2ViR0wgaGFzIG1vdmVkIHRvIFBJWEkuQ29udGFpbmVyI3JlbmRlckFkdmFuY2VkJyk7XG5cbiAgICAgICAgdGhpcy5yZW5kZXJBZHZhbmNlZChyZW5kZXJlcik7XG4gICAgfTtcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKFBJWEkuc2V0dGluZ3MsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlZmF1bHQgdHJhbnNmb3JtIHR5cGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuc2V0dGluZ3NcbiAgICAgICAgICogQHR5cGUge1BJWEkuVFJBTlNGT1JNX01PREV9XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuVFJBTlNGT1JNX01PREUuU1RBVElDXG4gICAgICAgICAqL1xuICAgICAgICBUUkFOU0ZPUk1fTU9ERToge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdhcm4oJ1BJWEkuc2V0dGluZ3MuVFJBTlNGT1JNX01PREUgaGFzIGJlZW4gcmVtb3ZlZC4nKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gc2V0KClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3YXJuKCdQSVhJLnNldHRpbmdzLlRSQU5TRk9STV9NT0RFIGhhcyBiZWVuIHJlbW92ZWQuJyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH0pO1xuXG4gICAgdmFyIEJhc2VUZXh0dXJlID0gUElYSS5CYXNlVGV4dHVyZTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbUltYWdlXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21JbWFnZSA9IGZ1bmN0aW9uIGZyb21JbWFnZShjYW52YXMsIGNyb3Nzb3JpZ2luLCBzY2FsZU1vZGUsIHNjYWxlKVxuICAgIHtcbiAgICAgICAgd2FybignUElYSS5CYXNlVGV4dHVyZS5mcm9tSW1hZ2UgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcblxuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZTogc2NhbGUsIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbiB9O1xuXG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgZnJvbUNhbnZhc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyb2YgUElYSS5CYXNlVGV4dHVyZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQHNlZSBQSVhJLkJhc2VUZXh0dXJlLmZyb21cbiAgICAgKi9cbiAgICBCYXNlVGV4dHVyZS5mcm9tQ2FudmFzID0gZnVuY3Rpb24gZnJvbUNhbnZhcyhjYW52YXMsIHNjYWxlTW9kZSlcbiAgICB7XG4gICAgICAgIHdhcm4oJ1BJWEkuQmFzZVRleHR1cmUuZnJvbUNhbnZhcyBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIFBJWEkuQmFzZVRleHR1cmUuZnJvbScpO1xuXG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSB9KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBmcm9tU1ZHXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJvZiBQSVhJLkJhc2VUZXh0dXJlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuQmFzZVRleHR1cmUuZnJvbVxuICAgICAqL1xuICAgIEJhc2VUZXh0dXJlLmZyb21TVkcgPSBmdW5jdGlvbiBmcm9tU1ZHKGNhbnZhcywgY3Jvc3NvcmlnaW4sIHNjYWxlTW9kZSwgc2NhbGUpXG4gICAge1xuICAgICAgICB3YXJuKCdQSVhJLkJhc2VUZXh0dXJlLmZyb21TVkcgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLkJhc2VUZXh0dXJlLmZyb20nKTtcblxuICAgICAgICB2YXIgcmVzb3VyY2VPcHRpb25zID0geyBzY2FsZTogc2NhbGUsIGNyb3Nzb3JpZ2luOiBjcm9zc29yaWdpbiB9O1xuXG4gICAgICAgIHJldHVybiBCYXNlVGV4dHVyZS5mcm9tKGNhbnZhcywgeyBzY2FsZU1vZGU6IHNjYWxlTW9kZSwgcmVzb3VyY2VPcHRpb25zOiByZXNvdXJjZU9wdGlvbnMgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgUElYSS5Qb2ludCNjb3B5XG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAc2VlIFBJWEkuUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlBvaW50LnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weShwKVxuICAgIHtcbiAgICAgICAgd2FybignUElYSS5Qb2ludC5jb3B5IGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5Qb2ludCNjb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuT2JzZXJ2YWJsZVBvaW50I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5PYnNlcnZhYmxlUG9pbnQjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLk9ic2VydmFibGVQb2ludC5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIHdhcm4oJ1BJWEkuT2JzZXJ2YWJsZVBvaW50LmNvcHkgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLk9ic2VydmFibGVQb2ludCNjb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuUmVjdGFuZ2xlI2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5SZWN0YW5nbGUjY29weUZyb21cbiAgICAgKi9cbiAgICBQSVhJLlJlY3RhbmdsZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkocClcbiAgICB7XG4gICAgICAgIHdhcm4oJ1BJWEkuUmVjdGFuZ2xlLmNvcHkgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBQSVhJLlJlY3RhbmdsZSNjb3B5RnJvbScpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNvcHlGcm9tKHApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAbWV0aG9kIFBJWEkuTWF0cml4I2NvcHlcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5NYXRyaXgjY29weVRvXG4gICAgICovXG4gICAgUElYSS5NYXRyaXgucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiBjb3B5KHApXG4gICAge1xuICAgICAgICB3YXJuKCdQSVhJLk1hdHJpeC5jb3B5IGhhcyBiZWVuIHJlcGxhY2VkIHdpdGggUElYSS5NYXRyaXgjY29weVRvJyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY29weVRvKHApO1xuICAgIH07XG5cbiAgICBPYmplY3QuYXNzaWduKFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0ucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWV0aG9kIFBJWEkuRmlsdGVyTWFuYWdlciNnZXRSZW5kZXJUYXJnZXRcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHNlZSBQSVhJLnN5c3RlbXMuRmlsdGVyU3lzdGVtI2dldEZpbHRlclRleHR1cmVcbiAgICAgICAgICovXG4gICAgICAgIGdldFJlbmRlclRhcmdldDogZnVuY3Rpb24gZ2V0UmVuZGVyVGFyZ2V0KGNsZWFyLCByZXNvbHV0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICB3YXJuKCdGaWx0ZXJNYW5hZ2VyI2dldFJlbmRlclRhcmdldCBoYXMgYmVlbiByZXBsYWNlZCB3aXRoIEZpbHRlclN5c3RlbSNnZXRGaWx0ZXJUZXh0dXJlJyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEZpbHRlclRleHR1cmUocmVzb2x1dGlvbik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZXRob2QgUElYSS5GaWx0ZXJNYW5hZ2VyI3JldHVyblJlbmRlclRhcmdldFxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAc2VlIFBJWEkuc3lzdGVtcy5GaWx0ZXJTeXN0ZW0jcmV0dXJuRmlsdGVyVGV4dHVyZVxuICAgICAgICAgKi9cbiAgICAgICAgcmV0dXJuUmVuZGVyVGFyZ2V0OiBmdW5jdGlvbiByZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGV4dHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgd2FybignRmlsdGVyTWFuYWdlciNyZXR1cm5SZW5kZXJUYXJnZXQgaGFzIGJlZW4gcmVwbGFjZWQgd2l0aCBGaWx0ZXJTeXN0ZW0jcmV0dXJuRmlsdGVyVGV4dHVyZScpO1xuXG4gICAgICAgICAgICB0aGlzLnJldHVybkZpbHRlclRleHR1cmUocmVuZGVyVGV4dHVyZSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhQSVhJLlJlbmRlclRleHR1cmUucHJvdG90eXBlLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbmFtZSBQSVhJLlJlbmRlclRleHR1cmUjc291cmNlRnJhbWVcbiAgICAgICAgICogQHR5cGUge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHNvdXJjZUZyYW1lOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SZW5kZXJUZXh0dXJlI3NvdXJjZUZyYW1lIGhhcyBiZWVuIHJlbW92ZWQnKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlckZyYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBuYW1lIFBJWEkuUmVuZGVyVGV4dHVyZSNzaXplXG4gICAgICAgICAqIEB0eXBlIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybignUElYSS5SZW5kZXJUZXh0dXJlI3NpemUgaGFzIGJlZW4gcmVtb3ZlZCcpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZyYW1lO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBCbHVyWEZpbHRlclxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAgICovXG4gICAgdmFyIEJsdXJYRmlsdGVyID0gKGZ1bmN0aW9uIChzdXBlcmNsYXNzKSB7XG4gICAgICAgIGZ1bmN0aW9uIEJsdXJYRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB3YXJuKCdQSVhJLmZpbHRlcnMuQmx1clhGaWx0ZXIgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuXG4gICAgICAgICAgICBzdXBlcmNsYXNzLmNhbGwodGhpcywgdHJ1ZSwgc3RyZW5ndGgsIHF1YWxpdHksIHJlc29sdXRpb24sIGtlcm5lbFNpemUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBzdXBlcmNsYXNzICkgQmx1clhGaWx0ZXIuX19wcm90b19fID0gc3VwZXJjbGFzcztcbiAgICAgICAgQmx1clhGaWx0ZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggc3VwZXJjbGFzcyAmJiBzdXBlcmNsYXNzLnByb3RvdHlwZSApO1xuICAgICAgICBCbHVyWEZpbHRlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBCbHVyWEZpbHRlcjtcblxuICAgICAgICByZXR1cm4gQmx1clhGaWx0ZXI7XG4gICAgfShQSVhJLmZpbHRlcnMuQmx1ckZpbHRlclBhc3MpKTtcblxuICAgIC8qKlxuICAgICAqIEBjbGFzcyBCbHVyWUZpbHRlclxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnNcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzXG4gICAgICovXG4gICAgdmFyIEJsdXJZRmlsdGVyID0gKGZ1bmN0aW9uIChzdXBlcmNsYXNzKSB7XG4gICAgICAgIGZ1bmN0aW9uIEJsdXJZRmlsdGVyKHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKVxuICAgICAgICB7XG4gICAgICAgICAgICB3YXJuKCdQSVhJLmZpbHRlcnMuQmx1cllGaWx0ZXIgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuZmlsdGVycy5CbHVyRmlsdGVyUGFzcycpO1xuXG4gICAgICAgICAgICBzdXBlcmNsYXNzLmNhbGwodGhpcywgZmFsc2UsIHN0cmVuZ3RoLCBxdWFsaXR5LCByZXNvbHV0aW9uLCBrZXJuZWxTaXplKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc3VwZXJjbGFzcyApIEJsdXJZRmlsdGVyLl9fcHJvdG9fXyA9IHN1cGVyY2xhc3M7XG4gICAgICAgIEJsdXJZRmlsdGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIHN1cGVyY2xhc3MgJiYgc3VwZXJjbGFzcy5wcm90b3R5cGUgKTtcbiAgICAgICAgQmx1cllGaWx0ZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQmx1cllGaWx0ZXI7XG5cbiAgICAgICAgcmV0dXJuIEJsdXJZRmlsdGVyO1xuICAgIH0oUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXJQYXNzKSk7XG5cbiAgICBPYmplY3QuYXNzaWduKFBJWEkuZmlsdGVycywge1xuICAgICAgICBCbHVyWEZpbHRlcjogQmx1clhGaWx0ZXIsXG4gICAgICAgIEJsdXJZRmlsdGVyOiBCbHVyWUZpbHRlcixcbiAgICB9KTtcblxuICAgIHZhciBTcHJpdGUgPSBQSVhJLlNwcml0ZTtcbiAgICB2YXIgVGV4dHVyZSA9IFBJWEkuVGV4dHVyZTtcblxuICAgIC8vIFVzZSB0aGVzZSB0byBkZXByZWNhdGUgYWxsIHRoZSBTcHJpdGUgZnJvbSogbWV0aG9kc1xuICAgIGZ1bmN0aW9uIHNwcml0ZUZyb20obmFtZSwgc291cmNlLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKVxuICAgIHtcbiAgICAgICAgd2FybigoXCJQSVhJLlNwcml0ZS5cIiArIG5hbWUgKyBcIiBpcyBkZXByZWNhdGVkLCB1c2UgUElYSS5TcHJpdGUuZnJvbVwiKSk7XG5cbiAgICAgICAgcmV0dXJuIFNwcml0ZS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUltYWdlXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21JbWFnZSA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUltYWdlJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbVNWR1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tU1ZHID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tU1ZHJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUNhbnZhc1xuICAgICAqIEBzZWUgUElYSS5TcHJpdGUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuU3ByaXRlfVxuICAgICAqL1xuICAgIFNwcml0ZS5mcm9tQ2FudmFzID0gc3ByaXRlRnJvbS5iaW5kKG51bGwsICdmcm9tQ2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbVZpZGVvXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21WaWRlbyA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbVZpZGVvJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5TcHJpdGUuZnJvbUZyYW1lXG4gICAgICogQHNlZSBQSVhJLlNwcml0ZS5mcm9tXG4gICAgICogQHJldHVybiB7UElYSS5TcHJpdGV9XG4gICAgICovXG4gICAgU3ByaXRlLmZyb21GcmFtZSA9IHNwcml0ZUZyb20uYmluZChudWxsLCAnZnJvbUZyYW1lJyk7XG5cbiAgICAvLyBVc2UgdGhlc2UgdG8gZGVwcmVjYXRlIGFsbCB0aGUgVGV4dHVyZSBmcm9tKiBtZXRob2RzXG4gICAgZnVuY3Rpb24gdGV4dHVyZUZyb20obmFtZSwgc291cmNlLCBjcm9zc29yaWdpbiwgc2NhbGVNb2RlKVxuICAgIHtcbiAgICAgICAgd2FybigoXCJQSVhJLlRleHR1cmUuXCIgKyBuYW1lICsgXCIgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuVGV4dHVyZS5mcm9tXCIpKTtcblxuICAgICAgICByZXR1cm4gVGV4dHVyZS5mcm9tKHNvdXJjZSwge1xuICAgICAgICAgICAgcmVzb3VyY2VPcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgc2NhbGU6IHNjYWxlTW9kZSxcbiAgICAgICAgICAgICAgICBjcm9zc29yaWdpbjogY3Jvc3NvcmlnaW4sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21JbWFnZVxuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tSW1hZ2UgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tSW1hZ2UnKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbVNWR1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tU1ZHID0gdGV4dHVyZUZyb20uYmluZChudWxsLCAnZnJvbVNWRycpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWV0aG9kIFBJWEkuVGV4dHVyZS5mcm9tQ2FudmFzXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21DYW52YXMgPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tQ2FudmFzJyk7XG5cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjAuMFxuICAgICAqIEBtZXRob2QgUElYSS5UZXh0dXJlLmZyb21WaWRlb1xuICAgICAqIEBzZWUgUElYSS5UZXh0dXJlLmZyb21cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9XG4gICAgICovXG4gICAgVGV4dHVyZS5mcm9tVmlkZW8gPSB0ZXh0dXJlRnJvbS5iaW5kKG51bGwsICdmcm9tVmlkZW8nKTtcblxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMC4wXG4gICAgICogQG1ldGhvZCBQSVhJLlRleHR1cmUuZnJvbUZyYW1lXG4gICAgICogQHNlZSBQSVhJLlRleHR1cmUuZnJvbVxuICAgICAqIEByZXR1cm4ge1BJWEkuVGV4dHVyZX1cbiAgICAgKi9cbiAgICBUZXh0dXJlLmZyb21GcmFtZSA9IHRleHR1cmVGcm9tLmJpbmQobnVsbCwgJ2Zyb21GcmFtZScpO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4wLjBcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufSBQSVhJLkFic3RyYWN0UmVuZGVyZXIjYXV0b1Jlc2l6ZVxuICAgICAqIEBzZWUgUElYSS5BYnN0cmFjdFJlbmRlcmVyI2F1dG9EZW5zaXR5XG4gICAgICovXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBJWEkuQWJzdHJhY3RSZW5kZXJlci5wcm90b3R5cGUsICdhdXRvUmVzaXplJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdhcm4oJ1BJWEkuQWJzdHJhY3RSZW5kZXJlciBhdXRvUmVzaXplIGlzIGRlcHJlY2F0ZWQsIHVzZSBhdXRvRGVuc2l0eScpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hdXRvRGVuc2l0eTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQodmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdhcm4oJ1BJWEkuQWJzdHJhY3RSZW5kZXJlciBhdXRvUmVzaXplIGlzIGRlcHJlY2F0ZWQsIHVzZSBhdXRvRGVuc2l0eScpO1xuXG4gICAgICAgICAgICB0aGlzLmF1dG9EZW5zaXR5ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG5cbi8vIEluc3RhbGwgcmVuZGVyZXIgcGx1Z2luc1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2FjY2Vzc2liaWxpdHknLCBBY2Nlc3NpYmlsaXR5TWFuYWdlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignZXh0cmFjdCcsIEV4dHJhY3QpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ2dyYXBoaWNzJywgR3JhcGhpY3NSZW5kZXJlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbignaW50ZXJhY3Rpb24nLCBJbnRlcmFjdGlvbk1hbmFnZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ21lc2gnLCBNZXNoUmVuZGVyZXIpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3BhcnRpY2xlJywgUGFydGljbGVSZW5kZXJlcik7XG5SZW5kZXJlci5yZWdpc3RlclBsdWdpbigncHJlcGFyZScsIFByZXBhcmUpO1xuUmVuZGVyZXIucmVnaXN0ZXJQbHVnaW4oJ3Nwcml0ZScsIFNwcml0ZVJlbmRlcmVyKTtcblJlbmRlcmVyLnJlZ2lzdGVyUGx1Z2luKCd0aWxpbmdTcHJpdGUnLCBUaWxpbmdTcHJpdGVSZW5kZXJlcik7XG5cbkxvYWRlci5yZWdpc3RlclBsdWdpbihCaXRtYXBGb250TG9hZGVyKTtcbkxvYWRlci5yZWdpc3RlclBsdWdpbihTcHJpdGVzaGVldExvYWRlcik7XG5cbkFwcGxpY2F0aW9uLnJlZ2lzdGVyUGx1Z2luKFRpY2tlclBsdWdpbik7XG5BcHBsaWNhdGlvbi5yZWdpc3RlclBsdWdpbihMb2FkZXJQbHVnaW4pO1xuXG4vLyBBcHBseSBkZXBsYXllZCBtaXhpbnNcbm1peGlucy5wZXJmb3JtTWl4aW5zKCk7XG5cbi8qKlxuICogU3RyaW5nIG9mIHRoZSBjdXJyZW50IFBJWEkgdmVyc2lvbi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAY29uc3RhbnRcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBWRVJTSU9OXG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG52YXIgVkVSU0lPTiA9ICc1LjAuMC1hbHBoYS4zJztcblxuLyoqXG4gKiBAbmFtZXNwYWNlIFBJWElcbiAqL1xudmFyIFBJWEkgPSB7IFZFUlNJT046IFZFUlNJT04gfTtcblxuLyoqXG4gKiBUaGlzIG5hbWVzcGFjZSBjb250YWlucyBXZWJHTC1vbmx5IGRpc3BsYXkgZmlsdGVycyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gKiB0byBEaXNwbGF5T2JqZWN0cyB1c2luZyB0aGUge0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNmaWx0ZXJzIGZpbHRlcnN9IHByb3BlcnR5LlxuICpcbiAqIFNpbmNlIFBpeGlKUyBvbmx5IGhhZCBhIGhhbmRmdWwgb2YgYnVpbHQtaW4gZmlsdGVycywgYWRkaXRpb25hbCBmaWx0ZXJzXG4gKiBjYW4gYmUgZG93bmxvYWRlZCB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLWZpbHRlcnMgaGVyZX0gZnJvbSB0aGVcbiAqIFBpeGlKUyBGaWx0ZXJzIHJlcG9zaXRvcnkuXG4gKlxuICogQWxsIGZpbHRlcnMgbXVzdCBleHRlbmQge0BsaW5rIFBJWEkuRmlsdGVyfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIGEgbmV3IGFwcGxpY2F0aW9uXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbigpO1xuICpcbiAqIC8vIERyYXcgYSBncmVlbiByZWN0YW5nbGVcbiAqIGNvbnN0IHJlY3QgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gKiAgICAgLmJlZ2luRmlsbCgweDAwZmYwMClcbiAqICAgICAuZHJhd1JlY3QoNDAsIDQwLCAyMDAsIDIwMCk7XG4gKlxuICogLy8gQWRkIGEgYmx1ciBmaWx0ZXJcbiAqIHJlY3QuZmlsdGVycyA9IFtuZXcgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIoKV07XG4gKlxuICogLy8gRGlzcGxheSByZWN0YW5nbGVcbiAqIGFwcC5zdGFnZS5hZGRDaGlsZChyZWN0KTtcbiAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYXBwLnZpZXcpO1xuICogQG5hbWVzcGFjZSBQSVhJLmZpbHRlcnNcbiAqL1xudmFyIGZpbHRlcnMgPSB7XG4gICAgQWxwaGFGaWx0ZXI6IEFscGhhRmlsdGVyLFxuICAgIEJsdXJGaWx0ZXI6IEJsdXJGaWx0ZXIsXG4gICAgQmx1ckZpbHRlclBhc3M6IEJsdXJGaWx0ZXJQYXNzLFxuICAgIENvbG9yTWF0cml4RmlsdGVyOiBDb2xvck1hdHJpeEZpbHRlcixcbiAgICBEaXNwbGFjZW1lbnRGaWx0ZXI6IERpc3BsYWNlbWVudEZpbHRlcixcbiAgICBGWEFBRmlsdGVyOiBGWEFBRmlsdGVyLFxuICAgIE5vaXNlRmlsdGVyOiBOb2lzZUZpbHRlcixcbn07XG5cbi8vIEFkZCB0byBuYW1lc3BhY2Ugd2luZG93IG9iamVjdCBmb3IgcGVvcGxlIGRvaW5nIGBpbXBvcnQgJ3BpeGkuanMnYFxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKVxue1xuICAgIHZhciBuYW1lc3BhY2VzID0ge1xuICAgICAgICBhY2Nlc3NpYmlsaXR5OiBhY2Nlc3NpYmlsaXR5LFxuICAgICAgICBleHRyYWN0OiBleHRyYWN0LFxuICAgICAgICBmaWx0ZXJzOiBmaWx0ZXJzLFxuICAgICAgICBpbnRlcmFjdGlvbjogaW50ZXJhY3Rpb24sXG4gICAgICAgIHByZXBhcmU6IHByZXBhcmUsXG4gICAgICAgIHNldHRpbmdzOiBzZXR0aW5ncyQxLFxuICAgICAgICB1dGlsczogdXRpbHMsXG4gICAgfTtcblxuICAgIHdpbmRvdy5QSVhJID0gT2JqZWN0LmFzc2lnbihcbiAgICAgICAgUElYSSxcbiAgICAgICAgbmFtZXNwYWNlcyxcbiAgICAgICAgYXBwLFxuICAgICAgICBjb25zdGFudHMsXG4gICAgICAgIGNvcmUsXG4gICAgICAgIGRpc3BsYXksXG4gICAgICAgIGdyYXBoaWNzLFxuICAgICAgICBsb2FkZXJzLFxuICAgICAgICBtYXRoLFxuICAgICAgICBtZXNoLFxuICAgICAgICBtZXNoRXh0cmFzLFxuICAgICAgICBwYXJ0aWNsZXMsXG4gICAgICAgIHNwcml0ZSxcbiAgICAgICAgc3ByaXRlQW5pbWF0ZWQsXG4gICAgICAgIHNwcml0ZXNoZWV0LFxuICAgICAgICBzcHJpdGVUaWxpbmcsXG4gICAgICAgIHRleHQsXG4gICAgICAgIHRleHRCaXRtYXAsXG4gICAgICAgIHRpY2tlclxuICAgICk7XG5cbiAgICAvLyBEZXByZWNhdGlvbnMgb25seSBhcHBseSB0byBXaW5kb3cgb2JqZWN0XG4gICAgZGVwcmVjYXRlZChQSVhJKTtcbn1cblxuZXhwb3J0IHsgUElYSSwgVkVSU0lPTiwgYWNjZXNzaWJpbGl0eSwgZXh0cmFjdCwgZmlsdGVycywgaW50ZXJhY3Rpb24sIHByZXBhcmUsIHNldHRpbmdzJDEgYXMgc2V0dGluZ3MsIHV0aWxzIH07XG5leHBvcnQgKiBmcm9tICdAcGl4aS9hcHAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvY29uc3RhbnRzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL2NvcmUnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvZGlzcGxheSc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9ncmFwaGljcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9sb2FkZXJzJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL21hdGgnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvbWVzaCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9tZXNoLWV4dHJhcyc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9wYXJ0aWNsZXMnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvc3ByaXRlJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZXNoZWV0JztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3Nwcml0ZS1hbmltYXRlZCc7XG5leHBvcnQgKiBmcm9tICdAcGl4aS9zcHJpdGUtdGlsaW5nJztcbmV4cG9ydCAqIGZyb20gJ0BwaXhpL3RleHQnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGV4dC1iaXRtYXAnO1xuZXhwb3J0ICogZnJvbSAnQHBpeGkvdGlja2VyJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpeGkuZXMuanMubWFwXG4iLCJleHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlTWF0cml4KGlucHV0TWF0cml4OiBzdHJpbmdbXVtdKTogc3RyaW5nW11bXSB7XHJcbiAgY29uc3QgdHJhbnNwb3NlOiBzdHJpbmdbXVtdID0gW107XHJcbiAgZm9yIChsZXQgeSA9IDA7IHkgPCBpbnB1dE1hdHJpeFswXS5sZW5ndGg7IHkrKykge1xyXG4gICAgdHJhbnNwb3NlW3ldID0gW107XHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IGlucHV0TWF0cml4Lmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgIHRyYW5zcG9zZVt5XVt4XSA9IGlucHV0TWF0cml4W3hdW3ldO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gdHJhbnNwb3NlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVW5pZm9ybUFycmF5KHZhbHVlOiBhbnksIGNvbHM6IG51bWJlciwgcm93czogbnVtYmVyKSB7XHJcbiAgY29uc3QgbWF0cml4OiBhbnlbXVtdID0gW107XHJcbiAgZm9yIChsZXQgeCA9IDA7IHggPCBjb2xzOyB4KyspIHtcclxuICAgIG1hdHJpeFt4XSA9IFtdXHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGNvbHM7IHkrKykge1xyXG4gICAgICBtYXRyaXhbeF1beV0gPSB2YWx1ZTtcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIG1hdHJpeFxyXG59IiwiZXhwb3J0IGNvbnN0IFB1eW9UeXBlID0ge1xyXG4gIFJlZDogXCJSXCIsXHJcbiAgR3JlZW46IFwiR1wiLFxyXG4gIEJsdWU6IFwiQlwiLFxyXG4gIFllbGxvdzogXCJZXCIsXHJcbiAgUHVycGxlOiBcIlBcIixcclxuICBHYXJiYWdlOiBcIkpcIixcclxuICBIYXJkOiBcIkhcIixcclxuICBQb2ludDogXCJOXCIsXHJcbiAgU3VuOiBcIlNcIixcclxuICBCbG9jazogXCJMXCIsXHJcbiAgTm9uZTogXCIwXCJcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQdXlvIHtcclxuICBwdWJsaWMgcDogc3RyaW5nO1xyXG4gIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgcHVibGljIHk6IG51bWJlcjtcclxuICBwdWJsaWMgbmV3WTogbnVtYmVyO1xyXG4gIHB1YmxpYyBjb25uZWN0aW9uczogc3RyaW5nO1xyXG4gIGNvbnN0cnVjdG9yKGNvbG9yOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnAgPSBjb2xvcjtcclxuICAgIHRoaXMueCA9IHg7XHJcbiAgICB0aGlzLnkgPSB5O1xyXG4gICAgdGhpcy5uZXdZID0geTtcclxuICAgIHRoaXMuY29ubmVjdGlvbnMgPSBcIm5cIjtcclxuICB9XHJcbiAgZ2V0IGlzQ29sb3JlZCgpOiBib29sZWFuIHtcclxuICAgIGlmIChcclxuICAgICAgdGhpcy5wID09PSBQdXlvVHlwZS5SZWQgfHxcclxuICAgICAgdGhpcy5wID09PSBQdXlvVHlwZS5HcmVlbiB8fFxyXG4gICAgICB0aGlzLnAgPT09IFB1eW9UeXBlLkJsdWUgfHxcclxuICAgICAgdGhpcy5wID09PSBQdXlvVHlwZS5ZZWxsb3cgfHxcclxuICAgICAgdGhpcy5wID09PSBQdXlvVHlwZS5QdXJwbGVcclxuICAgICkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbiAgZ2V0IGlzR2FyYmFnZSgpOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLnAgPT09IFB1eW9UeXBlLkdhcmJhZ2UgfHwgdGhpcy5wID09PSBQdXlvVHlwZS5IYXJkKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuICBnZXQgbmFtZSgpOiBzdHJpbmcge1xyXG4gICAgc3dpdGNoICh0aGlzLnApIHtcclxuICAgICAgY2FzZSBQdXlvVHlwZS5SZWQ6XHJcbiAgICAgICAgcmV0dXJuIFwicmVkXCI7XHJcbiAgICAgIGNhc2UgUHV5b1R5cGUuR3JlZW46XHJcbiAgICAgICAgcmV0dXJuIFwiZ3JlZW5cIjtcclxuICAgICAgY2FzZSBQdXlvVHlwZS5CbHVlOlxyXG4gICAgICAgIHJldHVybiBcImJsdWVcIjtcclxuICAgICAgY2FzZSBQdXlvVHlwZS5ZZWxsb3c6XHJcbiAgICAgICAgcmV0dXJuIFwieWVsbG93XCI7XHJcbiAgICAgIGNhc2UgUHV5b1R5cGUuUHVycGxlOlxyXG4gICAgICAgIHJldHVybiBcInB1cnBsZVwiO1xyXG4gICAgICBjYXNlIFB1eW9UeXBlLkdhcmJhZ2U6XHJcbiAgICAgICAgcmV0dXJuIFwiZ2FyYmFnZVwiO1xyXG4gICAgICBjYXNlIFB1eW9UeXBlLkhhcmQ6XHJcbiAgICAgICAgcmV0dXJuIFwiaGFyZFwiO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBcInNwYWNlclwiO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBjcmVhdGVVbmlmb3JtQXJyYXksIHRyYW5zcG9zZU1hdHJpeCB9IGZyb20gXCIuL2hlbHBlclwiO1xyXG5pbXBvcnQgeyBQdXlvLCBQdXlvVHlwZSB9IGZyb20gXCIuL1B1eW9cIjtcclxuXHJcbmludGVyZmFjZSBTaW11bGF0b3JTZXR0aW5ncyB7XHJcbiAgcm93czogbnVtYmVyO1xyXG4gIGNvbHM6IG51bWJlcjtcclxuICBoaWRkZW5Sb3dzOiBudW1iZXI7XHJcbiAgdGFyZ2V0UG9pbnQ6IG51bWJlcjtcclxuICBwdXlvVG9Qb3A6IG51bWJlcjtcclxuICBnYXJiYWdlSW5IaWRkZW5Sb3dCZWhhdmlvcjogc3RyaW5nOyAvLyBcIlNFR0FcIiBvciBcIkNPTVBJTEVcIjtcclxuICBjaGFpblBvd2VyOiBudW1iZXJbXTtcclxuICBjb2xvckJvbnVzOiBudW1iZXJbXTtcclxuICBncm91cEJvbnVzOiBudW1iZXJbXTtcclxuICBwb2ludFB1eW86IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmllbGQge1xyXG4gIHB1YmxpYyBtYXRyaXg6IFB1eW9bXVtdO1xyXG4gIHB1YmxpYyBpbnB1dE1hdHJpeDogc3RyaW5nW11bXTtcclxuICBwdWJsaWMgc2V0dGluZ3M6IFNpbXVsYXRvclNldHRpbmdzO1xyXG4gIHB1YmxpYyBwb3BwaW5nR3JvdXBzOiBQdXlvW11bXTtcclxuICBwdWJsaWMgcG9wcGluZ0NvbG9yczogc3RyaW5nW107XHJcbiAgcHVibGljIGdhcmJhZ2VDbGVhckNvdW50TWF0cml4OiBudW1iZXJbXVtdO1xyXG4gIHB1YmxpYyBjaGFpbkxlbmd0aDogbnVtYmVyO1xyXG4gIHB1YmxpYyBsaW5rU2NvcmU6IG51bWJlcjtcclxuICBwdWJsaWMgdG90YWxTY29yZTogbnVtYmVyO1xyXG4gIHB1YmxpYyBsaW5rUHV5b011bHRpcGxpZXI6IG51bWJlcjtcclxuICBwdWJsaWMgbGlua0JvbnVzTXVsdGlwbGllcjogbnVtYmVyO1xyXG4gIHB1YmxpYyBsZWZ0b3Zlck51aXNhbmNlUG9pbnRzOiBudW1iZXI7XHJcbiAgcHVibGljIHRvdGFsR2FyYmFnZTogbnVtYmVyO1xyXG4gIHB1YmxpYyBsaW5rR2FyYmFnZTogbnVtYmVyO1xyXG4gIHB1YmxpYyBkcm9wRGlzdGFuY2VzOiBudW1iZXJbXVtdO1xyXG4gIHB1YmxpYyBkcm9wcGVkTWF0cml4OiBQdXlvW11bXTtcclxuXHJcbiAgcHVibGljIHNpbVN0YXRlOiBzdHJpbmc7XHJcbiAgcHVibGljIGhhc1BvcHM6IGJvb2xlYW47XHJcbiAgcHVibGljIGhhc0Ryb3BzOiBib29sZWFuO1xyXG4gIHB1YmxpYyBjaGFpbkhpc3Rvcnk6IG9iamVjdFtdO1xyXG5cclxuICBjb25zdHJ1Y3RvcihtYXRyaXg6IHN0cmluZ1tdW10sIHNldHRpbmdzPzogU2ltdWxhdG9yU2V0dGluZ3MpIHtcclxuICAgIHRoaXMuaW5wdXRNYXRyaXggPSBtYXRyaXg7XHJcbiAgICBpZiAoc2V0dGluZ3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLnNldHRpbmdzID0ge1xyXG4gICAgICAgIHJvd3M6IDEzLFxyXG4gICAgICAgIGNvbHM6IDYsXHJcbiAgICAgICAgaGlkZGVuUm93czogMSxcclxuICAgICAgICB0YXJnZXRQb2ludDogNzAsXHJcbiAgICAgICAgcHV5b1RvUG9wOiA0LFxyXG4gICAgICAgIGdhcmJhZ2VJbkhpZGRlblJvd0JlaGF2aW9yOiBcIlNFR0FcIixcclxuICAgICAgICBjaGFpblBvd2VyOiBbXHJcbiAgICAgICAgICAwLFxyXG4gICAgICAgICAgOCxcclxuICAgICAgICAgIDE2LFxyXG4gICAgICAgICAgMzIsXHJcbiAgICAgICAgICA2NCxcclxuICAgICAgICAgIDk2LFxyXG4gICAgICAgICAgMTI4LFxyXG4gICAgICAgICAgMTYwLFxyXG4gICAgICAgICAgMTkyLFxyXG4gICAgICAgICAgMjI0LFxyXG4gICAgICAgICAgMjU2LFxyXG4gICAgICAgICAgMjg4LFxyXG4gICAgICAgICAgMzIwLFxyXG4gICAgICAgICAgMzUyLFxyXG4gICAgICAgICAgMzg0LFxyXG4gICAgICAgICAgNDE2LFxyXG4gICAgICAgICAgNDQ4LFxyXG4gICAgICAgICAgNDgwLFxyXG4gICAgICAgICAgNTEyLFxyXG4gICAgICAgICAgNTQ0LFxyXG4gICAgICAgICAgNTc2LFxyXG4gICAgICAgICAgNjA4LFxyXG4gICAgICAgICAgNjQwLFxyXG4gICAgICAgICAgNjcyXHJcbiAgICAgICAgXSxcclxuICAgICAgICBjb2xvckJvbnVzOiBbMCwgMywgNiwgMTIsIDI0XSxcclxuICAgICAgICBncm91cEJvbnVzOiBbMCwgMiwgMywgNCwgNSwgNiwgNywgMTBdLFxyXG4gICAgICAgIHBvaW50UHV5bzogNTBcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnBvcHBpbmdHcm91cHMgPSBbXTtcclxuICAgIHRoaXMucG9wcGluZ0NvbG9ycyA9IFtdO1xyXG4gICAgdGhpcy5jaGFpbkxlbmd0aCA9IDA7XHJcbiAgICB0aGlzLmxpbmtTY29yZSA9IDA7XHJcbiAgICB0aGlzLnRvdGFsU2NvcmUgPSAwO1xyXG4gICAgdGhpcy5saW5rQm9udXNNdWx0aXBsaWVyID0gMDtcclxuICAgIHRoaXMubGlua1B1eW9NdWx0aXBsaWVyID0gMDtcclxuICAgIHRoaXMubGVmdG92ZXJOdWlzYW5jZVBvaW50cyA9IDA7XHJcbiAgICB0aGlzLnRvdGFsR2FyYmFnZSA9IDA7XHJcbiAgICB0aGlzLmxpbmtHYXJiYWdlID0gMDtcclxuICAgIHRoaXMuaGFzUG9wcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5oYXNEcm9wcyA9IGZhbHNlO1xyXG4gICAgdGhpcy5jaGFpbkhpc3RvcnkgPSBbXTtcclxuXHJcbiAgICB0aGlzLm1hdHJpeCA9IFtdO1xyXG4gICAgdGhpcy5kcm9wRGlzdGFuY2VzID0gW107XHJcbiAgICB0aGlzLmRyb3BwZWRNYXRyaXggPSBbXTtcclxuICAgIHRoaXMuZ2FyYmFnZUNsZWFyQ291bnRNYXRyaXggPSBjcmVhdGVVbmlmb3JtQXJyYXkoMCwgdGhpcy5zZXR0aW5ncy5jb2xzLCB0aGlzLnNldHRpbmdzLnJvd3MpO1xyXG4gICAgY29uc29sZS5sb2codGhpcy5nYXJiYWdlQ2xlYXJDb3VudE1hdHJpeCk7XHJcbiAgICBmb3IgKGxldCB4OiBudW1iZXIgPSAwOyB4IDwgdGhpcy5zZXR0aW5ncy5jb2xzOyB4KyspIHtcclxuICAgICAgdGhpcy5tYXRyaXhbeF0gPSBbXTtcclxuICAgICAgdGhpcy5kcm9wRGlzdGFuY2VzW3hdID0gW107XHJcbiAgICAgIGZvciAobGV0IHk6IG51bWJlciA9IDA7IHkgPCB0aGlzLnNldHRpbmdzLnJvd3M7IHkrKykge1xyXG4gICAgICAgIHRoaXMubWF0cml4W3hdW3ldID0gbmV3IFB1eW8oUHV5b1R5cGUuTm9uZSwgeCwgeSk7XHJcbiAgICAgICAgdGhpcy5kcm9wRGlzdGFuY2VzW3hdW3ldID0gMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy51cGRhdGVGaWVsZE1hdHJpeCh0aGlzLmlucHV0TWF0cml4KTtcclxuXHJcbiAgICB0aGlzLnNldENvbm5lY3Rpb25EYXRhKCk7XHJcblxyXG4gICAgLy8gU2V0IHNpbXVsYXRvciBzdGF0ZS5cclxuICAgIC8vIGlkbGUgLSBjaGFpbiBoYXNuJ3Qgc3RhcnRlZCB5ZXRcclxuICAgIC8vIGNoZWNraW5nRHJvcHMgLSBDYWxjIGRyb3AgZGF0YSBhbmQgcnVuIGFuaW1hdGlvbnMuXHJcbiAgICAvLyAgICAgcmVmcmVzaExpbmtEYXRhKCk7XHJcbiAgICAvLyAgICAgY2FsY3VsYXRlRHJvcERpc3RhbmNlcygpO1xyXG4gICAgLy8gZHJvcHBlZCAtIGZ1bGx5IHNldCB0aGUgcHV5b3MgaW4gdGhlIG5ldyBkcm9wIHBvc2l0aW9uLlxyXG4gICAgLy8gICAgIGRyb3BQdXlvcygpO1xyXG4gICAgLy8gICAgIHJlZnJlc2hQdXlvUG9zaXRpb25EYXRhKCk7XHJcbiAgICAvLyBjaGVja2luZ1BvcHMgLSBDYWxjIHBvcHMgYW5kIHJ1biBhbmltYXRpb25zLlxyXG4gICAgLy8gICAgIGNoZWNrRm9yQ29sb3JQb3BzKCk7XHJcbiAgICAvLyAgICAgY2hlY2tGb3JHYXJiYWdlUG9wcygpO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmhhc1BvcHMgPT09IHRydWUpIHtcclxuICAgIC8vICAgICAgIHRoaXMuY2hhaW5MZW5ndGggKz0gMTtcclxuICAgIC8vICAgICAgIHRoaXMuY2FsY3VsYXRlTGlua1Njb3JlKCk7XHJcbiAgICAvLyAgICAgICB0aGlzLmNhbGN1bGF0ZUdhcmJhZ2UoKTtcclxuICAgIC8vICAgICAgIHRoaXMucG9wUHV5b3MoKTtcclxuICAgIC8vICAgICAgIHRoaXMucG9wR2FyYmFnZSgpO1xyXG4gICAgLy8gICAgICAgdGhpcy5oYXNQb3BzID0gZmFsc2U7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gcG9wcGVkIC0gZnVsbHkgc2V0IHRoZSBuZXcgbWF0cml4IHdpdGggdGhlIHB1eW8gYW5kIG9qYW1hIHJlbW92ZWRcclxuICAgIC8vIGZpbmlzaGVkIC0gbm8gbW9yZSBwb3BzIG9yIGFueXRoaW5nIHRvIGRyb3AuXHJcbiAgICB0aGlzLnNpbVN0YXRlID0gXCJpZGxlXCI7XHJcbiAgICAvLyBBZGQgaW5wdXQgZGF0YSB0byBjaGFpbkhpc3RvcnlcclxuICB9XHJcblxyXG4gIHB1YmxpYyB1cGRhdGVGaWVsZE1hdHJpeChuZXdNYXRyaXg6IHN0cmluZ1tdW10pOiB2b2lkIHtcclxuICAgIC8vIEluc2VydCB0aGUgZGF0YSBmcm9tIG5ld01hdHJpeC5cclxuICAgIGlmIChuZXdNYXRyaXhbMF0ubGVuZ3RoIDwgdGhpcy5zZXR0aW5ncy5yb3dzKSB7XHJcbiAgICAgIC8vIElmIGlucHV0TWF0cml4IGlzIHNob3J0ZXIgdGhhbiB0aGUgbWF0cml4IGRlZmluZWQgYnkgc2V0dGluZ3MsXHJcbiAgICAgIC8vIHNoaWZ0IHRoZSBjZWxscyBkb3duIHRvIHRoZSBuZXcgYm90dG9tIG9mIHRoZSBtYXRyaXhcclxuICAgICAgZm9yIChsZXQgeDogbnVtYmVyID0gMDsgeCA8IG5ld01hdHJpeC5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgIGZvciAobGV0IHk6IG51bWJlciA9IDA7IHkgPCBuZXdNYXRyaXhbeF0ubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgIHRoaXMubWF0cml4W3hdW1xyXG4gICAgICAgICAgICB5ICsgdGhpcy5zZXR0aW5ncy5yb3dzIC0gbmV3TWF0cml4W3hdLmxlbmd0aFxyXG4gICAgICAgICAgXSA9IG5ldyBQdXlvKFxyXG4gICAgICAgICAgICBuZXdNYXRyaXhbeF1beV0sXHJcbiAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgIHkgKyB0aGlzLnNldHRpbmdzLnJvd3MgLSBuZXdNYXRyaXhbeF0ubGVuZ3RoXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChuZXdNYXRyaXhbMF0ubGVuZ3RoID4gdGhpcy5zZXR0aW5ncy5yb3dzKSB7XHJcbiAgICAgIC8vIElmIG5ld01hdHJpeCBpcyBsYXJnZXIgdGhhbiB0aGUgbWF0cml4IGRlZmluZWQgYnkgc2V0dGluZ3MsXHJcbiAgICAgIC8vIHNoaWZ0IHRoZSBjZWxscyB1cCB0byB0aGUgbmV3IGJvdHRvbSBvZiB0aGUgbWF0cml4LlxyXG4gICAgICBmb3IgKGxldCB4OiBudW1iZXIgPSAwOyB4IDwgdGhpcy5zZXR0aW5ncy5jb2xzOyB4KyspIHtcclxuICAgICAgICBmb3IgKGxldCB5OiBudW1iZXIgPSAwOyB5IDwgdGhpcy5zZXR0aW5ncy5yb3dzOyB5KyspIHtcclxuICAgICAgICAgIC8vIENoZWNrIGlmIGN1cnJlbnQgY29sdW1uIGlzIG91dCBvZiBib3VuZHMgaW4gcmVzdWx0YW50IG1hdHJpeFxyXG4gICAgICAgICAgaWYgKG5ld01hdHJpeC5sZW5ndGggPD0gdGhpcy5zZXR0aW5ncy5jb2xzICYmIHggPCBuZXdNYXRyaXgubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF0cml4W3hdW3ldID0gbmV3IFB1eW8oXHJcbiAgICAgICAgICAgICAgbmV3TWF0cml4W3hdW3kgKyBuZXdNYXRyaXhbMF0ubGVuZ3RoIC0gdGhpcy5zZXR0aW5ncy5yb3dzXSxcclxuICAgICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICAgIHlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF0cml4W3hdW3ldID0gbmV3IFB1eW8oUHV5b1R5cGUuTm9uZSwgeCwgeSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBJZiB0aGUgaGVpZ2h0cyBhcmUgdGhlIHNhbWUsIGp1c3QgY29weSBpbiBwbGFjZS5cclxuICAgICAgZm9yIChsZXQgeDogbnVtYmVyID0gMDsgeCA8IHRoaXMuc2V0dGluZ3MuY29sczsgeCsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeTogbnVtYmVyID0gMDsgeSA8IHRoaXMuc2V0dGluZ3Mucm93czsgeSsrKSB7XHJcbiAgICAgICAgICBpZiAobmV3TWF0cml4Lmxlbmd0aCA8PSB0aGlzLnNldHRpbmdzLmNvbHMgJiYgeCA8IG5ld01hdHJpeC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5tYXRyaXhbeF1beV0gPSB0aGlzLm1hdHJpeFt4XVt5XSA9IG5ldyBQdXlvKFxyXG4gICAgICAgICAgICAgIG5ld01hdHJpeFt4XVt5XSxcclxuICAgICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICAgIHlcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyByZWZyZXNoUHV5b1Bvc2l0aW9uRGF0YSgpOiB2b2lkIHtcclxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5zZXR0aW5ncy5jb2xzOyB4KyspIHtcclxuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnNldHRpbmdzLnJvd3M7IHkrKykge1xyXG4gICAgICAgIHRoaXMubWF0cml4W3hdW3ldLnggPSB4O1xyXG4gICAgICAgIHRoaXMubWF0cml4W3hdW3ldLnkgPSB5O1xyXG4gICAgICAgIHRoaXMuZHJvcERpc3RhbmNlc1t4XVt5XSA9IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcm9wUHV5b3MoKTogdm9pZCB7XHJcbiAgICB0aGlzLm1hdHJpeCA9IHRoaXMuZHJvcHBlZE1hdHJpeDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjYWxjdWxhdGVEcm9wRGlzdGFuY2VzKCk6IHZvaWQge1xyXG4gICAgY29uc3QgZHJvcHBlZE1hdHJpeDogUHV5b1tdW10gPSBbXTtcclxuICAgIGZvciAobGV0IHg6IG51bWJlciA9IDA7IHggPCB0aGlzLm1hdHJpeC5sZW5ndGg7IHgrKykge1xyXG4gICAgICBjb25zdCBzbGljZVBvaW50czogbnVtYmVyW10gPSBbLTFdO1xyXG4gICAgICBjb25zdCBzbGljZXM6IFB1eW9bXVtdID0gW107XHJcbiAgICAgIGxldCBuZXdDb2x1bW46IFB1eW9bXSA9IFtdO1xyXG5cclxuICAgICAgZm9yIChsZXQgeTogbnVtYmVyID0gMDsgeSA8IHRoaXMubWF0cml4W3hdLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWF0cml4W3hdW3ldLnAgPT09IFB1eW9UeXBlLkJsb2NrKSB7XHJcbiAgICAgICAgICBzbGljZVBvaW50cy5wdXNoKHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgc2xpY2VQb2ludHMuZm9yRWFjaCgodiwgaSkgPT4ge1xyXG4gICAgICAgIGkgPT09IHNsaWNlUG9pbnRzLmxlbmd0aCAtIDFcclxuICAgICAgICAgID8gc2xpY2VzLnB1c2godGhpcy5tYXRyaXhbeF0uc2xpY2UodiArIDEsIHRoaXMubWF0cml4W3hdLmxlbmd0aCkpXHJcbiAgICAgICAgICA6IHNsaWNlcy5wdXNoKHRoaXMubWF0cml4W3hdLnNsaWNlKHYgKyAxLCBzbGljZVBvaW50c1tpICsgMV0gKyAxKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2xpY2VzLmZvckVhY2goc2xpY2UgPT4ge1xyXG4gICAgICAgIGNvbnN0IGVtcHR5Q2VsbHM6IFB1eW9bXSA9IHNsaWNlLmZpbHRlcihcclxuICAgICAgICAgIHB1eW8gPT4gcHV5by5wID09PSBQdXlvVHlwZS5Ob25lXHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb25zdCBQdXlvQ2VsbHM6IFB1eW9bXSA9IHNsaWNlLmZpbHRlcihcclxuICAgICAgICAgIHB1eW8gPT4gcHV5by5wICE9PSBQdXlvVHlwZS5Ob25lXHJcbiAgICAgICAgKTtcclxuICAgICAgICBuZXdDb2x1bW4gPSBbLi4ubmV3Q29sdW1uLCAuLi5lbXB0eUNlbGxzLCAuLi5QdXlvQ2VsbHNdO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGRyb3BwZWRNYXRyaXhbeF0gPSBuZXdDb2x1bW47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kcm9wcGVkTWF0cml4ID0gZHJvcHBlZE1hdHJpeDtcclxuXHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuc2V0dGluZ3MuY29sczsgeCsrKSB7XHJcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5zZXR0aW5ncy5yb3dzOyB5KyspIHtcclxuICAgICAgICB0aGlzLmRyb3BwZWRNYXRyaXhbeF1beV0ubmV3WSA9IHk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuc2V0dGluZ3MuY29sczsgeCsrKSB7XHJcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5zZXR0aW5ncy5yb3dzOyB5KyspIHtcclxuICAgICAgICB0aGlzLmRyb3BEaXN0YW5jZXNbeF1beV0gPSB0aGlzLm1hdHJpeFt4XVt5XS5uZXdZIC0geTtcclxuICAgICAgICBpZiAodGhpcy5kcm9wRGlzdGFuY2VzW3hdW3ldID4gMCkge1xyXG4gICAgICAgICAgdGhpcy5oYXNEcm9wcyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzZXQgY29ubmVjdGlvbiBkYXRhXHJcbiAgICB0aGlzLnNldENvbm5lY3Rpb25EYXRhKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY2hlY2tGb3JDb2xvclBvcHMoKTogdm9pZCB7XHJcbiAgICAvLyBHZW5lcmF0ZSBib29sZWFuIG1hdHJpeCB0byB0cmFjayB3aGljaCBjZWxscyBoYXZlIGFscmVhZHkgYmVlbiBjaGVja2VkLlxyXG4gICAgY29uc3QgY2hlY2tNYXRyaXg6IGJvb2xlYW5bXVtdID0gW107XHJcbiAgICBmb3IgKGxldCB4OiBudW1iZXIgPSAwOyB4IDwgdGhpcy5zZXR0aW5ncy5jb2xzOyB4KyspIHtcclxuICAgICAgY2hlY2tNYXRyaXhbeF0gPSBbXTtcclxuICAgICAgZm9yIChsZXQgeTogbnVtYmVyID0gMDsgeSA8IHRoaXMuc2V0dGluZ3Mucm93czsgeSsrKSB7XHJcbiAgICAgICAgY2hlY2tNYXRyaXhbeF1beV0gPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBvcHBpbmdHcm91cHM6IFB1eW9bXVtdID0gW107XHJcbiAgICBjb25zdCBjb2xvcnMgPSBbXTtcclxuXHJcbiAgICAvLyBMb29wIHRocm91Z2ggdGhlIG1hdHJpeC4gSWYgdGhlIGxvb3AgY29tZXMgYWNyb3NzIGEgUHV5bywgc3RhcnQgYSBcImdyb3VwIHNlYXJjaFwiLlxyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnNldHRpbmdzLmNvbHM7IHgrKykge1xyXG4gICAgICBmb3IgKGxldCB5ID0gdGhpcy5zZXR0aW5ncy5oaWRkZW5Sb3dzOyB5IDwgdGhpcy5zZXR0aW5ncy5yb3dzOyB5KyspIHtcclxuICAgICAgICBpZiAodGhpcy5tYXRyaXhbeF1beV0uaXNDb2xvcmVkICYmIGNoZWNrTWF0cml4W3hdW3ldID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgY2hlY2tNYXRyaXhbeF1beV0gPSB0cnVlO1xyXG5cclxuICAgICAgICAgIGNvbnN0IGdyb3VwOiBQdXlvW10gPSBbXTtcclxuICAgICAgICAgIGdyb3VwLnB1c2godGhpcy5tYXRyaXhbeF1beV0pO1xyXG4gICAgICAgICAgZm9yIChjb25zdCBwdXlvIG9mIGdyb3VwKSB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIHVwXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICBwdXlvLnkgPiB0aGlzLnNldHRpbmdzLmhpZGRlblJvd3MgJiZcclxuICAgICAgICAgICAgICBwdXlvLnAgPT09IHRoaXMubWF0cml4W3B1eW8ueF1bcHV5by55IC0gMV0ucCAmJlxyXG4gICAgICAgICAgICAgIGNoZWNrTWF0cml4W3B1eW8ueF1bcHV5by55IC0gMV0gPT09IGZhbHNlXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIGNoZWNrTWF0cml4W3B1eW8ueF1bcHV5by55IC0gMV0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgIGdyb3VwLnB1c2godGhpcy5tYXRyaXhbcHV5by54XVtwdXlvLnkgLSAxXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ2hlY2sgZG93blxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgcHV5by55IDwgdGhpcy5zZXR0aW5ncy5yb3dzIC0gMSAmJlxyXG4gICAgICAgICAgICAgIHB1eW8ucCA9PT0gdGhpcy5tYXRyaXhbcHV5by54XVtwdXlvLnkgKyAxXS5wICYmXHJcbiAgICAgICAgICAgICAgY2hlY2tNYXRyaXhbcHV5by54XVtwdXlvLnkgKyAxXSA9PT0gZmFsc2VcclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgY2hlY2tNYXRyaXhbcHV5by54XVtwdXlvLnkgKyAxXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgZ3JvdXAucHVzaCh0aGlzLm1hdHJpeFtwdXlvLnhdW3B1eW8ueSArIDFdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDaGVjayBsZWZ0XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICBwdXlvLnggPiAwICYmXHJcbiAgICAgICAgICAgICAgcHV5by5wID09PSB0aGlzLm1hdHJpeFtwdXlvLnggLSAxXVtwdXlvLnldLnAgJiZcclxuICAgICAgICAgICAgICBjaGVja01hdHJpeFtwdXlvLnggLSAxXVtwdXlvLnldID09PSBmYWxzZVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBjaGVja01hdHJpeFtwdXlvLnggLSAxXVtwdXlvLnldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBncm91cC5wdXNoKHRoaXMubWF0cml4W3B1eW8ueCAtIDFdW3B1eW8ueV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENoZWNrIHJpZ2h0XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICBwdXlvLnggPCB0aGlzLnNldHRpbmdzLmNvbHMgLSAxICYmXHJcbiAgICAgICAgICAgICAgcHV5by5wID09PSB0aGlzLm1hdHJpeFtwdXlvLnggKyAxXVtwdXlvLnldLnAgJiZcclxuICAgICAgICAgICAgICBjaGVja01hdHJpeFtwdXlvLnggKyAxXVtwdXlvLnldID09PSBmYWxzZVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICBjaGVja01hdHJpeFtwdXlvLnggKyAxXVtwdXlvLnldID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBncm91cC5wdXNoKHRoaXMubWF0cml4W3B1eW8ueCArIDFdW3B1eW8ueV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoZ3JvdXAubGVuZ3RoID49IHRoaXMuc2V0dGluZ3MucHV5b1RvUG9wKSB7XHJcbiAgICAgICAgICAgIHBvcHBpbmdHcm91cHMucHVzaChncm91cCk7XHJcbiAgICAgICAgICAgIGNvbG9ycy5wdXNoKGdyb3VwWzBdLnApOyAvLyBQdXNoIGEgY29sb3IgY29kZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEdldCBzZXQgb2YgY29sb3JzIHBvcHBpbmcgd2l0aG91dCBkdXBsaWNhdGVzXHJcbiAgICBjb25zdCBwb3BwaW5nQ29sb3JzOiBzdHJpbmdbXSA9IGNvbG9ycy5maWx0ZXIoKHZhbHVlLCBpbmRleCwgc2VsZikgPT4ge1xyXG4gICAgICByZXR1cm4gc2VsZi5pbmRleE9mKHZhbHVlKSA+PSBpbmRleDtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMucG9wcGluZ0dyb3VwcyA9IHBvcHBpbmdHcm91cHM7XHJcbiAgICB0aGlzLnBvcHBpbmdDb2xvcnMgPSBwb3BwaW5nQ29sb3JzO1xyXG5cclxuICAgIGlmIChwb3BwaW5nR3JvdXBzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICB0aGlzLmhhc1BvcHMgPSBmYWxzZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuaGFzUG9wcyA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzZXQgY29ubmVjdGlvbiBkYXRhXHJcbiAgICB0aGlzLnNldENvbm5lY3Rpb25EYXRhKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc2V0Q29ubmVjdGlvbkRhdGEoKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuc2V0dGluZ3MuY29sczsgeCsrKSB7XHJcbiAgICAgIGZvciAobGV0IHkgPSB0aGlzLnNldHRpbmdzLmhpZGRlblJvd3M7IHkgPCB0aGlzLnNldHRpbmdzLnJvd3M7IHkrKykge1xyXG4gICAgICAgIGlmICh5IDwgdGhpcy5zZXR0aW5ncy5oaWRkZW5Sb3dzKSB7XHJcbiAgICAgICAgICB0aGlzLm1hdHJpeFt4XVt5XS5jb25uZWN0aW9ucyA9IFwiblwiO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kcm9wRGlzdGFuY2VzW3hdW3ldID4gMCkge1xyXG4gICAgICAgICAgdGhpcy5tYXRyaXhbeF1beV0uY29ubmVjdGlvbnMgPSBcIm5cIjtcclxuICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgdGhpcy5tYXRyaXhbeF1beV0ucCA9PT0gUHV5b1R5cGUuTm9uZSB8fFxyXG4gICAgICAgICAgdGhpcy5tYXRyaXhbeF1beV0uaXNHYXJiYWdlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICB0aGlzLm1hdHJpeFt4XVt5XS5jb25uZWN0aW9ucyA9IFwiblwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBsZXQgY29ubmVjdGlvbjogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAvLyBDaGVjayB1cFxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeFt4XVt5XS55ID4gdGhpcy5zZXR0aW5ncy5oaWRkZW5Sb3dzICYmXHJcbiAgICAgICAgICAgIHRoaXMubWF0cml4W3hdW3ldLnAgPT09IHRoaXMubWF0cml4W3hdW3kgLSAxXS5wICYmXHJcbiAgICAgICAgICAgIHRoaXMuZHJvcERpc3RhbmNlc1t4XVt5IC0gMV0gPT09IDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uICs9IFwidVwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gQ2hlY2sgcmlnaHRcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5tYXRyaXhbeF1beV0ueCA8IHRoaXMuc2V0dGluZ3MuY29scyAtIDEgJiZcclxuICAgICAgICAgICAgdGhpcy5tYXRyaXhbeF1beV0ucCA9PT0gdGhpcy5tYXRyaXhbeCArIDFdW3ldLnAgJiZcclxuICAgICAgICAgICAgdGhpcy5kcm9wRGlzdGFuY2VzW3ggKyAxXVt5XSA9PT0gMFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gKz0gXCJyXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBDaGVjayBkb3duXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMubWF0cml4W3hdW3ldLnkgPCB0aGlzLnNldHRpbmdzLnJvd3MgLSAxICYmXHJcbiAgICAgICAgICAgIHRoaXMubWF0cml4W3hdW3ldLnAgPT09IHRoaXMubWF0cml4W3hdW3kgKyAxXS5wICYmXHJcbiAgICAgICAgICAgIHRoaXMuZHJvcERpc3RhbmNlc1t4XVt5ICsgMV0gPT09IDBcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uICs9IFwiZFwiO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gQ2hlY2sgbGVmdFxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeFt4XVt5XS54ID4gMCAmJlxyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeFt4XVt5XS5wID09PSB0aGlzLm1hdHJpeFt4IC0gMV1beV0ucCAmJlxyXG4gICAgICAgICAgICB0aGlzLmRyb3BEaXN0YW5jZXNbeCAtIDFdW3ldID09PSAwXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgY29ubmVjdGlvbiArPSBcImxcIjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoY29ubmVjdGlvbiA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICBjb25uZWN0aW9uID0gXCJuXCI7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdGhpcy5tYXRyaXhbeF1beV0uY29ubmVjdGlvbnMgPSBjb25uZWN0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNoZWNrRm9yR2FyYmFnZVBvcHMoKTogdm9pZCB7XHJcbiAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuc2V0dGluZ3MuY29sczsgeCsrKSB7XHJcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5zZXR0aW5ncy5yb3dzOyB5KyspIHtcclxuICAgICAgICB0aGlzLmdhcmJhZ2VDbGVhckNvdW50TWF0cml4W3hdW3ldID0gMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgdGhpcy5wb3BwaW5nR3JvdXBzKSB7XHJcbiAgICAgIGZvciAoY29uc3QgcHV5byBvZiBncm91cCkge1xyXG4gICAgICAgIC8vIENoZWNrIHVwLlxyXG4gICAgICAgIC8vIFNFR0EgYmVoYXZpb3I6IGdhcmJhZ2UgY2FuIGJlIGNsZWFyZWQgd2hpbGUgdGhleSdyZSBzdGlsbCBpbiB0aGUgaGlkZGVuIHJvd3MgaWYgUHV5b3MgcG9wIHVuZGVybmVhdGhcclxuICAgICAgICAvLyBDT01QSUxFIGJlaGF2aW9yOiBnYXJiYWdlIGNhbid0IGJlIGNsZWFyZWQgd2hpbGUgdGhleSdyZSBpbiB0aGUgaGlkZGVuIHJvd3NcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5nYXJiYWdlSW5IaWRkZW5Sb3dCZWhhdmlvciA9PT0gXCJTRUdBXCIpIHtcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgcHV5by55ID4gdGhpcy5zZXR0aW5ncy5oaWRkZW5Sb3dzIC0gMSAmJlxyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeFtwdXlvLnhdW3B1eW8ueSAtIDFdLmlzR2FyYmFnZVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FyYmFnZUNsZWFyQ291bnRNYXRyaXhbcHV5by54XVtwdXlvLnkgLSAxXSArPSAxO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5nYXJiYWdlSW5IaWRkZW5Sb3dCZWhhdmlvciA9PT0gXCJDT01QSUxFXCIpIHtcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgcHV5by55ID4gdGhpcy5zZXR0aW5ncy5oaWRkZW5Sb3dzICYmXHJcbiAgICAgICAgICAgIHRoaXMubWF0cml4W3B1eW8ueF1bcHV5by55IC0gMV0uaXNHYXJiYWdlXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5nYXJiYWdlQ2xlYXJDb3VudE1hdHJpeFtwdXlvLnhdW3B1eW8ueSAtIDFdICs9IDE7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBkb3duXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgcHV5by55IDwgdGhpcy5zZXR0aW5ncy5yb3dzIC0gMSAmJlxyXG4gICAgICAgICAgdGhpcy5tYXRyaXhbcHV5by54XVtwdXlvLnkgKyAxXS5pc0dhcmJhZ2VcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRoaXMuZ2FyYmFnZUNsZWFyQ291bnRNYXRyaXhbcHV5by54XVtwdXlvLnkgKyAxXSArPSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQ2hlY2sgbGVmdFxyXG4gICAgICAgIGlmIChwdXlvLnggPiAwICYmIHRoaXMubWF0cml4W3B1eW8ueCAtIDFdW3B1eW8ueV0uaXNHYXJiYWdlKSB7XHJcbiAgICAgICAgICB0aGlzLmdhcmJhZ2VDbGVhckNvdW50TWF0cml4W3B1eW8ueCAtIDFdW3B1eW8ueV0gKz0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHJpZ2h0XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgcHV5by54IDwgdGhpcy5zZXR0aW5ncy5jb2xzIC0gMSAmJlxyXG4gICAgICAgICAgdGhpcy5tYXRyaXhbcHV5by54ICsgMV1bcHV5by55XS5pc0dhcmJhZ2VcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHRoaXMuZ2FyYmFnZUNsZWFyQ291bnRNYXRyaXhbcHV5by54ICsgMV1bcHV5by55XSArPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNhbGN1bGF0ZUxpbmtTY29yZSgpOiB2b2lkIHtcclxuICAgIGxldCBsaW5rR3JvdXBCb251czogbnVtYmVyID0gMDtcclxuICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgdGhpcy5wb3BwaW5nR3JvdXBzKSB7XHJcbiAgICAgIGlmICh0aGlzLnNldHRpbmdzLnB1eW9Ub1BvcCA8IDQpIHtcclxuICAgICAgICBpZiAoZ3JvdXAubGVuZ3RoID49IDExIC0gKDQgLSB0aGlzLnNldHRpbmdzLnB1eW9Ub1BvcCkpIHtcclxuICAgICAgICAgIGxpbmtHcm91cEJvbnVzICs9IHRoaXMuc2V0dGluZ3MuZ3JvdXBCb251c1tcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5ncm91cEJvbnVzLmxlbmd0aCAtIDFcclxuICAgICAgICAgIF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxpbmtHcm91cEJvbnVzICs9IHRoaXMuc2V0dGluZ3MuZ3JvdXBCb251c1tcclxuICAgICAgICAgICAgZ3JvdXAubGVuZ3RoIC0gdGhpcy5zZXR0aW5ncy5wdXlvVG9Qb3BcclxuICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChncm91cC5sZW5ndGggPj0gMTEpIHtcclxuICAgICAgICAgIGxpbmtHcm91cEJvbnVzICs9IHRoaXMuc2V0dGluZ3MuZ3JvdXBCb251c1tcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5ncm91cEJvbnVzLmxlbmd0aCAtIDFcclxuICAgICAgICAgIF07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxpbmtHcm91cEJvbnVzICs9IHRoaXMuc2V0dGluZ3MuZ3JvdXBCb251c1tncm91cC5sZW5ndGggLSA0XTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBsaW5rQ29sb3JCb251czogbnVtYmVyID0gdGhpcy5zZXR0aW5ncy5jb2xvckJvbnVzW1xyXG4gICAgICB0aGlzLnBvcHBpbmdDb2xvcnMubGVuZ3RoIC0gMVxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdCBsaW5rQ2hhaW5Qb3dlcjogbnVtYmVyID0gdGhpcy5zZXR0aW5ncy5jaGFpblBvd2VyW1xyXG4gICAgICB0aGlzLmNoYWluTGVuZ3RoIC0gMVxyXG4gICAgXTtcclxuXHJcbiAgICBsZXQgbGlua1B1eW9DbGVhcmVkOiBudW1iZXIgPSAwO1xyXG4gICAgZm9yIChjb25zdCBncm91cCBvZiB0aGlzLnBvcHBpbmdHcm91cHMpIHtcclxuICAgICAgbGlua1B1eW9DbGVhcmVkICs9IGdyb3VwLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgbGlua1RvdGFsQm9udXMgPSBsaW5rR3JvdXBCb251cyArIGxpbmtDb2xvckJvbnVzICsgbGlua0NoYWluUG93ZXI7XHJcbiAgICBpZiAobGlua1RvdGFsQm9udXMgPCAxKSB7XHJcbiAgICAgIGxpbmtUb3RhbEJvbnVzID0gMTtcclxuICAgIH0gZWxzZSBpZiAobGlua1RvdGFsQm9udXMgPiA5OTkpIHtcclxuICAgICAgbGlua1RvdGFsQm9udXMgPSA5OTk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbGlua1Njb3JlID0gMTAgKiBsaW5rUHV5b0NsZWFyZWQgKiBsaW5rVG90YWxCb251cztcclxuICAgIHRoaXMubGlua1Njb3JlID0gbGlua1Njb3JlO1xyXG4gICAgdGhpcy5saW5rUHV5b011bHRpcGxpZXIgPSAxMCAqIGxpbmtQdXlvQ2xlYXJlZDtcclxuICAgIHRoaXMubGlua0JvbnVzTXVsdGlwbGllciA9IGxpbmtUb3RhbEJvbnVzO1xyXG4gICAgdGhpcy50b3RhbFNjb3JlICs9IHRoaXMubGlua1Njb3JlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBtYXRyaXhUZXh0KCk6IHN0cmluZ1tdW10ge1xyXG4gICAgY29uc3QgdGV4dE1hdHJpeDogc3RyaW5nW11bXSA9IFtdO1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnNldHRpbmdzLmNvbHM7IHgrKykge1xyXG4gICAgICB0ZXh0TWF0cml4W3hdID0gW107XHJcbiAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy5zZXR0aW5ncy5yb3dzOyB5KyspIHtcclxuICAgICAgICB0ZXh0TWF0cml4W3hdW3ldID0gdGhpcy5tYXRyaXhbeF1beV0ucDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRleHRNYXRyaXg7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY2FsY3VsYXRlR2FyYmFnZSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IG51aXNhbmNlUG9pbnRzOiBudW1iZXIgPVxyXG4gICAgICB0aGlzLmxpbmtTY29yZSAvIHRoaXMuc2V0dGluZ3MudGFyZ2V0UG9pbnQgKyB0aGlzLmxlZnRvdmVyTnVpc2FuY2VQb2ludHM7XHJcbiAgICBjb25zdCBudWlzYW5jZUNvdW50OiBudW1iZXIgPSBNYXRoLmZsb29yKG51aXNhbmNlUG9pbnRzKTtcclxuICAgIHRoaXMubGVmdG92ZXJOdWlzYW5jZVBvaW50cyA9IG51aXNhbmNlUG9pbnRzIC0gbnVpc2FuY2VDb3VudDtcclxuICAgIHRoaXMudG90YWxHYXJiYWdlICs9IG51aXNhbmNlQ291bnQ7XHJcbiAgICB0aGlzLmxpbmtHYXJiYWdlID0gbnVpc2FuY2VDb3VudDtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBwb3BQdXlvcygpOiB2b2lkIHtcclxuICAgIGZvciAoY29uc3QgZ3JvdXAgb2YgdGhpcy5wb3BwaW5nR3JvdXBzKSB7XHJcbiAgICAgIGZvciAoY29uc3QgcHV5byBvZiBncm91cCkge1xyXG4gICAgICAgIHRoaXMubWF0cml4W3B1eW8ueF1bcHV5by55XS5wID0gXCIwXCI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBwb3BHYXJiYWdlKCk6IHZvaWQge1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnNldHRpbmdzLmNvbHM7IHgrKykge1xyXG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuc2V0dGluZ3Mucm93czsgeSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2FyYmFnZUNsZWFyQ291bnRNYXRyaXhbeF1beV0gPT09IDEpIHtcclxuICAgICAgICAgIGlmICh0aGlzLm1hdHJpeFt4XVt5XS5wID09PSBQdXlvVHlwZS5HYXJiYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubWF0cml4W3hdW3ldLnAgPSBcIjBcIjtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5tYXRyaXhbeF1beV0ucCA9PT0gUHV5b1R5cGUuSGFyZCkge1xyXG4gICAgICAgICAgICB0aGlzLm1hdHJpeFt4XVt5XS5wID0gXCJKXCI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdhcmJhZ2VDbGVhckNvdW50TWF0cml4W3hdW3ldID49IDIpIHtcclxuICAgICAgICAgIHRoaXMubWF0cml4W3hdW3ldLnAgPSBcIjBcIjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyByZWZyZXNoTGlua0RhdGEoKTogdm9pZCB7XHJcbiAgICB0aGlzLnBvcHBpbmdHcm91cHMgPSBbXTtcclxuICAgIHRoaXMucG9wcGluZ0NvbG9ycyA9IFtdO1xyXG4gICAgdGhpcy5saW5rU2NvcmUgPSAwO1xyXG4gICAgdGhpcy5saW5rQm9udXNNdWx0aXBsaWVyID0gMDtcclxuICAgIHRoaXMubGlua1B1eW9NdWx0aXBsaWVyID0gMDtcclxuICAgIHRoaXMubGlua0dhcmJhZ2UgPSAwO1xyXG4gICAgZm9yIChsZXQgeDogbnVtYmVyID0gMDsgeCA8IHRoaXMuc2V0dGluZ3MuY29sczsgeCsrKSB7XHJcbiAgICAgIGZvciAobGV0IHk6IG51bWJlciA9IDA7IHkgPCB0aGlzLnNldHRpbmdzLnJvd3M7IHkrKykge1xyXG4gICAgICAgIHRoaXMuZHJvcERpc3RhbmNlc1t4XVt5XSA9IDA7XHJcbiAgICAgICAgdGhpcy5nYXJiYWdlQ2xlYXJDb3VudE1hdHJpeFt4XVt5XSA9IDA7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZHJvcHBlZE1hdHJpeCA9IFtdO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNpbXVsYXRlTGluaygpOiBib29sZWFuIHtcclxuICAgIHRoaXMucmVmcmVzaExpbmtEYXRhKCk7XHJcbiAgICB0aGlzLmNhbGN1bGF0ZURyb3BEaXN0YW5jZXMoKTtcclxuICAgIHRoaXMuZHJvcFB1eW9zKCk7XHJcbiAgICB0aGlzLnJlZnJlc2hQdXlvUG9zaXRpb25EYXRhKCk7XHJcbiAgICB0aGlzLmhhc0Ryb3BzID0gZmFsc2U7XHJcbiAgICB0aGlzLmNoZWNrRm9yQ29sb3JQb3BzKCk7XHJcbiAgICB0aGlzLmNoZWNrRm9yR2FyYmFnZVBvcHMoKTtcclxuXHJcbiAgICBpZiAodGhpcy5oYXNQb3BzID09PSB0cnVlKSB7XHJcbiAgICAgIHRoaXMuY2hhaW5MZW5ndGggKz0gMTtcclxuICAgICAgdGhpcy5jYWxjdWxhdGVMaW5rU2NvcmUoKTtcclxuICAgICAgdGhpcy5jYWxjdWxhdGVHYXJiYWdlKCk7XHJcbiAgICAgIHRoaXMucG9wUHV5b3MoKTtcclxuICAgICAgdGhpcy5wb3BHYXJiYWdlKCk7XHJcbiAgICAgIHRoaXMuaGFzUG9wcyA9IGZhbHNlO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzaW11bGF0ZUNoYWluKCk6IHZvaWQge1xyXG4gICAgbGV0IHJlc3VsdCA9IHRydWU7XHJcbiAgICB3aGlsZSAocmVzdWx0KSB7XHJcbiAgICAgIHJlc3VsdCA9IHRoaXMuc2ltdWxhdGVMaW5rKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYWR2YW5jZVN0YXRlKCk6IHN0cmluZyB7XHJcbiAgICAvLyBDaGVjayB0aGUgY3VycmVudCBzdGF0ZSB3aGVuIHRoaXMgbWV0aG9kIHdhcyBjYWxsZWRcclxuICAgIHN3aXRjaCAodGhpcy5zaW1TdGF0ZSkge1xyXG4gICAgICBjYXNlIFwiaWRsZVwiOlxyXG4gICAgICBjYXNlIFwicG9wcGVkXCI6XHJcbiAgICAgICAgLy8gSWYgaWRsZSwgc3RhcnQgY2hlY2tpbmcgZHJvcHNcclxuICAgICAgICB0aGlzLnNpbVN0YXRlID0gXCJjaGVja2luZ0Ryb3BzXCI7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoTGlua0RhdGEoKTtcclxuICAgICAgICB0aGlzLmNhbGN1bGF0ZURyb3BEaXN0YW5jZXMoKTtcclxuICAgICAgICB0aGlzLnNldENvbm5lY3Rpb25EYXRhKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJjaGVja2luZ0Ryb3BzXCI6XHJcbiAgICAgICAgaWYgKHRoaXMuaGFzRHJvcHMpIHtcclxuICAgICAgICAgIHRoaXMuc2ltU3RhdGUgPSBcImRyb3BwZWRcIjtcclxuICAgICAgICAgIHRoaXMuZHJvcFB1eW9zKCk7XHJcbiAgICAgICAgICB0aGlzLnJlZnJlc2hQdXlvUG9zaXRpb25EYXRhKCk7XHJcbiAgICAgICAgICB0aGlzLnNldENvbm5lY3Rpb25EYXRhKCk7XHJcbiAgICAgICAgICB0aGlzLmhhc0Ryb3BzID0gZmFsc2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy5zaW1TdGF0ZSA9IFwiZHJvcHBlZFwiO1xyXG4gICAgICAgICAgdGhpcy5yZWZyZXNoUHV5b1Bvc2l0aW9uRGF0YSgpO1xyXG4gICAgICAgICAgdGhpcy5zZXRDb25uZWN0aW9uRGF0YSgpO1xyXG4gICAgICAgICAgLy8gQ29udGludWUgZG93biB0byBuZXh0IHN3aXRjaCBzdGF0ZW1lbnRcclxuICAgICAgICB9XHJcbiAgICAgIGNhc2UgXCJkcm9wcGVkXCI6XHJcbiAgICAgICAgdGhpcy5jaGVja0ZvckNvbG9yUG9wcygpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tGb3JHYXJiYWdlUG9wcygpO1xyXG4gICAgICAgIGlmICh0aGlzLmhhc1BvcHMpIHtcclxuICAgICAgICAgIHRoaXMuc2ltU3RhdGUgPSBcImNoZWNraW5nUG9wc1wiO1xyXG4gICAgICAgICAgdGhpcy5jaGFpbkxlbmd0aCArPSAxO1xyXG4gICAgICAgICAgdGhpcy5jYWxjdWxhdGVMaW5rU2NvcmUoKTtcclxuICAgICAgICAgIHRoaXMuY2FsY3VsYXRlR2FyYmFnZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnNpbVN0YXRlID0gXCJmaW5pc2hlZFwiO1xyXG4gICAgICAgICAgdGhpcy5oYXNQb3BzID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiY2hlY2tpbmdQb3BzXCI6XHJcbiAgICAgICAgdGhpcy5zaW1TdGF0ZSA9IFwicG9wcGVkXCI7XHJcbiAgICAgICAgdGhpcy5wb3BQdXlvcygpO1xyXG4gICAgICAgIHRoaXMucG9wR2FyYmFnZSgpO1xyXG4gICAgICAgIHRoaXMuaGFzUG9wcyA9IGZhbHNlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiZmluaXNoZWRcIjpcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLnNpbVN0YXRlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNlbmRUb1B1eW9OZXh1cygpOiB2b2lkIHtcclxuICAgIGNvbnN0IHBuTWF0cml4OiBzdHJpbmdbXVtdID0gdHJhbnNwb3NlTWF0cml4KHRoaXMubWF0cml4VGV4dCk7XHJcbiAgICBjb25zdCBjb252ZXJzaW9uU2NoZW1lOiBhbnkgPSB7XHJcbiAgICAgIFI6IDQsXHJcbiAgICAgIEc6IDcsXHJcbiAgICAgIEI6IDUsXHJcbiAgICAgIFk6IDYsXHJcbiAgICAgIFA6IDgsXHJcbiAgICAgIEo6IDEsXHJcbiAgICAgIFwiMFwiOiAwXHJcbiAgICB9O1xyXG5cclxuICAgIGxldCB1cmxTdHJpbmc6IHN0cmluZyA9IFwiXCI7XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuc2V0dGluZ3Mucm93czsgeSsrKSB7XHJcbiAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5zZXR0aW5ncy5jb2xzOyB4KyspIHtcclxuICAgICAgICB1cmxTdHJpbmcgKz0gY29udmVyc2lvblNjaGVtZVtwbk1hdHJpeFt5XVt4XV07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKHVybFN0cmluZyk7XHJcblxyXG4gICAgY29uc3QgdXJsID0gYGh0dHBzOi8vcHV5b25leHVzLmNvbS9jaGFpbnNpbS8/dz0ke1xyXG4gICAgICB0aGlzLnNldHRpbmdzLmNvbHNcclxuICAgIH0maD0ke3RoaXMuc2V0dGluZ3Mucm93cyAtIHRoaXMuc2V0dGluZ3MuaGlkZGVuUm93c30mY2hhaW49JHt1cmxTdHJpbmd9YDtcclxuICAgIHdpbmRvdy5vcGVuKHVybCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFBJWEkgZnJvbSBcInBpeGkuanNcIjtcclxuaW1wb3J0IEZpZWxkIGZyb20gXCIuL0ZpZWxkXCI7XHJcbmltcG9ydCB7IGNyZWF0ZVVuaWZvcm1BcnJheSwgdHJhbnNwb3NlTWF0cml4IH0gZnJvbSBcIi4vaGVscGVyXCI7XHJcbmltcG9ydCB7IFB1eW8sIFB1eW9UeXBlIH0gZnJvbSBcIi4vUHV5b1wiO1xyXG5cclxuY29uc3QgU3ByaXRlID0gUElYSS5TcHJpdGU7XHJcblxyXG5pbnRlcmZhY2UgR2FtZVNldHRpbmdzIHtcclxuICB3aWR0aDogbnVtYmVyO1xyXG4gIGhlaWdodDogbnVtYmVyO1xyXG4gIGNlbGxXaWR0aDogbnVtYmVyO1xyXG4gIGNlbGxIZWlnaHQ6IG51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFNpbXVsYXRvclNldHRpbmdzIHtcclxuICByb3dzOiBudW1iZXI7XHJcbiAgY29sczogbnVtYmVyO1xyXG4gIGhpZGRlblJvd3M6IG51bWJlcjtcclxuICB0YXJnZXRQb2ludDogbnVtYmVyO1xyXG4gIHB1eW9Ub1BvcDogbnVtYmVyO1xyXG4gIGdhcmJhZ2VJbkhpZGRlblJvd0JlaGF2aW9yOiBzdHJpbmc7IC8vIFwiU0VHQVwiIG9yIFwiQ09NUElMRVwiO1xyXG4gIGNoYWluUG93ZXI6IG51bWJlcltdO1xyXG4gIGNvbG9yQm9udXM6IG51bWJlcltdO1xyXG4gIGdyb3VwQm9udXM6IG51bWJlcltdO1xyXG4gIHBvaW50UHV5bzogbnVtYmVyO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ3VycmVudFRvb2wge1xyXG4gIHBhZ2U6IG51bWJlcjtcclxuICBpdGVtOiBudW1iZXI7XHJcbiAgcm93OiBudW1iZXI7XHJcbiAgcHV5bzogYW55O1xyXG4gIHRhcmdldExheWVyOiBzdHJpbmc7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxufVxyXG5cclxuY29uc3QgZGVmYXVsdFNpbXVsYXRvclNldHRpbmdzOiBTaW11bGF0b3JTZXR0aW5ncyA9IHtcclxuICByb3dzOiAxMyxcclxuICBjb2xzOiA2LFxyXG4gIGhpZGRlblJvd3M6IDEsXHJcbiAgdGFyZ2V0UG9pbnQ6IDcwLFxyXG4gIHB1eW9Ub1BvcDogNCxcclxuICBnYXJiYWdlSW5IaWRkZW5Sb3dCZWhhdmlvcjogXCJTRUdBXCIsXHJcbiAgY2hhaW5Qb3dlcjogW1xyXG4gICAgMCxcclxuICAgIDgsXHJcbiAgICAxNixcclxuICAgIDMyLFxyXG4gICAgNjQsXHJcbiAgICA5NixcclxuICAgIDEyOCxcclxuICAgIDE2MCxcclxuICAgIDE5MixcclxuICAgIDIyNCxcclxuICAgIDI1NixcclxuICAgIDI4OCxcclxuICAgIDMyMCxcclxuICAgIDM1MixcclxuICAgIDM4NCxcclxuICAgIDQxNixcclxuICAgIDQ0OCxcclxuICAgIDQ4MCxcclxuICAgIDUxMixcclxuICAgIDU0NCxcclxuICAgIDU3NixcclxuICAgIDYwOCxcclxuICAgIDY0MCxcclxuICAgIDY3MlxyXG4gIF0sXHJcbiAgY29sb3JCb251czogWzAsIDMsIDYsIDEyLCAyNF0sXHJcbiAgZ3JvdXBCb251czogWzAsIDIsIDMsIDQsIDUsIDYsIDcsIDEwXSxcclxuICBwb2ludFB1eW86IDUwXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGFpbnNpbUVkaXRvciB7XHJcbiAgLy8gU2V0dGluZ3NcclxuICBwdWJsaWMgZ2FtZVNldHRpbmdzOiBHYW1lU2V0dGluZ3M7XHJcbiAgcHVibGljIHNpbXVsYXRvclNldHRpbmdzOiBTaW11bGF0b3JTZXR0aW5ncztcclxuICBwdWJsaWMgZGlzcGxheU1vZGU6IHN0cmluZztcclxuICBwdWJsaWMgc2ltdWxhdGlvblNwZWVkOiBudW1iZXI7XHJcbiAgcHVibGljIGF1dG9BZHZhbmNlOiBib29sZWFuO1xyXG5cclxuICAvLyBQSVhJIE9iamVjdHNcclxuICBwdWJsaWMgbG9hZGVyOiBQSVhJLkxvYWRlcjtcclxuICBwdWJsaWMgcmVzb3VyY2VzOiBhbnk7XHJcblxyXG4gIC8vIEdhbWUgb2JqZWN0c1xyXG4gIHB1YmxpYyBhcHA6IFBJWEkuQXBwbGljYXRpb247XHJcbiAgcHVibGljIHNwcml0ZXNoZWV0SlNPTjogYW55O1xyXG4gIHB1YmxpYyBmaWVsZFNwcml0ZXM6IGFueTsgLy8gV2hhIHR5cGUgaXMgdGhpcy4uLj9cclxuICBwdWJsaWMgcHV5b1Nwcml0ZXM6IGFueTtcclxuICBwdWJsaWMgY2hhaW5Db3VudFNwcml0ZXM6IGFueTtcclxuICBwdWJsaWMgdGV4dHVyZXNUb0xvYWQ6IHN0cmluZ1tdO1xyXG4gIHB1YmxpYyBmaWVsZERpc3BsYXk6IHsgW2s6IHN0cmluZ106IGFueSB9ID0ge307XHJcbiAgcHVibGljIGZpZWxkQ29udHJvbHM6IHsgW2s6IHN0cmluZ106IGFueSB9ID0ge307XHJcbiAgcHVibGljIHB1eW9EaXNwbGF5OiBQSVhJLlNwcml0ZVtdW10gPSBbXTtcclxuICBwdWJsaWMgZ2FyYmFnZURpc3BsYXk6IFBJWEkuU3ByaXRlW10gPSBbXTtcclxuICBwdWJsaWMgc2NvcmVEaXNwbGF5OiBQSVhJLlNwcml0ZVtdID0gW107XHJcbiAgcHVibGljIGVkaXRvckRpc3BsYXk6IHsgW2s6IHN0cmluZ106IGFueSB9ID0ge307XHJcbiAgcHVibGljIGVkaXRvclRvb2xEaXNwbGF5OiBhbnlbXVtdW107XHJcblxyXG4gIC8vIFN0YXRlIHRyYWNrZXJzXHJcbiAgcHVibGljIHNpbXVsYXRvck1vZGU6IHN0cmluZztcclxuICBwdWJsaWMgbGVmdEJ1dHRvbkRvd246IGJvb2xlYW47XHJcbiAgcHVibGljIHJpZ2h0QnV0dG9uRG93bjogYm9vbGVhbjtcclxuICBwdWJsaWMgc3RhdGU6IGFueTsgLy8gRnVuY3Rpb24gYWxpYXNcclxuICBwdWJsaWMgZnJhbWU6IG51bWJlcjtcclxuICBwdWJsaWMgcHV5b1N0YXRlczogc3RyaW5nW11bXTtcclxuICBwdWJsaWMgcHV5b0Ryb3BTcGVlZDogbnVtYmVyW11bXTtcclxuICBwdWJsaWMgcHV5b0JvdW5jZUZyYW1lczogbnVtYmVyW11bXTtcclxuICBwdWJsaWMgZ2FyYmFnZURpc3BsYXlDb29yZGluYXRlczogbnVtYmVyW107XHJcbiAgcHVibGljIHByZXZTdGF0ZTogYW55OyAvLyBGdW5jdGlvbiBhbGlhc1xyXG4gIHB1YmxpYyBlZGl0b3JPcGVuOiBib29sZWFuO1xyXG4gIHB1YmxpYyBjdXJyZW50VG9vbDogQ3VycmVudFRvb2w7XHJcblxyXG4gIC8vIERhdGFcclxuICBwdWJsaWMgZ2FtZUZpZWxkOiBGaWVsZDtcclxuXHJcbiAgLy8gSGVscGVyXHJcbiAgcHVibGljIGNvb3JkQXJyYXk6IGFueVtdW107XHJcblxyXG4gIGNvbnN0cnVjdG9yKHRhcmdldERpdjogSFRNTEVsZW1lbnQpIHtcclxuICAgIHRoaXMuZ2FtZVNldHRpbmdzID0ge1xyXG4gICAgICB3aWR0aDogNjA4LCAvLyA2MDhcclxuICAgICAgaGVpZ2h0OiAxMDAwLCAvLyAxMDAwXHJcbiAgICAgIGNlbGxXaWR0aDogNjQsXHJcbiAgICAgIGNlbGxIZWlnaHQ6IDYwXHJcbiAgICB9O1xyXG4gICAgdGhpcy5zaW11bGF0b3JTZXR0aW5ncyA9IGRlZmF1bHRTaW11bGF0b3JTZXR0aW5ncztcclxuICAgIHRoaXMuZGlzcGxheU1vZGUgPSBcInNpbXBsZVwiO1xyXG4gICAgdGhpcy5zaW11bGF0aW9uU3BlZWQgPSAxO1xyXG4gICAgdGhpcy5hdXRvQWR2YW5jZSA9IGZhbHNlO1xyXG5cclxuICAgIC8vIEluaXQgZGF0YVxyXG4gICAgdGhpcy5nYW1lRmllbGQgPSBuZXcgRmllbGQoXHJcbiAgICAgIGNyZWF0ZVVuaWZvcm1BcnJheShcIjBcIiwgdGhpcy5zaW11bGF0b3JTZXR0aW5ncy5jb2xzLCB0aGlzLnNpbXVsYXRvclNldHRpbmdzLnJvd3MpLFxyXG4gICAgICB0aGlzLnNpbXVsYXRvclNldHRpbmdzXHJcbiAgICApO1xyXG4gICAgdGhpcy5mcmFtZSA9IDA7XHJcblxyXG4gICAgLy8gSGVscGVyIHByb3BlcnRpZXNcclxuICAgIHRoaXMuY29vcmRBcnJheSA9IFtdO1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnNpbXVsYXRvclNldHRpbmdzLmNvbHM7IHgrKykge1xyXG4gICAgICB0aGlzLmNvb3JkQXJyYXlbeF0gPSBbXTtcclxuICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnNpbXVsYXRvclNldHRpbmdzLnJvd3M7IHkrKykge1xyXG4gICAgICAgIHRoaXMuY29vcmRBcnJheVt4XVt5XSA9IHtcclxuICAgICAgICAgIHg6IHggKiB0aGlzLmdhbWVTZXR0aW5ncy5jZWxsV2lkdGggKyB0aGlzLmdhbWVTZXR0aW5ncy5jZWxsV2lkdGggLyAyICsgMjUsXHJcbiAgICAgICAgICB5OiB5ICogdGhpcy5nYW1lU2V0dGluZ3MuY2VsbEhlaWdodCArIHRoaXMuZ2FtZVNldHRpbmdzLmNlbGxIZWlnaHQgLyAyICsgMTI0XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5wdXlvU3RhdGVzID0gY3JlYXRlVW5pZm9ybUFycmF5KFxyXG4gICAgICBcImlkbGVcIixcclxuICAgICAgdGhpcy5zaW11bGF0b3JTZXR0aW5ncy5jb2xzLFxyXG4gICAgICB0aGlzLnNpbXVsYXRvclNldHRpbmdzLnJvd3NcclxuICAgICk7XHJcbiAgICB0aGlzLnB1eW9Ecm9wU3BlZWQgPSBjcmVhdGVVbmlmb3JtQXJyYXkoXHJcbiAgICAgIDAsXHJcbiAgICAgIHRoaXMuc2ltdWxhdG9yU2V0dGluZ3MuY29scyxcclxuICAgICAgdGhpcy5zaW11bGF0b3JTZXR0aW5ncy5yb3dzXHJcbiAgICApO1xyXG4gICAgdGhpcy5wdXlvQm91bmNlRnJhbWVzID0gY3JlYXRlVW5pZm9ybUFycmF5KFxyXG4gICAgICAwLFxyXG4gICAgICB0aGlzLnNpbXVsYXRvclNldHRpbmdzLmNvbHMsXHJcbiAgICAgIHRoaXMuc2ltdWxhdG9yU2V0dGluZ3Mucm93c1xyXG4gICAgKTtcclxuICAgIHRoaXMuZ2FyYmFnZURpc3BsYXlDb29yZGluYXRlcyA9IFtdO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhcHAgYW5kIGFwcGVuZCB0byBIVE1MXHJcbiAgICB0aGlzLmxlZnRCdXR0b25Eb3duID0gZmFsc2U7XHJcbiAgICB0aGlzLnJpZ2h0QnV0dG9uRG93biA9IGZhbHNlO1xyXG4gICAgdGhpcy5hcHAgPSBuZXcgUElYSS5BcHBsaWNhdGlvbih0aGlzLmdhbWVTZXR0aW5ncy53aWR0aCwgdGhpcy5nYW1lU2V0dGluZ3MuaGVpZ2h0LCB7XHJcbiAgICAgIGFudGlhbGlhczogdHJ1ZSxcclxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXHJcbiAgICAgIHJlc29sdXRpb246IDFcclxuICAgIH0pO1xyXG4gICAgdGhpcy5hcHAudmlldy5zdHlsZS53aWR0aCA9IGAke3RoaXMuZ2FtZVNldHRpbmdzLndpZHRoICogMC44fXB4YDtcclxuICAgIHRoaXMuYXBwLnZpZXcuc3R5bGUuaGVpZ2h0ID0gYCR7dGhpcy5nYW1lU2V0dGluZ3MuaGVpZ2h0ICogMC44fXB4YDtcclxuICAgIHRoaXMuYXBwLnN0YWdlLmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICAgIHRoaXMuYXBwLnN0YWdlLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmxlZnRCdXR0b25Eb3duID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5hcHAuc3RhZ2Uub24oXCJwb2ludGVydXBcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmxlZnRCdXR0b25Eb3duID0gZmFsc2U7XHJcbiAgICAgIHRoaXMucmlnaHRCdXR0b25Eb3duID0gZmFsc2U7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuYXBwLnN0YWdlLm9uKFwicG9pbnRlcnVwb3V0c2lkZVwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMubGVmdEJ1dHRvbkRvd24gPSBmYWxzZTtcclxuICAgICAgdGhpcy5yaWdodEJ1dHRvbkRvd24gPSBmYWxzZTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5hcHAuc3RhZ2Uub24oXCJyaWdodGRvd25cIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmxlZnRCdXR0b25Eb3duID0gZmFsc2U7XHJcbiAgICAgIHRoaXMucmlnaHRCdXR0b25Eb3duID0gdHJ1ZTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5hcHAuc3RhZ2Uub24oXCJyaWdodHVwXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWZ0QnV0dG9uRG93biA9IGZhbHNlO1xyXG4gICAgICB0aGlzLnJpZ2h0QnV0dG9uRG93biA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmFwcC5zdGFnZS5vbihcInJpZ2h0dXBvdXRzaWRlXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5sZWZ0QnV0dG9uRG93biA9IGZhbHNlO1xyXG4gICAgICB0aGlzLnJpZ2h0QnV0dG9uRG93biA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICB0YXJnZXREaXYuYXBwZW5kQ2hpbGQodGhpcy5hcHAudmlldyk7XHJcblxyXG4gICAgLy8gRGlzYWJsZSByaWdodCBjbGljayBtZW51XHJcbiAgICB0aGlzLmFwcC52aWV3Lm9uY29udGV4dG1lbnUgPSBlID0+IGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAvLyBDcmVhdGUgbG9hZGVyIGFuZCBsb2FkIHJlc291cmNlc1xyXG4gICAgLy8gV2VicGFjayBsb2FkaW5nIHJlc291cmNlczogaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yNjMzI2lzc3VlY29tbWVudC0yMjk2Mjc4NTdcclxuICAgIHRoaXMubG9hZGVyID0gbmV3IFBJWEkuTG9hZGVyKCk7XHJcblxyXG4gICAgdGhpcy50ZXh0dXJlc1RvTG9hZCA9IFtcclxuICAgICAgXCIvY2hhaW5zaW0vaW1nL2FybGVfYmcucG5nXCIsXHJcbiAgICAgIFwiL2NoYWluc2ltL2ltZy9maWVsZC5qc29uXCIsXHJcbiAgICAgIFwiL2NoYWluc2ltL2ltZy9wdXlvLmpzb25cIixcclxuICAgICAgXCIvY2hhaW5zaW0vaW1nL2Fycm93LnBuZ1wiLFxyXG4gICAgICBcIi9jaGFpbnNpbS9pbWcvYXJyb3dfeC5wbmdcIixcclxuICAgICAgXCIvY2hhaW5zaW0vaW1nL2N1cnNvci5wbmdcIixcclxuICAgICAgXCIvY2hhaW5zaW0vaW1nL2N1cnNvcl94LnBuZ1wiLFxyXG4gICAgICBcIi9jaGFpbnNpbS9pbWcvY2hhaW5fZm9udC5qc29uXCIsXHJcbiAgICAgIFwiL2NoYWluc2ltL2ltZy9lZGl0X2J1YmJsZS5wbmdcIixcclxuICAgICAgXCIvY2hhaW5zaW0vaW1nL3RvdWNoX2Rpc2FibGVyLnBuZ1wiLFxyXG4gICAgICBcIi9jaGFpbnNpbS9pbWcvcGlja2VyX2Fycm93X2xlZnQucG5nXCIsXHJcbiAgICAgIFwiL2NoYWluc2ltL2ltZy9waWNrZXJfYXJyb3dfcmlnaHQucG5nXCIsXHJcbiAgICAgIFwiL2NoYWluc2ltL2ltZy9lZGl0b3JfeC5wbmdcIixcclxuICAgICAgXCIvY2hhaW5zaW0vaW1nL2N1cnJlbnRfdG9vbC5wbmdcIixcclxuICAgICAgXCIvY2hhaW5zaW0vaW1nL25leHRfYmFja2dyb3VuZF8xcF9tYXNrLnBuZ1wiLFxyXG4gICAgICBcIi9jaGFpbnNpbS9pbWcvcm90YXRlX2NvbnRhaW5lci5wbmdcIlxyXG4gICAgXTtcclxuXHJcbiAgICB0aGlzLmxvYWRlci5hZGQodGhpcy50ZXh0dXJlc1RvTG9hZCkubG9hZCgobG9hZGVyOiBhbnksIHJlc291cmNlczogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMubG9hZEFzc2V0cyhsb2FkZXIsIHJlc291cmNlcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBFZGl0b3JcclxuICAgIHRoaXMuZWRpdG9yT3BlbiA9IGZhbHNlO1xyXG4gICAgdGhpcy5jdXJyZW50VG9vbCA9IHtcclxuICAgICAgcGFnZTogMCxcclxuICAgICAgaXRlbTogNixcclxuICAgICAgcm93OiAxLFxyXG4gICAgICBwdXlvOiBcIlwiLFxyXG4gICAgICB0YXJnZXRMYXllcjogXCJtYWluXCIsXHJcbiAgICAgIHg6IC0yNDI0LFxyXG4gICAgICB5OiAtMjQyNFxyXG4gICAgfTtcclxuICAgIHRoaXMuZWRpdG9yVG9vbERpc3BsYXkgPSBbXTtcclxuXHJcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5pZGxlU3RhdGU7XHJcbiAgICB0aGlzLnNpbXVsYXRvck1vZGUgPSBcImVkaXRcIjsgLy8gXCJlZGl0XCIsIFwicGxheVwiXHJcblxyXG4gICAgLy8gTG9hZCBhIHRlc3QgbWF0cml4XHJcbiAgICB0aGlzLmFwcC50aWNrZXIuYWRkKGRlbHRhID0+IHRoaXMuZ2FtZUxvb3AoZGVsdGEpKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXROZXdGaWVsZChpbnB1dE1hdHJpeDogc3RyaW5nW11bXSk6IHZvaWQge1xyXG4gICAgdGhpcy5nYW1lRmllbGQgPSBuZXcgRmllbGQoaW5wdXRNYXRyaXgsIHRoaXMuc2ltdWxhdG9yU2V0dGluZ3MpO1xyXG4gICAgdGhpcy5yZWZyZXNoUHV5b1Nwcml0ZXMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbG9hZEFzc2V0cyhsb2FkZXI6IGFueSwgcmVzb3VyY2VzOiBhbnkpOiB2b2lkIHtcclxuICAgIHRoaXMucmVzb3VyY2VzID0gcmVzb3VyY2VzO1xyXG4gICAgdGhpcy5maWVsZFNwcml0ZXMgPSByZXNvdXJjZXNbXCIvY2hhaW5zaW0vaW1nL2ZpZWxkLmpzb25cIl0udGV4dHVyZXM7XHJcbiAgICB0aGlzLnB1eW9TcHJpdGVzID0gcmVzb3VyY2VzW1wiL2NoYWluc2ltL2ltZy9wdXlvLmpzb25cIl0udGV4dHVyZXM7XHJcbiAgICB0aGlzLmNoYWluQ291bnRTcHJpdGVzID0gcmVzb3VyY2VzW1wiL2NoYWluc2ltL2ltZy9jaGFpbl9mb250Lmpzb25cIl0udGV4dHVyZXM7XHJcbiAgICB0aGlzLmluaXRGaWVsZERpc3BsYXkoKTtcclxuICAgIHRoaXMuaW5pdFNjb3JlRGlzcGxheSgpO1xyXG4gICAgdGhpcy5pbml0R2FtZU92ZXJYKCk7XHJcbiAgICB0aGlzLmluaXRQdXlvRGlzcGxheSgpO1xyXG4gICAgdGhpcy5yZWZyZXNoUHV5b1Nwcml0ZXMoKTtcclxuICAgIHRoaXMuaW5pdEZpZWxkQ29udHJvbHMoKTtcclxuICAgIHRoaXMuaW5pdEdhcmJhZ2VEaXNwbGF5KCk7XHJcbiAgICB0aGlzLmluaXRUb29sRGlzcGxheSgpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0RmllbGREaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgdGhpcy5maWVsZERpc3BsYXkuY2hhckJHID0gbmV3IFNwcml0ZSh0aGlzLnJlc291cmNlc1tcIi9jaGFpbnNpbS9pbWcvYXJsZV9iZy5wbmdcIl0udGV4dHVyZSk7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5jaGFyQkcueCA9IDE3O1xyXG4gICAgdGhpcy5maWVsZERpc3BsYXkuY2hhckJHLnkgPSAxODM7XHJcbiAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmZpZWxkRGlzcGxheS5jaGFyQkcpO1xyXG5cclxuICAgIC8vIFRvcCBCb3JkZXJcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmJvcmRlclRvcCA9IG5ldyBTcHJpdGUodGhpcy5maWVsZFNwcml0ZXNbXCJmaWVsZF9ib3JkZXJfdG9wLnBuZ1wiXSk7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5ib3JkZXJUb3AueSA9IDEzMjtcclxuICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuZmllbGREaXNwbGF5LmJvcmRlclRvcCk7XHJcblxyXG4gICAgLy8gTGVmdCBib3JkZXIsIHRvcCBoYWxmXHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5ib3JkZXJMZWZ0VG9wID0gbmV3IFNwcml0ZShcclxuICAgICAgdGhpcy5maWVsZFNwcml0ZXNbXCJmaWVsZF9ib3JkZXJfbGVmdF90b3BoYWxmLnBuZ1wiXVxyXG4gICAgKTtcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmJvcmRlckxlZnRUb3AueSA9IDE4NDtcclxuICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuZmllbGREaXNwbGF5LmJvcmRlckxlZnRUb3ApO1xyXG5cclxuICAgIC8vIExlZnQgYm9yZGVyLCBib3R0b20gaGFsZlxyXG4gICAgdGhpcy5maWVsZERpc3BsYXkuYm9yZGVyTGVmdEJvdHRvbSA9IG5ldyBTcHJpdGUoXHJcbiAgICAgIHRoaXMuZmllbGRTcHJpdGVzW1wiZmllbGRfYm9yZGVyX2xlZnRfYm90dG9taGFsZi5wbmdcIl1cclxuICAgICk7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5ib3JkZXJMZWZ0Qm90dG9tLnkgPSA1MzY7XHJcbiAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmZpZWxkRGlzcGxheS5ib3JkZXJMZWZ0Qm90dG9tKTtcclxuXHJcbiAgICAvLyBSaWdodCBib3JkZXIsIHRvcCBoYWxmXHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5ib3JkZXJSaWdodFRvcCA9IG5ldyBTcHJpdGUoXHJcbiAgICAgIHRoaXMuZmllbGRTcHJpdGVzW1wiZmllbGRfYm9yZGVyX3JpZ2h0X3RvcGhhbGYucG5nXCJdXHJcbiAgICApO1xyXG4gICAgdGhpcy5maWVsZERpc3BsYXkuYm9yZGVyUmlnaHRUb3AueCA9IDQxNztcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmJvcmRlclJpZ2h0VG9wLnkgPSAxODQ7XHJcbiAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmZpZWxkRGlzcGxheS5ib3JkZXJSaWdodFRvcCk7XHJcblxyXG4gICAgLy8gUmlnaHQgYm9yZGVyLCBib3R0b20gaGFsZlxyXG4gICAgdGhpcy5maWVsZERpc3BsYXkuYm9yZGVyUmlnaHRCb3R0b20gPSBuZXcgU3ByaXRlKFxyXG4gICAgICB0aGlzLmZpZWxkU3ByaXRlc1tcImZpZWxkX2JvcmRlcl9yaWdodF9ib3R0b21oYWxmLnBuZ1wiXVxyXG4gICAgKTtcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmJvcmRlclJpZ2h0Qm90dG9tLnggPSA0MTc7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5ib3JkZXJSaWdodEJvdHRvbS55ID0gNTM2O1xyXG4gICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5maWVsZERpc3BsYXkuYm9yZGVyUmlnaHRCb3R0b20pO1xyXG5cclxuICAgIC8vIEJvdHRvbSBib3JkZXJcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmJvcmRlckJvdHRvbSA9IG5ldyBTcHJpdGUodGhpcy5maWVsZFNwcml0ZXNbXCJmaWVsZF9ib3JkZXJfYm90dG9tLnBuZ1wiXSk7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5ib3JkZXJCb3R0b20ueSA9IDkwMjtcclxuICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuZmllbGREaXNwbGF5LmJvcmRlckJvdHRvbSk7XHJcblxyXG4gICAgLy8gTmV4dCBXaW5kb3cgQm9yZGVyXHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5uZXh0V2luZG93Qm9yZGVyID0gbmV3IFNwcml0ZSh0aGlzLmZpZWxkU3ByaXRlc1tcIm5leHRfYm9yZGVyXzFwLnBuZ1wiXSk7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5uZXh0V2luZG93Qm9yZGVyLnggPSA0NTY7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5uZXh0V2luZG93Qm9yZGVyLnkgPSAxNjA7XHJcbiAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmZpZWxkRGlzcGxheS5uZXh0V2luZG93Qm9yZGVyKTtcclxuXHJcbiAgICAvLyBOZXh0IFdpbmRvdyBJbm5lclxyXG4gICAgdGhpcy5maWVsZERpc3BsYXkubmV4dFdpbmRvd0lubmVyID0gbmV3IFNwcml0ZSh0aGlzLmZpZWxkU3ByaXRlc1tcIm5leHRfYmFja2dyb3VuZF8xcC5wbmdcIl0pO1xyXG4gICAgdGhpcy5maWVsZERpc3BsYXkubmV4dFdpbmRvd0lubmVyLnggPSA0NTY7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5uZXh0V2luZG93SW5uZXIueSA9IDE2MDtcclxuICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuZmllbGREaXNwbGF5Lm5leHRXaW5kb3dJbm5lcik7XHJcblxyXG4gICAgLy8gTkVYVCBQdXlvIE1hc2tcclxuICAgIHRoaXMuZmllbGREaXNwbGF5Lm5leHRXaW5kb3dNYXNrID0gbmV3IFNwcml0ZShcclxuICAgICAgdGhpcy5yZXNvdXJjZXNbXCIvY2hhaW5zaW0vaW1nL25leHRfYmFja2dyb3VuZF8xcF9tYXNrLnBuZ1wiXS50ZXh0dXJlXHJcbiAgICApO1xyXG4gICAgdGhpcy5maWVsZERpc3BsYXkubmV4dFdpbmRvd01hc2sucG9zaXRpb24uc2V0KDQ1NiwgMTYwKTtcclxuICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuZmllbGREaXNwbGF5Lm5leHRXaW5kb3dNYXNrKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdFNjb3JlRGlzcGxheSgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHN0YXJ0WDogbnVtYmVyID0gdGhpcy5kaXNwbGF5TW9kZSA9PT0gXCJzaW1wbGVcIiA/IDMyIDogMTUwO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XHJcbiAgICAgIHRoaXMuc2NvcmVEaXNwbGF5W2ldID0gbmV3IFNwcml0ZSh0aGlzLmZpZWxkU3ByaXRlc1tcInNjb3JlXzAucG5nXCJdKTtcclxuICAgICAgdGhpcy5zY29yZURpc3BsYXlbaV0uYW5jaG9yLnNldCgwLjUpO1xyXG4gICAgICB0aGlzLnNjb3JlRGlzcGxheVtpXS54ID0gc3RhcnRYICsgdGhpcy5zY29yZURpc3BsYXlbaV0ud2lkdGggKiAwLjkgKiBpO1xyXG4gICAgICB0aGlzLnNjb3JlRGlzcGxheVtpXS55ID0gOTM1O1xyXG4gICAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLnNjb3JlRGlzcGxheVtpXSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXRHYW1lT3ZlclgoKTogdm9pZCB7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5yZWRYID0gbmV3IFNwcml0ZSh0aGlzLnB1eW9TcHJpdGVzW1wiZGVhdGhfWC5wbmdcIl0pO1xyXG4gICAgdGhpcy5maWVsZERpc3BsYXkucmVkWC5hbmNob3Iuc2V0KDAuNSk7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5yZWRYLnggPSB0aGlzLmNvb3JkQXJyYXlbMl1bMV0ueDtcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LnJlZFgueSA9IHRoaXMuY29vcmRBcnJheVsyXVsxXS55O1xyXG4gICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5maWVsZERpc3BsYXkucmVkWCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXRQdXlvRGlzcGxheSgpOiB2b2lkIHtcclxuICAgIHRoaXMucHV5b0Rpc3BsYXkgPSBbXTtcclxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5zaW11bGF0b3JTZXR0aW5ncy5jb2xzOyB4KyspIHtcclxuICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XSA9IFtdO1xyXG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuc2ltdWxhdG9yU2V0dGluZ3Mucm93czsgeSsrKSB7XHJcbiAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XSA9IG5ldyBTcHJpdGUodGhpcy5wdXlvU3ByaXRlc1tcInJlZF91cmRsLnBuZ1wiXSk7XHJcbiAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS5hbmNob3Iuc2V0KDAuNSk7XHJcbiAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS54ID0gdGhpcy5jb29yZEFycmF5W3hdW3ldLng7XHJcbiAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS55ID0gdGhpcy5jb29yZEFycmF5W3hdW3ldLnk7XHJcblxyXG4gICAgICAgIC8vIERlZmluZSBpbnRlcmFjdGlvbnMgd2hlbiBwcmVzc2VkXHJcbiAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIExlZnQgY2xpY2suIFJlcGxhY2UgUHV5byB3aXRoIGN1cnJlbnRUb29sLnB1eW9cclxuICAgICAgICB0aGlzLnB1eW9EaXNwbGF5W3hdW3ldLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wudGFyZ2V0TGF5ZXIgPT09IFwibWFpblwiICYmIHRoaXMuc3RhdGUgPT09IHRoaXMuaWRsZVN0YXRlKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRUb29sLnB1eW8gIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICB0aGlzLmdhbWVGaWVsZC5pbnB1dE1hdHJpeFt4XVt5XSA9IHRoaXMuY3VycmVudFRvb2wucHV5bztcclxuICAgICAgICAgICAgICB0aGlzLmdhbWVGaWVsZC5tYXRyaXhbeF1beV0ucCA9IHRoaXMuY3VycmVudFRvb2wucHV5bztcclxuICAgICAgICAgICAgICB0aGlzLmdhbWVGaWVsZC5tYXRyaXhbeF1beV0ueCA9IHg7XHJcbiAgICAgICAgICAgICAgdGhpcy5nYW1lRmllbGQubWF0cml4W3hdW3ldLnkgPSB5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnJlZnJlc2hQdXlvU3ByaXRlcygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBSaWdodCBjbGljay4gRXJhc2UgY3VycmVudCBwdXlvLlxyXG4gICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0ub24oXCJyaWdodGRvd25cIiwgKCkgPT4ge1xyXG4gICAgICAgICAgaWYgKHRoaXMuY3VycmVudFRvb2wudGFyZ2V0TGF5ZXIgPT09IFwibWFpblwiICYmIHRoaXMuc3RhdGUgPT09IHRoaXMuaWRsZVN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUZpZWxkLmlucHV0TWF0cml4W3hdW3ldID0gXCIwXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUZpZWxkLm1hdHJpeFt4XVt5XS5wID0gXCIwXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUZpZWxkLm1hdHJpeFt4XVt5XS54ID0geDtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRmllbGQubWF0cml4W3hdW3ldLnkgPSB5O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5yZWZyZXNoUHV5b1Nwcml0ZXMoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IHtcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC50YXJnZXRMYXllciA9PT0gXCJtYWluXCIgJiZcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gdGhpcy5pZGxlU3RhdGUgJiZcclxuICAgICAgICAgICAgdGhpcy5sZWZ0QnV0dG9uRG93biA9PT0gdHJ1ZSAmJlxyXG4gICAgICAgICAgICB0aGlzLnJpZ2h0QnV0dG9uRG93biA9PT0gZmFsc2UgJiZcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5wdXlvICE9PSBcIlwiXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRmllbGQuaW5wdXRNYXRyaXhbeF1beV0gPSB0aGlzLmN1cnJlbnRUb29sLnB1eW87XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUZpZWxkLm1hdHJpeFt4XVt5XS5wID0gdGhpcy5jdXJyZW50VG9vbC5wdXlvO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVGaWVsZC5tYXRyaXhbeF1beV0ueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUZpZWxkLm1hdHJpeFt4XVt5XS55ID0geTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoUHV5b1Nwcml0ZXMoKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wudGFyZ2V0TGF5ZXIgPT09IFwibWFpblwiICYmXHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPT09IHRoaXMuaWRsZVN0YXRlICYmXHJcbiAgICAgICAgICAgIHRoaXMucmlnaHRCdXR0b25Eb3duID09PSB0cnVlXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRmllbGQuaW5wdXRNYXRyaXhbeF1beV0gPSBcIjBcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRmllbGQubWF0cml4W3hdW3ldLnAgPSBcIjBcIjtcclxuICAgICAgICAgICAgdGhpcy5nYW1lRmllbGQubWF0cml4W3hdW3ldLnggPSB4O1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVGaWVsZC5tYXRyaXhbeF1beV0ueSA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFB1eW9TcHJpdGVzKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFR1cm4gb2ZmIGxlZnRCdXR0b25Eb3duIHdoZW4gbW91c2UgYnV0dG9ucyBhcmUgcmVsZWFzZWRcclxuICAgICAgICBjb25zdCByZWxlYXNlTW91c2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLmxlZnRCdXR0b25Eb3duID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLnJpZ2h0QnV0dG9uRG93biA9IGZhbHNlO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS5vbihcInBvaW50ZXJ1cG91dHNpZGVcIiwgKCkgPT4gcmVsZWFzZU1vdXNlKCkpO1xyXG4gICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0ub24oXCJwb2ludGVydXBcIiwgKCkgPT4gcmVsZWFzZU1vdXNlKCkpO1xyXG4gICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0ub24oXCJyaWdodHVwXCIsICgpID0+IHJlbGVhc2VNb3VzZSgpKTtcclxuICAgICAgICB0aGlzLnB1eW9EaXNwbGF5W3hdW3ldLm9uKFwicmlnaHR1cG91dHNpZGVcIiwgKCkgPT4gcmVsZWFzZU1vdXNlKCkpO1xyXG5cclxuICAgICAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLnB1eW9EaXNwbGF5W3hdW3ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbml0RmllbGRDb250cm9scygpOiB2b2lkIHtcclxuICAgIGNvbnN0IHN0YXJ0WSA9IDQ4MDtcclxuICAgIGxldCBoZWlnaHQ7XHJcbiAgICBsZXQgaSA9IDA7XHJcblxyXG4gICAgLy8gUmVzZXQgYnV0dG9uXHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMucmVzZXQgPSBuZXcgU3ByaXRlKHRoaXMuZmllbGRTcHJpdGVzW1wiYnRuX3Jlc2V0LnBuZ1wiXSk7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMucmVzZXQueCA9IDQ1MjtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5yZXNldC55ID0gc3RhcnRZO1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLnJlc2V0LmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5yZXNldC5idXR0b25Nb2RlID0gdHJ1ZTtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5yZXNldC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5maWVsZENvbnRyb2xzLnJlc2V0LnRleHR1cmUgPSB0aGlzLmZpZWxkU3ByaXRlc1tcImJ0bl9yZXNldF9wcmVzc2VkLnBuZ1wiXTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLnJlc2V0Lm9uKFwicG9pbnRlcnVwXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5maWVsZENvbnRyb2xzLnJlc2V0LnRleHR1cmUgPSB0aGlzLmZpZWxkU3ByaXRlc1tcImJ0bl9yZXNldC5wbmdcIl07XHJcbiAgICAgIHRoaXMucmVzZXRGaWVsZEFuZFN0YXRlKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5yZXNldC5vbihcInBvaW50ZXJ1cG91dHNpZGVcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmZpZWxkQ29udHJvbHMucmVzZXQudGV4dHVyZSA9IHRoaXMuZmllbGRTcHJpdGVzW1wiYnRuX3Jlc2V0LnBuZ1wiXTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5maWVsZENvbnRyb2xzLnJlc2V0KTtcclxuICAgIGhlaWdodCA9IHRoaXMuZmllbGRDb250cm9scy5yZXNldC5oZWlnaHQ7XHJcblxyXG4gICAgLy8gUGF1c2UgYnV0dG9uXHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMucGF1c2UgPSBuZXcgU3ByaXRlKHRoaXMuZmllbGRTcHJpdGVzW1wiYnRuX3BhdXNlLnBuZ1wiXSk7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMucGF1c2UueCA9IDUyODtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5wYXVzZS55ID0gc3RhcnRZICsgaGVpZ2h0ICogaTtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5wYXVzZS5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMucGF1c2UuYnV0dG9uTW9kZSA9IHRydWU7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMucGF1c2Uub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZmllbGRDb250cm9scy5wYXVzZS50ZXh0dXJlID0gdGhpcy5maWVsZFNwcml0ZXNbXCJidG5fcGF1c2VfcHJlc3NlZC5wbmdcIl07XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5wYXVzZS5vbihcInBvaW50ZXJ1cFwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZmllbGRDb250cm9scy5wYXVzZS50ZXh0dXJlID0gdGhpcy5maWVsZFNwcml0ZXNbXCJidG5fcGF1c2UucG5nXCJdO1xyXG4gICAgICB0aGlzLmF1dG9BZHZhbmNlID0gZmFsc2U7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5wYXVzZS5vbihcInBvaW50ZXJ1cG91dHNpZGVcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmZpZWxkQ29udHJvbHMucGF1c2UudGV4dHVyZSA9IHRoaXMuZmllbGRTcHJpdGVzW1wiYnRuX3BhdXNlLnBuZ1wiXTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5maWVsZENvbnRyb2xzLnBhdXNlKTtcclxuICAgIGkgKz0gMTtcclxuXHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMucGxheSA9IG5ldyBTcHJpdGUodGhpcy5maWVsZFNwcml0ZXNbXCJidG5fcGxheS5wbmdcIl0pO1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLnBsYXkueCA9IDQ1MjtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5wbGF5LnkgPSBzdGFydFkgKyBoZWlnaHQgKiBpO1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLnBsYXkuaW50ZXJhY3RpdmUgPSB0cnVlO1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLnBsYXkuYnV0dG9uTW9kZSA9IHRydWU7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMucGxheS5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5maWVsZENvbnRyb2xzLnBsYXkudGV4dHVyZSA9IHRoaXMuZmllbGRTcHJpdGVzW1wiYnRuX3BsYXlfcHJlc3NlZC5wbmdcIl07XHJcbiAgICAgIHRoaXMuYXV0b0FkdmFuY2UgPSBmYWxzZTtcclxuICAgICAgdGhpcy5zaW11bGF0aW9uU3BlZWQgPSAxO1xyXG4gICAgICB0aGlzLmdhbWVGaWVsZC5hZHZhbmNlU3RhdGUoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLnBsYXkub24oXCJwb2ludGVydXBcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmZpZWxkQ29udHJvbHMucGxheS50ZXh0dXJlID0gdGhpcy5maWVsZFNwcml0ZXNbXCJidG5fcGxheS5wbmdcIl07XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5wbGF5Lm9uKFwicG9pbnRlcnVwb3V0c2lkZVwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZmllbGRDb250cm9scy5wbGF5LnRleHR1cmUgPSB0aGlzLmZpZWxkU3ByaXRlc1tcImJ0bl9wbGF5LnBuZ1wiXTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5maWVsZENvbnRyb2xzLnBsYXkpO1xyXG5cclxuICAgIHRoaXMuZmllbGRDb250cm9scy5hdXRvID0gbmV3IFNwcml0ZSh0aGlzLmZpZWxkU3ByaXRlc1tcImJ0bl9hdXRvLnBuZ1wiXSk7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMuYXV0by54ID0gNTI4O1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLmF1dG8ueSA9IHN0YXJ0WSArIGhlaWdodCAqIGk7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMuYXV0by5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMuYXV0by5idXR0b25Nb2RlID0gdHJ1ZTtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5hdXRvLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmZpZWxkQ29udHJvbHMuYXV0by50ZXh0dXJlID0gdGhpcy5maWVsZFNwcml0ZXNbXCJidG5fYXV0b19wcmVzc2VkLnBuZ1wiXTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLmF1dG8ub24oXCJwb2ludGVydXBcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmZpZWxkQ29udHJvbHMuYXV0by50ZXh0dXJlID0gdGhpcy5maWVsZFNwcml0ZXNbXCJidG5fYXV0by5wbmdcIl07XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyh0aGlzLmdhbWVGaWVsZC5zaW1TdGF0ZSk7XHJcbiAgICAgIGlmICh0aGlzLmdhbWVGaWVsZC5zaW1TdGF0ZSA9PT0gXCJpZGxlXCIgJiYgdGhpcy5hdXRvQWR2YW5jZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmF1dG9BZHZhbmNlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnNpbXVsYXRpb25TcGVlZCA9IDE7XHJcbiAgICAgICAgdGhpcy5nYW1lRmllbGQuYWR2YW5jZVN0YXRlKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5nYW1lRmllbGQuc2ltU3RhdGUgPT09IFwiaWRsZVwiICYmIHRoaXMuYXV0b0FkdmFuY2UgPT09IHRydWUpIHtcclxuICAgICAgICB0aGlzLnNpbXVsYXRpb25TcGVlZCAqPSAyO1xyXG4gICAgICAgIHRoaXMuZ2FtZUZpZWxkLmFkdmFuY2VTdGF0ZSgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZ2FtZUZpZWxkLnNpbVN0YXRlID09PSBcImRyb3BwZWRcIikge1xyXG4gICAgICAgIHRoaXMuYXV0b0FkdmFuY2UgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc2ltdWxhdGlvblNwZWVkID0gMTtcclxuICAgICAgICB0aGlzLmdhbWVGaWVsZC5hZHZhbmNlU3RhdGUoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLnNpbXVsYXRpb25TcGVlZCAqPSAyO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5hdXRvLm9uKFwicG9pbnRlcnVwb3V0c2lkZVwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuZmllbGRDb250cm9scy5hdXRvLnRleHR1cmUgPSB0aGlzLmZpZWxkU3ByaXRlc1tcImJ0bl9hdXRvLnBuZ1wiXTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5maWVsZENvbnRyb2xzLmF1dG8pO1xyXG4gICAgaSArPSAxO1xyXG5cclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmRpc2FibGVUb3VjaEJlaGluZCA9IG5ldyBTcHJpdGUoXHJcbiAgICAgIHRoaXMucmVzb3VyY2VzW1wiL2NoYWluc2ltL2ltZy90b3VjaF9kaXNhYmxlci5wbmdcIl0udGV4dHVyZVxyXG4gICAgKTtcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmRpc2FibGVUb3VjaEJlaGluZC54ID0gMDtcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmRpc2FibGVUb3VjaEJlaGluZC55ID0gMDtcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmRpc2FibGVUb3VjaEJlaGluZC53aWR0aCA9IHRoaXMuZ2FtZVNldHRpbmdzLndpZHRoO1xyXG4gICAgdGhpcy5maWVsZERpc3BsYXkuZGlzYWJsZVRvdWNoQmVoaW5kLmhlaWdodCA9IHRoaXMuZ2FtZVNldHRpbmdzLmhlaWdodDtcclxuICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuZmllbGREaXNwbGF5LmRpc2FibGVUb3VjaEJlaGluZCk7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5kaXNhYmxlVG91Y2hCZWhpbmQuaW50ZXJhY3RpdmUgPSBmYWxzZTtcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmRpc2FibGVUb3VjaEJlaGluZC5vbihcInBvaW50ZXJ1cFwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMudG9nZ2xlRWRpdG9yV2luZG93KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMuZWRpdCA9IG5ldyBTcHJpdGUodGhpcy5maWVsZFNwcml0ZXNbXCJidG5fZWRpdC5wbmdcIl0pO1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLmVkaXQueCA9IDQ5MDtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5lZGl0LnkgPSBzdGFydFkgKyBpICogaGVpZ2h0O1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLmVkaXQuaW50ZXJhY3RpdmUgPSB0cnVlO1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLmVkaXQuYnV0dG9uTW9kZSA9IHRydWU7XHJcbiAgICB0aGlzLmZpZWxkQ29udHJvbHMuZWRpdC5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5maWVsZENvbnRyb2xzLmVkaXQudGV4dHVyZSA9IHRoaXMuZmllbGRTcHJpdGVzW1wiYnRuX2VkaXRfcHJlc3NlZC5wbmdcIl07XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZmllbGRDb250cm9scy5lZGl0Lm9uKFwicG9pbnRlcnVwXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5maWVsZENvbnRyb2xzLmVkaXQudGV4dHVyZSA9IHRoaXMuZmllbGRTcHJpdGVzW1wiYnRuX2VkaXQucG5nXCJdO1xyXG4gICAgICBpZiAodGhpcy5lZGl0b3JPcGVuID09PSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMucmVzZXRGaWVsZEFuZFN0YXRlKCk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy50b2dnbGVFZGl0b3JXaW5kb3coKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5maWVsZENvbnRyb2xzLmVkaXQub24oXCJwb2ludGVydXBvdXRzaWRlXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5maWVsZENvbnRyb2xzLmVkaXQudGV4dHVyZSA9IHRoaXMuZmllbGRTcHJpdGVzW1wiYnRuX2VkaXQucG5nXCJdO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmZpZWxkQ29udHJvbHMuZWRpdCk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluaXRHYXJiYWdlRGlzcGxheSgpOiB2b2lkIHtcclxuICAgIC8vIFBsYWNlIEdhcmJhZ2UgVHJheVxyXG4gICAgdGhpcy5maWVsZERpc3BsYXkuZ2FyYmFnZVRyYXkgPSBuZXcgU3ByaXRlKHRoaXMuZmllbGRTcHJpdGVzW1wiZ2FyYmFnZV90cmF5LnBuZ1wiXSk7XHJcbiAgICB0aGlzLmZpZWxkRGlzcGxheS5nYXJiYWdlVHJheS54ID0gMzE2O1xyXG4gICAgdGhpcy5maWVsZERpc3BsYXkuZ2FyYmFnZVRyYXkueSA9IDkxNTtcclxuICAgIHRoaXMuZmllbGREaXNwbGF5LmdhcmJhZ2VUcmF5LnNjYWxlLnNldCgwLjcsIDAuNyk7XHJcbiAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmZpZWxkRGlzcGxheS5nYXJiYWdlVHJheSk7XHJcblxyXG4gICAgLy8gUGxhY2UgaWNvbiBzcHJpdGVzXHJcbiAgICBjb25zdCBzdGFydFg6IG51bWJlciA9IDMyNDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSsrKSB7XHJcbiAgICAgIHRoaXMuZ2FyYmFnZURpc3BsYXlbaV0gPSBuZXcgU3ByaXRlKHRoaXMucHV5b1Nwcml0ZXNbXCJzcGFjZXJfbi5wbmdcIl0pO1xyXG4gICAgICB0aGlzLmdhcmJhZ2VEaXNwbGF5W2ldLnNjYWxlLnNldCgwLjcsIDAuNyk7XHJcbiAgICAgIHRoaXMuZ2FyYmFnZURpc3BsYXlbaV0ueCA9IHN0YXJ0WCArIHRoaXMuZ2FyYmFnZURpc3BsYXlbaV0ud2lkdGggKiBpO1xyXG4gICAgICB0aGlzLmdhcmJhZ2VEaXNwbGF5Q29vcmRpbmF0ZXNbaV0gPSBzdGFydFggKyB0aGlzLmdhcmJhZ2VEaXNwbGF5W2ldLndpZHRoICogaTtcclxuICAgICAgdGhpcy5nYXJiYWdlRGlzcGxheVtpXS55ID0gOTEwO1xyXG4gICAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmdhcmJhZ2VEaXNwbGF5W2ldKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5pdFRvb2xEaXNwbGF5KCk6IHZvaWQge1xyXG4gICAgLy8gXCJTcGVlY2ggYnViYmxlXCJcclxuICAgIHRoaXMuZWRpdG9yRGlzcGxheS5lZGl0QnViYmxlID0gbmV3IFNwcml0ZShcclxuICAgICAgdGhpcy5yZXNvdXJjZXNbXCIvY2hhaW5zaW0vaW1nL2VkaXRfYnViYmxlLnBuZ1wiXS50ZXh0dXJlXHJcbiAgICApO1xyXG4gICAgdGhpcy5lZGl0b3JEaXNwbGF5LmVkaXRCdWJibGUueCA9IDUyMDtcclxuICAgIHRoaXMuZWRpdG9yRGlzcGxheS5lZGl0QnViYmxlLnkgPSA3MDQ7XHJcbiAgICB0aGlzLmVkaXRvckRpc3BsYXkuZWRpdEJ1YmJsZS5hbmNob3Iuc2V0KDAuODcsIDApO1xyXG4gICAgdGhpcy5lZGl0b3JEaXNwbGF5LmVkaXRCdWJibGUuaW50ZXJhY3RpdmUgPSB0cnVlO1xyXG4gICAgdGhpcy5lZGl0b3JEaXNwbGF5LmVkaXRCdWJibGUudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5hcHAuc3RhZ2UuYWRkQ2hpbGQodGhpcy5lZGl0b3JEaXNwbGF5LmVkaXRCdWJibGUpO1xyXG5cclxuICAgIC8vIEN1cnJlbnQgdG9vbCBjdXJzb3JcclxuICAgIHRoaXMuZWRpdG9yRGlzcGxheS50b29sQ3Vyc29yID0gbmV3IFNwcml0ZShcclxuICAgICAgdGhpcy5yZXNvdXJjZXNbXCIvY2hhaW5zaW0vaW1nL2N1cnJlbnRfdG9vbC5wbmdcIl0udGV4dHVyZVxyXG4gICAgKTtcclxuICAgIHRoaXMuZWRpdG9yRGlzcGxheS50b29sQ3Vyc29yLmFuY2hvci5zZXQoMC41LCAwLjUpO1xyXG4gICAgdGhpcy5lZGl0b3JEaXNwbGF5LnRvb2xDdXJzb3IudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgdGhpcy5lZGl0b3JEaXNwbGF5LnRvb2xDdXJzb3IueCA9IHRoaXMuY3VycmVudFRvb2wueDtcclxuICAgIHRoaXMuZWRpdG9yRGlzcGxheS50b29sQ3Vyc29yLnkgPSB0aGlzLmN1cnJlbnRUb29sLnk7XHJcbiAgICB0aGlzLmFwcC5zdGFnZS5hZGRDaGlsZCh0aGlzLmVkaXRvckRpc3BsYXkudG9vbEN1cnNvcik7XHJcblxyXG4gICAgLy8gU2V0IHVwIHBhZ2UgMCwgcm93IDBcclxuICAgIGNvbnN0IHN0YXJ0WCA9IDg4O1xyXG4gICAgY29uc3Qgc3RhcnRZID0gODIwO1xyXG5cclxuICAgIGNvbnN0IHRvb2xTcHJpdGVzID0gW1xyXG4gICAgICBbXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgdGhpcy5wdXlvU3ByaXRlc1tcInJlZF9uLnBuZ1wiXSxcclxuICAgICAgICAgIHRoaXMucHV5b1Nwcml0ZXNbXCJncmVlbl9uLnBuZ1wiXSxcclxuICAgICAgICAgIHRoaXMucHV5b1Nwcml0ZXNbXCJibHVlX24ucG5nXCJdLFxyXG4gICAgICAgICAgdGhpcy5wdXlvU3ByaXRlc1tcInllbGxvd19uLnBuZ1wiXSxcclxuICAgICAgICAgIHRoaXMucHV5b1Nwcml0ZXNbXCJwdXJwbGVfbi5wbmdcIl0sXHJcbiAgICAgICAgICB0aGlzLnB1eW9TcHJpdGVzW1wiZ2FyYmFnZV9uLnBuZ1wiXSxcclxuICAgICAgICAgIHRoaXMucmVzb3VyY2VzW1wiL2NoYWluc2ltL2ltZy9lZGl0b3JfeC5wbmdcIl0udGV4dHVyZVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgW1xyXG4gICAgICAgICAgdGhpcy5wdXlvU3ByaXRlc1tcInJlZF9uLnBuZ1wiXSxcclxuICAgICAgICAgIHRoaXMucHV5b1Nwcml0ZXNbXCJncmVlbl9uLnBuZ1wiXSxcclxuICAgICAgICAgIHRoaXMucHV5b1Nwcml0ZXNbXCJibHVlX24ucG5nXCJdLFxyXG4gICAgICAgICAgdGhpcy5wdXlvU3ByaXRlc1tcInllbGxvd19uLnBuZ1wiXSxcclxuICAgICAgICAgIHRoaXMucHV5b1Nwcml0ZXNbXCJwdXJwbGVfbi5wbmdcIl0sXHJcbiAgICAgICAgICB0aGlzLnB1eW9TcHJpdGVzW1wiZ2FyYmFnZV9uLnBuZ1wiXSxcclxuICAgICAgICAgIHRoaXMucmVzb3VyY2VzW1wiL2NoYWluc2ltL2ltZy9lZGl0b3JfeC5wbmdcIl0udGV4dHVyZVxyXG4gICAgICAgIF1cclxuICAgICAgXVxyXG4gICAgXTtcclxuXHJcbiAgICBjb25zdCB0b29sQ29sb3JzID0gW1tbXCJSXCIsIFwiR1wiLCBcIkJcIiwgXCJZXCIsIFwiUFwiLCBcIkpcIiwgXCIwXCJdLCBbXCJSXCIsIFwiR1wiLCBcIkJcIiwgXCJZXCIsIFwiUFwiLCBcIkpcIiwgXCIwXCJdXV07XHJcblxyXG4gICAgY29uc3QgdGFyZ2V0TGF5ZXIgPSBbXHJcbiAgICAgIFtcclxuICAgICAgICBbXCJtYWluXCIsIFwibWFpblwiLCBcIm1haW5cIiwgXCJtYWluXCIsIFwibWFpblwiLCBcIm1haW5cIiwgXCJtYWluXCJdLFxyXG4gICAgICAgIFtcInNoYWRvd1wiLCBcInNoYWRvd1wiLCBcInNoYWRvd1wiLCBcInNoYWRvd1wiLCBcInNoYWRvd1wiLCBcInNoYWRvd1wiLCBcInNoYWRvd1wiXVxyXG4gICAgICBdXHJcbiAgICBdO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKHRoaXMuZWRpdG9yVG9vbERpc3BsYXkpO1xyXG4gICAgZm9yIChsZXQgcCA9IDA7IHAgPCB0b29sU3ByaXRlcy5sZW5ndGg7IHArKykge1xyXG4gICAgICB0aGlzLmVkaXRvclRvb2xEaXNwbGF5W3BdID0gW107XHJcbiAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgdG9vbFNwcml0ZXNbcF0ubGVuZ3RoOyByKyspIHtcclxuICAgICAgICB0aGlzLmVkaXRvclRvb2xEaXNwbGF5W3BdW3JdID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0b29sU3ByaXRlc1twXVtyXS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgaG9yaXpvbnRhbFBhZGRpbmcgPSA4O1xyXG4gICAgICAgICAgY29uc3QgdmVydGljYWxQYWRkaW5nID0gODtcclxuXHJcbiAgICAgICAgICAvLyBJbml0IHNwcml0ZVxyXG4gICAgICAgICAgdGhpcy5lZGl0b3JUb29sRGlzcGxheVtwXVtyXVtpXSA9IG5ldyBTcHJpdGUodG9vbFNwcml0ZXNbcF1bcl1baV0pO1xyXG4gICAgICAgICAgdGhpcy5lZGl0b3JUb29sRGlzcGxheVtwXVtyXVtpXS5pbnRlcmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLmVkaXRvclRvb2xEaXNwbGF5W3BdW3JdW2ldLmJ1dHRvbk1vZGUgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5lZGl0b3JUb29sRGlzcGxheVtwXVtyXVtpXS5hbmNob3Iuc2V0KDAuNSwgMC41KTtcclxuICAgICAgICAgIHRoaXMuZWRpdG9yVG9vbERpc3BsYXlbcF1bcl1baV0ueCA9XHJcbiAgICAgICAgICAgIHN0YXJ0WCArICh0aGlzLmVkaXRvclRvb2xEaXNwbGF5W3BdW3JdW2ldLndpZHRoICsgaG9yaXpvbnRhbFBhZGRpbmcpICogaTtcclxuICAgICAgICAgIHRoaXMuZWRpdG9yVG9vbERpc3BsYXlbcF1bcl1baV0ueSA9XHJcbiAgICAgICAgICAgIHN0YXJ0WSArICh0aGlzLmVkaXRvclRvb2xEaXNwbGF5W3BdW3JdW2ldLmhlaWdodCArIHZlcnRpY2FsUGFkZGluZykgKiByO1xyXG4gICAgICAgICAgdGhpcy5lZGl0b3JUb29sRGlzcGxheVtwXVtyXVtpXS5vbihcInBvaW50ZXJkb3duXCIsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gSWYgdGhpcyBpdGVtIGlzIGFscmVhZHkgc2VsZWN0ZWQsIGRlc2VsZWN0IGFuZCB0dXJuIG9mZiBjdXJzb3JcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wucGFnZSA9PT0gcCAmJlxyXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wuaXRlbSA9PT0gaSAmJlxyXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wudGFyZ2V0TGF5ZXIgPT09IHRhcmdldExheWVyW3BdW3JdW2ldICYmXHJcbiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5wdXlvICE9PSBcIlwiXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wucGFnZSA9IHA7XHJcbiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5pdGVtID0gaTtcclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sLnB1eW8gPSBcIlwiO1xyXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wudGFyZ2V0TGF5ZXIgPSB0YXJnZXRMYXllcltwXVtyXVtpXTtcclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sLnggPSAtMjQyNDtcclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sLnkgPSAtMjQyNDtcclxuICAgICAgICAgICAgICB0aGlzLmVkaXRvckRpc3BsYXkudG9vbEN1cnNvci52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC5wYWdlID0gcDtcclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sLml0ZW0gPSBpO1xyXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wucHV5byA9IHRvb2xDb2xvcnNbcF1bcl1baV07XHJcbiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VG9vbC50YXJnZXRMYXllciA9IHRhcmdldExheWVyW3BdW3JdW2ldO1xyXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudFRvb2wueCA9IHRoaXMuZWRpdG9yVG9vbERpc3BsYXlbcF1bcl1baV0ueDtcclxuICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUb29sLnkgPSB0aGlzLmVkaXRvclRvb2xEaXNwbGF5W3BdW3JdW2ldLnk7XHJcbiAgICAgICAgICAgICAgdGhpcy5lZGl0b3JEaXNwbGF5LnRvb2xDdXJzb3IueCA9IHRoaXMuZWRpdG9yVG9vbERpc3BsYXlbcF1bcl1baV0ueDtcclxuICAgICAgICAgICAgICB0aGlzLmVkaXRvckRpc3BsYXkudG9vbEN1cnNvci55ID0gdGhpcy5lZGl0b3JUb29sRGlzcGxheVtwXVtyXVtpXS55O1xyXG4gICAgICAgICAgICAgIHRoaXMuZWRpdG9yRGlzcGxheS50b29sQ3Vyc29yLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAodGFyZ2V0TGF5ZXJbcF1bcl1baV0gPT09IFwic2hhZG93XCIpIHtcclxuICAgICAgICAgICAgdGhpcy5lZGl0b3JUb29sRGlzcGxheVtwXVtyXVtpXS5hbHBoYSA9IDAuNDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzLmVkaXRvclRvb2xEaXNwbGF5W3BdW3JdW2ldLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgIHRoaXMuYXBwLnN0YWdlLmFkZENoaWxkKHRoaXMuZWRpdG9yVG9vbERpc3BsYXlbcF1bcl1baV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZWZyZXNoUHV5b1Nwcml0ZXMoKTogdm9pZCB7XHJcbiAgICB0aGlzLmdhbWVGaWVsZC5zZXRDb25uZWN0aW9uRGF0YSgpO1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnNpbXVsYXRvclNldHRpbmdzLmNvbHM7IHgrKykge1xyXG4gICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuc2ltdWxhdG9yU2V0dGluZ3Mucm93czsgeSsrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHV5b1Nwcml0ZXMpIHtcclxuICAgICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0udGV4dHVyZSA9IHRoaXMucHV5b1Nwcml0ZXNbXHJcbiAgICAgICAgICAgIGAke3RoaXMuZ2FtZUZpZWxkLm1hdHJpeFt4XVt5XS5uYW1lfV8ke3RoaXMuZ2FtZUZpZWxkLm1hdHJpeFt4XVt5XS5jb25uZWN0aW9uc30ucG5nYFxyXG4gICAgICAgICAgXTtcclxuICAgICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0uYW5jaG9yLnNldCgwLjUpO1xyXG4gICAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS54ID0gdGhpcy5jb29yZEFycmF5W3hdW3ldLng7XHJcbiAgICAgICAgICB0aGlzLnB1eW9EaXNwbGF5W3hdW3ldLnkgPSB0aGlzLmNvb3JkQXJyYXlbeF1beV0ueTtcclxuICAgICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0uYWxwaGEgPSAxO1xyXG4gICAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS5zY2FsZS54ID0gMTtcclxuICAgICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0uc2NhbGUueSA9IDE7XHJcbiAgICAgICAgICB0aGlzLnB1eW9TdGF0ZXNbeF1beV0gPSBcImlkbGVcIjtcclxuICAgICAgICAgIHRoaXMucHV5b0Ryb3BTcGVlZFt4XVt5XSA9IDA7XHJcbiAgICAgICAgICB0aGlzLnB1eW9Cb3VuY2VGcmFtZXNbeF1beV0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZXNldEZpZWxkQW5kU3RhdGUoKTogdm9pZCB7XHJcbiAgICB0aGlzLmF1dG9BZHZhbmNlID0gZmFsc2U7XHJcbiAgICB0aGlzLnNpbXVsYXRpb25TcGVlZCA9IDE7XHJcbiAgICB0aGlzLmZyYW1lID0gMDtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLnBvcHBpbmdHcm91cHMgPSBbXTtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLnBvcHBpbmdDb2xvcnMgPSBbXTtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLmNoYWluTGVuZ3RoID0gMDtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLmxpbmtTY29yZSA9IDA7XHJcbiAgICB0aGlzLmdhbWVGaWVsZC50b3RhbFNjb3JlID0gMDtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLmxpbmtCb251c011bHRpcGxpZXIgPSAwO1xyXG4gICAgdGhpcy5nYW1lRmllbGQubGlua1B1eW9NdWx0aXBsaWVyID0gMDtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLmxlZnRvdmVyTnVpc2FuY2VQb2ludHMgPSAwO1xyXG4gICAgdGhpcy5nYW1lRmllbGQudG90YWxHYXJiYWdlID0gMDtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLmxpbmtHYXJiYWdlID0gMDtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLmhhc1BvcHMgPSBmYWxzZTtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLmhhc0Ryb3BzID0gZmFsc2U7XHJcbiAgICB0aGlzLmdhbWVGaWVsZC5jaGFpbkhpc3RvcnkgPSBbXTtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLnVwZGF0ZUZpZWxkTWF0cml4KHRoaXMuZ2FtZUZpZWxkLmlucHV0TWF0cml4KTsgLy8gUmVzZXQgdG8gaW5wdXRNYXRyaXhcclxuICAgIHRoaXMuZ2FtZUZpZWxkLnJlZnJlc2hMaW5rRGF0YSgpO1xyXG4gICAgdGhpcy5nYW1lRmllbGQucmVmcmVzaFB1eW9Qb3NpdGlvbkRhdGEoKTtcclxuICAgIHRoaXMuZ2FtZUZpZWxkLnNldENvbm5lY3Rpb25EYXRhKCk7XHJcbiAgICB0aGlzLmdhbWVGaWVsZC5zaW1TdGF0ZSA9IFwiaWRsZVwiO1xyXG4gICAgdGhpcy5yZWZyZXNoUHV5b1Nwcml0ZXMoKTtcclxuICAgIHRoaXMucmVmcmVzaEdhcmJhZ2VJY29ucygpO1xyXG5cclxuICAgIHRoaXMuc3RhdGUgPSB0aGlzLmlkbGVTdGF0ZTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZ2FtZUxvb3AoZGVsdGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgdGhpcy5zdGF0ZShkZWx0YSk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGlkbGVTdGF0ZShkZWx0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5nYW1lRmllbGQuc2ltU3RhdGUgPT09IFwiY2hlY2tpbmdEcm9wc1wiKSB7XHJcbiAgICAgIHRoaXMucmVmcmVzaFB1eW9TcHJpdGVzKCk7XHJcbiAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmFuaW1hdGVGaWVsZERyb3BzO1xyXG4gICAgICBjb25zb2xlLmxvZyhKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZ2FtZUZpZWxkLmRyb3BEaXN0YW5jZXMpKSk7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5nYW1lRmllbGQuc2ltU3RhdGUgPT09IFwiY2hlY2tpbmdQb3BzXCIpIHtcclxuICAgICAgdGhpcy5yZWZyZXNoUHV5b1Nwcml0ZXMoKTtcclxuICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuYW5pbWF0ZVBvcHM7XHJcbiAgICAgIGNvbnNvbGUubG9nKEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5nYW1lRmllbGQuZHJvcERpc3RhbmNlcykpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYW5pbWF0ZUZpZWxkRHJvcHMoZGVsdGE6IG51bWJlcik6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuZ2FtZUZpZWxkLnNpbVN0YXRlID09PSBcImNoZWNraW5nRHJvcHNcIikge1xyXG4gICAgICBjb25zdCB0ID0gdGhpcy5mcmFtZTtcclxuICAgICAgY29uc3Qgc3BlZWQgPSBkZWx0YSAqIHRoaXMuc2ltdWxhdGlvblNwZWVkO1xyXG5cclxuICAgICAgbGV0IHN0aWxsRHJvcHBpbmc6IGJvb2xlYW4gPSBmYWxzZTtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLnJvdW5kKHNwZWVkKTsgaSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnNpbXVsYXRvclNldHRpbmdzLmNvbHM7IHgrKykge1xyXG4gICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnNpbXVsYXRvclNldHRpbmdzLnJvd3M7IHkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5nYW1lRmllbGQuZHJvcERpc3RhbmNlc1t4XVt5XSA+IDApIHtcclxuICAgICAgICAgICAgICBzdGlsbERyb3BwaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIFB1eW8gaXMgXCJpZGxlXCIsIGNoYW5nZSBzdGF0ZSB0byBcImRyb3BwaW5nXCJcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZUZpZWxkLmRyb3BEaXN0YW5jZXNbeF1beV0gPiAwICYmIHRoaXMucHV5b1N0YXRlc1t4XVt5XSA9PT0gXCJpZGxlXCIpIHtcclxuICAgICAgICAgICAgICB0aGlzLnB1eW9TdGF0ZXNbeF1beV0gPSBcImRyb3BwaW5nXCI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEFwcGx5IGdyYXZpdHkgdG8gcHV5b3MgdGhhdCBzaG91bGQgYmUgZHJvcHBpbmdcclxuICAgICAgICAgICAgaWYgKHRoaXMucHV5b1N0YXRlc1t4XVt5XSA9PT0gXCJkcm9wcGluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS55ICsgdGhpcy5wdXlvRHJvcFNwZWVkW3hdW3ldIDxcclxuICAgICAgICAgICAgICAgIHRoaXMuY29vcmRBcnJheVt4XVt5XS55ICtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lRmllbGQuZHJvcERpc3RhbmNlc1t4XVt5XSAqIHRoaXMuZ2FtZVNldHRpbmdzLmNlbGxIZWlnaHRcclxuICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0ueSArPSB0aGlzLnB1eW9Ecm9wU3BlZWRbeF1beV07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1eW9Ecm9wU3BlZWRbeF1beV0gKz0gKDAuMTg3NSAvIDE2KSAqIDMwICogdDtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXlvU3RhdGVzW3hdW3ldID0gXCJib3VuY2luZ1wiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS55ID1cclxuICAgICAgICAgICAgICAgICAgdGhpcy5jb29yZEFycmF5W3hdW3ldLnkgK1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmdhbWVGaWVsZC5kcm9wRGlzdGFuY2VzW3hdW3ldICogdGhpcy5nYW1lU2V0dGluZ3MuY2VsbEhlaWdodCArXHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZVNldHRpbmdzLmNlbGxIZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZUZpZWxkLm1hdHJpeFt4XVt5XS5pc0NvbG9yZWQpIHtcclxuICAgICAgICAgICAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS5hbmNob3Iuc2V0KDAuNSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQbGF5IGJvdW5jZSBhbmltYXRpb24gZm9yIGNvbG9yZWQgUHV5b3NcclxuICAgICAgICAgICAgaWYgKHRoaXMucHV5b1N0YXRlc1t4XVt5XSA9PT0gXCJib3VuY2luZ1wiKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5wdXlvQm91bmNlRnJhbWVzW3hdW3ldICs9IDE7XHJcbiAgICAgICAgICAgICAgaWYgKHRoaXMucHV5b0JvdW5jZUZyYW1lc1t4XVt5XSA8IDggJiYgdGhpcy5nYW1lRmllbGQubWF0cml4W3hdW3ldLmlzQ29sb3JlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS5zY2FsZS55IC09IDAuMiAvIDg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1eW9EaXNwbGF5W3hdW3ldLnNjYWxlLnggKz0gMC4yIC8gODtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXlvQm91bmNlRnJhbWVzW3hdW3ldIDwgMTYgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUZpZWxkLm1hdHJpeFt4XVt5XS5pc0NvbG9yZWRcclxuICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0uc2NhbGUueSArPSAwLjIgLyA4O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXlvRGlzcGxheVt4XVt5XS5zY2FsZS54IC09IDAuMiAvIDg7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0uYW5jaG9yLnNldCgwLjUsIDAuNSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1eW9EaXNwbGF5W3hdW3ldLnkgPVxyXG4gICAgICAgICAgICAgICAgICB0aGlzLmNvb3JkQXJyYXlbeF1beV0ueSArXHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUZpZWxkLmRyb3BEaXN0YW5jZXNbeF1beV0gKiB0aGlzLmdhbWVTZXR0aW5ncy5jZWxsSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wdXlvU3RhdGVzW3hdW3ldID0gXCJpZGxlXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVGaWVsZC5kcm9wRGlzdGFuY2VzW3hdW3ldID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMucHV5b0JvdW5jZUZyYW1lc1t4XVt5XSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnB1eW9Ecm9wU3BlZWRbeF1beV0gPSAwO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZyYW1lICs9IDE7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChzdGlsbERyb3BwaW5nID09PSBmYWxzZSkge1xyXG4gICAgICAgIHRoaXMuZnJhbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuZ2FtZUZpZWxkLmFkdmFuY2VTdGF0ZSgpOyAvLyBBZHZhbmNlIHN0YXRlIHRvIFwiZHJvcHBlZFwiIChzZXQgdGhlIGZpZWxkLilcclxuICAgICAgICAvLyB0aGlzLnJlZnJlc2hQdXlvU3ByaXRlcygpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdhbWVGaWVsZC5zaW1TdGF0ZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5leHRTdGF0ZTogc3RyaW5nID0gdGhpcy5nYW1lRmllbGQuYWR2YW5jZVN0YXRlKCk7XHJcbiAgICAgICAgaWYgKG5leHRTdGF0ZSA9PT0gXCJjaGVja2luZ1BvcHNcIiAmJiB0aGlzLmF1dG9BZHZhbmNlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICB0aGlzLnJlZnJlc2hQdXlvU3ByaXRlcygpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuYW5pbWF0ZVBvcHM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuZ2FtZUZpZWxkLnNpbVN0YXRlID0gXCJkcm9wcGVkXCI7XHJcbiAgICAgICAgICB0aGlzLnJlZnJlc2hQdXlvU3ByaXRlcygpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuaWRsZVN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLmdhbWVGaWVsZC5zaW1TdGF0ZSA9PT0gXCJkcm9wcGVkXCIpIHtcclxuICAgICAgdGhpcy5mcmFtZSA9IDA7XHJcbiAgICAgIGNvbnN0IG5leHRTdGF0ZTogc3RyaW5nID0gdGhpcy5nYW1lRmllbGQuYWR2YW5jZVN0YXRlKCk7XHJcbiAgICAgIGlmIChuZXh0U3RhdGUgPT09IFwiY2hlY2tpbmdQb3BzXCIgJiYgdGhpcy5hdXRvQWR2YW5jZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFB1eW9TcHJpdGVzKCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuYW5pbWF0ZVBvcHM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5nYW1lRmllbGQuc2ltU3RhdGUgPSBcImRyb3BwZWRcIjtcclxuICAgICAgICB0aGlzLnJlZnJlc2hQdXlvU3ByaXRlcygpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmlkbGVTdGF0ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhbmltYXRlUG9wcyhkZWx0YTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5nYW1lRmllbGQuc2ltU3RhdGUgPT09IFwiY2hlY2tpbmdQb3BzXCIpIHtcclxuICAgICAgY29uc3Qgc3BlZWQ6IG51bWJlciA9IGRlbHRhICogdGhpcy5zaW11bGF0aW9uU3BlZWQ7XHJcblxyXG4gICAgICBjb25zdCBkdXJhdGlvbjogbnVtYmVyID0gMzA7XHJcbiAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgTWF0aC5yb3VuZChzcGVlZCk7IHMrKykge1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWVGaWVsZC5oYXNQb3BzKSB7XHJcbiAgICAgICAgICAvLyBBbmltYXRlIFB1eW8gYW5kIGdhcmJhZ2UgcG9wc1xyXG4gICAgICAgICAgaWYgKHRoaXMuZnJhbWUgPCBkdXJhdGlvbiAqIDAuNikge1xyXG4gICAgICAgICAgICAvLyBBbmltYXRlIGNvbG9yZWQgUHV5b3MgZmxhc2hpbmdcclxuICAgICAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiB0aGlzLmdhbWVGaWVsZC5wb3BwaW5nR3JvdXBzKSB7XHJcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBwdXlvIG9mIGdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBNYXRoLmNvcygodGhpcy5mcmFtZSAvIDMpICogTWF0aC5QSSkgPj0gMFxyXG4gICAgICAgICAgICAgICAgICA/ICh0aGlzLnB1eW9EaXNwbGF5W3B1eW8ueF1bcHV5by55XS5hbHBoYSA9IDEpXHJcbiAgICAgICAgICAgICAgICAgIDogKHRoaXMucHV5b0Rpc3BsYXlbcHV5by54XVtwdXlvLnldLmFscGhhID0gMCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZnJhbWUgPj0gZHVyYXRpb24gKiAwLjYpIHtcclxuICAgICAgICAgICAgLy8gQ2hhbmdlIGNvbG9yZWQgUHV5b3MgdG8gYnVyc3Qgc3ByaXRlXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lIDwgZHVyYXRpb24pIHtcclxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGdyb3VwIG9mIHRoaXMuZ2FtZUZpZWxkLnBvcHBpbmdHcm91cHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHV5byBvZiBncm91cCkge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnB1eW9EaXNwbGF5W3B1eW8ueF1bcHV5by55XS5hbHBoYSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbcHV5by54XVtwdXlvLnldLnRleHR1cmUgPSB0aGlzLnB1eW9TcHJpdGVzW1xyXG4gICAgICAgICAgICAgICAgICAgIGBidXJzdF8ke3RoaXMuZ2FtZUZpZWxkLm1hdHJpeFtwdXlvLnhdW3B1eW8ueV0ubmFtZX0ucG5nYFxyXG4gICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGdyb3VwIG9mIHRoaXMuZ2FtZUZpZWxkLnBvcHBpbmdHcm91cHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHV5byBvZiBncm91cCkge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnB1eW9EaXNwbGF5W3B1eW8ueF1bcHV5by55XS5hbHBoYSA9IDEgLSB0aGlzLmZyYW1lIC8gZHVyYXRpb24gLyAxLjI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGYWRlIG91dCB0aGUgZ2FyYmFnZSBQdXlvc1xyXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IHRoaXMuc2ltdWxhdG9yU2V0dGluZ3MuY29sczsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnNpbXVsYXRvclNldHRpbmdzLnJvd3M7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZUZpZWxkLmdhcmJhZ2VDbGVhckNvdW50TWF0cml4W3hdW3ldID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVGaWVsZC5tYXRyaXhbeF1beV0ucCA9PT0gUHV5b1R5cGUuR2FyYmFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0uYWxwaGEgPSAxIC0gdGhpcy5mcmFtZSAvIGR1cmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVGaWVsZC5tYXRyaXhbeF1beV0ucCA9PT0gUHV5b1R5cGUuSGFyZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lIDw9IGR1cmF0aW9uICogMC44KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1eW9EaXNwbGF5W3hdW3ldLmFscGhhID0gMSAtICh0aGlzLmZyYW1lIC8gZHVyYXRpb24pICogMC44O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnB1eW9EaXNwbGF5W3hdW3ldLnRleHR1cmUgPSB0aGlzLnB1eW9TcHJpdGVzW1wiZ2FyYmFnZV9uLnBuZ1wiXTtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHV5b0Rpc3BsYXlbeF1beV0uYWxwaGEgPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5mcmFtZSAtIGR1cmF0aW9uICogMC44KSAvIChkdXJhdGlvbiAtIGR1cmF0aW9uICogMC44KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5nYW1lRmllbGQuZ2FyYmFnZUNsZWFyQ291bnRNYXRyaXhbeF1beV0gPj0gMikge1xyXG4gICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lRmllbGQubWF0cml4W3hdW3ldLnAgPT09IFB1eW9UeXBlLkdhcmJhZ2UgfHxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVGaWVsZC5tYXRyaXhbeF1beV0ucCA9PT0gUHV5b1R5cGUuSGFyZFxyXG4gICAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1eW9EaXNwbGF5W3hdW3ldLmFscGhhID0gMSAtIHRoaXMuZnJhbWUgLyBkdXJhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEFuaW1hdGUgR2FyYmFnZSBUcmF5XHJcbiAgICAgICAgICBjb25zdCBnQW5pbUR1cmF0aW9uID0gZHVyYXRpb24gKiAwLjkgLSBkdXJhdGlvbiAqIDAuNjtcclxuICAgICAgICAgIGNvbnN0IGNlbnRlclggPVxyXG4gICAgICAgICAgICAodGhpcy5nYXJiYWdlRGlzcGxheUNvb3JkaW5hdGVzWzJdICsgdGhpcy5nYXJiYWdlRGlzcGxheUNvb3JkaW5hdGVzWzNdKSAvIDI7XHJcbiAgICAgICAgICBpZiAodGhpcy5mcmFtZSA+PSBkdXJhdGlvbiAqIDAuNiAmJiB0aGlzLmZyYW1lIDw9IGR1cmF0aW9uICogMC45KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlR2FyYmFnZUljb25zKCk7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGcgPSAwOyBnIDwgNjsgZysrKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgZGlzdGFuY2U6IG51bWJlciA9IHRoaXMuZ2FyYmFnZURpc3BsYXlDb29yZGluYXRlc1tnXSAtIGNlbnRlclg7XHJcbiAgICAgICAgICAgICAgY29uc3QgZnJhY3Rpb246IG51bWJlciA9XHJcbiAgICAgICAgICAgICAgICAodGhpcy5mcmFtZSAtIGR1cmF0aW9uICogMC42KSAvIChkdXJhdGlvbiAqIDAuOSAtIGR1cmF0aW9uICogMC42KTtcclxuICAgICAgICAgICAgICB0aGlzLmdhcmJhZ2VEaXNwbGF5W2ddLnggPSBjZW50ZXJYICsgZGlzdGFuY2UgKiBmcmFjdGlvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEZhbGxiYWNrIGluIGNhc2UgdGhlIGdhcmJhZ2UgaWNvbnMgZ28gdG9vIGZhclxyXG4gICAgICAgICAgZm9yIChsZXQgZyA9IDA7IGcgPCAzOyBnKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2FyYmFnZURpc3BsYXlbZ10ueCA8IHRoaXMuZ2FyYmFnZURpc3BsYXlDb29yZGluYXRlc1tnXSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuZ2FyYmFnZURpc3BsYXlbZ10ueCA9IHRoaXMuZ2FyYmFnZURpc3BsYXlDb29yZGluYXRlc1tnXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZvciAobGV0IGcgPSAzOyBnIDwgNjsgZysrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhcmJhZ2VEaXNwbGF5W2ddLnggPiB0aGlzLmdhcmJhZ2VEaXNwbGF5Q29vcmRpbmF0ZXNbZ10pIHtcclxuICAgICAgICAgICAgICB0aGlzLmdhcmJhZ2VEaXNwbGF5W2ddLnggPSB0aGlzLmdhcmJhZ2VEaXNwbGF5Q29vcmRpbmF0ZXNbZ107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5mcmFtZSArPSAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5mcmFtZSA+PSBkdXJhdGlvbiAqIDEuMikge1xyXG4gICAgICAgIHRoaXMuZnJhbWUgPSAwO1xyXG5cclxuICAgICAgICAvLyBFbnN1cmUgZ2FyYmFnZSBpY29ucyBhcmUgdXBkYXRlZFxyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSAodGhpcy5nYXJiYWdlRGlzcGxheUNvb3JkaW5hdGVzWzJdICsgdGhpcy5nYXJiYWdlRGlzcGxheUNvb3JkaW5hdGVzWzNdKSAvIDI7XHJcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVHYXJiYWdlSWNvbnMoKTtcclxuICAgICAgICBmb3IgKGxldCBnID0gMDsgZyA8IDY7IGcrKykge1xyXG4gICAgICAgICAgY29uc3QgZGlzdGFuY2U6IG51bWJlciA9IHRoaXMuZ2FyYmFnZURpc3BsYXlDb29yZGluYXRlc1tnXSAtIGNlbnRlclg7XHJcbiAgICAgICAgICB0aGlzLmdhcmJhZ2VEaXNwbGF5W2ddLnggPSBjZW50ZXJYICsgZGlzdGFuY2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmdhbWVGaWVsZC5hZHZhbmNlU3RhdGUoKTsgLy8gXCJjaGVja2luZ1BvcHNcIiAtPiBcInBvcHBlZFwiXHJcbiAgICAgICAgLy8gdGhpcy5yZWZyZXNoUHV5b1Nwcml0ZXMoKTtcclxuXHJcbiAgICAgICAgY29uc3QgbmV4dFN0YXRlOiBzdHJpbmcgPSB0aGlzLmdhbWVGaWVsZC5hZHZhbmNlU3RhdGUoKTtcclxuICAgICAgICBpZiAobmV4dFN0YXRlID09PSBcImNoZWNraW5nRHJvcHNcIikge1xyXG4gICAgICAgICAgdGhpcy5yZWZyZXNoUHV5b1Nwcml0ZXMoKTtcclxuICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmFuaW1hdGVGaWVsZERyb3BzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLnJlZnJlc2hQdXlvU3ByaXRlcygpO1xyXG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuaWRsZVN0YXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0aGlzLmdhbWVGaWVsZC5zaW1TdGF0ZSA9PT0gXCJwb3BwZWRcIikge1xyXG4gICAgICB0aGlzLmZyYW1lID0gMDtcclxuXHJcbiAgICAgIC8vIEVuc3VyZSBnYXJiYWdlIGljb25zIGFyZSB1cGRhdGVkXHJcbiAgICAgIGNvbnN0IGNlbnRlclggPSAodGhpcy5nYXJiYWdlRGlzcGxheUNvb3JkaW5hdGVzWzJdICsgdGhpcy5nYXJiYWdlRGlzcGxheUNvb3JkaW5hdGVzWzNdKSAvIDI7XHJcbiAgICAgIHRoaXMuY2FsY3VsYXRlR2FyYmFnZUljb25zKCk7XHJcbiAgICAgIGZvciAobGV0IGcgPSAwOyBnIDwgNjsgZysrKSB7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2U6IG51bWJlciA9IHRoaXMuZ2FyYmFnZURpc3BsYXlDb29yZGluYXRlc1tnXSAtIGNlbnRlclg7XHJcbiAgICAgICAgdGhpcy5nYXJiYWdlRGlzcGxheVtnXS54ID0gY2VudGVyWCArIGRpc3RhbmNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBuZXh0U3RhdGU6IHN0cmluZyA9IHRoaXMuZ2FtZUZpZWxkLmFkdmFuY2VTdGF0ZSgpO1xyXG4gICAgICBpZiAobmV4dFN0YXRlID09PSBcImNoZWNraW5nRHJvcHNcIikge1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFB1eW9TcHJpdGVzKCk7XHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuYW5pbWF0ZUZpZWxkRHJvcHM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUHV5b1Nwcml0ZXMoKTtcclxuICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5pZGxlU3RhdGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2FsY3VsYXRlR2FyYmFnZUljb25zKCk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IGdhcmJhZ2VJY29uczogc3RyaW5nW10gPSBbXHJcbiAgICAgIFwic3BhY2VyX25cIixcclxuICAgICAgXCJzcGFjZXJfblwiLFxyXG4gICAgICBcInNwYWNlcl9uXCIsXHJcbiAgICAgIFwic3BhY2VyX25cIixcclxuICAgICAgXCJzcGFjZXJfblwiLFxyXG4gICAgICBcInNwYWNlcl9uXCJcclxuICAgIF07XHJcblxyXG4gICAgY29uc3QgY2hlY2tDcm93biA9IChnOiBudW1iZXIsIGk6IG51bWJlcikgPT4ge1xyXG4gICAgICAvLyBTZWNvbmQgaXMgdGhlIHN0YXJ0aW5nIGluZGV4IGZvciBnYXJiYWdlSWNvbnNcclxuICAgICAgaWYgKGkgPCA2KSB7XHJcbiAgICAgICAgaWYgKGcgLSA3MjAgPj0gMCkge1xyXG4gICAgICAgICAgZ2FyYmFnZUljb25zLnNwbGljZShpLCAxLCBcImNyb3duXCIpO1xyXG4gICAgICAgICAgY2hlY2tDcm93bihnIC0gNzIwLCBpICsgMSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNoZWNrTW9vbihnLCBpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgY2hlY2tNb29uID0gKGc6IG51bWJlciwgaTogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGlmIChpIDwgNikge1xyXG4gICAgICAgIGlmIChnIC0gMzYwID49IDApIHtcclxuICAgICAgICAgIGdhcmJhZ2VJY29ucy5zcGxpY2UoaSwgMSwgXCJtb29uXCIpO1xyXG4gICAgICAgICAgY2hlY2tTdGFyKGcgLSAzNjAsIGkgKyAxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2hlY2tTdGFyKGcsIGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjaGVja1N0YXIgPSAoZzogbnVtYmVyLCBpOiBudW1iZXIpID0+IHtcclxuICAgICAgaWYgKGkgPCA2KSB7XHJcbiAgICAgICAgaWYgKGcgLSAxODAgPj0gMCkge1xyXG4gICAgICAgICAgZ2FyYmFnZUljb25zLnNwbGljZShpLCAxLCBcInN0YXJcIik7XHJcbiAgICAgICAgICBjaGVja1JvY2soZyAtIDE4MCwgaSArIDEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjaGVja1JvY2soZywgaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNoZWNrUm9jayA9IChnOiBudW1iZXIsIGk6IG51bWJlcikgPT4ge1xyXG4gICAgICBpZiAoaSA8IDYpIHtcclxuICAgICAgICBpZiAoZyAtIDMwID49IDApIHtcclxuICAgICAgICAgIGdhcmJhZ2VJY29ucy5zcGxpY2UoaSwgMSwgXCJyb2NrXCIpO1xyXG4gICAgICAgICAgY2hlY2tSb2NrKGcgLSAzMCwgaSArIDEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjaGVja0xpbmUoZywgaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNoZWNrTGluZSA9IChnOiBudW1iZXIsIGk6IG51bWJlcikgPT4ge1xyXG4gICAgICBpZiAoaSA8IDYpIHtcclxuICAgICAgICBpZiAoZyAtIDYgPj0gMCkge1xyXG4gICAgICAgICAgZ2FyYmFnZUljb25zLnNwbGljZShpLCAxLCBcImxpbmVcIik7XHJcbiAgICAgICAgICBjaGVja0xpbmUoZyAtIDYsIGkgKyAxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY2hlY2tVbml0KGcsIGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjaGVja1VuaXQgPSAoZzogbnVtYmVyLCBpOiBudW1iZXIpID0+IHtcclxuICAgICAgaWYgKGkgPCA2KSB7XHJcbiAgICAgICAgaWYgKGcgLSAxID49IDApIHtcclxuICAgICAgICAgIGdhcmJhZ2VJY29ucy5zcGxpY2UoaSwgMSwgXCJ1bml0XCIpO1xyXG4gICAgICAgICAgY2hlY2tVbml0KGcgLSAxLCBpICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNoZWNrQ3Jvd24odGhpcy5nYW1lRmllbGQudG90YWxHYXJiYWdlLCAwKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY7IGkrKykge1xyXG4gICAgICB0aGlzLmdhcmJhZ2VEaXNwbGF5W2ldLnRleHR1cmUgPSB0aGlzLnB1eW9TcHJpdGVzW2Ake2dhcmJhZ2VJY29uc1tpXX0ucG5nYF07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGdhcmJhZ2VJY29ucztcclxuICB9XHJcblxyXG4gIHByaXZhdGUgcmVmcmVzaEdhcmJhZ2VJY29ucygpOiB2b2lkIHtcclxuICAgIGNvbnN0IGNlbnRlclggPSAodGhpcy5nYXJiYWdlRGlzcGxheUNvb3JkaW5hdGVzWzJdICsgdGhpcy5nYXJiYWdlRGlzcGxheUNvb3JkaW5hdGVzWzNdKSAvIDI7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuICAgICAgdGhpcy5nYXJiYWdlRGlzcGxheVtpXS50ZXh0dXJlID0gdGhpcy5wdXlvU3ByaXRlc1tcInNwYWNlcl9uLnBuZ1wiXTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBnID0gMDsgZyA8IDY7IGcrKykge1xyXG4gICAgICBjb25zdCBkaXN0YW5jZTogbnVtYmVyID0gdGhpcy5nYXJiYWdlRGlzcGxheUNvb3JkaW5hdGVzW2ddIC0gY2VudGVyWDtcclxuICAgICAgdGhpcy5nYXJiYWdlRGlzcGxheVtnXS54ID0gY2VudGVyWCArIGRpc3RhbmNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSB0b2dnbGVFZGl0b3JXaW5kb3coKTogdm9pZCB7XHJcbiAgICBpZiAodGhpcy5lZGl0b3JPcGVuID09PSB0cnVlKSB7XHJcbiAgICAgIHRoaXMuZWRpdG9yRGlzcGxheS5lZGl0QnViYmxlLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgdGhpcy5lZGl0b3JPcGVuID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZmllbGREaXNwbGF5LmRpc2FibGVUb3VjaEJlaGluZC5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmVkaXRvckRpc3BsYXkudG9vbEN1cnNvci52aXNpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5lZGl0b3JUb29sRGlzcGxheSkge1xyXG4gICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHBhZ2UpIHtcclxuICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiByb3cpIHtcclxuICAgICAgICAgICAgaXRlbS52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVkaXRvckRpc3BsYXkuZWRpdEJ1YmJsZS52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5lZGl0b3JPcGVuID0gdHJ1ZTtcclxuICAgICAgdGhpcy5maWVsZERpc3BsYXkuZGlzYWJsZVRvdWNoQmVoaW5kLmludGVyYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5lZGl0b3JEaXNwbGF5LnRvb2xDdXJzb3IudmlzaWJsZSA9IHRydWU7XHJcblxyXG4gICAgICBmb3IgKGxldCBwID0gMDsgcCA8IHRoaXMuZWRpdG9yVG9vbERpc3BsYXkubGVuZ3RoOyBwKyspIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiB0aGlzLmVkaXRvclRvb2xEaXNwbGF5W3BdKSB7XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2Ygcm93KSB7XHJcbiAgICAgICAgICAgIGlmIChwID09PSB0aGlzLmN1cnJlbnRUb29sLnBhZ2UpIHtcclxuICAgICAgICAgICAgICBpdGVtLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGl0ZW0udmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBDaGFpbnNpbUVkaXRvciBmcm9tIFwiLi9DaGFpbnNpbUVkaXRvclwiO1xyXG5pbXBvcnQgRmllbGQgZnJvbSBcIi4vRmllbGRcIjtcclxuaW1wb3J0IHsgdHJhbnNwb3NlTWF0cml4IH0gZnJvbSBcIi4vaGVscGVyXCI7XHJcblxyXG5jb25zdCBnYW1lQ29udGFpbmVyOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZS1jb250YWluZXJcIikhO1xyXG5jb25zdCBnYW1lID0gbmV3IENoYWluc2ltRWRpdG9yKGdhbWVDb250YWluZXIpO1xyXG5cclxuZ2FtZS5hcHAudmlldy5zdHlsZS5oZWlnaHQgPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjk5fXB4YDtcclxuZ2FtZS5hcHAudmlldy5zdHlsZS53aWR0aCA9IGAke3dpbmRvdy5pbm5lckhlaWdodCAqIDAuOTkgKiAwLjYwOH1weGA7XHJcblxyXG5mdW5jdGlvbiByZXNpemUoKSB7XHJcbiAgZ2FtZS5hcHAudmlldy5zdHlsZS5oZWlnaHQgPSBgJHt3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjk5fXB4YDtcclxuICBnYW1lLmFwcC52aWV3LnN0eWxlLndpZHRoID0gYCR7d2luZG93LmlubmVySGVpZ2h0ICogMC45OSAqIDAuNjA4fXB4YDtcclxufVxyXG5cclxud2luZG93Lm9ucmVzaXplID0gcmVzaXplO1xyXG5cclxuZ2FtZS5zZXROZXdGaWVsZChcclxuICB0cmFuc3Bvc2VNYXRyaXgoW1xyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdLFxyXG4gICAgW1wiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdXHJcbiAgXSlcclxuKTtcclxuXHJcbi8vIGdhbWUuc2V0TmV3RmllbGQoXHJcbi8vICAgdHJhbnNwb3NlTWF0cml4KFtcclxuLy8gICAgIFtcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIkJcIiwgXCIwXCIsIFwiMFwiXSxcclxuLy8gICAgIFtcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIkJcIiwgXCIwXCIsIFwiMFwiXSxcclxuLy8gICAgIFtcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIlBcIiwgXCJCXCIsIFwiMFwiXSxcclxuLy8gICAgIFtcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIlBcIiwgXCJCXCIsIFwiMFwiXSxcclxuLy8gICAgIFtcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIkdcIiwgXCJCXCIsIFwiMFwiXSxcclxuLy8gICAgIFtcIjBcIiwgXCJIXCIsIFwiUlwiLCBcIkdcIiwgXCJQXCIsIFwiQlwiXSxcclxuLy8gICAgIFtcIkJcIiwgXCJHXCIsIFwiMFwiLCBcIlJcIiwgXCJHXCIsIFwiUFwiXSxcclxuLy8gICAgIFtcIllcIiwgXCJSXCIsIFwiUlwiLCBcIkJcIiwgXCJHXCIsIFwiQlwiXSxcclxuLy8gICAgIFtcIkdcIiwgXCJHXCIsIFwiR1wiLCBcIllcIiwgXCJHXCIsIFwiQlwiXSxcclxuLy8gICAgIFtcIllcIiwgXCJZXCIsIFwiWVwiLCBcIlBcIiwgXCJCXCIsIFwiWVwiXSxcclxuLy8gICAgIFtcIkJcIiwgXCJSXCIsIFwiR1wiLCBcIkpcIiwgXCJZXCIsIFwiWVwiXSxcclxuLy8gICAgIFtcIkJcIiwgXCJCXCIsIFwiUlwiLCBcIkdcIiwgXCJQXCIsIFwiUFwiXSxcclxuLy8gICAgIFtcIlJcIiwgXCJSXCIsIFwiR1wiLCBcIkdcIiwgXCJKXCIsIFwiUFwiXVxyXG4vLyAgIF0pXHJcbi8vICk7XHJcblxyXG4vLyBnYW1lLnNldE5ld0ZpZWxkKFxyXG4vLyAgIHRyYW5zcG9zZU1hdHJpeChbXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCJCXCIsIFwiMFwiLCBcIjBcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiQlwiLCBcIjBcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIkJcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIkJcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIkdcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiQlwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0sXHJcbi8vICAgICBbXCJCXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIlJcIl0sXHJcbi8vICAgICBbXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl1cclxuLy8gICBdKVxyXG4vLyApO1xyXG4iXSwic291cmNlUm9vdCI6IiJ9